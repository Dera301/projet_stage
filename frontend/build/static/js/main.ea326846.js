/*! For license information please see main.ea326846.js.LICENSE.txt */
(()=>{var e={579:(e,t,s)=>{"use strict";e.exports=s(1153)},1153:(e,t,s)=>{"use strict";var r=s(5043),n=Symbol.for("react.element"),a=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,l=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,s){var r,a={},c=null,d=null;for(r in void 0!==s&&(c=""+s),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(d=t.ref),t)i.call(t,r)&&!o.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:n,type:e,key:c,ref:d,props:a,_owner:l.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},1246:e=>{"use strict";const t=e=>new Promise((t,s)=>{const r=new FileReader;r.onload=()=>{t(r.result)},r.onerror=e=>{let{target:{error:{code:t}}}=e;s(Error("File could not be read! Code=".concat(t)))},r.readAsArrayBuffer(e)}),s=async e=>{let r=e;if("undefined"===typeof e)return"undefined";if("string"===typeof e)if(/data:image\/([a-zA-Z]*);base64,([^"]*)/.test(e))r=atob(e.split(",")[1]).split("").map(e=>e.charCodeAt(0));else{const t=await fetch(e);r=await t.arrayBuffer()}else if("undefined"!==typeof HTMLElement&&e instanceof HTMLElement)"IMG"===e.tagName&&(r=await s(e.src)),"VIDEO"===e.tagName&&(r=await s(e.poster)),"CANVAS"===e.tagName&&await new Promise(s=>{e.toBlob(async e=>{r=await t(e),s()})});else if("undefined"!==typeof OffscreenCanvas&&e instanceof OffscreenCanvas){const s=await e.convertToBlob();r=await t(s)}else(e instanceof File||e instanceof Blob)&&(r=await t(e));return new Uint8Array(r)};e.exports=s},1257:(e,t,s)=>{"use strict";var r=s(2897).default;const n=s(1432),a=s(9343),i=s(2163),l=s(7092),o=s(1600),c=s(5783),{setLogging:d}=s(5597);e.exports=r({languages:l,OEM:o,PSM:c,createScheduler:n,createWorker:a,setLogging:d},i)},1432:function(e,t,s){"use strict";const r=s(5362),{log:n}=s(5597),a=s(1674);let i=0;e.exports=()=>{const e=a("Scheduler",i),t={},s={};let l=[];i+=1;const o=()=>Object.keys(t).length,c=()=>{if(0!==l.length){const e=Object.keys(t);for(let r=0;r<e.length;r+=1)if("undefined"===typeof s[e[r]]){l[0](t[e[r]]);break}}},d=(t,a)=>new Promise((i,o)=>{const d=r({action:t,payload:a});l.push(async e=>{l.shift(),s[e.id]=d;try{i(await e[t].apply(this,[...a,d.id]))}catch(r){o(r)}finally{delete s[e.id],c()}}),n("[".concat(e,"]: Add ").concat(d.id," to JobQueue")),n("[".concat(e,"]: JobQueue length=").concat(l.length)),c()});return{addWorker:s=>(t[s.id]=s,n("[".concat(e,"]: Add ").concat(s.id)),n("[".concat(e,"]: Number of workers=").concat(o())),c(),s.id),addJob:async function(t){if(0===o())throw Error("[".concat(e,"]: You need to have at least one worker before adding jobs"));for(var s=arguments.length,r=new Array(s>1?s-1:0),n=1;n<s;n++)r[n-1]=arguments[n];return d(t,r)},terminate:async()=>{Object.keys(t).forEach(async e=>{await t[e].terminate()}),l=[]},getQueueLen:()=>l.length,getNumWorkers:o}}},1600:e=>{"use strict";e.exports={TESSERACT_ONLY:0,LSTM_ONLY:1,TESSERACT_LSTM_COMBINED:2,DEFAULT:3}},1674:e=>{"use strict";e.exports=(e,t)=>"".concat(e,"-").concat(t,"-").concat(Math.random().toString(16).slice(3,8))},1734:e=>{"use strict";e.exports=e=>{const t={};return"undefined"!==typeof WorkerGlobalScope?t.type="webworker":"object"===typeof document?t.type="browser":"object"===typeof process&&(t.type="node"),"undefined"===typeof e?t:t[e]}},1847:(e,t,s)=>{var r=s(4893);e.exports=function(e,t){if(null==e)return{};var s,n,a=r(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)s=i[n],-1===t.indexOf(s)&&{}.propertyIsEnumerable.call(e,s)&&(a[s]=e[s])}return a},e.exports.__esModule=!0,e.exports.default=e.exports},2163:(e,t,s)=>{"use strict";const r=s(9343);e.exports={recognize:async(e,t,s)=>{const n=await r(t,1,s);return n.recognize(e).finally(async()=>{await n.terminate()})},detect:async(e,t)=>{const s=await r("osd",0,t);return s.detect(e).finally(async()=>{await s.terminate()})}}},2730:(e,t,s)=>{"use strict";var r=s(5043),n=s(7067);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)t+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,l={};function o(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(l[e]=t,e=0;e<t.length;e++)i.add(t[e])}var d=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),u=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},p={};function x(e,t,s,r,n,a,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=n,this.mustUseProperty=s,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=i}var f={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){f[e]=new x(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];f[t]=new x(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){f[e]=new x(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){f[e]=new x(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){f[e]=new x(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){f[e]=new x(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){f[e]=new x(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){f[e]=new x(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){f[e]=new x(e,5,!1,e.toLowerCase(),null,!1,!1)});var g=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function y(e,t,s,r){var n=f.hasOwnProperty(t)?f[t]:null;(null!==n?0!==n.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,s,r){if(null===t||"undefined"===typeof t||function(e,t,s,r){if(null!==s&&0===s.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==s?!s.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,s,r))return!0;if(r)return!1;if(null!==s)switch(s.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,s,n,r)&&(s=null),r||null===n?function(e){return!!u.call(p,e)||!u.call(h,e)&&(m.test(e)?p[e]=!0:(h[e]=!0,!1))}(t)&&(null===s?e.removeAttribute(t):e.setAttribute(t,""+s)):n.mustUseProperty?e[n.propertyName]=null===s?3!==n.type&&"":s:(t=n.attributeName,r=n.attributeNamespace,null===s?e.removeAttribute(t):(s=3===(n=n.type)||4===n&&!0===s?"":""+s,r?e.setAttributeNS(r,t,s):e.setAttribute(t,s))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(g,v);f[t]=new x(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(g,v);f[t]=new x(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(g,v);f[t]=new x(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){f[e]=new x(e,1,!1,e.toLowerCase(),null,!1,!1)}),f.xlinkHref=new x("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){f[e]=new x(e,1,!1,e.toLowerCase(),null,!0,!0)});var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,j=Symbol.for("react.element"),w=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),E=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),L=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function I(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var F,z=Object.assign;function _(e){if(void 0===F)try{throw Error()}catch(s){var t=s.stack.trim().match(/\n( *(at )?)/);F=t&&t[1]||""}return"\n"+F+e}var V=!1;function O(e,t){if(!e||V)return"";V=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var n=c.stack.split("\n"),a=r.stack.split("\n"),i=n.length-1,l=a.length-1;1<=i&&0<=l&&n[i]!==a[l];)l--;for(;1<=i&&0<=l;i--,l--)if(n[i]!==a[l]){if(1!==i||1!==l)do{if(i--,0>--l||n[i]!==a[l]){var o="\n"+n[i].replace(" at new "," at ");return e.displayName&&o.includes("<anonymous>")&&(o=o.replace("<anonymous>",e.displayName)),o}}while(1<=i&&0<=l);break}}}finally{V=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?_(e):""}function B(e){switch(e.tag){case 5:return _(e.type);case 16:return _("Lazy");case 13:return _("Suspense");case 19:return _("SuspenseList");case 0:case 2:case 15:return e=O(e.type,!1);case 11:return e=O(e.type.render,!1);case 1:return e=O(e.type,!0);default:return""}}function U(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case N:return"Fragment";case w:return"Portal";case S:return"Profiler";case k:return"StrictMode";case P:return"Suspense";case T:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case E:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case A:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case M:return null!==(t=e.displayName||null)?t:U(e.type)||"Memo";case L:t=e._payload,e=e._init;try{return U(e(t))}catch(s){}}return null}function W(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return U(t);case 8:return t===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function q(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function $(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof s&&"function"===typeof s.get&&"function"===typeof s.set){var n=s.get,a=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return n.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Z(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var s=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==s&&(t.setValue(e),!0)}function J(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function G(e,t){var s=t.checked;return z({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=s?s:e._wrapperState.initialChecked})}function Y(e,t){var s=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;s=q(null!=t.value?t.value:s),e._wrapperState={initialChecked:r,initialValue:s,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&y(e,"checked",t,!1)}function K(e,t){X(e,t);var s=q(t.value),r=t.type;if(null!=s)"number"===r?(0===s&&""===e.value||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,s):t.hasOwnProperty("defaultValue")&&ee(e,t.type,q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Q(e,t,s){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,s||t===e.value||(e.value=t),e.defaultValue=t}""!==(s=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==s&&(e.name=s)}function ee(e,t,s){"number"===t&&J(e.ownerDocument)===e||(null==s?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var te=Array.isArray;function se(e,t,s,r){if(e=e.options,t){t={};for(var n=0;n<s.length;n++)t["$"+s[n]]=!0;for(s=0;s<e.length;s++)n=t.hasOwnProperty("$"+e[s].value),e[s].selected!==n&&(e[s].selected=n),n&&r&&(e[s].defaultSelected=!0)}else{for(s=""+q(s),t=null,n=0;n<e.length;n++){if(e[n].value===s)return e[n].selected=!0,void(r&&(e[n].defaultSelected=!0));null!==t||e[n].disabled||(t=e[n])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return z({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ne(e,t){var s=t.value;if(null==s){if(s=t.children,t=t.defaultValue,null!=s){if(null!=t)throw Error(a(92));if(te(s)){if(1<s.length)throw Error(a(93));s=s[0]}t=s}null==t&&(t=""),s=t}e._wrapperState={initialValue:q(s)}}function ae(e,t){var s=q(t.value),r=q(t.defaultValue);null!=s&&((s=""+s)!==e.value&&(e.value=s),null==t.defaultValue&&e.defaultValue!==s&&(e.defaultValue=s)),null!=r&&(e.defaultValue=""+r)}function ie(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function le(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function oe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?le(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,de,ue=(de=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,s,r){MSApp.execUnsafeLocalFunction(function(){return de(e,t)})}:de);function me(e,t){if(t){var s=e.firstChild;if(s&&s===e.lastChild&&3===s.nodeType)return void(s.nodeValue=t)}e.textContent=t}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function xe(e,t,s){return null==t||"boolean"===typeof t||""===t?"":s||"number"!==typeof t||0===t||he.hasOwnProperty(e)&&he[e]?(""+t).trim():t+"px"}function fe(e,t){for(var s in e=e.style,t)if(t.hasOwnProperty(s)){var r=0===s.indexOf("--"),n=xe(s,t[s],r);"float"===s&&(s="cssFloat"),r?e.setProperty(s,n):e[s]=n}}Object.keys(he).forEach(function(e){pe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]})});var ge=z({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ye(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function je(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var we=null,Ne=null,ke=null;function Se(e){if(e=yn(e)){if("function"!==typeof we)throw Error(a(280));var t=e.stateNode;t&&(t=jn(t),we(e.stateNode,e.type,t))}}function Ce(e){Ne?ke?ke.push(e):ke=[e]:Ne=e}function Ee(){if(Ne){var e=Ne,t=ke;if(ke=Ne=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Ae(e,t){return e(t)}function Pe(){}var Te=!1;function Me(e,t,s){if(Te)return e(t,s);Te=!0;try{return Ae(e,t,s)}finally{Te=!1,(null!==Ne||null!==ke)&&(Pe(),Ee())}}function Le(e,t){var s=e.stateNode;if(null===s)return null;var r=jn(s);if(null===r)return null;s=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(s&&"function"!==typeof s)throw Error(a(231,t,typeof s));return s}var Re=!1;if(d)try{var De={};Object.defineProperty(De,"passive",{get:function(){Re=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(de){Re=!1}function Ie(e,t,s,r,n,a,i,l,o){var c=Array.prototype.slice.call(arguments,3);try{t.apply(s,c)}catch(d){this.onError(d)}}var Fe=!1,ze=null,_e=!1,Ve=null,Oe={onError:function(e){Fe=!0,ze=e}};function Be(e,t,s,r,n,a,i,l,o){Fe=!1,ze=null,Ie.apply(Oe,arguments)}function Ue(e){var t=e,s=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(s=t.return),e=t.return}while(e)}return 3===t.tag?s:null}function We(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function qe(e){if(Ue(e)!==e)throw Error(a(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ue(e)))throw Error(a(188));return t!==e?null:e}for(var s=e,r=t;;){var n=s.return;if(null===n)break;var i=n.alternate;if(null===i){if(null!==(r=n.return)){s=r;continue}break}if(n.child===i.child){for(i=n.child;i;){if(i===s)return qe(n),e;if(i===r)return qe(n),t;i=i.sibling}throw Error(a(188))}if(s.return!==r.return)s=n,r=i;else{for(var l=!1,o=n.child;o;){if(o===s){l=!0,s=n,r=i;break}if(o===r){l=!0,r=n,s=i;break}o=o.sibling}if(!l){for(o=i.child;o;){if(o===s){l=!0,s=i,r=n;break}if(o===r){l=!0,r=i,s=n;break}o=o.sibling}if(!l)throw Error(a(189))}}if(s.alternate!==r)throw Error(a(190))}if(3!==s.tag)throw Error(a(188));return s.stateNode.current===s?e:t}(e))?$e(e):null}function $e(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=$e(e);if(null!==t)return t;e=e.sibling}return null}var Ze=n.unstable_scheduleCallback,Je=n.unstable_cancelCallback,Ge=n.unstable_shouldYield,Ye=n.unstable_requestPaint,Xe=n.unstable_now,Ke=n.unstable_getCurrentPriorityLevel,Qe=n.unstable_ImmediatePriority,et=n.unstable_UserBlockingPriority,tt=n.unstable_NormalPriority,st=n.unstable_LowPriority,rt=n.unstable_IdlePriority,nt=null,at=null;var it=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(lt(e)/ot|0)|0},lt=Math.log,ot=Math.LN2;var ct=64,dt=4194304;function ut(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function mt(e,t){var s=e.pendingLanes;if(0===s)return 0;var r=0,n=e.suspendedLanes,a=e.pingedLanes,i=268435455&s;if(0!==i){var l=i&~n;0!==l?r=ut(l):0!==(a&=i)&&(r=ut(a))}else 0!==(i=s&~n)?r=ut(i):0!==a&&(r=ut(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&n)&&((n=r&-r)>=(a=t&-t)||16===n&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&s),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)n=1<<(s=31-it(t)),r|=e[s],t&=~n;return r}function ht(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function xt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function ft(e){for(var t=[],s=0;31>s;s++)t.push(e);return t}function gt(e,t,s){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-it(t)]=s}function vt(e,t){var s=e.entangledLanes|=t;for(e=e.entanglements;s;){var r=31-it(s),n=1<<r;n&t|e[r]&t&&(e[r]|=t),s&=~n}}var yt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var jt,wt,Nt,kt,St,Ct=!1,Et=[],At=null,Pt=null,Tt=null,Mt=new Map,Lt=new Map,Rt=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function It(e,t){switch(e){case"focusin":case"focusout":At=null;break;case"dragenter":case"dragleave":Pt=null;break;case"mouseover":case"mouseout":Tt=null;break;case"pointerover":case"pointerout":Mt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Lt.delete(t.pointerId)}}function Ft(e,t,s,r,n,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:s,eventSystemFlags:r,nativeEvent:a,targetContainers:[n]},null!==t&&(null!==(t=yn(t))&&wt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==n&&-1===t.indexOf(n)&&t.push(n),e)}function zt(e){var t=vn(e.target);if(null!==t){var s=Ue(t);if(null!==s)if(13===(t=s.tag)){if(null!==(t=We(s)))return e.blockedOn=t,void St(e.priority,function(){Nt(s)})}else if(3===t&&s.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===s.tag?s.stateNode.containerInfo:null)}e.blockedOn=null}function _t(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var s=Gt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==s)return null!==(t=yn(s))&&wt(t),e.blockedOn=s,!1;var r=new(s=e.nativeEvent).constructor(s.type,s);be=r,s.target.dispatchEvent(r),be=null,t.shift()}return!0}function Vt(e,t,s){_t(e)&&s.delete(t)}function Ot(){Ct=!1,null!==At&&_t(At)&&(At=null),null!==Pt&&_t(Pt)&&(Pt=null),null!==Tt&&_t(Tt)&&(Tt=null),Mt.forEach(Vt),Lt.forEach(Vt)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,Ct||(Ct=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Ot)))}function Ut(e){function t(t){return Bt(t,e)}if(0<Et.length){Bt(Et[0],e);for(var s=1;s<Et.length;s++){var r=Et[s];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==At&&Bt(At,e),null!==Pt&&Bt(Pt,e),null!==Tt&&Bt(Tt,e),Mt.forEach(t),Lt.forEach(t),s=0;s<Rt.length;s++)(r=Rt[s]).blockedOn===e&&(r.blockedOn=null);for(;0<Rt.length&&null===(s=Rt[0]).blockedOn;)zt(s),null===s.blockedOn&&Rt.shift()}var Wt=b.ReactCurrentBatchConfig,qt=!0;function Ht(e,t,s,r){var n=yt,a=Wt.transition;Wt.transition=null;try{yt=1,Zt(e,t,s,r)}finally{yt=n,Wt.transition=a}}function $t(e,t,s,r){var n=yt,a=Wt.transition;Wt.transition=null;try{yt=4,Zt(e,t,s,r)}finally{yt=n,Wt.transition=a}}function Zt(e,t,s,r){if(qt){var n=Gt(e,t,s,r);if(null===n)Wr(e,t,r,Jt,s),It(e,r);else if(function(e,t,s,r,n){switch(t){case"focusin":return At=Ft(At,e,t,s,r,n),!0;case"dragenter":return Pt=Ft(Pt,e,t,s,r,n),!0;case"mouseover":return Tt=Ft(Tt,e,t,s,r,n),!0;case"pointerover":var a=n.pointerId;return Mt.set(a,Ft(Mt.get(a)||null,e,t,s,r,n)),!0;case"gotpointercapture":return a=n.pointerId,Lt.set(a,Ft(Lt.get(a)||null,e,t,s,r,n)),!0}return!1}(n,e,t,s,r))r.stopPropagation();else if(It(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==n;){var a=yn(n);if(null!==a&&jt(a),null===(a=Gt(e,t,s,r))&&Wr(e,t,r,Jt,s),a===n)break;n=a}null!==n&&r.stopPropagation()}else Wr(e,t,r,null,s)}}var Jt=null;function Gt(e,t,s,r){if(Jt=null,null!==(e=vn(e=je(r))))if(null===(t=Ue(e)))e=null;else if(13===(s=t.tag)){if(null!==(e=We(t)))return e;e=null}else if(3===s){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Jt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ke()){case Qe:return 1;case et:return 4;case tt:case st:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Kt=null,Qt=null;function es(){if(Qt)return Qt;var e,t,s=Kt,r=s.length,n="value"in Xt?Xt.value:Xt.textContent,a=n.length;for(e=0;e<r&&s[e]===n[e];e++);var i=r-e;for(t=1;t<=i&&s[r-t]===n[a-t];t++);return Qt=n.slice(e,1<t?1-t:void 0)}function ts(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function ss(){return!0}function rs(){return!1}function ns(e){function t(t,s,r,n,a){for(var i in this._reactName=t,this._targetInst=r,this.type=s,this.nativeEvent=n,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(n):n[i]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?ss:rs,this.isPropagationStopped=rs,this}return z(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=ss)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=ss)},persist:function(){},isPersistent:ss}),t}var as,is,ls,os={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cs=ns(os),ds=z({},os,{view:0,detail:0}),us=ns(ds),ms=z({},ds,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ks,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ls&&(ls&&"mousemove"===e.type?(as=e.screenX-ls.screenX,is=e.screenY-ls.screenY):is=as=0,ls=e),as)},movementY:function(e){return"movementY"in e?e.movementY:is}}),hs=ns(ms),ps=ns(z({},ms,{dataTransfer:0})),xs=ns(z({},ds,{relatedTarget:0})),fs=ns(z({},os,{animationName:0,elapsedTime:0,pseudoElement:0})),gs=z({},os,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),vs=ns(gs),ys=ns(z({},os,{data:0})),bs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},js={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ws={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ns(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=ws[e])&&!!t[e]}function ks(){return Ns}var Ss=z({},ds,{key:function(e){if(e.key){var t=bs[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=ts(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?js[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ks,charCode:function(e){return"keypress"===e.type?ts(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?ts(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Cs=ns(Ss),Es=ns(z({},ms,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),As=ns(z({},ds,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ks})),Ps=ns(z({},os,{propertyName:0,elapsedTime:0,pseudoElement:0})),Ts=z({},ms,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ms=ns(Ts),Ls=[9,13,27,32],Rs=d&&"CompositionEvent"in window,Ds=null;d&&"documentMode"in document&&(Ds=document.documentMode);var Is=d&&"TextEvent"in window&&!Ds,Fs=d&&(!Rs||Ds&&8<Ds&&11>=Ds),zs=String.fromCharCode(32),_s=!1;function Vs(e,t){switch(e){case"keyup":return-1!==Ls.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Os(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bs=!1;var Us={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ws(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Us[e.type]:"textarea"===t}function qs(e,t,s,r){Ce(r),0<(t=Hr(t,"onChange")).length&&(s=new cs("onChange","change",null,s,r),e.push({event:s,listeners:t}))}var Hs=null,$s=null;function Zs(e){zr(e,0)}function Js(e){if(Z(bn(e)))return e}function Gs(e,t){if("change"===e)return t}var Ys=!1;if(d){var Xs;if(d){var Ks="oninput"in document;if(!Ks){var Qs=document.createElement("div");Qs.setAttribute("oninput","return;"),Ks="function"===typeof Qs.oninput}Xs=Ks}else Xs=!1;Ys=Xs&&(!document.documentMode||9<document.documentMode)}function er(){Hs&&(Hs.detachEvent("onpropertychange",tr),$s=Hs=null)}function tr(e){if("value"===e.propertyName&&Js($s)){var t=[];qs(t,$s,e,je(e)),Me(Zs,t)}}function sr(e,t,s){"focusin"===e?(er(),$s=s,(Hs=t).attachEvent("onpropertychange",tr)):"focusout"===e&&er()}function rr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Js($s)}function nr(e,t){if("click"===e)return Js(t)}function ar(e,t){if("input"===e||"change"===e)return Js(t)}var ir="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(ir(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var s=Object.keys(e),r=Object.keys(t);if(s.length!==r.length)return!1;for(r=0;r<s.length;r++){var n=s[r];if(!u.call(t,n)||!ir(e[n],t[n]))return!1}return!0}function or(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var s,r=or(e);for(e=0;r;){if(3===r.nodeType){if(s=e+r.textContent.length,e<=t&&s>=t)return{node:r,offset:t-e};e=s}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=or(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function ur(){for(var e=window,t=J();t instanceof e.HTMLIFrameElement;){try{var s="string"===typeof t.contentWindow.location.href}catch(r){s=!1}if(!s)break;t=J((e=t.contentWindow).document)}return t}function mr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function hr(e){var t=ur(),s=e.focusedElem,r=e.selectionRange;if(t!==s&&s&&s.ownerDocument&&dr(s.ownerDocument.documentElement,s)){if(null!==r&&mr(s))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in s)s.selectionStart=t,s.selectionEnd=Math.min(e,s.value.length);else if((e=(t=s.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var n=s.textContent.length,a=Math.min(r.start,n);r=void 0===r.end?a:Math.min(r.end,n),!e.extend&&a>r&&(n=r,r=a,a=n),n=cr(s,a);var i=cr(s,r);n&&i&&(1!==e.rangeCount||e.anchorNode!==n.node||e.anchorOffset!==n.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&((t=t.createRange()).setStart(n.node,n.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}for(t=[],e=s;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof s.focus&&s.focus(),s=0;s<t.length;s++)(e=t[s]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var pr=d&&"documentMode"in document&&11>=document.documentMode,xr=null,fr=null,gr=null,vr=!1;function yr(e,t,s){var r=s.window===s?s.document:9===s.nodeType?s:s.ownerDocument;vr||null==xr||xr!==J(r)||("selectionStart"in(r=xr)&&mr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&lr(gr,r)||(gr=r,0<(r=Hr(fr,"onSelect")).length&&(t=new cs("onSelect","select",null,t,s),e.push({event:t,listeners:r}),t.target=xr)))}function br(e,t){var s={};return s[e.toLowerCase()]=t.toLowerCase(),s["Webkit"+e]="webkit"+t,s["Moz"+e]="moz"+t,s}var jr={animationend:br("Animation","AnimationEnd"),animationiteration:br("Animation","AnimationIteration"),animationstart:br("Animation","AnimationStart"),transitionend:br("Transition","TransitionEnd")},wr={},Nr={};function kr(e){if(wr[e])return wr[e];if(!jr[e])return e;var t,s=jr[e];for(t in s)if(s.hasOwnProperty(t)&&t in Nr)return wr[e]=s[t];return e}d&&(Nr=document.createElement("div").style,"AnimationEvent"in window||(delete jr.animationend.animation,delete jr.animationiteration.animation,delete jr.animationstart.animation),"TransitionEvent"in window||delete jr.transitionend.transition);var Sr=kr("animationend"),Cr=kr("animationiteration"),Er=kr("animationstart"),Ar=kr("transitionend"),Pr=new Map,Tr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Mr(e,t){Pr.set(e,t),o(t,[e])}for(var Lr=0;Lr<Tr.length;Lr++){var Rr=Tr[Lr];Mr(Rr.toLowerCase(),"on"+(Rr[0].toUpperCase()+Rr.slice(1)))}Mr(Sr,"onAnimationEnd"),Mr(Cr,"onAnimationIteration"),Mr(Er,"onAnimationStart"),Mr("dblclick","onDoubleClick"),Mr("focusin","onFocus"),Mr("focusout","onBlur"),Mr(Ar,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ir=new Set("cancel close invalid load scroll toggle".split(" ").concat(Dr));function Fr(e,t,s){var r=e.type||"unknown-event";e.currentTarget=s,function(e,t,s,r,n,i,l,o,c){if(Be.apply(this,arguments),Fe){if(!Fe)throw Error(a(198));var d=ze;Fe=!1,ze=null,_e||(_e=!0,Ve=d)}}(r,t,void 0,e),e.currentTarget=null}function zr(e,t){t=0!==(4&t);for(var s=0;s<e.length;s++){var r=e[s],n=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var i=r.length-1;0<=i;i--){var l=r[i],o=l.instance,c=l.currentTarget;if(l=l.listener,o!==a&&n.isPropagationStopped())break e;Fr(n,l,c),a=o}else for(i=0;i<r.length;i++){if(o=(l=r[i]).instance,c=l.currentTarget,l=l.listener,o!==a&&n.isPropagationStopped())break e;Fr(n,l,c),a=o}}}if(_e)throw e=Ve,_e=!1,Ve=null,e}function _r(e,t){var s=t[xn];void 0===s&&(s=t[xn]=new Set);var r=e+"__bubble";s.has(r)||(Ur(t,e,2,!1),s.add(r))}function Vr(e,t,s){var r=0;t&&(r|=4),Ur(s,e,r,t)}var Or="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[Or]){e[Or]=!0,i.forEach(function(t){"selectionchange"!==t&&(Ir.has(t)||Vr(t,!1,e),Vr(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Or]||(t[Or]=!0,Vr("selectionchange",!1,t))}}function Ur(e,t,s,r){switch(Yt(t)){case 1:var n=Ht;break;case 4:n=$t;break;default:n=Zt}s=n.bind(null,t,s,e),n=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(n=!0),r?void 0!==n?e.addEventListener(t,s,{capture:!0,passive:n}):e.addEventListener(t,s,!0):void 0!==n?e.addEventListener(t,s,{passive:n}):e.addEventListener(t,s,!1)}function Wr(e,t,s,r,n){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var i=r.tag;if(3===i||4===i){var l=r.stateNode.containerInfo;if(l===n||8===l.nodeType&&l.parentNode===n)break;if(4===i)for(i=r.return;null!==i;){var o=i.tag;if((3===o||4===o)&&((o=i.stateNode.containerInfo)===n||8===o.nodeType&&o.parentNode===n))return;i=i.return}for(;null!==l;){if(null===(i=vn(l)))return;if(5===(o=i.tag)||6===o){r=a=i;continue e}l=l.parentNode}}r=r.return}Me(function(){var r=a,n=je(s),i=[];e:{var l=Pr.get(e);if(void 0!==l){var o=cs,c=e;switch(e){case"keypress":if(0===ts(s))break e;case"keydown":case"keyup":o=Cs;break;case"focusin":c="focus",o=xs;break;case"focusout":c="blur",o=xs;break;case"beforeblur":case"afterblur":o=xs;break;case"click":if(2===s.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":o=hs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":o=ps;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":o=As;break;case Sr:case Cr:case Er:o=fs;break;case Ar:o=Ps;break;case"scroll":o=us;break;case"wheel":o=Ms;break;case"copy":case"cut":case"paste":o=vs;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":o=Es}var d=0!==(4&t),u=!d&&"scroll"===e,m=d?null!==l?l+"Capture":null:l;d=[];for(var h,p=r;null!==p;){var x=(h=p).stateNode;if(5===h.tag&&null!==x&&(h=x,null!==m&&(null!=(x=Le(p,m))&&d.push(qr(p,x,h)))),u)break;p=p.return}0<d.length&&(l=new o(l,c,null,s,n),i.push({event:l,listeners:d}))}}if(0===(7&t)){if(o="mouseout"===e||"pointerout"===e,(!(l="mouseover"===e||"pointerover"===e)||s===be||!(c=s.relatedTarget||s.fromElement)||!vn(c)&&!c[pn])&&(o||l)&&(l=n.window===n?n:(l=n.ownerDocument)?l.defaultView||l.parentWindow:window,o?(o=r,null!==(c=(c=s.relatedTarget||s.toElement)?vn(c):null)&&(c!==(u=Ue(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(o=null,c=r),o!==c)){if(d=hs,x="onMouseLeave",m="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(d=Es,x="onPointerLeave",m="onPointerEnter",p="pointer"),u=null==o?l:bn(o),h=null==c?l:bn(c),(l=new d(x,p+"leave",o,s,n)).target=u,l.relatedTarget=h,x=null,vn(n)===r&&((d=new d(m,p+"enter",c,s,n)).target=h,d.relatedTarget=u,x=d),u=x,o&&c)e:{for(m=c,p=0,h=d=o;h;h=$r(h))p++;for(h=0,x=m;x;x=$r(x))h++;for(;0<p-h;)d=$r(d),p--;for(;0<h-p;)m=$r(m),h--;for(;p--;){if(d===m||null!==m&&d===m.alternate)break e;d=$r(d),m=$r(m)}d=null}else d=null;null!==o&&Zr(i,l,o,d,!1),null!==c&&null!==u&&Zr(i,u,c,d,!0)}if("select"===(o=(l=r?bn(r):window).nodeName&&l.nodeName.toLowerCase())||"input"===o&&"file"===l.type)var f=Gs;else if(Ws(l))if(Ys)f=ar;else{f=rr;var g=sr}else(o=l.nodeName)&&"input"===o.toLowerCase()&&("checkbox"===l.type||"radio"===l.type)&&(f=nr);switch(f&&(f=f(e,r))?qs(i,f,s,n):(g&&g(e,l,r),"focusout"===e&&(g=l._wrapperState)&&g.controlled&&"number"===l.type&&ee(l,"number",l.value)),g=r?bn(r):window,e){case"focusin":(Ws(g)||"true"===g.contentEditable)&&(xr=g,fr=r,gr=null);break;case"focusout":gr=fr=xr=null;break;case"mousedown":vr=!0;break;case"contextmenu":case"mouseup":case"dragend":vr=!1,yr(i,s,n);break;case"selectionchange":if(pr)break;case"keydown":case"keyup":yr(i,s,n)}var v;if(Rs)e:{switch(e){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else Bs?Vs(e,s)&&(y="onCompositionEnd"):"keydown"===e&&229===s.keyCode&&(y="onCompositionStart");y&&(Fs&&"ko"!==s.locale&&(Bs||"onCompositionStart"!==y?"onCompositionEnd"===y&&Bs&&(v=es()):(Kt="value"in(Xt=n)?Xt.value:Xt.textContent,Bs=!0)),0<(g=Hr(r,y)).length&&(y=new ys(y,e,null,s,n),i.push({event:y,listeners:g}),v?y.data=v:null!==(v=Os(s))&&(y.data=v))),(v=Is?function(e,t){switch(e){case"compositionend":return Os(t);case"keypress":return 32!==t.which?null:(_s=!0,zs);case"textInput":return(e=t.data)===zs&&_s?null:e;default:return null}}(e,s):function(e,t){if(Bs)return"compositionend"===e||!Rs&&Vs(e,t)?(e=es(),Qt=Kt=Xt=null,Bs=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fs&&"ko"!==t.locale?null:t.data}}(e,s))&&(0<(r=Hr(r,"onBeforeInput")).length&&(n=new ys("onBeforeInput","beforeinput",null,s,n),i.push({event:n,listeners:r}),n.data=v))}zr(i,t)})}function qr(e,t,s){return{instance:e,listener:t,currentTarget:s}}function Hr(e,t){for(var s=t+"Capture",r=[];null!==e;){var n=e,a=n.stateNode;5===n.tag&&null!==a&&(n=a,null!=(a=Le(e,s))&&r.unshift(qr(e,a,n)),null!=(a=Le(e,t))&&r.push(qr(e,a,n))),e=e.return}return r}function $r(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Zr(e,t,s,r,n){for(var a=t._reactName,i=[];null!==s&&s!==r;){var l=s,o=l.alternate,c=l.stateNode;if(null!==o&&o===r)break;5===l.tag&&null!==c&&(l=c,n?null!=(o=Le(s,a))&&i.unshift(qr(s,o,l)):n||null!=(o=Le(s,a))&&i.push(qr(s,o,l))),s=s.return}0!==i.length&&e.push({event:t,listeners:i})}var Jr=/\r\n?/g,Gr=/\u0000|\uFFFD/g;function Yr(e){return("string"===typeof e?e:""+e).replace(Jr,"\n").replace(Gr,"")}function Xr(e,t,s){if(t=Yr(t),Yr(e)!==t&&s)throw Error(a(425))}function Kr(){}var Qr=null,en=null;function tn(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var sn="function"===typeof setTimeout?setTimeout:void 0,rn="function"===typeof clearTimeout?clearTimeout:void 0,nn="function"===typeof Promise?Promise:void 0,an="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof nn?function(e){return nn.resolve(null).then(e).catch(ln)}:sn;function ln(e){setTimeout(function(){throw e})}function on(e,t){var s=t,r=0;do{var n=s.nextSibling;if(e.removeChild(s),n&&8===n.nodeType)if("/$"===(s=n.data)){if(0===r)return e.removeChild(n),void Ut(t);r--}else"$"!==s&&"$?"!==s&&"$!"!==s||r++;s=n}while(s);Ut(t)}function cn(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function dn(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var s=e.data;if("$"===s||"$!"===s||"$?"===s){if(0===t)return e;t--}else"/$"===s&&t++}e=e.previousSibling}return null}var un=Math.random().toString(36).slice(2),mn="__reactFiber$"+un,hn="__reactProps$"+un,pn="__reactContainer$"+un,xn="__reactEvents$"+un,fn="__reactListeners$"+un,gn="__reactHandles$"+un;function vn(e){var t=e[mn];if(t)return t;for(var s=e.parentNode;s;){if(t=s[pn]||s[mn]){if(s=t.alternate,null!==t.child||null!==s&&null!==s.child)for(e=dn(e);null!==e;){if(s=e[mn])return s;e=dn(e)}return t}s=(e=s).parentNode}return null}function yn(e){return!(e=e[mn]||e[pn])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bn(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function jn(e){return e[hn]||null}var wn=[],Nn=-1;function kn(e){return{current:e}}function Sn(e){0>Nn||(e.current=wn[Nn],wn[Nn]=null,Nn--)}function Cn(e,t){Nn++,wn[Nn]=e.current,e.current=t}var En={},An=kn(En),Pn=kn(!1),Tn=En;function Mn(e,t){var s=e.type.contextTypes;if(!s)return En;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var n,a={};for(n in s)a[n]=t[n];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ln(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Rn(){Sn(Pn),Sn(An)}function Dn(e,t,s){if(An.current!==En)throw Error(a(168));Cn(An,t),Cn(Pn,s)}function In(e,t,s){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return s;for(var n in r=r.getChildContext())if(!(n in t))throw Error(a(108,W(e)||"Unknown",n));return z({},s,r)}function Fn(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||En,Tn=An.current,Cn(An,e),Cn(Pn,Pn.current),!0}function zn(e,t,s){var r=e.stateNode;if(!r)throw Error(a(169));s?(e=In(e,t,Tn),r.__reactInternalMemoizedMergedChildContext=e,Sn(Pn),Sn(An),Cn(An,e)):Sn(Pn),Cn(Pn,s)}var _n=null,Vn=!1,On=!1;function Bn(e){null===_n?_n=[e]:_n.push(e)}function Un(){if(!On&&null!==_n){On=!0;var e=0,t=yt;try{var s=_n;for(yt=1;e<s.length;e++){var r=s[e];do{r=r(!0)}while(null!==r)}_n=null,Vn=!1}catch(n){throw null!==_n&&(_n=_n.slice(e+1)),Ze(Qe,Un),n}finally{yt=t,On=!1}}return null}var Wn=[],qn=0,Hn=null,$n=0,Zn=[],Jn=0,Gn=null,Yn=1,Xn="";function Kn(e,t){Wn[qn++]=$n,Wn[qn++]=Hn,Hn=e,$n=t}function Qn(e,t,s){Zn[Jn++]=Yn,Zn[Jn++]=Xn,Zn[Jn++]=Gn,Gn=e;var r=Yn;e=Xn;var n=32-it(r)-1;r&=~(1<<n),s+=1;var a=32-it(t)+n;if(30<a){var i=n-n%5;a=(r&(1<<i)-1).toString(32),r>>=i,n-=i,Yn=1<<32-it(t)+n|s<<n|r,Xn=a+e}else Yn=1<<a|s<<n|r,Xn=e}function ea(e){null!==e.return&&(Kn(e,1),Qn(e,1,0))}function ta(e){for(;e===Hn;)Hn=Wn[--qn],Wn[qn]=null,$n=Wn[--qn],Wn[qn]=null;for(;e===Gn;)Gn=Zn[--Jn],Zn[Jn]=null,Xn=Zn[--Jn],Zn[Jn]=null,Yn=Zn[--Jn],Zn[Jn]=null}var sa=null,ra=null,na=!1,aa=null;function ia(e,t){var s=Mc(5,null,null,0);s.elementType="DELETED",s.stateNode=t,s.return=e,null===(t=e.deletions)?(e.deletions=[s],e.flags|=16):t.push(s)}function la(e,t){switch(e.tag){case 5:var s=e.type;return null!==(t=1!==t.nodeType||s.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,sa=e,ra=cn(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,sa=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(s=null!==Gn?{id:Yn,overflow:Xn}:null,e.memoizedState={dehydrated:t,treeContext:s,retryLane:1073741824},(s=Mc(18,null,null,0)).stateNode=t,s.return=e,e.child=s,sa=e,ra=null,!0);default:return!1}}function oa(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(na){var t=ra;if(t){var s=t;if(!la(e,t)){if(oa(e))throw Error(a(418));t=cn(s.nextSibling);var r=sa;t&&la(e,t)?ia(r,s):(e.flags=-4097&e.flags|2,na=!1,sa=e)}}else{if(oa(e))throw Error(a(418));e.flags=-4097&e.flags|2,na=!1,sa=e}}}function da(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;sa=e}function ua(e){if(e!==sa)return!1;if(!na)return da(e),na=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!tn(e.type,e.memoizedProps)),t&&(t=ra)){if(oa(e))throw ma(),Error(a(418));for(;t;)ia(e,t),t=cn(t.nextSibling)}if(da(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var s=e.data;if("/$"===s){if(0===t){ra=cn(e.nextSibling);break e}t--}else"$"!==s&&"$!"!==s&&"$?"!==s||t++}e=e.nextSibling}ra=null}}else ra=sa?cn(e.stateNode.nextSibling):null;return!0}function ma(){for(var e=ra;e;)e=cn(e.nextSibling)}function ha(){ra=sa=null,na=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var xa=b.ReactCurrentBatchConfig;function fa(e,t,s){if(null!==(e=s.ref)&&"function"!==typeof e&&"object"!==typeof e){if(s._owner){if(s=s._owner){if(1!==s.tag)throw Error(a(309));var r=s.stateNode}if(!r)throw Error(a(147,e));var n=r,i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=n.refs;null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(a(284));if(!s._owner)throw Error(a(290,e))}return e}function ga(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function va(e){return(0,e._init)(e._payload)}function ya(e){function t(t,s){if(e){var r=t.deletions;null===r?(t.deletions=[s],t.flags|=16):r.push(s)}}function s(s,r){if(!e)return null;for(;null!==r;)t(s,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function n(e,t){return(e=Rc(e,t)).index=0,e.sibling=null,e}function i(t,s,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<s?(t.flags|=2,s):r:(t.flags|=2,s):(t.flags|=1048576,s)}function l(t){return e&&null===t.alternate&&(t.flags|=2),t}function o(e,t,s,r){return null===t||6!==t.tag?((t=zc(s,e.mode,r)).return=e,t):((t=n(t,s)).return=e,t)}function c(e,t,s,r){var a=s.type;return a===N?u(e,t,s.props.children,r,s.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===L&&va(a)===t.type)?((r=n(t,s.props)).ref=fa(e,t,s),r.return=e,r):((r=Dc(s.type,s.key,s.props,null,e.mode,r)).ref=fa(e,t,s),r.return=e,r)}function d(e,t,s,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==s.containerInfo||t.stateNode.implementation!==s.implementation?((t=_c(s,e.mode,r)).return=e,t):((t=n(t,s.children||[])).return=e,t)}function u(e,t,s,r,a){return null===t||7!==t.tag?((t=Ic(s,e.mode,r,a)).return=e,t):((t=n(t,s)).return=e,t)}function m(e,t,s){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=zc(""+t,e.mode,s)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case j:return(s=Dc(t.type,t.key,t.props,null,e.mode,s)).ref=fa(e,null,t),s.return=e,s;case w:return(t=_c(t,e.mode,s)).return=e,t;case L:return m(e,(0,t._init)(t._payload),s)}if(te(t)||I(t))return(t=Ic(t,e.mode,s,null)).return=e,t;ga(e,t)}return null}function h(e,t,s,r){var n=null!==t?t.key:null;if("string"===typeof s&&""!==s||"number"===typeof s)return null!==n?null:o(e,t,""+s,r);if("object"===typeof s&&null!==s){switch(s.$$typeof){case j:return s.key===n?c(e,t,s,r):null;case w:return s.key===n?d(e,t,s,r):null;case L:return h(e,t,(n=s._init)(s._payload),r)}if(te(s)||I(s))return null!==n?null:u(e,t,s,r,null);ga(e,s)}return null}function p(e,t,s,r,n){if("string"===typeof r&&""!==r||"number"===typeof r)return o(t,e=e.get(s)||null,""+r,n);if("object"===typeof r&&null!==r){switch(r.$$typeof){case j:return c(t,e=e.get(null===r.key?s:r.key)||null,r,n);case w:return d(t,e=e.get(null===r.key?s:r.key)||null,r,n);case L:return p(e,t,s,(0,r._init)(r._payload),n)}if(te(r)||I(r))return u(t,e=e.get(s)||null,r,n,null);ga(t,r)}return null}function x(n,a,l,o){for(var c=null,d=null,u=a,x=a=0,f=null;null!==u&&x<l.length;x++){u.index>x?(f=u,u=null):f=u.sibling;var g=h(n,u,l[x],o);if(null===g){null===u&&(u=f);break}e&&u&&null===g.alternate&&t(n,u),a=i(g,a,x),null===d?c=g:d.sibling=g,d=g,u=f}if(x===l.length)return s(n,u),na&&Kn(n,x),c;if(null===u){for(;x<l.length;x++)null!==(u=m(n,l[x],o))&&(a=i(u,a,x),null===d?c=u:d.sibling=u,d=u);return na&&Kn(n,x),c}for(u=r(n,u);x<l.length;x++)null!==(f=p(u,n,x,l[x],o))&&(e&&null!==f.alternate&&u.delete(null===f.key?x:f.key),a=i(f,a,x),null===d?c=f:d.sibling=f,d=f);return e&&u.forEach(function(e){return t(n,e)}),na&&Kn(n,x),c}function f(n,l,o,c){var d=I(o);if("function"!==typeof d)throw Error(a(150));if(null==(o=d.call(o)))throw Error(a(151));for(var u=d=null,x=l,f=l=0,g=null,v=o.next();null!==x&&!v.done;f++,v=o.next()){x.index>f?(g=x,x=null):g=x.sibling;var y=h(n,x,v.value,c);if(null===y){null===x&&(x=g);break}e&&x&&null===y.alternate&&t(n,x),l=i(y,l,f),null===u?d=y:u.sibling=y,u=y,x=g}if(v.done)return s(n,x),na&&Kn(n,f),d;if(null===x){for(;!v.done;f++,v=o.next())null!==(v=m(n,v.value,c))&&(l=i(v,l,f),null===u?d=v:u.sibling=v,u=v);return na&&Kn(n,f),d}for(x=r(n,x);!v.done;f++,v=o.next())null!==(v=p(x,n,f,v.value,c))&&(e&&null!==v.alternate&&x.delete(null===v.key?f:v.key),l=i(v,l,f),null===u?d=v:u.sibling=v,u=v);return e&&x.forEach(function(e){return t(n,e)}),na&&Kn(n,f),d}return function e(r,a,i,o){if("object"===typeof i&&null!==i&&i.type===N&&null===i.key&&(i=i.props.children),"object"===typeof i&&null!==i){switch(i.$$typeof){case j:e:{for(var c=i.key,d=a;null!==d;){if(d.key===c){if((c=i.type)===N){if(7===d.tag){s(r,d.sibling),(a=n(d,i.props.children)).return=r,r=a;break e}}else if(d.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===L&&va(c)===d.type){s(r,d.sibling),(a=n(d,i.props)).ref=fa(r,d,i),a.return=r,r=a;break e}s(r,d);break}t(r,d),d=d.sibling}i.type===N?((a=Ic(i.props.children,r.mode,o,i.key)).return=r,r=a):((o=Dc(i.type,i.key,i.props,null,r.mode,o)).ref=fa(r,a,i),o.return=r,r=o)}return l(r);case w:e:{for(d=i.key;null!==a;){if(a.key===d){if(4===a.tag&&a.stateNode.containerInfo===i.containerInfo&&a.stateNode.implementation===i.implementation){s(r,a.sibling),(a=n(a,i.children||[])).return=r,r=a;break e}s(r,a);break}t(r,a),a=a.sibling}(a=_c(i,r.mode,o)).return=r,r=a}return l(r);case L:return e(r,a,(d=i._init)(i._payload),o)}if(te(i))return x(r,a,i,o);if(I(i))return f(r,a,i,o);ga(r,i)}return"string"===typeof i&&""!==i||"number"===typeof i?(i=""+i,null!==a&&6===a.tag?(s(r,a.sibling),(a=n(a,i)).return=r,r=a):(s(r,a),(a=zc(i,r.mode,o)).return=r,r=a),l(r)):s(r,a)}}var ba=ya(!0),ja=ya(!1),wa=kn(null),Na=null,ka=null,Sa=null;function Ca(){Sa=ka=Na=null}function Ea(e){var t=wa.current;Sn(wa),e._currentValue=t}function Aa(e,t,s){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===s)break;e=e.return}}function Pa(e,t){Na=e,Sa=ka=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(vl=!0),e.firstContext=null)}function Ta(e){var t=e._currentValue;if(Sa!==e)if(e={context:e,memoizedValue:t,next:null},null===ka){if(null===Na)throw Error(a(308));ka=e,Na.dependencies={lanes:0,firstContext:e}}else ka=ka.next=e;return t}var Ma=null;function La(e){null===Ma?Ma=[e]:Ma.push(e)}function Ra(e,t,s,r){var n=t.interleaved;return null===n?(s.next=s,La(t)):(s.next=n.next,n.next=s),t.interleaved=s,Da(e,r)}function Da(e,t){e.lanes|=t;var s=e.alternate;for(null!==s&&(s.lanes|=t),s=e,e=e.return;null!==e;)e.childLanes|=t,null!==(s=e.alternate)&&(s.childLanes|=t),s=e,e=e.return;return 3===s.tag?s.stateNode:null}var Ia=!1;function Fa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function za(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function _a(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Va(e,t,s){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Ao)){var n=r.pending;return null===n?t.next=t:(t.next=n.next,n.next=t),r.pending=t,Da(e,s)}return null===(n=r.interleaved)?(t.next=t,La(r)):(t.next=n.next,n.next=t),r.interleaved=t,Da(e,s)}function Oa(e,t,s){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&s))){var r=t.lanes;s|=r&=e.pendingLanes,t.lanes=s,vt(e,s)}}function Ba(e,t){var s=e.updateQueue,r=e.alternate;if(null!==r&&s===(r=r.updateQueue)){var n=null,a=null;if(null!==(s=s.firstBaseUpdate)){do{var i={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};null===a?n=a=i:a=a.next=i,s=s.next}while(null!==s);null===a?n=a=t:a=a.next=t}else n=a=t;return s={baseState:r.baseState,firstBaseUpdate:n,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=s)}null===(e=s.lastBaseUpdate)?s.firstBaseUpdate=t:e.next=t,s.lastBaseUpdate=t}function Ua(e,t,s,r){var n=e.updateQueue;Ia=!1;var a=n.firstBaseUpdate,i=n.lastBaseUpdate,l=n.shared.pending;if(null!==l){n.shared.pending=null;var o=l,c=o.next;o.next=null,null===i?a=c:i.next=c,i=o;var d=e.alternate;null!==d&&((l=(d=d.updateQueue).lastBaseUpdate)!==i&&(null===l?d.firstBaseUpdate=c:l.next=c,d.lastBaseUpdate=o))}if(null!==a){var u=n.baseState;for(i=0,d=c=o=null,l=a;;){var m=l.lane,h=l.eventTime;if((r&m)===m){null!==d&&(d=d.next={eventTime:h,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var p=e,x=l;switch(m=t,h=s,x.tag){case 1:if("function"===typeof(p=x.payload)){u=p.call(h,u,m);break e}u=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(m="function"===typeof(p=x.payload)?p.call(h,u,m):p)||void 0===m)break e;u=z({},u,m);break e;case 2:Ia=!0}}null!==l.callback&&0!==l.lane&&(e.flags|=64,null===(m=n.effects)?n.effects=[l]:m.push(l))}else h={eventTime:h,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},null===d?(c=d=h,o=u):d=d.next=h,i|=m;if(null===(l=l.next)){if(null===(l=n.shared.pending))break;l=(m=l).next,m.next=null,n.lastBaseUpdate=m,n.shared.pending=null}}if(null===d&&(o=u),n.baseState=o,n.firstBaseUpdate=c,n.lastBaseUpdate=d,null!==(t=n.shared.interleaved)){n=t;do{i|=n.lane,n=n.next}while(n!==t)}else null===a&&(n.shared.lanes=0);Fo|=i,e.lanes=i,e.memoizedState=u}}function Wa(e,t,s){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],n=r.callback;if(null!==n){if(r.callback=null,r=s,"function"!==typeof n)throw Error(a(191,n));n.call(r)}}}var qa={},Ha=kn(qa),$a=kn(qa),Za=kn(qa);function Ja(e){if(e===qa)throw Error(a(174));return e}function Ga(e,t){switch(Cn(Za,t),Cn($a,e),Cn(Ha,qa),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:oe(null,"");break;default:t=oe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Sn(Ha),Cn(Ha,t)}function Ya(){Sn(Ha),Sn($a),Sn(Za)}function Xa(e){Ja(Za.current);var t=Ja(Ha.current),s=oe(t,e.type);t!==s&&(Cn($a,e),Cn(Ha,s))}function Ka(e){$a.current===e&&(Sn(Ha),Sn($a))}var Qa=kn(0);function ei(e){for(var t=e;null!==t;){if(13===t.tag){var s=t.memoizedState;if(null!==s&&(null===(s=s.dehydrated)||"$?"===s.data||"$!"===s.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ti=[];function si(){for(var e=0;e<ti.length;e++)ti[e]._workInProgressVersionPrimary=null;ti.length=0}var ri=b.ReactCurrentDispatcher,ni=b.ReactCurrentBatchConfig,ai=0,ii=null,li=null,oi=null,ci=!1,di=!1,ui=0,mi=0;function hi(){throw Error(a(321))}function pi(e,t){if(null===t)return!1;for(var s=0;s<t.length&&s<e.length;s++)if(!ir(e[s],t[s]))return!1;return!0}function xi(e,t,s,r,n,i){if(ai=i,ii=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ri.current=null===e||null===e.memoizedState?Ki:Qi,e=s(r,n),di){i=0;do{if(di=!1,ui=0,25<=i)throw Error(a(301));i+=1,oi=li=null,t.updateQueue=null,ri.current=el,e=s(r,n)}while(di)}if(ri.current=Xi,t=null!==li&&null!==li.next,ai=0,oi=li=ii=null,ci=!1,t)throw Error(a(300));return e}function fi(){var e=0!==ui;return ui=0,e}function gi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===oi?ii.memoizedState=oi=e:oi=oi.next=e,oi}function vi(){if(null===li){var e=ii.alternate;e=null!==e?e.memoizedState:null}else e=li.next;var t=null===oi?ii.memoizedState:oi.next;if(null!==t)oi=t,li=e;else{if(null===e)throw Error(a(310));e={memoizedState:(li=e).memoizedState,baseState:li.baseState,baseQueue:li.baseQueue,queue:li.queue,next:null},null===oi?ii.memoizedState=oi=e:oi=oi.next=e}return oi}function yi(e,t){return"function"===typeof t?t(e):t}function bi(e){var t=vi(),s=t.queue;if(null===s)throw Error(a(311));s.lastRenderedReducer=e;var r=li,n=r.baseQueue,i=s.pending;if(null!==i){if(null!==n){var l=n.next;n.next=i.next,i.next=l}r.baseQueue=n=i,s.pending=null}if(null!==n){i=n.next,r=r.baseState;var o=l=null,c=null,d=i;do{var u=d.lane;if((ai&u)===u)null!==c&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:e(r,d.action);else{var m={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};null===c?(o=c=m,l=r):c=c.next=m,ii.lanes|=u,Fo|=u}d=d.next}while(null!==d&&d!==i);null===c?l=r:c.next=o,ir(r,t.memoizedState)||(vl=!0),t.memoizedState=r,t.baseState=l,t.baseQueue=c,s.lastRenderedState=r}if(null!==(e=s.interleaved)){n=e;do{i=n.lane,ii.lanes|=i,Fo|=i,n=n.next}while(n!==e)}else null===n&&(s.lanes=0);return[t.memoizedState,s.dispatch]}function ji(e){var t=vi(),s=t.queue;if(null===s)throw Error(a(311));s.lastRenderedReducer=e;var r=s.dispatch,n=s.pending,i=t.memoizedState;if(null!==n){s.pending=null;var l=n=n.next;do{i=e(i,l.action),l=l.next}while(l!==n);ir(i,t.memoizedState)||(vl=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),s.lastRenderedState=i}return[i,r]}function wi(){}function Ni(e,t){var s=ii,r=vi(),n=t(),i=!ir(r.memoizedState,n);if(i&&(r.memoizedState=n,vl=!0),r=r.queue,Ii(Ci.bind(null,s,r,e),[e]),r.getSnapshot!==t||i||null!==oi&&1&oi.memoizedState.tag){if(s.flags|=2048,Ti(9,Si.bind(null,s,r,n,t),void 0,null),null===Po)throw Error(a(349));0!==(30&ai)||ki(s,t,n)}return n}function ki(e,t,s){e.flags|=16384,e={getSnapshot:t,value:s},null===(t=ii.updateQueue)?(t={lastEffect:null,stores:null},ii.updateQueue=t,t.stores=[e]):null===(s=t.stores)?t.stores=[e]:s.push(e)}function Si(e,t,s,r){t.value=s,t.getSnapshot=r,Ei(t)&&Ai(e)}function Ci(e,t,s){return s(function(){Ei(t)&&Ai(e)})}function Ei(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!ir(e,s)}catch(r){return!0}}function Ai(e){var t=Da(e,1);null!==t&&sc(t,e,1,-1)}function Pi(e){var t=gi();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:yi,lastRenderedState:e},t.queue=e,e=e.dispatch=Zi.bind(null,ii,e),[t.memoizedState,e]}function Ti(e,t,s,r){return e={tag:e,create:t,destroy:s,deps:r,next:null},null===(t=ii.updateQueue)?(t={lastEffect:null,stores:null},ii.updateQueue=t,t.lastEffect=e.next=e):null===(s=t.lastEffect)?t.lastEffect=e.next=e:(r=s.next,s.next=e,e.next=r,t.lastEffect=e),e}function Mi(){return vi().memoizedState}function Li(e,t,s,r){var n=gi();ii.flags|=e,n.memoizedState=Ti(1|t,s,void 0,void 0===r?null:r)}function Ri(e,t,s,r){var n=vi();r=void 0===r?null:r;var a=void 0;if(null!==li){var i=li.memoizedState;if(a=i.destroy,null!==r&&pi(r,i.deps))return void(n.memoizedState=Ti(t,s,a,r))}ii.flags|=e,n.memoizedState=Ti(1|t,s,a,r)}function Di(e,t){return Li(8390656,8,e,t)}function Ii(e,t){return Ri(2048,8,e,t)}function Fi(e,t){return Ri(4,2,e,t)}function zi(e,t){return Ri(4,4,e,t)}function _i(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Vi(e,t,s){return s=null!==s&&void 0!==s?s.concat([e]):null,Ri(4,4,_i.bind(null,t,e),s)}function Oi(){}function Bi(e,t){var s=vi();t=void 0===t?null:t;var r=s.memoizedState;return null!==r&&null!==t&&pi(t,r[1])?r[0]:(s.memoizedState=[e,t],e)}function Ui(e,t){var s=vi();t=void 0===t?null:t;var r=s.memoizedState;return null!==r&&null!==t&&pi(t,r[1])?r[0]:(e=e(),s.memoizedState=[e,t],e)}function Wi(e,t,s){return 0===(21&ai)?(e.baseState&&(e.baseState=!1,vl=!0),e.memoizedState=s):(ir(s,t)||(s=xt(),ii.lanes|=s,Fo|=s,e.baseState=!0),t)}function qi(e,t){var s=yt;yt=0!==s&&4>s?s:4,e(!0);var r=ni.transition;ni.transition={};try{e(!1),t()}finally{yt=s,ni.transition=r}}function Hi(){return vi().memoizedState}function $i(e,t,s){var r=tc(e);if(s={lane:r,action:s,hasEagerState:!1,eagerState:null,next:null},Ji(e))Gi(t,s);else if(null!==(s=Ra(e,t,s,r))){sc(s,e,r,ec()),Yi(s,t,r)}}function Zi(e,t,s){var r=tc(e),n={lane:r,action:s,hasEagerState:!1,eagerState:null,next:null};if(Ji(e))Gi(t,n);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var i=t.lastRenderedState,l=a(i,s);if(n.hasEagerState=!0,n.eagerState=l,ir(l,i)){var o=t.interleaved;return null===o?(n.next=n,La(t)):(n.next=o.next,o.next=n),void(t.interleaved=n)}}catch(c){}null!==(s=Ra(e,t,n,r))&&(sc(s,e,r,n=ec()),Yi(s,t,r))}}function Ji(e){var t=e.alternate;return e===ii||null!==t&&t===ii}function Gi(e,t){di=ci=!0;var s=e.pending;null===s?t.next=t:(t.next=s.next,s.next=t),e.pending=t}function Yi(e,t,s){if(0!==(4194240&s)){var r=t.lanes;s|=r&=e.pendingLanes,t.lanes=s,vt(e,s)}}var Xi={readContext:Ta,useCallback:hi,useContext:hi,useEffect:hi,useImperativeHandle:hi,useInsertionEffect:hi,useLayoutEffect:hi,useMemo:hi,useReducer:hi,useRef:hi,useState:hi,useDebugValue:hi,useDeferredValue:hi,useTransition:hi,useMutableSource:hi,useSyncExternalStore:hi,useId:hi,unstable_isNewReconciler:!1},Ki={readContext:Ta,useCallback:function(e,t){return gi().memoizedState=[e,void 0===t?null:t],e},useContext:Ta,useEffect:Di,useImperativeHandle:function(e,t,s){return s=null!==s&&void 0!==s?s.concat([e]):null,Li(4194308,4,_i.bind(null,t,e),s)},useLayoutEffect:function(e,t){return Li(4194308,4,e,t)},useInsertionEffect:function(e,t){return Li(4,2,e,t)},useMemo:function(e,t){var s=gi();return t=void 0===t?null:t,e=e(),s.memoizedState=[e,t],e},useReducer:function(e,t,s){var r=gi();return t=void 0!==s?s(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=$i.bind(null,ii,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},gi().memoizedState=e},useState:Pi,useDebugValue:Oi,useDeferredValue:function(e){return gi().memoizedState=e},useTransition:function(){var e=Pi(!1),t=e[0];return e=qi.bind(null,e[1]),gi().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,s){var r=ii,n=gi();if(na){if(void 0===s)throw Error(a(407));s=s()}else{if(s=t(),null===Po)throw Error(a(349));0!==(30&ai)||ki(r,t,s)}n.memoizedState=s;var i={value:s,getSnapshot:t};return n.queue=i,Di(Ci.bind(null,r,i,e),[e]),r.flags|=2048,Ti(9,Si.bind(null,r,i,s,t),void 0,null),s},useId:function(){var e=gi(),t=Po.identifierPrefix;if(na){var s=Xn;t=":"+t+"R"+(s=(Yn&~(1<<32-it(Yn)-1)).toString(32)+s),0<(s=ui++)&&(t+="H"+s.toString(32)),t+=":"}else t=":"+t+"r"+(s=mi++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Qi={readContext:Ta,useCallback:Bi,useContext:Ta,useEffect:Ii,useImperativeHandle:Vi,useInsertionEffect:Fi,useLayoutEffect:zi,useMemo:Ui,useReducer:bi,useRef:Mi,useState:function(){return bi(yi)},useDebugValue:Oi,useDeferredValue:function(e){return Wi(vi(),li.memoizedState,e)},useTransition:function(){return[bi(yi)[0],vi().memoizedState]},useMutableSource:wi,useSyncExternalStore:Ni,useId:Hi,unstable_isNewReconciler:!1},el={readContext:Ta,useCallback:Bi,useContext:Ta,useEffect:Ii,useImperativeHandle:Vi,useInsertionEffect:Fi,useLayoutEffect:zi,useMemo:Ui,useReducer:ji,useRef:Mi,useState:function(){return ji(yi)},useDebugValue:Oi,useDeferredValue:function(e){var t=vi();return null===li?t.memoizedState=e:Wi(t,li.memoizedState,e)},useTransition:function(){return[ji(yi)[0],vi().memoizedState]},useMutableSource:wi,useSyncExternalStore:Ni,useId:Hi,unstable_isNewReconciler:!1};function tl(e,t){if(e&&e.defaultProps){for(var s in t=z({},t),e=e.defaultProps)void 0===t[s]&&(t[s]=e[s]);return t}return t}function sl(e,t,s,r){s=null===(s=s(r,t=e.memoizedState))||void 0===s?t:z({},t,s),e.memoizedState=s,0===e.lanes&&(e.updateQueue.baseState=s)}var rl={isMounted:function(e){return!!(e=e._reactInternals)&&Ue(e)===e},enqueueSetState:function(e,t,s){e=e._reactInternals;var r=ec(),n=tc(e),a=_a(r,n);a.payload=t,void 0!==s&&null!==s&&(a.callback=s),null!==(t=Va(e,a,n))&&(sc(t,e,n,r),Oa(t,e,n))},enqueueReplaceState:function(e,t,s){e=e._reactInternals;var r=ec(),n=tc(e),a=_a(r,n);a.tag=1,a.payload=t,void 0!==s&&null!==s&&(a.callback=s),null!==(t=Va(e,a,n))&&(sc(t,e,n,r),Oa(t,e,n))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var s=ec(),r=tc(e),n=_a(s,r);n.tag=2,void 0!==t&&null!==t&&(n.callback=t),null!==(t=Va(e,n,r))&&(sc(t,e,r,s),Oa(t,e,r))}};function nl(e,t,s,r,n,a,i){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,i):!t.prototype||!t.prototype.isPureReactComponent||(!lr(s,r)||!lr(n,a))}function al(e,t,s){var r=!1,n=En,a=t.contextType;return"object"===typeof a&&null!==a?a=Ta(a):(n=Ln(t)?Tn:An.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Mn(e,n):En),t=new t(s,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=rl,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=a),t}function il(e,t,s,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(s,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(s,r),t.state!==e&&rl.enqueueReplaceState(t,t.state,null)}function ll(e,t,s,r){var n=e.stateNode;n.props=s,n.state=e.memoizedState,n.refs={},Fa(e);var a=t.contextType;"object"===typeof a&&null!==a?n.context=Ta(a):(a=Ln(t)?Tn:An.current,n.context=Mn(e,a)),n.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(sl(e,t,a,s),n.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof n.getSnapshotBeforeUpdate||"function"!==typeof n.UNSAFE_componentWillMount&&"function"!==typeof n.componentWillMount||(t=n.state,"function"===typeof n.componentWillMount&&n.componentWillMount(),"function"===typeof n.UNSAFE_componentWillMount&&n.UNSAFE_componentWillMount(),t!==n.state&&rl.enqueueReplaceState(n,n.state,null),Ua(e,s,n,r),n.state=e.memoizedState),"function"===typeof n.componentDidMount&&(e.flags|=4194308)}function ol(e,t){try{var s="",r=t;do{s+=B(r),r=r.return}while(r);var n=s}catch(a){n="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:n,digest:null}}function cl(e,t,s){return{value:e,source:null,stack:null!=s?s:null,digest:null!=t?t:null}}function dl(e,t){try{console.error(t.value)}catch(s){setTimeout(function(){throw s})}}var ul="function"===typeof WeakMap?WeakMap:Map;function ml(e,t,s){(s=_a(-1,s)).tag=3,s.payload={element:null};var r=t.value;return s.callback=function(){qo||(qo=!0,Ho=r),dl(0,t)},s}function hl(e,t,s){(s=_a(-1,s)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var n=t.value;s.payload=function(){return r(n)},s.callback=function(){dl(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(s.callback=function(){dl(0,t),"function"!==typeof r&&(null===$o?$o=new Set([this]):$o.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),s}function pl(e,t,s){var r=e.pingCache;if(null===r){r=e.pingCache=new ul;var n=new Set;r.set(t,n)}else void 0===(n=r.get(t))&&(n=new Set,r.set(t,n));n.has(s)||(n.add(s),e=Sc.bind(null,e,t,s),t.then(e,e))}function xl(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function fl(e,t,s,r,n){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,1===s.tag&&(null===s.alternate?s.tag=17:((t=_a(-1,1)).tag=2,Va(s,t,1))),s.lanes|=1),e):(e.flags|=65536,e.lanes=n,e)}var gl=b.ReactCurrentOwner,vl=!1;function yl(e,t,s,r){t.child=null===e?ja(t,null,s,r):ba(t,e.child,s,r)}function bl(e,t,s,r,n){s=s.render;var a=t.ref;return Pa(t,n),r=xi(e,t,s,r,a,n),s=fi(),null===e||vl?(na&&s&&ea(t),t.flags|=1,yl(e,t,r,n),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n,Wl(e,t,n))}function jl(e,t,s,r,n){if(null===e){var a=s.type;return"function"!==typeof a||Lc(a)||void 0!==a.defaultProps||null!==s.compare||void 0!==s.defaultProps?((e=Dc(s.type,null,r,t,t.mode,n)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,wl(e,t,a,r,n))}if(a=e.child,0===(e.lanes&n)){var i=a.memoizedProps;if((s=null!==(s=s.compare)?s:lr)(i,r)&&e.ref===t.ref)return Wl(e,t,n)}return t.flags|=1,(e=Rc(a,r)).ref=t.ref,e.return=t,t.child=e}function wl(e,t,s,r,n){if(null!==e){var a=e.memoizedProps;if(lr(a,r)&&e.ref===t.ref){if(vl=!1,t.pendingProps=r=a,0===(e.lanes&n))return t.lanes=e.lanes,Wl(e,t,n);0!==(131072&e.flags)&&(vl=!0)}}return Sl(e,t,s,r,n)}function Nl(e,t,s){var r=t.pendingProps,n=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Cn(Ro,Lo),Lo|=s;else{if(0===(1073741824&s))return e=null!==a?a.baseLanes|s:s,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Cn(Ro,Lo),Lo|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:s,Cn(Ro,Lo),Lo|=r}else null!==a?(r=a.baseLanes|s,t.memoizedState=null):r=s,Cn(Ro,Lo),Lo|=r;return yl(e,t,n,s),t.child}function kl(e,t){var s=t.ref;(null===e&&null!==s||null!==e&&e.ref!==s)&&(t.flags|=512,t.flags|=2097152)}function Sl(e,t,s,r,n){var a=Ln(s)?Tn:An.current;return a=Mn(t,a),Pa(t,n),s=xi(e,t,s,r,a,n),r=fi(),null===e||vl?(na&&r&&ea(t),t.flags|=1,yl(e,t,s,n),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n,Wl(e,t,n))}function Cl(e,t,s,r,n){if(Ln(s)){var a=!0;Fn(t)}else a=!1;if(Pa(t,n),null===t.stateNode)Ul(e,t),al(t,s,r),ll(t,s,r,n),r=!0;else if(null===e){var i=t.stateNode,l=t.memoizedProps;i.props=l;var o=i.context,c=s.contextType;"object"===typeof c&&null!==c?c=Ta(c):c=Mn(t,c=Ln(s)?Tn:An.current);var d=s.getDerivedStateFromProps,u="function"===typeof d||"function"===typeof i.getSnapshotBeforeUpdate;u||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(l!==r||o!==c)&&il(t,i,r,c),Ia=!1;var m=t.memoizedState;i.state=m,Ua(t,r,i,n),o=t.memoizedState,l!==r||m!==o||Pn.current||Ia?("function"===typeof d&&(sl(t,s,d,r),o=t.memoizedState),(l=Ia||nl(t,s,l,r,m,o,c))?(u||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||("function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"===typeof i.componentDidMount&&(t.flags|=4194308)):("function"===typeof i.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=o),i.props=r,i.state=o,i.context=c,r=l):("function"===typeof i.componentDidMount&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,za(e,t),l=t.memoizedProps,c=t.type===t.elementType?l:tl(t.type,l),i.props=c,u=t.pendingProps,m=i.context,"object"===typeof(o=s.contextType)&&null!==o?o=Ta(o):o=Mn(t,o=Ln(s)?Tn:An.current);var h=s.getDerivedStateFromProps;(d="function"===typeof h||"function"===typeof i.getSnapshotBeforeUpdate)||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(l!==u||m!==o)&&il(t,i,r,o),Ia=!1,m=t.memoizedState,i.state=m,Ua(t,r,i,n);var p=t.memoizedState;l!==u||m!==p||Pn.current||Ia?("function"===typeof h&&(sl(t,s,h,r),p=t.memoizedState),(c=Ia||nl(t,s,c,r,m,p,o)||!1)?(d||"function"!==typeof i.UNSAFE_componentWillUpdate&&"function"!==typeof i.componentWillUpdate||("function"===typeof i.componentWillUpdate&&i.componentWillUpdate(r,p,o),"function"===typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(r,p,o)),"function"===typeof i.componentDidUpdate&&(t.flags|=4),"function"===typeof i.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof i.componentDidUpdate||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),i.props=r,i.state=p,i.context=o,r=c):("function"!==typeof i.componentDidUpdate||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),r=!1)}return El(e,t,s,r,a,n)}function El(e,t,s,r,n,a){kl(e,t);var i=0!==(128&t.flags);if(!r&&!i)return n&&zn(t,s,!1),Wl(e,t,a);r=t.stateNode,gl.current=t;var l=i&&"function"!==typeof s.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&i?(t.child=ba(t,e.child,null,a),t.child=ba(t,null,l,a)):yl(e,t,l,a),t.memoizedState=r.state,n&&zn(t,s,!0),t.child}function Al(e){var t=e.stateNode;t.pendingContext?Dn(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Dn(0,t.context,!1),Ga(e,t.containerInfo)}function Pl(e,t,s,r,n){return ha(),pa(n),t.flags|=256,yl(e,t,s,r),t.child}var Tl,Ml,Ll,Rl,Dl={dehydrated:null,treeContext:null,retryLane:0};function Il(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fl(e,t,s){var r,n=t.pendingProps,i=Qa.current,l=!1,o=0!==(128&t.flags);if((r=o)||(r=(null===e||null!==e.memoizedState)&&0!==(2&i)),r?(l=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(i|=1),Cn(Qa,1&i),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(o=n.children,e=n.fallback,l?(n=t.mode,l=t.child,o={mode:"hidden",children:o},0===(1&n)&&null!==l?(l.childLanes=0,l.pendingProps=o):l=Fc(o,n,0,null),e=Ic(e,n,s,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=Il(s),t.memoizedState=Dl,e):zl(t,o));if(null!==(i=e.memoizedState)&&null!==(r=i.dehydrated))return function(e,t,s,r,n,i,l){if(s)return 256&t.flags?(t.flags&=-257,_l(e,t,l,r=cl(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(i=r.fallback,n=t.mode,r=Fc({mode:"visible",children:r.children},n,0,null),(i=Ic(i,n,l,null)).flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,0!==(1&t.mode)&&ba(t,e.child,null,l),t.child.memoizedState=Il(l),t.memoizedState=Dl,i);if(0===(1&t.mode))return _l(e,t,l,null);if("$!"===n.data){if(r=n.nextSibling&&n.nextSibling.dataset)var o=r.dgst;return r=o,_l(e,t,l,r=cl(i=Error(a(419)),r,void 0))}if(o=0!==(l&e.childLanes),vl||o){if(null!==(r=Po)){switch(l&-l){case 4:n=2;break;case 16:n=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:n=32;break;case 536870912:n=268435456;break;default:n=0}0!==(n=0!==(n&(r.suspendedLanes|l))?0:n)&&n!==i.retryLane&&(i.retryLane=n,Da(e,n),sc(r,e,n,-1))}return xc(),_l(e,t,l,r=cl(Error(a(421))))}return"$?"===n.data?(t.flags|=128,t.child=e.child,t=Ec.bind(null,e),n._reactRetry=t,null):(e=i.treeContext,ra=cn(n.nextSibling),sa=t,na=!0,aa=null,null!==e&&(Zn[Jn++]=Yn,Zn[Jn++]=Xn,Zn[Jn++]=Gn,Yn=e.id,Xn=e.overflow,Gn=t),t=zl(t,r.children),t.flags|=4096,t)}(e,t,o,n,r,i,s);if(l){l=n.fallback,o=t.mode,r=(i=e.child).sibling;var c={mode:"hidden",children:n.children};return 0===(1&o)&&t.child!==i?((n=t.child).childLanes=0,n.pendingProps=c,t.deletions=null):(n=Rc(i,c)).subtreeFlags=14680064&i.subtreeFlags,null!==r?l=Rc(r,l):(l=Ic(l,o,s,null)).flags|=2,l.return=t,n.return=t,n.sibling=l,t.child=n,n=l,l=t.child,o=null===(o=e.child.memoizedState)?Il(s):{baseLanes:o.baseLanes|s,cachePool:null,transitions:o.transitions},l.memoizedState=o,l.childLanes=e.childLanes&~s,t.memoizedState=Dl,n}return e=(l=e.child).sibling,n=Rc(l,{mode:"visible",children:n.children}),0===(1&t.mode)&&(n.lanes=s),n.return=t,n.sibling=null,null!==e&&(null===(s=t.deletions)?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=n,t.memoizedState=null,n}function zl(e,t){return(t=Fc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function _l(e,t,s,r){return null!==r&&pa(r),ba(t,e.child,null,s),(e=zl(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Vl(e,t,s){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Aa(e.return,t,s)}function Ol(e,t,s,r,n){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:s,tailMode:n}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=s,a.tailMode=n)}function Bl(e,t,s){var r=t.pendingProps,n=r.revealOrder,a=r.tail;if(yl(e,t,r.children,s),0!==(2&(r=Qa.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Vl(e,s,t);else if(19===e.tag)Vl(e,s,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Cn(Qa,r),0===(1&t.mode))t.memoizedState=null;else switch(n){case"forwards":for(s=t.child,n=null;null!==s;)null!==(e=s.alternate)&&null===ei(e)&&(n=s),s=s.sibling;null===(s=n)?(n=t.child,t.child=null):(n=s.sibling,s.sibling=null),Ol(t,!1,n,s,a);break;case"backwards":for(s=null,n=t.child,t.child=null;null!==n;){if(null!==(e=n.alternate)&&null===ei(e)){t.child=n;break}e=n.sibling,n.sibling=s,s=n,n=e}Ol(t,!0,s,null,a);break;case"together":Ol(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ul(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Wl(e,t,s){if(null!==e&&(t.dependencies=e.dependencies),Fo|=t.lanes,0===(s&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(s=Rc(e=t.child,e.pendingProps),t.child=s,s.return=t;null!==e.sibling;)e=e.sibling,(s=s.sibling=Rc(e,e.pendingProps)).return=t;s.sibling=null}return t.child}function ql(e,t){if(!na)switch(e.tailMode){case"hidden":t=e.tail;for(var s=null;null!==t;)null!==t.alternate&&(s=t),t=t.sibling;null===s?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var r=null;null!==s;)null!==s.alternate&&(r=s),s=s.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Hl(e){var t=null!==e.alternate&&e.alternate.child===e.child,s=0,r=0;if(t)for(var n=e.child;null!==n;)s|=n.lanes|n.childLanes,r|=14680064&n.subtreeFlags,r|=14680064&n.flags,n.return=e,n=n.sibling;else for(n=e.child;null!==n;)s|=n.lanes|n.childLanes,r|=n.subtreeFlags,r|=n.flags,n.return=e,n=n.sibling;return e.subtreeFlags|=r,e.childLanes=s,t}function $l(e,t,s){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Hl(t),null;case 1:case 17:return Ln(t.type)&&Rn(),Hl(t),null;case 3:return r=t.stateNode,Ya(),Sn(Pn),Sn(An),si(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ua(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(ic(aa),aa=null))),Ml(e,t),Hl(t),null;case 5:Ka(t);var n=Ja(Za.current);if(s=t.type,null!==e&&null!=t.stateNode)Ll(e,t,s,r,n),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Hl(t),null}if(e=Ja(Ha.current),ua(t)){r=t.stateNode,s=t.type;var i=t.memoizedProps;switch(r[mn]=t,r[hn]=i,e=0!==(1&t.mode),s){case"dialog":_r("cancel",r),_r("close",r);break;case"iframe":case"object":case"embed":_r("load",r);break;case"video":case"audio":for(n=0;n<Dr.length;n++)_r(Dr[n],r);break;case"source":_r("error",r);break;case"img":case"image":case"link":_r("error",r),_r("load",r);break;case"details":_r("toggle",r);break;case"input":Y(r,i),_r("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},_r("invalid",r);break;case"textarea":ne(r,i),_r("invalid",r)}for(var o in ve(s,i),n=null,i)if(i.hasOwnProperty(o)){var c=i[o];"children"===o?"string"===typeof c?r.textContent!==c&&(!0!==i.suppressHydrationWarning&&Xr(r.textContent,c,e),n=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==i.suppressHydrationWarning&&Xr(r.textContent,c,e),n=["children",""+c]):l.hasOwnProperty(o)&&null!=c&&"onScroll"===o&&_r("scroll",r)}switch(s){case"input":$(r),Q(r,i,!0);break;case"textarea":$(r),ie(r);break;case"select":case"option":break;default:"function"===typeof i.onClick&&(r.onclick=Kr)}r=n,t.updateQueue=r,null!==r&&(t.flags|=4)}else{o=9===n.nodeType?n:n.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=le(s)),"http://www.w3.org/1999/xhtml"===e?"script"===s?((e=o.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=o.createElement(s,{is:r.is}):(e=o.createElement(s),"select"===s&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,s),e[mn]=t,e[hn]=r,Tl(e,t,!1,!1),t.stateNode=e;e:{switch(o=ye(s,r),s){case"dialog":_r("cancel",e),_r("close",e),n=r;break;case"iframe":case"object":case"embed":_r("load",e),n=r;break;case"video":case"audio":for(n=0;n<Dr.length;n++)_r(Dr[n],e);n=r;break;case"source":_r("error",e),n=r;break;case"img":case"image":case"link":_r("error",e),_r("load",e),n=r;break;case"details":_r("toggle",e),n=r;break;case"input":Y(e,r),n=G(e,r),_r("invalid",e);break;case"option":default:n=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},n=z({},r,{value:void 0}),_r("invalid",e);break;case"textarea":ne(e,r),n=re(e,r),_r("invalid",e)}for(i in ve(s,n),c=n)if(c.hasOwnProperty(i)){var d=c[i];"style"===i?fe(e,d):"dangerouslySetInnerHTML"===i?null!=(d=d?d.__html:void 0)&&ue(e,d):"children"===i?"string"===typeof d?("textarea"!==s||""!==d)&&me(e,d):"number"===typeof d&&me(e,""+d):"suppressContentEditableWarning"!==i&&"suppressHydrationWarning"!==i&&"autoFocus"!==i&&(l.hasOwnProperty(i)?null!=d&&"onScroll"===i&&_r("scroll",e):null!=d&&y(e,i,d,o))}switch(s){case"input":$(e),Q(e,r,!1);break;case"textarea":$(e),ie(e);break;case"option":null!=r.value&&e.setAttribute("value",""+q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(i=r.value)?se(e,!!r.multiple,i,!1):null!=r.defaultValue&&se(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof n.onClick&&(e.onclick=Kr)}switch(s){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Hl(t),null;case 6:if(e&&null!=t.stateNode)Rl(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(s=Ja(Za.current),Ja(Ha.current),ua(t)){if(r=t.stateNode,s=t.memoizedProps,r[mn]=t,(i=r.nodeValue!==s)&&null!==(e=sa))switch(e.tag){case 3:Xr(r.nodeValue,s,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xr(r.nodeValue,s,0!==(1&e.mode))}i&&(t.flags|=4)}else(r=(9===s.nodeType?s:s.ownerDocument).createTextNode(r))[mn]=t,t.stateNode=r}return Hl(t),null;case 13:if(Sn(Qa),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(na&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ma(),ha(),t.flags|=98560,i=!1;else if(i=ua(t),null!==r&&null!==r.dehydrated){if(null===e){if(!i)throw Error(a(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(a(317));i[mn]=t}else ha(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Hl(t),i=!1}else null!==aa&&(ic(aa),aa=null),i=!0;if(!i)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=s,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Qa.current)?0===Do&&(Do=3):xc())),null!==t.updateQueue&&(t.flags|=4),Hl(t),null);case 4:return Ya(),Ml(e,t),null===e&&Br(t.stateNode.containerInfo),Hl(t),null;case 10:return Ea(t.type._context),Hl(t),null;case 19:if(Sn(Qa),null===(i=t.memoizedState))return Hl(t),null;if(r=0!==(128&t.flags),null===(o=i.rendering))if(r)ql(i,!1);else{if(0!==Do||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(o=ei(e))){for(t.flags|=128,ql(i,!1),null!==(r=o.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=s,s=t.child;null!==s;)e=r,(i=s).flags&=14680066,null===(o=i.alternate)?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return Cn(Qa,1&Qa.current|2),t.child}e=e.sibling}null!==i.tail&&Xe()>Uo&&(t.flags|=128,r=!0,ql(i,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ei(o))){if(t.flags|=128,r=!0,null!==(s=e.updateQueue)&&(t.updateQueue=s,t.flags|=4),ql(i,!0),null===i.tail&&"hidden"===i.tailMode&&!o.alternate&&!na)return Hl(t),null}else 2*Xe()-i.renderingStartTime>Uo&&1073741824!==s&&(t.flags|=128,r=!0,ql(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(null!==(s=i.last)?s.sibling=o:t.child=o,i.last=o)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Xe(),t.sibling=null,s=Qa.current,Cn(Qa,r?1&s|2:1&s),t):(Hl(t),null);case 22:case 23:return uc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Lo)&&(Hl(t),6&t.subtreeFlags&&(t.flags|=8192)):Hl(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Zl(e,t){switch(ta(t),t.tag){case 1:return Ln(t.type)&&Rn(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Ya(),Sn(Pn),Sn(An),si(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Ka(t),null;case 13:if(Sn(Qa),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));ha()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Sn(Qa),null;case 4:return Ya(),null;case 10:return Ea(t.type._context),null;case 22:case 23:return uc(),null;default:return null}}Tl=function(e,t){for(var s=t.child;null!==s;){if(5===s.tag||6===s.tag)e.appendChild(s.stateNode);else if(4!==s.tag&&null!==s.child){s.child.return=s,s=s.child;continue}if(s===t)break;for(;null===s.sibling;){if(null===s.return||s.return===t)return;s=s.return}s.sibling.return=s.return,s=s.sibling}},Ml=function(){},Ll=function(e,t,s,r){var n=e.memoizedProps;if(n!==r){e=t.stateNode,Ja(Ha.current);var a,i=null;switch(s){case"input":n=G(e,n),r=G(e,r),i=[];break;case"select":n=z({},n,{value:void 0}),r=z({},r,{value:void 0}),i=[];break;case"textarea":n=re(e,n),r=re(e,r),i=[];break;default:"function"!==typeof n.onClick&&"function"===typeof r.onClick&&(e.onclick=Kr)}for(d in ve(s,r),s=null,n)if(!r.hasOwnProperty(d)&&n.hasOwnProperty(d)&&null!=n[d])if("style"===d){var o=n[d];for(a in o)o.hasOwnProperty(a)&&(s||(s={}),s[a]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(l.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in r){var c=r[d];if(o=null!=n?n[d]:void 0,r.hasOwnProperty(d)&&c!==o&&(null!=c||null!=o))if("style"===d)if(o){for(a in o)!o.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(s||(s={}),s[a]="");for(a in c)c.hasOwnProperty(a)&&o[a]!==c[a]&&(s||(s={}),s[a]=c[a])}else s||(i||(i=[]),i.push(d,s)),s=c;else"dangerouslySetInnerHTML"===d?(c=c?c.__html:void 0,o=o?o.__html:void 0,null!=c&&o!==c&&(i=i||[]).push(d,c)):"children"===d?"string"!==typeof c&&"number"!==typeof c||(i=i||[]).push(d,""+c):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(l.hasOwnProperty(d)?(null!=c&&"onScroll"===d&&_r("scroll",e),i||o===c||(i=[])):(i=i||[]).push(d,c))}s&&(i=i||[]).push("style",s);var d=i;(t.updateQueue=d)&&(t.flags|=4)}},Rl=function(e,t,s,r){s!==r&&(t.flags|=4)};var Jl=!1,Gl=!1,Yl="function"===typeof WeakSet?WeakSet:Set,Xl=null;function Kl(e,t){var s=e.ref;if(null!==s)if("function"===typeof s)try{s(null)}catch(r){kc(e,t,r)}else s.current=null}function Ql(e,t,s){try{s()}catch(r){kc(e,t,r)}}var eo=!1;function to(e,t,s){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var n=r=r.next;do{if((n.tag&e)===e){var a=n.destroy;n.destroy=void 0,void 0!==a&&Ql(t,s,a)}n=n.next}while(n!==r)}}function so(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var s=t=t.next;do{if((s.tag&e)===e){var r=s.create;s.destroy=r()}s=s.next}while(s!==t)}}function ro(e){var t=e.ref;if(null!==t){var s=e.stateNode;e.tag,e=s,"function"===typeof t?t(e):t.current=e}}function no(e){var t=e.alternate;null!==t&&(e.alternate=null,no(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[mn],delete t[hn],delete t[xn],delete t[fn],delete t[gn])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ao(e){return 5===e.tag||3===e.tag||4===e.tag}function io(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ao(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function lo(e,t,s){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===s.nodeType?s.parentNode.insertBefore(e,t):s.insertBefore(e,t):(8===s.nodeType?(t=s.parentNode).insertBefore(e,s):(t=s).appendChild(e),null!==(s=s._reactRootContainer)&&void 0!==s||null!==t.onclick||(t.onclick=Kr));else if(4!==r&&null!==(e=e.child))for(lo(e,t,s),e=e.sibling;null!==e;)lo(e,t,s),e=e.sibling}function oo(e,t,s){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?s.insertBefore(e,t):s.appendChild(e);else if(4!==r&&null!==(e=e.child))for(oo(e,t,s),e=e.sibling;null!==e;)oo(e,t,s),e=e.sibling}var co=null,uo=!1;function mo(e,t,s){for(s=s.child;null!==s;)ho(e,t,s),s=s.sibling}function ho(e,t,s){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(nt,s)}catch(l){}switch(s.tag){case 5:Gl||Kl(s,t);case 6:var r=co,n=uo;co=null,mo(e,t,s),uo=n,null!==(co=r)&&(uo?(e=co,s=s.stateNode,8===e.nodeType?e.parentNode.removeChild(s):e.removeChild(s)):co.removeChild(s.stateNode));break;case 18:null!==co&&(uo?(e=co,s=s.stateNode,8===e.nodeType?on(e.parentNode,s):1===e.nodeType&&on(e,s),Ut(e)):on(co,s.stateNode));break;case 4:r=co,n=uo,co=s.stateNode.containerInfo,uo=!0,mo(e,t,s),co=r,uo=n;break;case 0:case 11:case 14:case 15:if(!Gl&&(null!==(r=s.updateQueue)&&null!==(r=r.lastEffect))){n=r=r.next;do{var a=n,i=a.destroy;a=a.tag,void 0!==i&&(0!==(2&a)||0!==(4&a))&&Ql(s,t,i),n=n.next}while(n!==r)}mo(e,t,s);break;case 1:if(!Gl&&(Kl(s,t),"function"===typeof(r=s.stateNode).componentWillUnmount))try{r.props=s.memoizedProps,r.state=s.memoizedState,r.componentWillUnmount()}catch(l){kc(s,t,l)}mo(e,t,s);break;case 21:mo(e,t,s);break;case 22:1&s.mode?(Gl=(r=Gl)||null!==s.memoizedState,mo(e,t,s),Gl=r):mo(e,t,s);break;default:mo(e,t,s)}}function po(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var s=e.stateNode;null===s&&(s=e.stateNode=new Yl),t.forEach(function(t){var r=Ac.bind(null,e,t);s.has(t)||(s.add(t),t.then(r,r))})}}function xo(e,t){var s=t.deletions;if(null!==s)for(var r=0;r<s.length;r++){var n=s[r];try{var i=e,l=t,o=l;e:for(;null!==o;){switch(o.tag){case 5:co=o.stateNode,uo=!1;break e;case 3:case 4:co=o.stateNode.containerInfo,uo=!0;break e}o=o.return}if(null===co)throw Error(a(160));ho(i,l,n),co=null,uo=!1;var c=n.alternate;null!==c&&(c.return=null),n.return=null}catch(d){kc(n,t,d)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)fo(t,e),t=t.sibling}function fo(e,t){var s=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(xo(t,e),go(e),4&r){try{to(3,e,e.return),so(3,e)}catch(f){kc(e,e.return,f)}try{to(5,e,e.return)}catch(f){kc(e,e.return,f)}}break;case 1:xo(t,e),go(e),512&r&&null!==s&&Kl(s,s.return);break;case 5:if(xo(t,e),go(e),512&r&&null!==s&&Kl(s,s.return),32&e.flags){var n=e.stateNode;try{me(n,"")}catch(f){kc(e,e.return,f)}}if(4&r&&null!=(n=e.stateNode)){var i=e.memoizedProps,l=null!==s?s.memoizedProps:i,o=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===o&&"radio"===i.type&&null!=i.name&&X(n,i),ye(o,l);var d=ye(o,i);for(l=0;l<c.length;l+=2){var u=c[l],m=c[l+1];"style"===u?fe(n,m):"dangerouslySetInnerHTML"===u?ue(n,m):"children"===u?me(n,m):y(n,u,m,d)}switch(o){case"input":K(n,i);break;case"textarea":ae(n,i);break;case"select":var h=n._wrapperState.wasMultiple;n._wrapperState.wasMultiple=!!i.multiple;var p=i.value;null!=p?se(n,!!i.multiple,p,!1):h!==!!i.multiple&&(null!=i.defaultValue?se(n,!!i.multiple,i.defaultValue,!0):se(n,!!i.multiple,i.multiple?[]:"",!1))}n[hn]=i}catch(f){kc(e,e.return,f)}}break;case 6:if(xo(t,e),go(e),4&r){if(null===e.stateNode)throw Error(a(162));n=e.stateNode,i=e.memoizedProps;try{n.nodeValue=i}catch(f){kc(e,e.return,f)}}break;case 3:if(xo(t,e),go(e),4&r&&null!==s&&s.memoizedState.isDehydrated)try{Ut(t.containerInfo)}catch(f){kc(e,e.return,f)}break;case 4:default:xo(t,e),go(e);break;case 13:xo(t,e),go(e),8192&(n=e.child).flags&&(i=null!==n.memoizedState,n.stateNode.isHidden=i,!i||null!==n.alternate&&null!==n.alternate.memoizedState||(Bo=Xe())),4&r&&po(e);break;case 22:if(u=null!==s&&null!==s.memoizedState,1&e.mode?(Gl=(d=Gl)||u,xo(t,e),Gl=d):xo(t,e),go(e),8192&r){if(d=null!==e.memoizedState,(e.stateNode.isHidden=d)&&!u&&0!==(1&e.mode))for(Xl=e,u=e.child;null!==u;){for(m=Xl=u;null!==Xl;){switch(p=(h=Xl).child,h.tag){case 0:case 11:case 14:case 15:to(4,h,h.return);break;case 1:Kl(h,h.return);var x=h.stateNode;if("function"===typeof x.componentWillUnmount){r=h,s=h.return;try{t=r,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(f){kc(r,s,f)}}break;case 5:Kl(h,h.return);break;case 22:if(null!==h.memoizedState){jo(m);continue}}null!==p?(p.return=h,Xl=p):jo(m)}u=u.sibling}e:for(u=null,m=e;;){if(5===m.tag){if(null===u){u=m;try{n=m.stateNode,d?"function"===typeof(i=n.style).setProperty?i.setProperty("display","none","important"):i.display="none":(o=m.stateNode,l=void 0!==(c=m.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,o.style.display=xe("display",l))}catch(f){kc(e,e.return,f)}}}else if(6===m.tag){if(null===u)try{m.stateNode.nodeValue=d?"":m.memoizedProps}catch(f){kc(e,e.return,f)}}else if((22!==m.tag&&23!==m.tag||null===m.memoizedState||m===e)&&null!==m.child){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;null===m.sibling;){if(null===m.return||m.return===e)break e;u===m&&(u=null),m=m.return}u===m&&(u=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:xo(t,e),go(e),4&r&&po(e);case 21:}}function go(e){var t=e.flags;if(2&t){try{e:{for(var s=e.return;null!==s;){if(ao(s)){var r=s;break e}s=s.return}throw Error(a(160))}switch(r.tag){case 5:var n=r.stateNode;32&r.flags&&(me(n,""),r.flags&=-33),oo(e,io(e),n);break;case 3:case 4:var i=r.stateNode.containerInfo;lo(e,io(e),i);break;default:throw Error(a(161))}}catch(l){kc(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function vo(e,t,s){Xl=e,yo(e,t,s)}function yo(e,t,s){for(var r=0!==(1&e.mode);null!==Xl;){var n=Xl,a=n.child;if(22===n.tag&&r){var i=null!==n.memoizedState||Jl;if(!i){var l=n.alternate,o=null!==l&&null!==l.memoizedState||Gl;l=Jl;var c=Gl;if(Jl=i,(Gl=o)&&!c)for(Xl=n;null!==Xl;)o=(i=Xl).child,22===i.tag&&null!==i.memoizedState?wo(n):null!==o?(o.return=i,Xl=o):wo(n);for(;null!==a;)Xl=a,yo(a,t,s),a=a.sibling;Xl=n,Jl=l,Gl=c}bo(e)}else 0!==(8772&n.subtreeFlags)&&null!==a?(a.return=n,Xl=a):bo(e)}}function bo(e){for(;null!==Xl;){var t=Xl;if(0!==(8772&t.flags)){var s=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Gl||so(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Gl)if(null===s)r.componentDidMount();else{var n=t.elementType===t.type?s.memoizedProps:tl(t.type,s.memoizedProps);r.componentDidUpdate(n,s.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;null!==i&&Wa(t,i,r);break;case 3:var l=t.updateQueue;if(null!==l){if(s=null,null!==t.child)switch(t.child.tag){case 5:case 1:s=t.child.stateNode}Wa(t,l,s)}break;case 5:var o=t.stateNode;if(null===s&&4&t.flags){s=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&s.focus();break;case"img":c.src&&(s.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var d=t.alternate;if(null!==d){var u=d.memoizedState;if(null!==u){var m=u.dehydrated;null!==m&&Ut(m)}}}break;default:throw Error(a(163))}Gl||512&t.flags&&ro(t)}catch(h){kc(t,t.return,h)}}if(t===e){Xl=null;break}if(null!==(s=t.sibling)){s.return=t.return,Xl=s;break}Xl=t.return}}function jo(e){for(;null!==Xl;){var t=Xl;if(t===e){Xl=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Xl=s;break}Xl=t.return}}function wo(e){for(;null!==Xl;){var t=Xl;try{switch(t.tag){case 0:case 11:case 15:var s=t.return;try{so(4,t)}catch(o){kc(t,s,o)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var n=t.return;try{r.componentDidMount()}catch(o){kc(t,n,o)}}var a=t.return;try{ro(t)}catch(o){kc(t,a,o)}break;case 5:var i=t.return;try{ro(t)}catch(o){kc(t,i,o)}}}catch(o){kc(t,t.return,o)}if(t===e){Xl=null;break}var l=t.sibling;if(null!==l){l.return=t.return,Xl=l;break}Xl=t.return}}var No,ko=Math.ceil,So=b.ReactCurrentDispatcher,Co=b.ReactCurrentOwner,Eo=b.ReactCurrentBatchConfig,Ao=0,Po=null,To=null,Mo=0,Lo=0,Ro=kn(0),Do=0,Io=null,Fo=0,zo=0,_o=0,Vo=null,Oo=null,Bo=0,Uo=1/0,Wo=null,qo=!1,Ho=null,$o=null,Zo=!1,Jo=null,Go=0,Yo=0,Xo=null,Ko=-1,Qo=0;function ec(){return 0!==(6&Ao)?Xe():-1!==Ko?Ko:Ko=Xe()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Ao)&&0!==Mo?Mo&-Mo:null!==xa.transition?(0===Qo&&(Qo=xt()),Qo):0!==(e=yt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function sc(e,t,s,r){if(50<Yo)throw Yo=0,Xo=null,Error(a(185));gt(e,s,r),0!==(2&Ao)&&e===Po||(e===Po&&(0===(2&Ao)&&(zo|=s),4===Do&&lc(e,Mo)),rc(e,r),1===s&&0===Ao&&0===(1&t.mode)&&(Uo=Xe()+500,Vn&&Un()))}function rc(e,t){var s=e.callbackNode;!function(e,t){for(var s=e.suspendedLanes,r=e.pingedLanes,n=e.expirationTimes,a=e.pendingLanes;0<a;){var i=31-it(a),l=1<<i,o=n[i];-1===o?0!==(l&s)&&0===(l&r)||(n[i]=ht(l,t)):o<=t&&(e.expiredLanes|=l),a&=~l}}(e,t);var r=mt(e,e===Po?Mo:0);if(0===r)null!==s&&Je(s),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=s&&Je(s),1===t)0===e.tag?function(e){Vn=!0,Bn(e)}(oc.bind(null,e)):Bn(oc.bind(null,e)),an(function(){0===(6&Ao)&&Un()}),s=null;else{switch(bt(r)){case 1:s=Qe;break;case 4:s=et;break;case 16:default:s=tt;break;case 536870912:s=rt}s=Pc(s,nc.bind(null,e))}e.callbackPriority=t,e.callbackNode=s}}function nc(e,t){if(Ko=-1,Qo=0,0!==(6&Ao))throw Error(a(327));var s=e.callbackNode;if(wc()&&e.callbackNode!==s)return null;var r=mt(e,e===Po?Mo:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=fc(e,r);else{t=r;var n=Ao;Ao|=2;var i=pc();for(Po===e&&Mo===t||(Wo=null,Uo=Xe()+500,mc(e,t));;)try{vc();break}catch(o){hc(e,o)}Ca(),So.current=i,Ao=n,null!==To?t=0:(Po=null,Mo=0,t=Do)}if(0!==t){if(2===t&&(0!==(n=pt(e))&&(r=n,t=ac(e,n))),1===t)throw s=Io,mc(e,0),lc(e,r),rc(e,Xe()),s;if(6===t)lc(e,r);else{if(n=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var s=t.updateQueue;if(null!==s&&null!==(s=s.stores))for(var r=0;r<s.length;r++){var n=s[r],a=n.getSnapshot;n=n.value;try{if(!ir(a(),n))return!1}catch(l){return!1}}}if(s=t.child,16384&t.subtreeFlags&&null!==s)s.return=t,t=s;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(n)&&(2===(t=fc(e,r))&&(0!==(i=pt(e))&&(r=i,t=ac(e,i))),1===t))throw s=Io,mc(e,0),lc(e,r),rc(e,Xe()),s;switch(e.finishedWork=n,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:jc(e,Oo,Wo);break;case 3:if(lc(e,r),(130023424&r)===r&&10<(t=Bo+500-Xe())){if(0!==mt(e,0))break;if(((n=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&n;break}e.timeoutHandle=sn(jc.bind(null,e,Oo,Wo),t);break}jc(e,Oo,Wo);break;case 4:if(lc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,n=-1;0<r;){var l=31-it(r);i=1<<l,(l=t[l])>n&&(n=l),r&=~i}if(r=n,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ko(r/1960))-r)){e.timeoutHandle=sn(jc.bind(null,e,Oo,Wo),r);break}jc(e,Oo,Wo);break;default:throw Error(a(329))}}}return rc(e,Xe()),e.callbackNode===s?nc.bind(null,e):null}function ac(e,t){var s=Vo;return e.current.memoizedState.isDehydrated&&(mc(e,t).flags|=256),2!==(e=fc(e,t))&&(t=Oo,Oo=s,null!==t&&ic(t)),e}function ic(e){null===Oo?Oo=e:Oo.push.apply(Oo,e)}function lc(e,t){for(t&=~_o,t&=~zo,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var s=31-it(t),r=1<<s;e[s]=-1,t&=~r}}function oc(e){if(0!==(6&Ao))throw Error(a(327));wc();var t=mt(e,0);if(0===(1&t))return rc(e,Xe()),null;var s=fc(e,t);if(0!==e.tag&&2===s){var r=pt(e);0!==r&&(t=r,s=ac(e,r))}if(1===s)throw s=Io,mc(e,0),lc(e,t),rc(e,Xe()),s;if(6===s)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,jc(e,Oo,Wo),rc(e,Xe()),null}function cc(e,t){var s=Ao;Ao|=1;try{return e(t)}finally{0===(Ao=s)&&(Uo=Xe()+500,Vn&&Un())}}function dc(e){null!==Jo&&0===Jo.tag&&0===(6&Ao)&&wc();var t=Ao;Ao|=1;var s=Eo.transition,r=yt;try{if(Eo.transition=null,yt=1,e)return e()}finally{yt=r,Eo.transition=s,0===(6&(Ao=t))&&Un()}}function uc(){Lo=Ro.current,Sn(Ro)}function mc(e,t){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(-1!==s&&(e.timeoutHandle=-1,rn(s)),null!==To)for(s=To.return;null!==s;){var r=s;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Rn();break;case 3:Ya(),Sn(Pn),Sn(An),si();break;case 5:Ka(r);break;case 4:Ya();break;case 13:case 19:Sn(Qa);break;case 10:Ea(r.type._context);break;case 22:case 23:uc()}s=s.return}if(Po=e,To=e=Rc(e.current,null),Mo=Lo=t,Do=0,Io=null,_o=zo=Fo=0,Oo=Vo=null,null!==Ma){for(t=0;t<Ma.length;t++)if(null!==(r=(s=Ma[t]).interleaved)){s.interleaved=null;var n=r.next,a=s.pending;if(null!==a){var i=a.next;a.next=n,r.next=i}s.pending=r}Ma=null}return e}function hc(e,t){for(;;){var s=To;try{if(Ca(),ri.current=Xi,ci){for(var r=ii.memoizedState;null!==r;){var n=r.queue;null!==n&&(n.pending=null),r=r.next}ci=!1}if(ai=0,oi=li=ii=null,di=!1,ui=0,Co.current=null,null===s||null===s.return){Do=1,Io=t,To=null;break}e:{var i=e,l=s.return,o=s,c=t;if(t=Mo,o.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var d=c,u=o,m=u.tag;if(0===(1&u.mode)&&(0===m||11===m||15===m)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=xl(l);if(null!==p){p.flags&=-257,fl(p,l,o,0,t),1&p.mode&&pl(i,d,t),c=d;var x=(t=p).updateQueue;if(null===x){var f=new Set;f.add(c),t.updateQueue=f}else x.add(c);break e}if(0===(1&t)){pl(i,d,t),xc();break e}c=Error(a(426))}else if(na&&1&o.mode){var g=xl(l);if(null!==g){0===(65536&g.flags)&&(g.flags|=256),fl(g,l,o,0,t),pa(ol(c,o));break e}}i=c=ol(c,o),4!==Do&&(Do=2),null===Vo?Vo=[i]:Vo.push(i),i=l;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t,Ba(i,ml(0,c,t));break e;case 1:o=c;var v=i.type,y=i.stateNode;if(0===(128&i.flags)&&("function"===typeof v.getDerivedStateFromError||null!==y&&"function"===typeof y.componentDidCatch&&(null===$o||!$o.has(y)))){i.flags|=65536,t&=-t,i.lanes|=t,Ba(i,hl(i,o,t));break e}}i=i.return}while(null!==i)}bc(s)}catch(b){t=b,To===s&&null!==s&&(To=s=s.return);continue}break}}function pc(){var e=So.current;return So.current=Xi,null===e?Xi:e}function xc(){0!==Do&&3!==Do&&2!==Do||(Do=4),null===Po||0===(268435455&Fo)&&0===(268435455&zo)||lc(Po,Mo)}function fc(e,t){var s=Ao;Ao|=2;var r=pc();for(Po===e&&Mo===t||(Wo=null,mc(e,t));;)try{gc();break}catch(n){hc(e,n)}if(Ca(),Ao=s,So.current=r,null!==To)throw Error(a(261));return Po=null,Mo=0,Do}function gc(){for(;null!==To;)yc(To)}function vc(){for(;null!==To&&!Ge();)yc(To)}function yc(e){var t=No(e.alternate,e,Lo);e.memoizedProps=e.pendingProps,null===t?bc(e):To=t,Co.current=null}function bc(e){var t=e;do{var s=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(s=$l(s,t,Lo)))return void(To=s)}else{if(null!==(s=Zl(s,t)))return s.flags&=32767,void(To=s);if(null===e)return Do=6,void(To=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(To=t);To=t=e}while(null!==t);0===Do&&(Do=5)}function jc(e,t,s){var r=yt,n=Eo.transition;try{Eo.transition=null,yt=1,function(e,t,s,r){do{wc()}while(null!==Jo);if(0!==(6&Ao))throw Error(a(327));s=e.finishedWork;var n=e.finishedLanes;if(null===s)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var i=s.lanes|s.childLanes;if(function(e,t){var s=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<s;){var n=31-it(s),a=1<<n;t[n]=0,r[n]=-1,e[n]=-1,s&=~a}}(e,i),e===Po&&(To=Po=null,Mo=0),0===(2064&s.subtreeFlags)&&0===(2064&s.flags)||Zo||(Zo=!0,Pc(tt,function(){return wc(),null})),i=0!==(15990&s.flags),0!==(15990&s.subtreeFlags)||i){i=Eo.transition,Eo.transition=null;var l=yt;yt=1;var o=Ao;Ao|=4,Co.current=null,function(e,t){if(Qr=qt,mr(e=ur())){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(s=(s=e.ownerDocument)&&s.defaultView||window).getSelection&&s.getSelection();if(r&&0!==r.rangeCount){s=r.anchorNode;var n=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{s.nodeType,i.nodeType}catch(j){s=null;break e}var l=0,o=-1,c=-1,d=0,u=0,m=e,h=null;t:for(;;){for(var p;m!==s||0!==n&&3!==m.nodeType||(o=l+n),m!==i||0!==r&&3!==m.nodeType||(c=l+r),3===m.nodeType&&(l+=m.nodeValue.length),null!==(p=m.firstChild);)h=m,m=p;for(;;){if(m===e)break t;if(h===s&&++d===n&&(o=l),h===i&&++u===r&&(c=l),null!==(p=m.nextSibling))break;h=(m=h).parentNode}m=p}s=-1===o||-1===c?null:{start:o,end:c}}else s=null}s=s||{start:0,end:0}}else s=null;for(en={focusedElem:e,selectionRange:s},qt=!1,Xl=t;null!==Xl;)if(e=(t=Xl).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Xl=e;else for(;null!==Xl;){t=Xl;try{var x=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==x){var f=x.memoizedProps,g=x.memoizedState,v=t.stateNode,y=v.getSnapshotBeforeUpdate(t.elementType===t.type?f:tl(t.type,f),g);v.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(a(163))}}catch(j){kc(t,t.return,j)}if(null!==(e=t.sibling)){e.return=t.return,Xl=e;break}Xl=t.return}x=eo,eo=!1}(e,s),fo(s,e),hr(en),qt=!!Qr,en=Qr=null,e.current=s,vo(s,e,n),Ye(),Ao=o,yt=l,Eo.transition=i}else e.current=s;if(Zo&&(Zo=!1,Jo=e,Go=n),i=e.pendingLanes,0===i&&($o=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(nt,e,void 0,128===(128&e.current.flags))}catch(t){}}(s.stateNode),rc(e,Xe()),null!==t)for(r=e.onRecoverableError,s=0;s<t.length;s++)n=t[s],r(n.value,{componentStack:n.stack,digest:n.digest});if(qo)throw qo=!1,e=Ho,Ho=null,e;0!==(1&Go)&&0!==e.tag&&wc(),i=e.pendingLanes,0!==(1&i)?e===Xo?Yo++:(Yo=0,Xo=e):Yo=0,Un()}(e,t,s,r)}finally{Eo.transition=n,yt=r}return null}function wc(){if(null!==Jo){var e=bt(Go),t=Eo.transition,s=yt;try{if(Eo.transition=null,yt=16>e?16:e,null===Jo)var r=!1;else{if(e=Jo,Jo=null,Go=0,0!==(6&Ao))throw Error(a(331));var n=Ao;for(Ao|=4,Xl=e.current;null!==Xl;){var i=Xl,l=i.child;if(0!==(16&Xl.flags)){var o=i.deletions;if(null!==o){for(var c=0;c<o.length;c++){var d=o[c];for(Xl=d;null!==Xl;){var u=Xl;switch(u.tag){case 0:case 11:case 15:to(8,u,i)}var m=u.child;if(null!==m)m.return=u,Xl=m;else for(;null!==Xl;){var h=(u=Xl).sibling,p=u.return;if(no(u),u===d){Xl=null;break}if(null!==h){h.return=p,Xl=h;break}Xl=p}}}var x=i.alternate;if(null!==x){var f=x.child;if(null!==f){x.child=null;do{var g=f.sibling;f.sibling=null,f=g}while(null!==f)}}Xl=i}}if(0!==(2064&i.subtreeFlags)&&null!==l)l.return=i,Xl=l;else e:for(;null!==Xl;){if(0!==(2048&(i=Xl).flags))switch(i.tag){case 0:case 11:case 15:to(9,i,i.return)}var v=i.sibling;if(null!==v){v.return=i.return,Xl=v;break e}Xl=i.return}}var y=e.current;for(Xl=y;null!==Xl;){var b=(l=Xl).child;if(0!==(2064&l.subtreeFlags)&&null!==b)b.return=l,Xl=b;else e:for(l=y;null!==Xl;){if(0!==(2048&(o=Xl).flags))try{switch(o.tag){case 0:case 11:case 15:so(9,o)}}catch(w){kc(o,o.return,w)}if(o===l){Xl=null;break e}var j=o.sibling;if(null!==j){j.return=o.return,Xl=j;break e}Xl=o.return}}if(Ao=n,Un(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(nt,e)}catch(w){}r=!0}return r}finally{yt=s,Eo.transition=t}}return!1}function Nc(e,t,s){e=Va(e,t=ml(0,t=ol(s,t),1),1),t=ec(),null!==e&&(gt(e,1,t),rc(e,t))}function kc(e,t,s){if(3===e.tag)Nc(e,e,s);else for(;null!==t;){if(3===t.tag){Nc(t,e,s);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===$o||!$o.has(r))){t=Va(t,e=hl(t,e=ol(s,e),1),1),e=ec(),null!==t&&(gt(t,1,e),rc(t,e));break}}t=t.return}}function Sc(e,t,s){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&s,Po===e&&(Mo&s)===s&&(4===Do||3===Do&&(130023424&Mo)===Mo&&500>Xe()-Bo?mc(e,0):_o|=s),rc(e,t)}function Cc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=dt,0===(130023424&(dt<<=1))&&(dt=4194304)));var s=ec();null!==(e=Da(e,t))&&(gt(e,t,s),rc(e,s))}function Ec(e){var t=e.memoizedState,s=0;null!==t&&(s=t.retryLane),Cc(e,s)}function Ac(e,t){var s=0;switch(e.tag){case 13:var r=e.stateNode,n=e.memoizedState;null!==n&&(s=n.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Cc(e,s)}function Pc(e,t){return Ze(e,t)}function Tc(e,t,s,r){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mc(e,t,s,r){return new Tc(e,t,s,r)}function Lc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Rc(e,t){var s=e.alternate;return null===s?((s=Mc(e.tag,t,e.key,e.mode)).elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=t,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=14680064&e.flags,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,t=e.dependencies,s.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function Dc(e,t,s,r,n,i){var l=2;if(r=e,"function"===typeof e)Lc(e)&&(l=1);else if("string"===typeof e)l=5;else e:switch(e){case N:return Ic(s.children,n,i,t);case k:l=8,n|=8;break;case S:return(e=Mc(12,s,t,2|n)).elementType=S,e.lanes=i,e;case P:return(e=Mc(13,s,t,n)).elementType=P,e.lanes=i,e;case T:return(e=Mc(19,s,t,n)).elementType=T,e.lanes=i,e;case R:return Fc(s,n,i,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:l=10;break e;case E:l=9;break e;case A:l=11;break e;case M:l=14;break e;case L:l=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Mc(l,s,t,n)).elementType=e,t.type=r,t.lanes=i,t}function Ic(e,t,s,r){return(e=Mc(7,e,r,t)).lanes=s,e}function Fc(e,t,s,r){return(e=Mc(22,e,r,t)).elementType=R,e.lanes=s,e.stateNode={isHidden:!1},e}function zc(e,t,s){return(e=Mc(6,e,null,t)).lanes=s,e}function _c(e,t,s){return(t=Mc(4,null!==e.children?e.children:[],e.key,t)).lanes=s,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Vc(e,t,s,r,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ft(0),this.expirationTimes=ft(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ft(0),this.identifierPrefix=r,this.onRecoverableError=n,this.mutableSourceEagerHydrationData=null}function Oc(e,t,s,r,n,a,i,l,o){return e=new Vc(e,t,s,l,o),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Mc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},Fa(a),e}function Bc(e){if(!e)return En;e:{if(Ue(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ln(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var s=e.type;if(Ln(s))return In(e,s,t)}return t}function Uc(e,t,s,r,n,a,i,l,o){return(e=Oc(s,r,!0,e,0,a,0,l,o)).context=Bc(null),s=e.current,(a=_a(r=ec(),n=tc(s))).callback=void 0!==t&&null!==t?t:null,Va(s,a,n),e.current.lanes=n,gt(e,n,r),rc(e,r),e}function Wc(e,t,s,r){var n=t.current,a=ec(),i=tc(n);return s=Bc(s),null===t.context?t.context=s:t.pendingContext=s,(t=_a(a,i)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Va(n,t,i))&&(sc(e,n,i,a),Oa(e,n,i)),i}function qc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Hc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var s=e.retryLane;e.retryLane=0!==s&&s<t?s:t}}function $c(e,t){Hc(e,t),(e=e.alternate)&&Hc(e,t)}No=function(e,t,s){if(null!==e)if(e.memoizedProps!==t.pendingProps||Pn.current)vl=!0;else{if(0===(e.lanes&s)&&0===(128&t.flags))return vl=!1,function(e,t,s){switch(t.tag){case 3:Al(t),ha();break;case 5:Xa(t);break;case 1:Ln(t.type)&&Fn(t);break;case 4:Ga(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,n=t.memoizedProps.value;Cn(wa,r._currentValue),r._currentValue=n;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Cn(Qa,1&Qa.current),t.flags|=128,null):0!==(s&t.child.childLanes)?Fl(e,t,s):(Cn(Qa,1&Qa.current),null!==(e=Wl(e,t,s))?e.sibling:null);Cn(Qa,1&Qa.current);break;case 19:if(r=0!==(s&t.childLanes),0!==(128&e.flags)){if(r)return Bl(e,t,s);t.flags|=128}if(null!==(n=t.memoizedState)&&(n.rendering=null,n.tail=null,n.lastEffect=null),Cn(Qa,Qa.current),r)break;return null;case 22:case 23:return t.lanes=0,Nl(e,t,s)}return Wl(e,t,s)}(e,t,s);vl=0!==(131072&e.flags)}else vl=!1,na&&0!==(1048576&t.flags)&&Qn(t,$n,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ul(e,t),e=t.pendingProps;var n=Mn(t,An.current);Pa(t,s),n=xi(null,t,r,e,n,s);var i=fi();return t.flags|=1,"object"===typeof n&&null!==n&&"function"===typeof n.render&&void 0===n.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ln(r)?(i=!0,Fn(t)):i=!1,t.memoizedState=null!==n.state&&void 0!==n.state?n.state:null,Fa(t),n.updater=rl,t.stateNode=n,n._reactInternals=t,ll(t,r,e,s),t=El(null,t,r,!0,i,s)):(t.tag=0,na&&i&&ea(t),yl(null,t,n,s),t=t.child),t;case 16:r=t.elementType;e:{switch(Ul(e,t),e=t.pendingProps,r=(n=r._init)(r._payload),t.type=r,n=t.tag=function(e){if("function"===typeof e)return Lc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===A)return 11;if(e===M)return 14}return 2}(r),e=tl(r,e),n){case 0:t=Sl(null,t,r,e,s);break e;case 1:t=Cl(null,t,r,e,s);break e;case 11:t=bl(null,t,r,e,s);break e;case 14:t=jl(null,t,r,tl(r.type,e),s);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,n=t.pendingProps,Sl(e,t,r,n=t.elementType===r?n:tl(r,n),s);case 1:return r=t.type,n=t.pendingProps,Cl(e,t,r,n=t.elementType===r?n:tl(r,n),s);case 3:e:{if(Al(t),null===e)throw Error(a(387));r=t.pendingProps,n=(i=t.memoizedState).element,za(e,t),Ua(t,r,null,s);var l=t.memoizedState;if(r=l.element,i.isDehydrated){if(i={element:r,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=Pl(e,t,r,s,n=ol(Error(a(423)),t));break e}if(r!==n){t=Pl(e,t,r,s,n=ol(Error(a(424)),t));break e}for(ra=cn(t.stateNode.containerInfo.firstChild),sa=t,na=!0,aa=null,s=ja(t,null,r,s),t.child=s;s;)s.flags=-3&s.flags|4096,s=s.sibling}else{if(ha(),r===n){t=Wl(e,t,s);break e}yl(e,t,r,s)}t=t.child}return t;case 5:return Xa(t),null===e&&ca(t),r=t.type,n=t.pendingProps,i=null!==e?e.memoizedProps:null,l=n.children,tn(r,n)?l=null:null!==i&&tn(r,i)&&(t.flags|=32),kl(e,t),yl(e,t,l,s),t.child;case 6:return null===e&&ca(t),null;case 13:return Fl(e,t,s);case 4:return Ga(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ba(t,null,r,s):yl(e,t,r,s),t.child;case 11:return r=t.type,n=t.pendingProps,bl(e,t,r,n=t.elementType===r?n:tl(r,n),s);case 7:return yl(e,t,t.pendingProps,s),t.child;case 8:case 12:return yl(e,t,t.pendingProps.children,s),t.child;case 10:e:{if(r=t.type._context,n=t.pendingProps,i=t.memoizedProps,l=n.value,Cn(wa,r._currentValue),r._currentValue=l,null!==i)if(ir(i.value,l)){if(i.children===n.children&&!Pn.current){t=Wl(e,t,s);break e}}else for(null!==(i=t.child)&&(i.return=t);null!==i;){var o=i.dependencies;if(null!==o){l=i.child;for(var c=o.firstContext;null!==c;){if(c.context===r){if(1===i.tag){(c=_a(-1,s&-s)).tag=2;var d=i.updateQueue;if(null!==d){var u=(d=d.shared).pending;null===u?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}i.lanes|=s,null!==(c=i.alternate)&&(c.lanes|=s),Aa(i.return,s,t),o.lanes|=s;break}c=c.next}}else if(10===i.tag)l=i.type===t.type?null:i.child;else if(18===i.tag){if(null===(l=i.return))throw Error(a(341));l.lanes|=s,null!==(o=l.alternate)&&(o.lanes|=s),Aa(l,s,t),l=i.sibling}else l=i.child;if(null!==l)l.return=i;else for(l=i;null!==l;){if(l===t){l=null;break}if(null!==(i=l.sibling)){i.return=l.return,l=i;break}l=l.return}i=l}yl(e,t,n.children,s),t=t.child}return t;case 9:return n=t.type,r=t.pendingProps.children,Pa(t,s),r=r(n=Ta(n)),t.flags|=1,yl(e,t,r,s),t.child;case 14:return n=tl(r=t.type,t.pendingProps),jl(e,t,r,n=tl(r.type,n),s);case 15:return wl(e,t,t.type,t.pendingProps,s);case 17:return r=t.type,n=t.pendingProps,n=t.elementType===r?n:tl(r,n),Ul(e,t),t.tag=1,Ln(r)?(e=!0,Fn(t)):e=!1,Pa(t,s),al(t,r,n),ll(t,r,n,s),El(null,t,r,!0,e,s);case 19:return Bl(e,t,s);case 22:return Nl(e,t,s)}throw Error(a(156,t.tag))};var Zc="function"===typeof reportError?reportError:function(e){console.error(e)};function Jc(e){this._internalRoot=e}function Gc(e){this._internalRoot=e}function Yc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Kc(){}function Qc(e,t,s,r,n){var a=s._reactRootContainer;if(a){var i=a;if("function"===typeof n){var l=n;n=function(){var e=qc(i);l.call(e)}}Wc(t,i,e,n)}else i=function(e,t,s,r,n){if(n){if("function"===typeof r){var a=r;r=function(){var e=qc(i);a.call(e)}}var i=Uc(t,r,e,0,null,!1,0,"",Kc);return e._reactRootContainer=i,e[pn]=i.current,Br(8===e.nodeType?e.parentNode:e),dc(),i}for(;n=e.lastChild;)e.removeChild(n);if("function"===typeof r){var l=r;r=function(){var e=qc(o);l.call(e)}}var o=Oc(e,0,!1,null,0,!1,0,"",Kc);return e._reactRootContainer=o,e[pn]=o.current,Br(8===e.nodeType?e.parentNode:e),dc(function(){Wc(t,o,s,r)}),o}(s,t,e,n,r);return qc(i)}Gc.prototype.render=Jc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Wc(e,t,null,null)},Gc.prototype.unmount=Jc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;dc(function(){Wc(null,e,null,null)}),t[pn]=null}},Gc.prototype.unstable_scheduleHydration=function(e){if(e){var t=kt();e={blockedOn:null,target:e,priority:t};for(var s=0;s<Rt.length&&0!==t&&t<Rt[s].priority;s++);Rt.splice(s,0,e),0===s&&zt(e)}},jt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var s=ut(t.pendingLanes);0!==s&&(vt(t,1|s),rc(t,Xe()),0===(6&Ao)&&(Uo=Xe()+500,Un()))}break;case 13:dc(function(){var t=Da(e,1);if(null!==t){var s=ec();sc(t,e,1,s)}}),$c(e,1)}},wt=function(e){if(13===e.tag){var t=Da(e,134217728);if(null!==t)sc(t,e,134217728,ec());$c(e,134217728)}},Nt=function(e){if(13===e.tag){var t=tc(e),s=Da(e,t);if(null!==s)sc(s,e,t,ec());$c(e,t)}},kt=function(){return yt},St=function(e,t){var s=yt;try{return yt=e,t()}finally{yt=s}},we=function(e,t,s){switch(t){case"input":if(K(e,s),t=s.name,"radio"===s.type&&null!=t){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<s.length;t++){var r=s[t];if(r!==e&&r.form===e.form){var n=jn(r);if(!n)throw Error(a(90));Z(r),K(r,n)}}}break;case"textarea":ae(e,s);break;case"select":null!=(t=s.value)&&se(e,!!s.multiple,t,!1)}},Ae=cc,Pe=dc;var ed={usingClientEntryPoint:!1,Events:[yn,bn,jn,Ce,Ee,cc]},td={findFiberByHostInstance:vn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},sd={bundleType:td.bundleType,version:td.version,rendererPackageName:td.rendererPackageName,rendererConfig:td.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:td.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var rd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rd.isDisabled&&rd.supportsFiber)try{nt=rd.inject(sd),at=rd}catch(de){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ed,t.createPortal=function(e,t){var s=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Yc(t))throw Error(a(200));return function(e,t,s){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:w,key:null==r?null:""+r,children:e,containerInfo:t,implementation:s}}(e,t,null,s)},t.createRoot=function(e,t){if(!Yc(e))throw Error(a(299));var s=!1,r="",n=Zc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(s=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(n=t.onRecoverableError)),t=Oc(e,1,!1,null,0,s,0,r,n),e[pn]=t.current,Br(8===e.nodeType?e.parentNode:e),new Jc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return dc(e)},t.hydrate=function(e,t,s){if(!Xc(t))throw Error(a(200));return Qc(null,e,t,!0,s)},t.hydrateRoot=function(e,t,s){if(!Yc(e))throw Error(a(405));var r=null!=s&&s.hydratedSources||null,n=!1,i="",l=Zc;if(null!==s&&void 0!==s&&(!0===s.unstable_strictMode&&(n=!0),void 0!==s.identifierPrefix&&(i=s.identifierPrefix),void 0!==s.onRecoverableError&&(l=s.onRecoverableError)),t=Uc(t,null,e,1,null!=s?s:null,n,0,i,l),e[pn]=t.current,Br(e),r)for(e=0;e<r.length;e++)n=(n=(s=r[e])._getVersion)(s._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[s,n]:t.mutableSourceEagerHydrationData.push(s,n);return new Gc(t)},t.render=function(e,t,s){if(!Xc(t))throw Error(a(200));return Qc(null,e,t,!1,s)},t.unmountComponentAtNode=function(e){if(!Xc(e))throw Error(a(40));return!!e._reactRootContainer&&(dc(function(){Qc(null,null,e,!1,function(){e._reactRootContainer=null,e[pn]=null})}),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,s,r){if(!Xc(s))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return Qc(e,t,s,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},2897:(e,t,s)=>{var r=s(3693);function n(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,r)}return s}e.exports=function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?n(Object(s),!0).forEach(function(t){r(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):n(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e},e.exports.__esModule=!0,e.exports.default=e.exports},3146:(e,t,s)=>{"use strict";var r=s(2897).default;const n=s(6125).rE,a=s(6706);e.exports=r(r({},a),{},{workerPath:"https://cdn.jsdelivr.net/npm/tesseract.js@v".concat(n,"/dist/worker.min.js")})},3693:(e,t,s)=>{var r=s(7736);e.exports=function(e,t,s){return(t=r(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e},e.exports.__esModule=!0,e.exports.default=e.exports},3738:e=>{function t(s){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(s)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},3919:(e,t,s)=>{"use strict";const r=s(3146),n=s(4282),a=s(4826),i=s(6171),l=s(6677),o=s(1246);e.exports={defaultOptions:r,spawnWorker:n,terminateWorker:a,onMessage:i,send:l,loadImage:o}},3986:(e,t,s)=>{"use strict";function r(e,t){if(null==e)return{};var s,r,n=function(e,t){if(null==e)return{};var s={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;s[r]=e[r]}return s}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)s=a[r],-1===t.indexOf(s)&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}s.d(t,{A:()=>r})},4202:(e,t)=>{"use strict";var s=Symbol.for("react.element"),r=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),h=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,f={};function g(e,t,s){this.props=e,this.context=t,this.refs=f,this.updater=s||p}function v(){}function y(e,t,s){this.props=e,this.context=t,this.refs=f,this.updater=s||p}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=g.prototype;var b=y.prototype=new v;b.constructor=y,x(b,g.prototype),b.isPureReactComponent=!0;var j=Array.isArray,w=Object.prototype.hasOwnProperty,N={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,r){var n,a={},i=null,l=null;if(null!=t)for(n in void 0!==t.ref&&(l=t.ref),void 0!==t.key&&(i=""+t.key),t)w.call(t,n)&&!k.hasOwnProperty(n)&&(a[n]=t[n]);var o=arguments.length-2;if(1===o)a.children=r;else if(1<o){for(var c=Array(o),d=0;d<o;d++)c[d]=arguments[d+2];a.children=c}if(e&&e.defaultProps)for(n in o=e.defaultProps)void 0===a[n]&&(a[n]=o[n]);return{$$typeof:s,type:e,key:i,ref:l,props:a,_owner:N.current}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===s}var E=/\/+/g;function A(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function P(e,t,n,a,i){var l=typeof e;"undefined"!==l&&"boolean"!==l||(e=null);var o=!1;if(null===e)o=!0;else switch(l){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case s:case r:o=!0}}if(o)return i=i(o=e),e=""===a?"."+A(o,0):a,j(i)?(n="",null!=e&&(n=e.replace(E,"$&/")+"/"),P(i,t,n,"",function(e){return e})):null!=i&&(C(i)&&(i=function(e,t){return{$$typeof:s,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(E,"$&/")+"/")+e)),t.push(i)),1;if(o=0,a=""===a?".":a+":",j(e))for(var c=0;c<e.length;c++){var d=a+A(l=e[c],c);o+=P(l,t,n,d,i)}else if(d=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof d)for(e=d.call(e),c=0;!(l=e.next()).done;)o+=P(l=l.value,t,n,d=a+A(l,c++),i);else if("object"===l)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function T(e,t,s){if(null==e)return e;var r=[],n=0;return P(e,r,"","",function(e){return t.call(s,e,n++)}),r}function M(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var L={current:null},R={transition:null},D={ReactCurrentDispatcher:L,ReactCurrentBatchConfig:R,ReactCurrentOwner:N};function I(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:T,forEach:function(e,t,s){T(e,function(){t.apply(this,arguments)},s)},count:function(e){var t=0;return T(e,function(){t++}),t},toArray:function(e){return T(e,function(e){return e})||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=n,t.Profiler=i,t.PureComponent=y,t.StrictMode=a,t.Suspense=d,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.act=I,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=x({},e.props),a=e.key,i=e.ref,l=e._owner;if(null!=t){if(void 0!==t.ref&&(i=t.ref,l=N.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)w.call(t,c)&&!k.hasOwnProperty(c)&&(n[c]=void 0===t[c]&&void 0!==o?o[c]:t[c])}var c=arguments.length-2;if(1===c)n.children=r;else if(1<c){o=Array(c);for(var d=0;d<c;d++)o[d]=arguments[d+2];n.children=o}return{$$typeof:s,type:e.type,key:a,ref:i,props:n,_owner:l}},t.createContext=function(e){return(e={$$typeof:o,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:l,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:m,_payload:{_status:-1,_result:e},_init:M}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=I,t.useCallback=function(e,t){return L.current.useCallback(e,t)},t.useContext=function(e){return L.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return L.current.useDeferredValue(e)},t.useEffect=function(e,t){return L.current.useEffect(e,t)},t.useId=function(){return L.current.useId()},t.useImperativeHandle=function(e,t,s){return L.current.useImperativeHandle(e,t,s)},t.useInsertionEffect=function(e,t){return L.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return L.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return L.current.useMemo(e,t)},t.useReducer=function(e,t,s){return L.current.useReducer(e,t,s)},t.useRef=function(e){return L.current.useRef(e)},t.useState=function(e){return L.current.useState(e)},t.useSyncExternalStore=function(e,t,s){return L.current.useSyncExternalStore(e,t,s)},t.useTransition=function(){return L.current.useTransition()},t.version="18.3.1"},4282:e=>{"use strict";e.exports=e=>{let t,{workerPath:s,workerBlobURL:r}=e;if(Blob&&URL&&r){const e=new Blob(['importScripts("'.concat(s,'");')],{type:"application/javascript"});t=new Worker(URL.createObjectURL(e))}else t=new Worker(s);return t}},4391:(e,t,s)=>{"use strict";var r=s(7950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},4558:(e,t,s)=>{"use strict";s.d(t,{O5:()=>u,VG:()=>m,apiGet:()=>o,apiJson:()=>d,oy:()=>l,yX:()=>c});var r=s(7915);const n=({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL||"https://projet-stage-backend.vercel.app").replace(/\/+$/,"");console.log("\ud83d\udd17 Configuration API:",n);const a=e=>{const t=e.replace(/^\/+|\/+$/g,""),s=n.replace(/\/+$/,"");let r="".concat(s,"/").concat(t);return r=r.replace(/([^:])\/\//g,"$1/"),r=r.replace(/(https?:)\/+/g,"$1//"),console.log("URL construite:",r),r};let i=null;const l=e=>{i=e},o=async e=>{const t=a(e),s=(0,r.c7)("auth_token"),n={"Content-Type":"application/json",Accept:"application/json"};s&&(n.Authorization="Bearer ".concat(s));try{const e=await fetch(t,{method:"GET",headers:n});if(!e.ok){const t=await e.text();console.error("\u274c Server Error Response:",t),401===e.status&&(console.warn("\u26a0\ufe0f Token invalide ou expir\xe9, d\xe9connexion..."),i&&i());try{const s=JSON.parse(t);throw new Error(s.message||"Erreur serveur: ".concat(e.status))}catch(l){throw new Error("Erreur serveur: ".concat(e.status))}}const s=await e.text();try{return JSON.parse(s)}catch(l){throw console.error("\u274c Invalid JSON received:",s.substring(0,100)),new Error("Le serveur a renvoy\xe9 un format invalide (HTML au lieu de JSON)")}}catch(o){throw console.error("\ud83d\udca5 Fetch error:",o),o}},c=async(e,t)=>{const s=a(e),n=(0,r.c7)("auth_token"),l={Accept:"application/json"};n&&(l.Authorization="Bearer ".concat(n));try{const e=await fetch(s,{method:"POST",headers:l,body:t});if(!e.ok){const t=await e.text();console.error("\u274c Server Error Response:",t),401===e.status&&(console.warn("\u26a0\ufe0f Token invalide ou expir\xe9, d\xe9connexion..."),i&&i());try{const s=JSON.parse(t);throw new Error(s.message||"Erreur serveur: ".concat(e.status))}catch(o){throw new Error("Erreur serveur: ".concat(e.status))}}const r=await e.text();try{return JSON.parse(r)}catch(o){throw console.error("\u274c Invalid JSON received:",r.substring(0,100)),new Error("Le serveur a renvoy\xe9 un format invalide")}}catch(c){throw console.error("\ud83d\udca5 Upload error:",c),c}},d=async(e,t,s)=>{const n=a(e),l=(0,r.c7)("auth_token"),o={"Content-Type":"application/json",Accept:"application/json"};l&&(o.Authorization="Bearer ".concat(l));try{const e=await fetch(n,{method:t,headers:o,body:s?JSON.stringify(s):void 0});if(!e.ok){const t=await e.text();console.error("\u274c Server Error Response:",t),401===e.status&&(console.warn("\u26a0\ufe0f Token invalide ou expir\xe9, d\xe9connexion..."),i&&i());try{const s=JSON.parse(t);throw new Error(s.message||"Erreur serveur: ".concat(e.status))}catch(c){throw new Error("Erreur serveur: ".concat(e.status))}}const r=await e.text();try{return JSON.parse(r)}catch(c){throw console.error("\u274c Invalid JSON received:",r.substring(0,100)),new Error("Le serveur a renvoy\xe9 un format invalide")}}catch(d){throw console.error("\ud83d\udca5 Fetch error:",d),d}},u=e=>{e?(0,r.cT)("auth_token",e):(0,r.Od)("auth_token")},m=e=>e?e.startsWith("http://")||e.startsWith("https://")||e.startsWith("data:")?e:e.startsWith("/")?"".concat(n).concat(e):"".concat(n,"/").concat(e):""},4612:(e,t)=>{"use strict";function s(e,t){var s=e.length;e.push(t);e:for(;0<s;){var r=s-1>>>1,n=e[r];if(!(0<a(n,t)))break e;e[r]=t,e[s]=n,s=r}}function r(e){return 0===e.length?null:e[0]}function n(e){if(0===e.length)return null;var t=e[0],s=e.pop();if(s!==t){e[0]=s;e:for(var r=0,n=e.length,i=n>>>1;r<i;){var l=2*(r+1)-1,o=e[l],c=l+1,d=e[c];if(0>a(o,s))c<n&&0>a(d,o)?(e[r]=d,e[c]=s,r=c):(e[r]=o,e[l]=s,r=l);else{if(!(c<n&&0>a(d,s)))break e;e[r]=d,e[c]=s,r=c}}}return t}function a(e,t){var s=e.sortIndex-t.sortIndex;return 0!==s?s:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var i=performance;t.unstable_now=function(){return i.now()}}else{var l=Date,o=l.now();t.unstable_now=function(){return l.now()-o}}var c=[],d=[],u=1,m=null,h=3,p=!1,x=!1,f=!1,g="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,y="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(d);null!==t;){if(null===t.callback)n(d);else{if(!(t.startTime<=e))break;n(d),t.sortIndex=t.expirationTime,s(c,t)}t=r(d)}}function j(e){if(f=!1,b(e),!x)if(null!==r(c))x=!0,R(w);else{var t=r(d);null!==t&&D(j,t.startTime-e)}}function w(e,s){x=!1,f&&(f=!1,v(C),C=-1),p=!0;var a=h;try{for(b(s),m=r(c);null!==m&&(!(m.expirationTime>s)||e&&!P());){var i=m.callback;if("function"===typeof i){m.callback=null,h=m.priorityLevel;var l=i(m.expirationTime<=s);s=t.unstable_now(),"function"===typeof l?m.callback=l:m===r(c)&&n(c),b(s)}else n(c);m=r(c)}if(null!==m)var o=!0;else{var u=r(d);null!==u&&D(j,u.startTime-s),o=!1}return o}finally{m=null,h=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var N,k=!1,S=null,C=-1,E=5,A=-1;function P(){return!(t.unstable_now()-A<E)}function T(){if(null!==S){var e=t.unstable_now();A=e;var s=!0;try{s=S(!0,e)}finally{s?N():(k=!1,S=null)}}else k=!1}if("function"===typeof y)N=function(){y(T)};else if("undefined"!==typeof MessageChannel){var M=new MessageChannel,L=M.port2;M.port1.onmessage=T,N=function(){L.postMessage(null)}}else N=function(){g(T,0)};function R(e){S=e,k||(k=!0,N())}function D(e,s){C=g(function(){e(t.unstable_now())},s)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){x||p||(x=!0,R(w))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var s=h;h=t;try{return e()}finally{h=s}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var s=h;h=e;try{return t()}finally{h=s}},t.unstable_scheduleCallback=function(e,n,a){var i=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?i+a:i:a=i,e){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return e={id:u++,callback:n,priorityLevel:e,startTime:a,expirationTime:l=a+l,sortIndex:-1},a>i?(e.sortIndex=a,s(d,e),null===r(c)&&e===r(d)&&(f?(v(C),C=-1):f=!0,D(j,a-i))):(e.sortIndex=l,s(c,e),x||p||(x=!0,R(w))),e},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(e){var t=h;return function(){var s=h;h=t;try{return e.apply(this,arguments)}finally{h=s}}}},4705:(e,t,s)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function n(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var n=s.call(e,t||"default");if("object"!=r(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:t+""}function a(e,t,s){return(t=n(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}s.d(t,{A:()=>a})},4826:e=>{"use strict";e.exports=e=>{e.terminate()}},4893:e=>{e.exports=function(e,t){if(null==e)return{};var s={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;s[r]=e[r]}return s},e.exports.__esModule=!0,e.exports.default=e.exports},5043:(e,t,s)=>{"use strict";e.exports=s(4202)},5362:(e,t,s)=>{"use strict";const r=s(1674);let n=0;e.exports=e=>{let{id:t,action:s,payload:a={}}=e,i=t;return"undefined"===typeof i&&(i=r("Job",n),n+=1),{id:i,action:s,payload:a}}},5597:function(e,t){"use strict";var s=this;let r=!1;t.logging=r,t.setLogging=e=>{r=e},t.log=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r?console.log.apply(s,t):null}},5783:e=>{"use strict";e.exports={OSD_ONLY:"0",AUTO_OSD:"1",AUTO_ONLY:"2",AUTO:"3",SINGLE_COLUMN:"4",SINGLE_BLOCK_VERT_TEXT:"5",SINGLE_BLOCK:"6",SINGLE_LINE:"7",SINGLE_WORD:"8",CIRCLE_WORD:"9",SINGLE_CHAR:"10",SPARSE_TEXT:"11",SPARSE_TEXT_OSD:"12",RAW_LINE:"13"}},6125:e=>{"use strict";e.exports={rE:"6.0.1"}},6171:e=>{"use strict";e.exports=(e,t)=>{e.onmessage=e=>{let{data:s}=e;t(s)}}},6677:e=>{"use strict";e.exports=async(e,t)=>{e.postMessage(t)}},6706:e=>{"use strict";e.exports={workerBlobURL:!0,logger:()=>{}}},7067:(e,t,s)=>{"use strict";e.exports=s(4612)},7092:e=>{"use strict";e.exports={AFR:"afr",AMH:"amh",ARA:"ara",ASM:"asm",AZE:"aze",AZE_CYRL:"aze_cyrl",BEL:"bel",BEN:"ben",BOD:"bod",BOS:"bos",BUL:"bul",CAT:"cat",CEB:"ceb",CES:"ces",CHI_SIM:"chi_sim",CHI_TRA:"chi_tra",CHR:"chr",CYM:"cym",DAN:"dan",DEU:"deu",DZO:"dzo",ELL:"ell",ENG:"eng",ENM:"enm",EPO:"epo",EST:"est",EUS:"eus",FAS:"fas",FIN:"fin",FRA:"fra",FRK:"frk",FRM:"frm",GLE:"gle",GLG:"glg",GRC:"grc",GUJ:"guj",HAT:"hat",HEB:"heb",HIN:"hin",HRV:"hrv",HUN:"hun",IKU:"iku",IND:"ind",ISL:"isl",ITA:"ita",ITA_OLD:"ita_old",JAV:"jav",JPN:"jpn",KAN:"kan",KAT:"kat",KAT_OLD:"kat_old",KAZ:"kaz",KHM:"khm",KIR:"kir",KOR:"kor",KUR:"kur",LAO:"lao",LAT:"lat",LAV:"lav",LIT:"lit",MAL:"mal",MAR:"mar",MKD:"mkd",MLT:"mlt",MSA:"msa",MYA:"mya",NEP:"nep",NLD:"nld",NOR:"nor",ORI:"ori",PAN:"pan",POL:"pol",POR:"por",PUS:"pus",RON:"ron",RUS:"rus",SAN:"san",SIN:"sin",SLK:"slk",SLV:"slv",SPA:"spa",SPA_OLD:"spa_old",SQI:"sqi",SRP:"srp",SRP_LATN:"srp_latn",SWA:"swa",SWE:"swe",SYR:"syr",TAM:"tam",TEL:"tel",TGK:"tgk",TGL:"tgl",THA:"tha",TIR:"tir",TUR:"tur",UIG:"uig",UKR:"ukr",URD:"urd",UZB:"uzb",UZB_CYRL:"uzb_cyrl",VIE:"vie",YID:"yid"}},7599:(e,t,s)=>{"use strict";var r=s(2897).default;const n="browser"===s(1734)("type")?e=>new URL(e,window.location.href).href:e=>e;e.exports=e=>{const t=r({},e);return["corePath","workerPath","langPath"].forEach(s=>{e[s]&&(t[s]=n(t[s]))}),t}},7736:(e,t,s)=>{var r=s(3738).default,n=s(9045);e.exports=function(e){var t=n(e,"string");return"symbol"==r(t)?t:t+""},e.exports.__esModule=!0,e.exports.default=e.exports},7915:(e,t,s)=>{"use strict";s.d(t,{N1:()=>l,Od:()=>i,c7:()=>a,cT:()=>n});const r=e=>{const{hostname:t,port:s}=window.location,r=s?"".concat(t,":").concat(s):t||"default";return"".concat(e,"_").concat(r)},n=(e,t)=>{const s=r(e);localStorage.setItem(s,JSON.stringify(t))},a=e=>{const t=r(e),s=localStorage.getItem(t);return s?JSON.parse(s):null},i=e=>{const t=r(e);localStorage.removeItem(t)},l=()=>{const e=window.location.port||"3000";Object.keys(localStorage).forEach(t=>{t.endsWith("_".concat(e))&&localStorage.removeItem(t)})}},7950:(e,t,s)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=s(2730)},9045:(e,t,s)=>{var r=s(3738).default;e.exports=function(e,t){if("object"!=r(e)||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var n=s.call(e,t||"default");if("object"!=r(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},9343:(e,t,s)=>{"use strict";var r=s(2897).default,n=s(1847).default;const a=["logger","errorHandler"],i=s(7599),l=s(5362),{log:o}=s(5597),c=s(1674),d=s(1600),{defaultOptions:u,spawnWorker:m,terminateWorker:h,onMessage:p,loadImage:x,send:f}=s(3919);let g=0;e.exports=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"eng",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d.LSTM_ONLY,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},v=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const y=c("Worker",g),b=i(r(r({},u),s)),{logger:j,errorHandler:w}=b,N=n(b,a),k={},S="string"===typeof e?e.split("+"):e;let C=t,E=v;const A=[d.DEFAULT,d.LSTM_ONLY].includes(t)&&!N.legacyCore;let P,T;const M=new Promise((e,t)=>{T=e,P=t});let L=m(N);L.onerror=e=>{P(e.message)},g+=1;const R=e=>{let{id:t,action:s,payload:r}=e;return new Promise((e,n)=>{o("[".concat(y,"]: Start ").concat(t,", action=").concat(s));const a="".concat(s,"-").concat(t);k[a]={resolve:e,reject:n},f(L,{workerId:y,jobId:t,action:s,payload:r})})},D=(e,t)=>R(l({id:t,action:"loadLanguage",payload:{langs:e,options:{langPath:N.langPath,dataPath:N.dataPath,cachePath:N.cachePath,cacheMethod:N.cacheMethod,gzip:N.gzip,lstmOnly:[d.DEFAULT,d.LSTM_ONLY].includes(C)&&!N.legacyLang}}})),I=(e,t,s,r)=>R(l({id:r,action:"initialize",payload:{langs:e,oem:t,config:s}}));p(L,e=>{let{workerId:t,jobId:s,status:n,action:a,data:i}=e;const l="".concat(a,"-").concat(s);if("resolve"===n)o("[".concat(t,"]: Complete ").concat(s)),k[l].resolve({jobId:s,data:i}),delete k[l];else if("reject"===n){if(k[l].reject(i),delete k[l],"load"===a&&P(i),!w)throw Error(i);w(i)}else"progress"===n&&j(r(r({},i),{},{userJobId:s}))});const F={id:y,worker:L,load:()=>console.warn("`load` is depreciated and should be removed from code (workers now come pre-loaded)"),writeText:(e,t,s)=>R(l({id:s,action:"FS",payload:{method:"writeFile",args:[e,t]}})),readText:(e,t)=>R(l({id:t,action:"FS",payload:{method:"readFile",args:[e,{encoding:"utf8"}]}})),removeFile:(e,t)=>R(l({id:t,action:"FS",payload:{method:"unlink",args:[e]}})),FS:(e,t,s)=>R(l({id:s,action:"FS",payload:{method:e,args:t}})),reinitialize:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"eng",t=arguments.length>1?arguments[1]:void 0,s=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;if(A&&[d.TESSERACT_ONLY,d.TESSERACT_LSTM_COMBINED].includes(t))throw Error("Legacy model requested but code missing.");const n=t||C;C=n;const a=s||E;E=a;const i=("string"===typeof e?e.split("+"):e).filter(e=>!S.includes(e));return S.push(...i),i.length>0?D(i,r).then(()=>I(e,n,a,r)):I(e,n,a,r)},setParameters:function(){return R(l({id:arguments.length>1?arguments[1]:void 0,action:"setParameters",payload:{params:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}}}))},recognize:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{text:!0};return R(l({id:arguments.length>3?arguments[3]:void 0,action:"recognize",payload:{image:await x(e),options:t,output:s}}))},detect:async(e,t)=>{if(A)throw Error("`worker.detect` requires Legacy model, which was not loaded.");return R(l({id:t,action:"detect",payload:{image:await x(e)}}))},terminate:async()=>(null!==L&&(h(L),L=null),Promise.resolve())};var z;return R(l({id:z,action:"load",payload:{options:{lstmOnly:A,corePath:N.corePath,logging:N.logging}}})).then(()=>D(e)).then(()=>I(e,t,v)).then(()=>T(F)).catch(()=>{}),M}},9379:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});var r=s(4705);function n(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,r)}return s}function a(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?n(Object(s),!0).forEach(function(t){(0,r.A)(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):n(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}}},t={};function s(r){var n=t[r];if(void 0!==n)return n.exports;var a=t[r]={exports:{}};return e[r].call(a.exports,a,a.exports,s),a.exports}s.m=e,s.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return s.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;s.t=function(r,n){if(1&n&&(r=this(r)),8&n)return r;if("object"===typeof r&&r){if(4&n&&r.__esModule)return r;if(16&n&&"function"===typeof r.then)return r}var a=Object.create(null);s.r(a);var i={};e=e||[null,t({}),t([]),t(t)];for(var l=2&n&&r;("object"==typeof l||"function"==typeof l)&&!~e.indexOf(l);l=t(l))Object.getOwnPropertyNames(l).forEach(e=>i[e]=()=>r[e]);return i.default=()=>r,s.d(a,i),a}})(),s.d=(e,t)=>{for(var r in t)s.o(t,r)&&!s.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},s.f={},s.e=e=>Promise.all(Object.keys(s.f).reduce((t,r)=>(s.f[r](e,t),t),[])),s.u=e=>"static/js/"+e+"."+{842:"226b2b90",985:"e5a82133"}[e]+".chunk.js",s.miniCssF=e=>{},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="colocation-antananarivo:";s.l=(r,n,a,i)=>{if(e[r])e[r].push(n);else{var l,o;if(void 0!==a)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var u=c[d];if(u.getAttribute("src")==r||u.getAttribute("data-webpack")==t+a){l=u;break}}l||(o=!0,(l=document.createElement("script")).charset="utf-8",s.nc&&l.setAttribute("nonce",s.nc),l.setAttribute("data-webpack",t+a),l.src=r),e[r]=[n];var m=(t,s)=>{l.onerror=l.onload=null,clearTimeout(h);var n=e[r];if(delete e[r],l.parentNode&&l.parentNode.removeChild(l),n&&n.forEach(e=>e(s)),t)return t(s)},h=setTimeout(m.bind(null,void 0,{type:"timeout",target:l}),12e4);l.onerror=m.bind(null,l.onerror),l.onload=m.bind(null,l.onload),o&&document.head.appendChild(l)}}})(),s.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.p="/",(()=>{var e={792:0};s.f.j=(t,r)=>{var n=s.o(e,t)?e[t]:void 0;if(0!==n)if(n)r.push(n[2]);else{var a=new Promise((s,r)=>n=e[t]=[s,r]);r.push(n[2]=a);var i=s.p+s.u(t),l=new Error;s.l(i,r=>{if(s.o(e,t)&&(0!==(n=e[t])&&(e[t]=void 0),n)){var a=r&&("load"===r.type?"missing":r.type),i=r&&r.target&&r.target.src;l.message="Loading chunk "+t+" failed.\n("+a+": "+i+")",l.name="ChunkLoadError",l.type=a,l.request=i,n[1](l)}},"chunk-"+t,t)}};var t=(t,r)=>{var n,a,[i,l,o]=r,c=0;if(i.some(t=>0!==e[t])){for(n in l)s.o(l,n)&&(s.m[n]=l[n]);if(o)o(s)}for(t&&t(r);c<i.length;c++)a=i[c],s.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunkcolocation_antananarivo=self.webpackChunkcolocation_antananarivo||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),(()=>{"use strict";var e,t=s(5043),r=s.t(t,2),n=s(4391);function a(){return a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r])}return e},a.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(e||(e={}));const i="popstate";function l(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function o(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(Ke){}}}function c(e,t){return{usr:e.state,key:e.key,idx:t}}function d(e,t,s,r){return void 0===s&&(s=null),a({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?m(t):t,{state:s,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function u(e){let{pathname:t="/",search:s="",hash:r=""}=e;return s&&"?"!==s&&(t+="?"===s.charAt(0)?s:"?"+s),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function m(e){let t={};if(e){let s=e.indexOf("#");s>=0&&(t.hash=e.substr(s),e=e.substr(0,s));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function h(t,s,r,n){void 0===n&&(n={});let{window:o=document.defaultView,v5Compat:m=!1}=n,h=o.history,p=e.Pop,x=null,f=g();function g(){return(h.state||{idx:null}).idx}function v(){p=e.Pop;let t=g(),s=null==t?null:t-f;f=t,x&&x({action:p,location:b.location,delta:s})}function y(e){let t="null"!==o.location.origin?o.location.origin:o.location.href,s="string"===typeof e?e:u(e);return s=s.replace(/ $/,"%20"),l(t,"No window.location.(origin|href) available to create URL for href: "+s),new URL(s,t)}null==f&&(f=0,h.replaceState(a({},h.state,{idx:f}),""));let b={get action(){return p},get location(){return t(o,h)},listen(e){if(x)throw new Error("A history only accepts one active listener");return o.addEventListener(i,v),x=e,()=>{o.removeEventListener(i,v),x=null}},createHref:e=>s(o,e),createURL:y,encodeLocation(e){let t=y(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(t,s){p=e.Push;let n=d(b.location,t,s);r&&r(n,t),f=g()+1;let a=c(n,f),i=b.createHref(n);try{h.pushState(a,"",i)}catch(l){if(l instanceof DOMException&&"DataCloneError"===l.name)throw l;o.location.assign(i)}m&&x&&x({action:p,location:b.location,delta:1})},replace:function(t,s){p=e.Replace;let n=d(b.location,t,s);r&&r(n,t),f=g();let a=c(n,f),i=b.createHref(n);h.replaceState(a,"",i),m&&x&&x({action:p,location:b.location,delta:0})},go:e=>h.go(e)};return b}var p;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(p||(p={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function x(e,t,s){return void 0===s&&(s="/"),f(e,t,s,!1)}function f(e,t,s,r){let n=T(("string"===typeof t?m(t):t).pathname||"/",s);if(null==n)return null;let a=g(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let s=e.length===t.length&&e.slice(0,-1).every((e,s)=>e===t[s]);return s?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(a);let i=null;for(let l=0;null==i&&l<a.length;++l){let e=P(n);i=E(a[l],e,r)}return i}function g(e,t,s,r){void 0===t&&(t=[]),void 0===s&&(s=[]),void 0===r&&(r="");let n=(e,n,a)=>{let i={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:n,route:e};i.relativePath.startsWith("/")&&(l(i.relativePath.startsWith(r),'Absolute route path "'+i.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),i.relativePath=i.relativePath.slice(r.length));let o=I([r,i.relativePath]),c=s.concat(i);e.children&&e.children.length>0&&(l(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+o+'".'),g(e.children,t,c,o)),(null!=e.path||e.index)&&t.push({path:o,score:C(o,e.index),routesMeta:c})};return e.forEach((e,t)=>{var s;if(""!==e.path&&null!=(s=e.path)&&s.includes("?"))for(let r of v(e.path))n(e,t,r);else n(e,t)}),t}function v(e){let t=e.split("/");if(0===t.length)return[];let[s,...r]=t,n=s.endsWith("?"),a=s.replace(/\?$/,"");if(0===r.length)return n?[a,""]:[a];let i=v(r.join("/")),l=[];return l.push(...i.map(e=>""===e?a:[a,e].join("/"))),n&&l.push(...i),l.map(t=>e.startsWith("/")&&""===t?"/":t)}const y=/^:[\w-]+$/,b=3,j=2,w=1,N=10,k=-2,S=e=>"*"===e;function C(e,t){let s=e.split("/"),r=s.length;return s.some(S)&&(r+=k),t&&(r+=j),s.filter(e=>!S(e)).reduce((e,t)=>e+(y.test(t)?b:""===t?w:N),r)}function E(e,t,s){void 0===s&&(s=!1);let{routesMeta:r}=e,n={},a="/",i=[];for(let l=0;l<r.length;++l){let e=r[l],o=l===r.length-1,c="/"===a?t:t.slice(a.length)||"/",d=A({path:e.relativePath,caseSensitive:e.caseSensitive,end:o},c),u=e.route;if(!d&&o&&s&&!r[r.length-1].route.index&&(d=A({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!d)return null;Object.assign(n,d.params),i.push({params:n,pathname:I([a,d.pathname]),pathnameBase:F(I([a,d.pathnameBase])),route:u}),"/"!==d.pathnameBase&&(a=I([a,d.pathnameBase]))}return i}function A(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[s,r]=function(e,t,s){void 0===t&&(t=!1);void 0===s&&(s=!0);o("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],n="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,s)=>(r.push({paramName:t,isOptional:null!=s}),s?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(r.push({paramName:"*"}),n+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?n+="\\/*$":""!==e&&"/"!==e&&(n+="(?:(?=\\/|$))");let a=new RegExp(n,t?void 0:"i");return[a,r]}(e.path,e.caseSensitive,e.end),n=t.match(s);if(!n)return null;let a=n[0],i=a.replace(/(.)\/+$/,"$1"),l=n.slice(1),c=r.reduce((e,t,s)=>{let{paramName:r,isOptional:n}=t;if("*"===r){let e=l[s]||"";i=a.slice(0,a.length-e.length).replace(/(.)\/+$/,"$1")}const o=l[s];return e[r]=n&&!o?void 0:(o||"").replace(/%2F/g,"/"),e},{});return{params:c,pathname:a,pathnameBase:i,pattern:e}}function P(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return o(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function T(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let s=t.endsWith("/")?t.length-1:t.length,r=e.charAt(s);return r&&"/"!==r?null:e.slice(s)||"/"}function M(e,t,s,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+s+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function L(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function R(e,t){let s=L(e);return t?s.map((e,t)=>t===s.length-1?e.pathname:e.pathnameBase):s.map(e=>e.pathnameBase)}function D(e,t,s,r){let n;void 0===r&&(r=!1),"string"===typeof e?n=m(e):(n=a({},e),l(!n.pathname||!n.pathname.includes("?"),M("?","pathname","search",n)),l(!n.pathname||!n.pathname.includes("#"),M("#","pathname","hash",n)),l(!n.search||!n.search.includes("#"),M("#","search","hash",n)));let i,o=""===e||""===n.pathname,c=o?"/":n.pathname;if(null==c)i=s;else{let e=t.length-1;if(!r&&c.startsWith("..")){let t=c.split("/");for(;".."===t[0];)t.shift(),e-=1;n.pathname=t.join("/")}i=e>=0?t[e]:"/"}let d=function(e,t){void 0===t&&(t="/");let{pathname:s,search:r="",hash:n=""}="string"===typeof e?m(e):e,a=s?s.startsWith("/")?s:function(e,t){let s=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?s.length>1&&s.pop():"."!==e&&s.push(e)}),s.length>1?s.join("/"):"/"}(s,t):t;return{pathname:a,search:z(r),hash:_(n)}}(n,i),u=c&&"/"!==c&&c.endsWith("/"),h=(o||"."===c)&&s.endsWith("/");return d.pathname.endsWith("/")||!u&&!h||(d.pathname+="/"),d}const I=e=>e.join("/").replace(/\/\/+/g,"/"),F=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),z=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",_=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function V(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const O=["post","put","patch","delete"],B=(new Set(O),["get",...O]);new Set(B),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function U(){return U=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r])}return e},U.apply(this,arguments)}const W=t.createContext(null);const q=t.createContext(null);const H=t.createContext(null);const $=t.createContext(null);const Z=t.createContext({outlet:null,matches:[],isDataRoute:!1});const J=t.createContext(null);function G(){return null!=t.useContext($)}function Y(){return G()||l(!1),t.useContext($).location}function X(e){t.useContext(H).static||t.useLayoutEffect(e)}function K(){let{isDataRoute:e}=t.useContext(Z);return e?function(){let{router:e}=ce(le.UseNavigateStable),s=ue(oe.UseNavigateStable),r=t.useRef(!1);X(()=>{r.current=!0});let n=t.useCallback(function(t,n){void 0===n&&(n={}),r.current&&("number"===typeof t?e.navigate(t):e.navigate(t,U({fromRouteId:s},n)))},[e,s]);return n}():function(){G()||l(!1);let e=t.useContext(W),{basename:s,future:r,navigator:n}=t.useContext(H),{matches:a}=t.useContext(Z),{pathname:i}=Y(),o=JSON.stringify(R(a,r.v7_relativeSplatPath)),c=t.useRef(!1);return X(()=>{c.current=!0}),t.useCallback(function(t,r){if(void 0===r&&(r={}),!c.current)return;if("number"===typeof t)return void n.go(t);let a=D(t,JSON.parse(o),i,"path"===r.relative);null==e&&"/"!==s&&(a.pathname="/"===a.pathname?s:I([s,a.pathname])),(r.replace?n.replace:n.push)(a,r.state,r)},[s,n,o,i,e])}()}function Q(){let{matches:e}=t.useContext(Z),s=e[e.length-1];return s?s.params:{}}function ee(e,s){let{relative:r}=void 0===s?{}:s,{future:n}=t.useContext(H),{matches:a}=t.useContext(Z),{pathname:i}=Y(),l=JSON.stringify(R(a,n.v7_relativeSplatPath));return t.useMemo(()=>D(e,JSON.parse(l),i,"path"===r),[e,l,i,r])}function te(s,r,n,a){G()||l(!1);let{navigator:i}=t.useContext(H),{matches:o}=t.useContext(Z),c=o[o.length-1],d=c?c.params:{},u=(c&&c.pathname,c?c.pathnameBase:"/");c&&c.route;let h,p=Y();if(r){var f;let e="string"===typeof r?m(r):r;"/"===u||(null==(f=e.pathname)?void 0:f.startsWith(u))||l(!1),h=e}else h=p;let g=h.pathname||"/",v=g;if("/"!==u){let e=u.replace(/^\//,"").split("/");v="/"+g.replace(/^\//,"").split("/").slice(e.length).join("/")}let y=x(s,{pathname:v});let b=ie(y&&y.map(e=>Object.assign({},e,{params:Object.assign({},d,e.params),pathname:I([u,i.encodeLocation?i.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?u:I([u,i.encodeLocation?i.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),o,n,a);return r&&b?t.createElement($.Provider,{value:{location:U({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:e.Pop}},b):b}function se(){let e=function(){var e;let s=t.useContext(J),r=de(oe.UseRouteError),n=ue(oe.UseRouteError);if(void 0!==s)return s;return null==(e=r.errors)?void 0:e[n]}(),s=V(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:n};return t.createElement(t.Fragment,null,t.createElement("h2",null,"Unexpected Application Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},s),r?t.createElement("pre",{style:a},r):null,null)}const re=t.createElement(se,null);class ne extends t.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?t.createElement(Z.Provider,{value:this.props.routeContext},t.createElement(J.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ae(e){let{routeContext:s,match:r,children:n}=e,a=t.useContext(W);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),t.createElement(Z.Provider,{value:s},n)}function ie(e,s,r,n){var a;if(void 0===s&&(s=[]),void 0===r&&(r=null),void 0===n&&(n=null),null==e){var i;if(!r)return null;if(r.errors)e=r.matches;else{if(!(null!=(i=n)&&i.v7_partialHydration&&0===s.length&&!r.initialized&&r.matches.length>0))return null;e=r.matches}}let o=e,c=null==(a=r)?void 0:a.errors;if(null!=c){let e=o.findIndex(e=>e.route.id&&void 0!==(null==c?void 0:c[e.route.id]));e>=0||l(!1),o=o.slice(0,Math.min(o.length,e+1))}let d=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let t=0;t<o.length;t++){let e=o[t];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(u=t),e.route.id){let{loaderData:t,errors:s}=r,n=e.route.loader&&void 0===t[e.route.id]&&(!s||void 0===s[e.route.id]);if(e.route.lazy||n){d=!0,o=u>=0?o.slice(0,u+1):[o[0]];break}}}return o.reduceRight((e,n,a)=>{let i,l=!1,m=null,h=null;var p;r&&(i=c&&n.route.id?c[n.route.id]:void 0,m=n.route.errorElement||re,d&&(u<0&&0===a?(p="route-fallback",!1||me[p]||(me[p]=!0),l=!0,h=null):u===a&&(l=!0,h=n.route.hydrateFallbackElement||null)));let x=s.concat(o.slice(0,a+1)),f=()=>{let s;return s=i?m:l?h:n.route.Component?t.createElement(n.route.Component,null):n.route.element?n.route.element:e,t.createElement(ae,{match:n,routeContext:{outlet:e,matches:x,isDataRoute:null!=r},children:s})};return r&&(n.route.ErrorBoundary||n.route.errorElement||0===a)?t.createElement(ne,{location:r.location,revalidation:r.revalidation,component:m,error:i,children:f(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):f()},null)}var le=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(le||{}),oe=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(oe||{});function ce(e){let s=t.useContext(W);return s||l(!1),s}function de(e){let s=t.useContext(q);return s||l(!1),s}function ue(e){let s=function(){let e=t.useContext(Z);return e||l(!1),e}(),r=s.matches[s.matches.length-1];return r.route.id||l(!1),r.route.id}const me={};function he(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}r.startTransition;function pe(e){let{to:s,replace:r,state:n,relative:a}=e;G()||l(!1);let{future:i,static:o}=t.useContext(H),{matches:c}=t.useContext(Z),{pathname:d}=Y(),u=K(),m=D(s,R(c,i.v7_relativeSplatPath),d,"path"===a),h=JSON.stringify(m);return t.useEffect(()=>u(JSON.parse(h),{replace:r,state:n,relative:a}),[u,h,a,r,n]),null}function xe(e){l(!1)}function fe(s){let{basename:r="/",children:n=null,location:a,navigationType:i=e.Pop,navigator:o,static:c=!1,future:d}=s;G()&&l(!1);let u=r.replace(/^\/*/,"/"),h=t.useMemo(()=>({basename:u,navigator:o,static:c,future:U({v7_relativeSplatPath:!1},d)}),[u,d,o,c]);"string"===typeof a&&(a=m(a));let{pathname:p="/",search:x="",hash:f="",state:g=null,key:v="default"}=a,y=t.useMemo(()=>{let e=T(p,u);return null==e?null:{location:{pathname:e,search:x,hash:f,state:g,key:v},navigationType:i}},[u,p,x,f,g,v,i]);return null==y?null:t.createElement(H.Provider,{value:h},t.createElement($.Provider,{children:n,value:y}))}function ge(e){let{children:t,location:s}=e;return te(ve(t),s)}new Promise(()=>{});t.Component;function ve(e,s){void 0===s&&(s=[]);let r=[];return t.Children.forEach(e,(e,n)=>{if(!t.isValidElement(e))return;let a=[...s,n];if(e.type===t.Fragment)return void r.push.apply(r,ve(e.props.children,a));e.type!==xe&&l(!1),e.props.index&&e.props.children&&l(!1);let i={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(i.children=ve(e.props.children,a)),r.push(i)}),r}var ye=s(7950),be=s.t(ye,2);function je(){return je=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r])}return e},je.apply(this,arguments)}function we(e,t){if(null==e)return{};var s,r,n={},a=Object.keys(e);for(r=0;r<a.length;r++)s=a[r],t.indexOf(s)>=0||(n[s]=e[s]);return n}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const Ne=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(Ke){}new Map;const ke=r.startTransition;be.flushSync,r.useId;function Se(e){let{basename:s,children:r,future:n,window:a}=e,i=t.useRef();var l;null==i.current&&(i.current=(void 0===(l={window:a,v5Compat:!0})&&(l={}),h(function(e,t){let{pathname:s,search:r,hash:n}=e.location;return d("",{pathname:s,search:r,hash:n},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:u(t)},null,l)));let o=i.current,[c,m]=t.useState({action:o.action,location:o.location}),{v7_startTransition:p}=n||{},x=t.useCallback(e=>{p&&ke?ke(()=>m(e)):m(e)},[m,p]);return t.useLayoutEffect(()=>o.listen(x),[o,x]),t.useEffect(()=>he(n),[n]),t.createElement(fe,{basename:s,children:r,location:c.location,navigationType:c.action,navigator:o,future:n})}const Ce="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Ee=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ae=t.forwardRef(function(e,s){let r,{onClick:n,relative:a,reloadDocument:i,replace:o,state:c,target:d,to:m,preventScrollReset:h,viewTransition:p}=e,x=we(e,Ne),{basename:f}=t.useContext(H),g=!1;if("string"===typeof m&&Ee.test(m)&&(r=m,Ce))try{let e=new URL(window.location.href),t=m.startsWith("//")?new URL(e.protocol+m):new URL(m),s=T(t.pathname,f);t.origin===e.origin&&null!=s?m=s+t.search+t.hash:g=!0}catch(Ke){}let v=function(e,s){let{relative:r}=void 0===s?{}:s;G()||l(!1);let{basename:n,navigator:a}=t.useContext(H),{hash:i,pathname:o,search:c}=ee(e,{relative:r}),d=o;return"/"!==n&&(d="/"===o?n:I([n,o])),a.createHref({pathname:d,search:c,hash:i})}(m,{relative:a}),y=function(e,s){let{target:r,replace:n,state:a,preventScrollReset:i,relative:l,viewTransition:o}=void 0===s?{}:s,c=K(),d=Y(),m=ee(e,{relative:l});return t.useCallback(t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,r)){t.preventDefault();let s=void 0!==n?n:u(d)===u(m);c(e,{replace:s,state:a,preventScrollReset:i,relative:l,viewTransition:o})}},[d,c,m,n,a,r,e,i,l,o])}(m,{replace:o,state:c,target:d,preventScrollReset:h,relative:a,viewTransition:p});return t.createElement("a",je({},x,{href:r||v,onClick:g||i?n:function(e){n&&n(e),e.defaultPrevented||y(e)},ref:s,target:d}))});var Pe,Te;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Pe||(Pe={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Te||(Te={}));var Me=s(579);const Le=(0,t.createContext)({});function Re(e){const s=(0,t.useRef)(null);return null===s.current&&(s.current=e()),s.current}const De="undefined"!==typeof window,Ie=De?t.useLayoutEffect:t.useEffect;var Fe=s(9379);const ze=(0,t.createContext)(null);function _e(e){return"object"===typeof e&&null!==e}function Ve(e){return _e(e)&&"offsetHeight"in e}const Oe=(0,t.createContext)({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function Be(e,t){if("function"===typeof e)return e(t);null!==e&&void 0!==e&&(e.current=t)}function Ue(){for(var e=arguments.length,s=new Array(e),r=0;r<e;r++)s[r]=arguments[r];return t.useCallback(function(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return e=>{let s=!1;const r=t.map(t=>{const r=Be(t,e);return s||"function"!==typeof r||(s=!0),r});if(s)return()=>{for(let e=0;e<r.length;e++){const s=r[e];"function"===typeof s?s():Be(t[e],null)}}}}(...s),s)}class We extends t.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const e=t.offsetParent,s=Ve(e)&&e.offsetWidth||0,r=this.props.sizeRef.current;r.height=t.offsetHeight||0,r.width=t.offsetWidth||0,r.top=t.offsetTop,r.left=t.offsetLeft,r.right=s-r.width-r.left}return null}componentDidUpdate(){}render(){return this.props.children}}function qe(e){let{children:s,isPresent:r,anchorX:n,root:a}=e;const i=(0,t.useId)(),l=(0,t.useRef)(null),o=(0,t.useRef)({width:0,height:0,top:0,left:0,right:0}),{nonce:c}=(0,t.useContext)(Oe),d=Ue(l,null===s||void 0===s?void 0:s.ref);return(0,t.useInsertionEffect)(()=>{const{width:e,height:t,top:s,left:d,right:u}=o.current;if(r||!l.current||!e||!t)return;const m="left"===n?"left: ".concat(d):"right: ".concat(u);l.current.dataset.motionPopId=i;const h=document.createElement("style");c&&(h.nonce=c);const p=null!==a&&void 0!==a?a:document.head;return p.appendChild(h),h.sheet&&h.sheet.insertRule('\n          [data-motion-pop-id="'.concat(i,'"] {\n            position: absolute !important;\n            width: ').concat(e,"px !important;\n            height: ").concat(t,"px !important;\n            ").concat(m,"px !important;\n            top: ").concat(s,"px !important;\n          }\n        ")),()=>{p.contains(h)&&p.removeChild(h)}},[r]),(0,Me.jsx)(We,{isPresent:r,childRef:l,sizeRef:o,children:t.cloneElement(s,{ref:d})})}const He=e=>{let{children:s,initial:r,isPresent:n,onExitComplete:a,custom:i,presenceAffectsLayout:l,mode:o,anchorX:c,root:d}=e;const u=Re($e),m=(0,t.useId)();let h=!0,p=(0,t.useMemo)(()=>(h=!1,{id:m,initial:r,isPresent:n,custom:i,onExitComplete:e=>{u.set(e,!0);for(const t of u.values())if(!t)return;a&&a()},register:e=>(u.set(e,!1),()=>u.delete(e))}),[n,u,a]);return l&&h&&(p=(0,Fe.A)({},p)),(0,t.useMemo)(()=>{u.forEach((e,t)=>u.set(t,!1))},[n]),t.useEffect(()=>{!n&&!u.size&&a&&a()},[n]),"popLayout"===o&&(s=(0,Me.jsx)(qe,{isPresent:n,anchorX:c,root:d,children:s})),(0,Me.jsx)(ze.Provider,{value:p,children:s})};function $e(){return new Map}function Ze(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const s=(0,t.useContext)(ze);if(null===s)return[!0,null];const{isPresent:r,onExitComplete:n,register:a}=s,i=(0,t.useId)();(0,t.useEffect)(()=>{if(e)return a(i)},[e]);const l=(0,t.useCallback)(()=>e&&n&&n(i),[i,n,e]);return!r&&n?[!1,l]:[!0]}const Je=e=>e.key||"";function Ge(e){const s=[];return t.Children.forEach(e,e=>{(0,t.isValidElement)(e)&&s.push(e)}),s}const Ye=e=>{let{children:s,custom:r,initial:n=!0,onExitComplete:a,presenceAffectsLayout:i=!0,mode:l="sync",propagate:o=!1,anchorX:c="left",root:d}=e;const[u,m]=Ze(o),h=(0,t.useMemo)(()=>Ge(s),[s]),p=o&&!u?[]:h.map(Je),x=(0,t.useRef)(!0),f=(0,t.useRef)(h),g=Re(()=>new Map),[v,y]=(0,t.useState)(h),[b,j]=(0,t.useState)(h);Ie(()=>{x.current=!1,f.current=h;for(let e=0;e<b.length;e++){const t=Je(b[e]);p.includes(t)?g.delete(t):!0!==g.get(t)&&g.set(t,!1)}},[b,p.length,p.join("-")]);const w=[];if(h!==v){let e=[...h];for(let t=0;t<b.length;t++){const s=b[t],r=Je(s);p.includes(r)||(e.splice(t,0,s),w.push(s))}return"wait"===l&&w.length&&(e=w),j(Ge(e)),y(h),null}const{forceRender:N}=(0,t.useContext)(Le);return(0,Me.jsx)(Me.Fragment,{children:b.map(e=>{const t=Je(e),s=!(o&&!u)&&(h===b||p.includes(t));return(0,Me.jsx)(He,{isPresent:s,initial:!(x.current&&!n)&&void 0,custom:r,presenceAffectsLayout:i,mode:l,root:d,onExitComplete:s?void 0:()=>{if(!g.has(t))return;g.set(t,!0);let e=!0;g.forEach(t=>{t||(e=!1)}),e&&(null===N||void 0===N||N(),j(f.current),o&&(null===m||void 0===m||m()),a&&a())},anchorX:c,children:e},t)})})};function Xe(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}let Ke={data:""},Qe=e=>{if("object"==typeof window){let t=(e?e.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return t.nonce=window.__nonce__,t.parentNode||(e||document.head).appendChild(t),t.firstChild}return e||Ke},et=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,tt=/\/\*[^]*?\*\/|  +/g,st=/\n+/g,rt=(e,t)=>{let s="",r="",n="";for(let a in e){let i=e[a];"@"==a[0]?"i"==a[1]?s=a+" "+i+";":r+="f"==a[1]?rt(i,a):a+"{"+rt(i,"k"==a[1]?"":t)+"}":"object"==typeof i?r+=rt(i,t?t.replace(/([^,])+/g,e=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,t=>/&/.test(t)?t.replace(/&/g,e):e?e+" "+t:t)):a):null!=i&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),n+=rt.p?rt.p(a,i):a+":"+i+";")}return s+(t&&n?t+"{"+n+"}":n)+r},nt={},at=e=>{if("object"==typeof e){let t="";for(let s in e)t+=s+at(e[s]);return t}return e},it=(e,t,s,r,n)=>{let a=at(e),i=nt[a]||(nt[a]=(e=>{let t=0,s=11;for(;t<e.length;)s=101*s+e.charCodeAt(t++)>>>0;return"go"+s})(a));if(!nt[i]){let t=a!==e?e:(e=>{let t,s,r=[{}];for(;t=et.exec(e.replace(tt,""));)t[4]?r.shift():t[3]?(s=t[3].replace(st," ").trim(),r.unshift(r[0][s]=r[0][s]||{})):r[0][t[1]]=t[2].replace(st," ").trim();return r[0]})(e);nt[i]=rt(n?{["@keyframes "+i]:t}:t,s?"":"."+i)}let l=s&&nt.g?nt.g:null;return s&&(nt.g=nt[i]),((e,t,s,r)=>{r?t.data=t.data.replace(r,e):-1===t.data.indexOf(e)&&(t.data=s?e+t.data:t.data+e)})(nt[i],t,r,l),i};function lt(e){let t=this||{},s=e.call?e(t.p):e;return it(s.unshift?s.raw?((e,t,s)=>e.reduce((e,r,n)=>{let a=t[n];if(a&&a.call){let e=a(s),t=e&&e.props&&e.props.className||/^go/.test(e)&&e;a=t?"."+t:e&&"object"==typeof e?e.props?"":rt(e,""):!1===e?"":e}return e+r+(null==a?"":a)},""))(s,[].slice.call(arguments,1),t.p):s.reduce((e,s)=>Object.assign(e,s&&s.call?s(t.p):s),{}):s,Qe(t.target),t.g,t.o,t.k)}lt.bind({g:1});let ot,ct,dt,ut=lt.bind({k:1});function mt(e,t){let s=this||{};return function(){let r=arguments;function n(a,i){let l=Object.assign({},a),o=l.className||n.className;s.p=Object.assign({theme:ct&&ct()},l),s.o=/ *go\d+/.test(o),l.className=lt.apply(s,r)+(o?" "+o:""),t&&(l.ref=i);let c=e;return e[0]&&(c=l.as||e,delete l.as),dt&&c[0]&&dt(l),ot(c,l)}return t?t(n):n}}var ht,pt,xt,ft,gt,vt,yt,bt,jt,wt,Nt,kt,St,Ct,Et,At,Pt=(e,t)=>(e=>"function"==typeof e)(e)?e(t):e,Tt=(()=>{let e=0;return()=>(++e).toString()})(),Mt=(()=>{let e;return()=>{if(void 0===e&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),Lt="default",Rt=(e,t)=>{let{toastLimit:s}=e.settings;switch(t.type){case 0:return(0,Fe.A)((0,Fe.A)({},e),{},{toasts:[t.toast,...e.toasts].slice(0,s)});case 1:return(0,Fe.A)((0,Fe.A)({},e),{},{toasts:e.toasts.map(e=>e.id===t.toast.id?(0,Fe.A)((0,Fe.A)({},e),t.toast):e)});case 2:let{toast:r}=t;return Rt(e,{type:e.toasts.find(e=>e.id===r.id)?1:0,toast:r});case 3:let{toastId:n}=t;return(0,Fe.A)((0,Fe.A)({},e),{},{toasts:e.toasts.map(e=>e.id===n||void 0===n?(0,Fe.A)((0,Fe.A)({},e),{},{dismissed:!0,visible:!1}):e)});case 4:return void 0===t.toastId?(0,Fe.A)((0,Fe.A)({},e),{},{toasts:[]}):(0,Fe.A)((0,Fe.A)({},e),{},{toasts:e.toasts.filter(e=>e.id!==t.toastId)});case 5:return(0,Fe.A)((0,Fe.A)({},e),{},{pausedAt:t.time});case 6:let a=t.time-(e.pausedAt||0);return(0,Fe.A)((0,Fe.A)({},e),{},{pausedAt:void 0,toasts:e.toasts.map(e=>(0,Fe.A)((0,Fe.A)({},e),{},{pauseDuration:e.pauseDuration+a}))})}},Dt=[],It={toasts:[],pausedAt:void 0,settings:{toastLimit:20}},Ft={},zt=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Lt;Ft[t]=Rt(Ft[t]||It,e),Dt.forEach(e=>{let[s,r]=e;s===t&&r(Ft[t])})},_t=e=>Object.keys(Ft).forEach(t=>zt(e,t)),Vt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lt;return t=>{zt(t,e)}},Ot={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Bt=e=>(t,s)=>{let r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"blank",s=arguments.length>2?arguments[2]:void 0;return(0,Fe.A)((0,Fe.A)({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0},s),{},{id:(null==s?void 0:s.id)||Tt()})}(t,e,s);return Vt(r.toasterId||(e=>Object.keys(Ft).find(t=>Ft[t].toasts.some(t=>t.id===e)))(r.id))({type:2,toast:r}),r.id},Ut=(e,t)=>Bt("blank")(e,t);Ut.error=Bt("error"),Ut.success=Bt("success"),Ut.loading=Bt("loading"),Ut.custom=Bt("custom"),Ut.dismiss=(e,t)=>{let s={type:3,toastId:e};t?Vt(t)(s):_t(s)},Ut.dismissAll=e=>Ut.dismiss(void 0,e),Ut.remove=(e,t)=>{let s={type:4,toastId:e};t?Vt(t)(s):_t(s)},Ut.removeAll=e=>Ut.remove(void 0,e),Ut.promise=(e,t,s)=>{let r=Ut.loading(t.loading,(0,Fe.A)((0,Fe.A)({},s),null==s?void 0:s.loading));return"function"==typeof e&&(e=e()),e.then(e=>{let n=t.success?Pt(t.success,e):void 0;return n?Ut.success(n,(0,Fe.A)((0,Fe.A)({id:r},s),null==s?void 0:s.success)):Ut.dismiss(r),e}).catch(e=>{let n=t.error?Pt(t.error,e):void 0;n?Ut.error(n,(0,Fe.A)((0,Fe.A)({id:r},s),null==s?void 0:s.error)):Ut.dismiss(r)}),e};var Wt=function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",{toasts:r,pausedAt:n}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Lt,[r,n]=(0,t.useState)(Ft[s]||It),a=(0,t.useRef)(Ft[s]);(0,t.useEffect)(()=>(a.current!==Ft[s]&&n(Ft[s]),Dt.push([s,n]),()=>{let e=Dt.findIndex(e=>{let[t]=e;return t===s});e>-1&&Dt.splice(e,1)}),[s]);let i=r.toasts.map(t=>{var s,r,n;return(0,Fe.A)((0,Fe.A)((0,Fe.A)((0,Fe.A)({},e),e[t.type]),t),{},{removeDelay:t.removeDelay||(null==(s=e[t.type])?void 0:s.removeDelay)||(null==e?void 0:e.removeDelay),duration:t.duration||(null==(r=e[t.type])?void 0:r.duration)||(null==e?void 0:e.duration)||Ot[t.type],style:(0,Fe.A)((0,Fe.A)((0,Fe.A)({},e.style),null==(n=e[t.type])?void 0:n.style),t.style)})});return(0,Fe.A)((0,Fe.A)({},r),{},{toasts:i})}(e,s),a=(0,t.useRef)(new Map).current,i=(0,t.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;if(a.has(e))return;let s=setTimeout(()=>{a.delete(e),l({type:4,toastId:e})},t);a.set(e,s)},[]);(0,t.useEffect)(()=>{if(n)return;let e=Date.now(),t=r.map(t=>{if(t.duration===1/0)return;let r=(t.duration||0)+t.pauseDuration-(e-t.createdAt);if(!(r<0))return setTimeout(()=>Ut.dismiss(t.id,s),r);t.visible&&Ut.dismiss(t.id)});return()=>{t.forEach(e=>e&&clearTimeout(e))}},[r,n,s]);let l=(0,t.useCallback)(Vt(s),[s]),o=(0,t.useCallback)(()=>{l({type:5,time:Date.now()})},[l]),c=(0,t.useCallback)((e,t)=>{l({type:1,toast:{id:e,height:t}})},[l]),d=(0,t.useCallback)(()=>{n&&l({type:6,time:Date.now()})},[n,l]),u=(0,t.useCallback)((e,t)=>{let{reverseOrder:s=!1,gutter:n=8,defaultPosition:a}=t||{},i=r.filter(t=>(t.position||a)===(e.position||a)&&t.height),l=i.findIndex(t=>t.id===e.id),o=i.filter((e,t)=>t<l&&e.visible).length;return i.filter(e=>e.visible).slice(...s?[o+1]:[0,o]).reduce((e,t)=>e+(t.height||0)+n,0)},[r]);return(0,t.useEffect)(()=>{r.forEach(e=>{if(e.dismissed)i(e.id,e.removeDelay);else{let t=a.get(e.id);t&&(clearTimeout(t),a.delete(e.id))}})},[r,i]),{toasts:r,handlers:{updateHeight:c,startPause:o,endPause:d,calculateOffset:u}}},qt=ut(ht||(ht=Xe(["\nfrom {\n  transform: scale(0) rotate(45deg);\n\topacity: 0;\n}\nto {\n transform: scale(1) rotate(45deg);\n  opacity: 1;\n}"]))),Ht=ut(pt||(pt=Xe(["\nfrom {\n  transform: scale(0);\n  opacity: 0;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}"]))),$t=ut(xt||(xt=Xe(["\nfrom {\n  transform: scale(0) rotate(90deg);\n\topacity: 0;\n}\nto {\n  transform: scale(1) rotate(90deg);\n\topacity: 1;\n}"]))),Zt=mt("div")(ft||(ft=Xe(["\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ",";\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: "," 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n\n  &:after,\n  &:before {\n    content: '';\n    animation: "," 0.15s ease-out forwards;\n    animation-delay: 150ms;\n    position: absolute;\n    border-radius: 3px;\n    opacity: 0;\n    background: ",";\n    bottom: 9px;\n    left: 4px;\n    height: 2px;\n    width: 12px;\n  }\n\n  &:before {\n    animation: "," 0.15s ease-out forwards;\n    animation-delay: 180ms;\n    transform: rotate(90deg);\n  }\n"])),e=>e.primary||"#ff4b4b",qt,Ht,e=>e.secondary||"#fff",$t),Jt=ut(gt||(gt=Xe(["\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n"]))),Gt=mt("div")(vt||(vt=Xe(["\n  width: 12px;\n  height: 12px;\n  box-sizing: border-box;\n  border: 2px solid;\n  border-radius: 100%;\n  border-color: ",";\n  border-right-color: ",";\n  animation: "," 1s linear infinite;\n"])),e=>e.secondary||"#e0e0e0",e=>e.primary||"#616161",Jt),Yt=ut(yt||(yt=Xe(["\nfrom {\n  transform: scale(0) rotate(45deg);\n\topacity: 0;\n}\nto {\n  transform: scale(1) rotate(45deg);\n\topacity: 1;\n}"]))),Xt=ut(bt||(bt=Xe(["\n0% {\n\theight: 0;\n\twidth: 0;\n\topacity: 0;\n}\n40% {\n  height: 0;\n\twidth: 6px;\n\topacity: 1;\n}\n100% {\n  opacity: 1;\n  height: 10px;\n}"]))),Kt=mt("div")(jt||(jt=Xe(["\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ",";\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: "," 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n  &:after {\n    content: '';\n    box-sizing: border-box;\n    animation: "," 0.2s ease-out forwards;\n    opacity: 0;\n    animation-delay: 200ms;\n    position: absolute;\n    border-right: 2px solid;\n    border-bottom: 2px solid;\n    border-color: ",";\n    bottom: 6px;\n    left: 6px;\n    height: 10px;\n    width: 6px;\n  }\n"])),e=>e.primary||"#61d345",Yt,Xt,e=>e.secondary||"#fff"),Qt=mt("div")(wt||(wt=Xe(["\n  position: absolute;\n"]))),es=mt("div")(Nt||(Nt=Xe(["\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-width: 20px;\n  min-height: 20px;\n"]))),ts=ut(kt||(kt=Xe(["\nfrom {\n  transform: scale(0.6);\n  opacity: 0.4;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}"]))),ss=mt("div")(St||(St=Xe(["\n  position: relative;\n  transform: scale(0.6);\n  opacity: 0.4;\n  min-width: 20px;\n  animation: "," 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n"])),ts),rs=e=>{let{toast:s}=e,{icon:r,type:n,iconTheme:a}=s;return void 0!==r?"string"==typeof r?t.createElement(ss,null,r):r:"blank"===n?null:t.createElement(es,null,t.createElement(Gt,(0,Fe.A)({},a)),"loading"!==n&&t.createElement(Qt,null,"error"===n?t.createElement(Zt,(0,Fe.A)({},a)):t.createElement(Kt,(0,Fe.A)({},a))))},ns=e=>"\n0% {transform: translate3d(0,".concat(-200*e,"%,0) scale(.6); opacity:.5;}\n100% {transform: translate3d(0,0,0) scale(1); opacity:1;}\n"),as=e=>"\n0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}\n100% {transform: translate3d(0,".concat(-150*e,"%,-1px) scale(.6); opacity:0;}\n"),is=mt("div")(Ct||(Ct=Xe(["\n  display: flex;\n  align-items: center;\n  background: #fff;\n  color: #363636;\n  line-height: 1.3;\n  will-change: transform;\n  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);\n  max-width: 350px;\n  pointer-events: auto;\n  padding: 8px 10px;\n  border-radius: 8px;\n"]))),ls=mt("div")(Et||(Et=Xe(["\n  display: flex;\n  justify-content: center;\n  margin: 4px 10px;\n  color: inherit;\n  flex: 1 1 auto;\n  white-space: pre-line;\n"]))),os=t.memo(e=>{let{toast:s,position:r,style:n,children:a}=e,i=s.height?((e,t)=>{let s=e.includes("top")?1:-1,[r,n]=Mt()?["0%{opacity:0;} 100%{opacity:1;}","0%{opacity:1;} 100%{opacity:0;}"]:[ns(s),as(s)];return{animation:t?"".concat(ut(r)," 0.35s cubic-bezier(.21,1.02,.73,1) forwards"):"".concat(ut(n)," 0.4s forwards cubic-bezier(.06,.71,.55,1)")}})(s.position||r||"top-center",s.visible):{opacity:0},l=t.createElement(rs,{toast:s}),o=t.createElement(ls,(0,Fe.A)({},s.ariaProps),Pt(s.message,s));return t.createElement(is,{className:s.className,style:(0,Fe.A)((0,Fe.A)((0,Fe.A)({},i),n),s.style)},"function"==typeof a?a({icon:l,message:o}):t.createElement(t.Fragment,null,l,o))});!function(e,t,s,r){rt.p=t,ot=e,ct=s,dt=r}(t.createElement);var cs=e=>{let{id:s,className:r,style:n,onHeightUpdate:a,children:i}=e,l=t.useCallback(e=>{if(e){let t=()=>{let t=e.getBoundingClientRect().height;a(s,t)};t(),new MutationObserver(t).observe(e,{subtree:!0,childList:!0,characterData:!0})}},[s,a]);return t.createElement("div",{ref:l,className:r,style:n},i)},ds=lt(At||(At=Xe(["\n  z-index: 9999;\n  > * {\n    pointer-events: auto;\n  }\n"]))),us=e=>{let{reverseOrder:s,position:r="top-center",toastOptions:n,gutter:a,children:i,toasterId:l,containerStyle:o,containerClassName:c}=e,{toasts:d,handlers:u}=Wt(n,l);return t.createElement("div",{"data-rht-toaster":l||"",style:(0,Fe.A)({position:"fixed",zIndex:9999,top:16,left:16,right:16,bottom:16,pointerEvents:"none"},o),className:c,onMouseEnter:u.startPause,onMouseLeave:u.endPause},d.map(e=>{let n=e.position||r,l=((e,t)=>{let s=e.includes("top"),r=s?{top:0}:{bottom:0},n=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return(0,Fe.A)((0,Fe.A)({left:0,right:0,display:"flex",position:"absolute",transition:Mt()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:"translateY(".concat(t*(s?1:-1),"px)")},r),n)})(n,u.calculateOffset(e,{reverseOrder:s,gutter:a,defaultPosition:r}));return t.createElement(cs,{id:e.id,key:e.id,onHeightUpdate:u.updateHeight,className:e.visible?ds:"",style:l},"custom"===e.type?Pt(e.message,e):i?i(e):t.createElement(os,{toast:e,position:n}))}))},ms=Ut,hs=s(4558),ps=s(1257),xs=s.n(ps);const fs=new class{async extractTextFromImage(e){try{console.log("\ud83d\udd0d D\xe9but de l'extraction OCR...");const t=await xs().createWorker("fra+eng",1,{logger:e=>{"recognizing text"===e.status&&console.log("OCR Progress: ".concat((100*e.progress).toFixed(1),"%"))}});await t.setParameters({tessedit_char_whitelist:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz\xc0\xc2\xc7\xc9\xc8\xca\xcb\xce\xcf\xd4\xd9\xdb\xdc\xe0\xe2\xe7\xe9\xe8\xea\xeb\xee\xef\xf4\xf9\xfb\xfc -.,'/",tessedit_ocr_engine_mode:1});const s=await t.recognize(URL.createObjectURL(e));return await t.terminate(),console.log("\u2705 Extraction OCR termin\xe9e"),s.data.text}catch(t){throw console.error("\u274c Erreur OCR:",t),new Error("\xc9chec de l'extraction du texte de la CIN")}}parseCINData(e,t,s){console.log("\ud83d\udcdd Parsing du texte OCR (".concat(s,")..."));const r=e.replace(/\n/g," ").replace(/\s+/g," ").replace(/[^\w\s\xc0-\xff.,/-]/g," ").trim();console.log("\ud83d\udcc4 Texte OCR ".concat(s," nettoy\xe9:"),r);const n={};n.numeroCIN=t,console.log("\u2705 Num\xe9ro CIN (saisi):",n.numeroCIN);return Object.entries({nom:[/nom[:\s]*([a-zA-Z\xc0-\xff\s-]{2,})/i,/anarana[:\s]*([a-zA-Z\xc0-\xff\s-]{2,})/i,/([A-Z][a-zA-Z\xc0-\xff\s-]{2,})(?=\s*pr\xe9nom)/i],prenoms:[/pr[\xe9e]noms?[:\s]*([a-zA-Z\xc0-\xff\s-]{2,})/i,/fanampin['\s]anarana[:\s]*([a-zA-Z\xc0-\xff\s-]{2,})/i,/(?:pr\xe9nom|prenoms)[\s:]+([a-zA-Z\xc0-\xff\s-]{2,})/i],dateNaissance:[/n[\xe9e][e]?\s*(le)?[:\s]*([0-9]{2}[/.-][0-9]{2}[/.-][0-9]{4})/i,/teraka[:\s]*([0-9]{2}[/.-][0-9]{2}[/.-][0-9]{4})/i,/naissance[:\s]*([0-9]{2}[/.-][0-9]{2}[/.-][0-9]{4})/i,/(\d{2}[/.-]\d{2}[/.-]\d{4})/],lieuNaissance:[/[\xe0a]\s*[:\s]*([a-zA-Z\xc0-\xff\s-,]{2,})/i,/tao[:\s]*([a-zA-Z\xc0-\xff\s-,]{2,})/i,/lieu[:\s]*naissance[:\s]*([a-zA-Z\xc0-\xff\s-,]{2,})/i],adresse:[/domicile[:\s]*([a-zA-Z\xc0-\xff0-9\s-,]{5,})/i,/fenenana[:\s]*([a-zA-Z\xc0-\xff0-9\s-,]{5,})/i,/adresse[:\s]*([a-zA-Z\xc0-\xff0-9\s-,]{5,})/i],profession:[/profession[:\s]*([a-zA-Z\xc0-\xff\s-]{2,})/i,/asa[:\s]*([a-zA-Z\xc0-\xff\s-]{2,})/i,/m[\xe9e]tier[:\s]*([a-zA-Z\xc0-\xff\s-]{2,})/i],pere:[/p[\xe8e]re[:\s]*([a-zA-Z\xc0-\xff\s-]{2,})/i,/ray[:\s]*([a-zA-Z\xc0-\xff\s-]{2,})/i,/p\xe8re[:\s]*([a-zA-Z\xc0-\xff\s-]{2,})/i],mere:[/m[\xe8e]re[:\s]*([a-zA-Z\xc0-\xff\s-]{2,})/i,/reny[:\s]*([a-zA-Z\xc0-\xff\s-]{2,})/i,/m\xe8re[:\s]*([a-zA-Z\xc0-\xff\s-]{2,})/i],dateDelivrance:[/d[\xe9e]livr[\xe9e]e?[:\s]*(le)?[:\s]*([0-9]{2}[/.-][0-9]{2}[/.-][0-9]{4})/i,/tamin['\s]ny[:\s]*([0-9]{2}[/.-][0-9]{2}[/.-][0-9]{4})/i,/d\xe9livrance[:\s]*([0-9]{2}[/.-][0-9]{2}[/.-][0-9]{4})/i],lieuDelivrance:[/[\xe0a]\s*[:\s]*([a-zA-Z\xc0-\xff\s-,]{2,})(?=.*d[\xe9e]livr)/i,/faita[:\s]*([a-zA-Z\xc0-\xff\s-,]{2,})/i,/lieu[:\s]*d\xe9livrance[:\s]*([a-zA-Z\xc0-\xff\s-,]{2,})/i]}).forEach(e=>{let[t,s]=e;for(const a of s){const e=r.match(a);if(e){const s=(e[1]||e[0]).trim();if(s&&s.length>1&&!n[t]){n[t]=s,console.log("\u2705 ".concat(t," trouv\xe9:"),s);break}}}}),n}validateCINData(e,t){const s=[];return e.numeroCIN&&/^\d{12}$/.test(e.numeroCIN)||s.push("Num\xe9ro CIN invalide ou manquant"),(!e.nom||e.nom.length<2)&&console.warn("\u26a0\ufe0f Nom manquant ou trop court"),(!e.prenoms||e.prenoms.length<2)&&console.warn("\u26a0\ufe0f Pr\xe9noms manquants ou trop courts"),{isValid:0===s.length,errors:s}}async verifyImageQuality(e){return new Promise(t=>{const s=new Image;s.onload=()=>{let r=70;e.size>5e5&&(r+=10),e.size>1e6&&(r+=10),s.width>1e3&&s.height>800&&(r+=10),t(Math.min(r,95))},s.onerror=()=>t(60),s.src=URL.createObjectURL(e)})}verifyRectoVersoConsistency(e,t){return!0}validateCINNumber(e){return/^\d{12}$/.test(e)}validateImages(e,t){const s=[];return e&&t?(e.type.startsWith("image/")||s.push("Le recto doit \xeatre une image valide"),t.type.startsWith("image/")||s.push("Le verso doit \xeatre une image valide"),e.size>5242880&&s.push("Le recto ne doit pas d\xe9passer 5MB"),t.size>5242880&&s.push("Le verso ne doit pas d\xe9passer 5MB"),s):(s.push("Les deux images (recto et verso) sont requises"),s)}async verifyCIN(e,t,s){try{if(console.log("\ud83d\udd0d D\xe9but de la v\xe9rification CIN simple..."),!this.validateCINNumber(e))return{success:!1,message:"Num\xe9ro CIN invalide",validationErrors:["Le num\xe9ro CIN doit contenir exactement 12 chiffres"]};const r=this.validateImages(t,s);return r.length>0?{success:!1,message:"Probl\xe8mes avec les images",validationErrors:r}:(console.log("\u2705 V\xe9rification CIN r\xe9ussie"),{success:!0,message:"V\xe9rification CIN r\xe9ussie !",validationErrors:[]})}catch(r){return console.error("\u274c Erreur lors de la v\xe9rification CIN:",r),{success:!1,message:"Erreur technique lors de la v\xe9rification",validationErrors:["Erreur syst\xe8me"]}}}};var gs=s(7915);const vs=(0,t.createContext)(void 0),ys=()=>{const e=(0,t.useContext)(vs);if(void 0===e)throw new Error("useAuth must be used within an AuthProvider");return e},bs=e=>{let{children:s}=e;const[r,n]=(0,t.useState)(null),[a,i]=(0,t.useState)(!0);(0,t.useEffect)(()=>{(0,hs.oy)(()=>{console.warn("\ud83d\udd12 D\xe9connexion automatique - Token invalide"),n(null),(0,hs.O5)(null),(0,gs.N1)()})},[]),(0,t.useEffect)(()=>{const e=(0,gs.c7)("auth_token");console.log("\ud83d\udd10 Token r\xe9cup\xe9r\xe9 pour le port",window.location.port,":",e),e?((0,hs.O5)(e),(async()=>{try{console.log("\ud83d\udd04 Tentative de r\xe9cup\xe9ration du profil...");const e=await(0,hs.apiGet)("/api/auth/me");console.log("\ud83d\udce1 R\xe9ponse me:",e),e.success&&e.data?(console.log("\u2705 Profil r\xe9cup\xe9r\xe9 avec succ\xe8s:",e.data),n(l(e.data))):(console.error("\u274c Erreur dans la r\xe9ponse me:",null===e||void 0===e?void 0:e.message),(0,hs.O5)(null),(0,gs.Od)("auth_token"))}catch(e){console.error("\u274c Erreur lors du chargement du profil:",e),(0,hs.O5)(null),(0,gs.Od)("auth_token"),n(null)}finally{i(!1)}})()):i(!1)},[]);const l=e=>{let t=!1;void 0!==e.cinVerified?t=Boolean(e.cinVerified):void 0!==e.cin_verified?t=Boolean(e.cin_verified):e.cin_verified_at&&(t=!0);const s=!(!e.cin_recto_image_path&&!e.cin_verso_image_path),r=void 0!==e.cinPending&&Boolean(e.cinPending),n=s&&!t||r;return{id:String(e.id),email:e.email,firstName:e.firstName||e.first_name||"",lastName:e.lastName||e.last_name||"",phone:e.phone||"",userType:e.userType||e.user_type,university:e.university||void 0,studyLevel:e.studyLevel||e.study_level||void 0,budget:null!==e.budget&&void 0!==e.budget?Number(e.budget):void 0,preferences:Array.isArray(e.preferences)?e.preferences:[],bio:e.bio||"",avatar:e.avatar||void 0,isVerified:Boolean(e.isVerified||e.is_verified||!1),cinVerified:t,cinPending:n,cinNumber:e.cinNumber||e.cin_number||void 0,cinData:e.cinData?"string"===typeof e.cinData?JSON.parse(e.cinData):e.cinData:void 0,cin_verification_requested_at:e.cin_verification_requested_at||void 0,cin_verified_at:e.cin_verified_at||void 0,accountActivationDeadline:e.account_activation_deadline?new Date(e.account_activation_deadline):void 0,createdAt:e.createdAt?new Date(e.createdAt):e.created_at?new Date(e.created_at):new Date,updatedAt:e.updatedAt?new Date(e.updatedAt):e.updated_at?new Date(e.updated_at):new Date}},o={user:r,setUser:n,login:async(e,t)=>{i(!0);try{var s,r;const i=await(0,hs.apiJson)("/api/auth/login","POST",{email:e,password:t});if(!i.success)throw new Error(i.message||"Erreur de connexion");let o=null;if(null!==(s=i.data)&&void 0!==s&&s.token?o=i.data.token:i.token?o=i.token:(o="demo-token",console.log("\ud83e\uddea Token de d\xe9mo enregistr\xe9 (fallback)")),o&&((0,hs.O5)(o),console.log("\u2705 Token enregistr\xe9 pour le port",window.location.port)),null!==(r=i.data)&&void 0!==r&&r.user)n(l(i.data.user));else if(i.user)n(l(i.user));else if(i.data)n(l(i.data));else try{const e=await(0,hs.apiGet)("/api/auth/me");e.success&&(n(l(e.data)),console.log("\ud83d\udc64 Utilisateur connect\xe9 via me:",e.data))}catch(a){console.warn("\u26a0\ufe0f Impossible de charger le profil via me:",a)}ms.success("Connexion r\xe9ussie !")}catch(o){throw(0,hs.O5)(null),(0,gs.Od)("auth_token"),ms.error(o.message||"Erreur lors de la connexion"),o}finally{i(!1)}},register:async e=>{i(!0);try{var t,s;let a=null;const i=e.profileImage;if(i)try{if(a=await(async e=>{if(!["image/jpeg","image/png","image/webp"].includes(e.type))throw new Error("Format d'image non support\xe9. Utilisez JPEG, PNG ou WebP");if(e.size>5242880)throw new Error("L'image ne doit pas d\xe9passer 5MB");try{var t,s;const r=new FormData;r.append("image",e);const n=await(0,hs.yX)("/api/upload/image/public",r);if(!n.success)throw new Error(n.message||"Erreur lors de l'upload");const a=(null===(t=n.data)||void 0===t?void 0:t.url)||(null===(s=n.data)||void 0===s?void 0:s.path)||"";if(!a)throw new Error("Aucune URL d'image valide re\xe7ue du serveur");return a}catch(r){throw console.error("Erreur upload avatar public:",r),new Error(r.message||"Impossible d'uploader l'avatar")}})(i),console.log("\u2705 Avatar upload\xe9 avec succ\xe8s:",a?"Oui":"Non"),!a)throw new Error("L'upload de l'image a \xe9chou\xe9")}catch(r){throw console.error("Erreur lors de l'upload de l'image:",r),new Error("Erreur avec l'image de profil: ".concat(r.message))}const o=await(0,hs.apiJson)("/api/auth/register","POST",{email:e.email,password:e.password,firstName:e.firstName,lastName:e.lastName,phone:e.phone,userType:e.userType,university:e.university,studyLevel:e.studyLevel,budget:"number"===typeof e.budget?e.budget:Number(e.budget)||null,avatar:a});if(!o.success)throw new Error(o.message||"Erreur lors de l'inscription");const c=(null===o||void 0===o||null===(t=o.data)||void 0===t?void 0:t.token)||(null===o||void 0===o?void 0:o.token);c&&(0,hs.O5)(c);const d=(null===o||void 0===o||null===(s=o.data)||void 0===s?void 0:s.user)||(null===o||void 0===o?void 0:o.user);d&&n(l(d)),ms.success("Inscription r\xe9ussie !")}catch(a){throw console.error("Erreur lors de l'inscription:",a),ms.error(a.message||"Erreur lors de l'inscription"),a}finally{i(!1)}},logout:async()=>{try{await(0,hs.apiJson)("/api/auth/logout","POST")}catch(e){console.error("Erreur lors de la d\xe9connexion:",e)}finally{n(null),(0,hs.O5)(null),(0,gs.N1)(),ms.success("D\xe9connexion r\xe9ussie")}},updateProfile:async e=>{try{const t=await(0,hs.apiJson)("/api/users/me","PUT",e);if(!t.success)throw new Error(t.message||"Erreur lors de la mise \xe0 jour");n(e=>e?(0,Fe.A)((0,Fe.A)({},e),l(t.data)):l(t.data)),ms.success("Profil mis \xe0 jour avec succ\xe8s !")}catch(t){throw ms.error(t.message||"Erreur lors de la mise \xe0 jour du profil"),t}},isLoading:a,verifyCIN:async e=>{i(!0);try{console.log("\ud83d\udd0d D\xe9but de la v\xe9rification CIN simple...");const s=await fs.verifyCIN(e.cinNumber,e.cinRectoImage,e.cinVersoImage);if(console.log("\ud83d\udcca R\xe9sultat v\xe9rification:",s),!s.success){const e=s.message||"Validation CIN locale \xe9chou\xe9e";throw new Error(e)}let a=null;if(e.cinRectoImage){const t=new FormData;t.append("image",e.cinRectoImage);const s=await(0,hs.yX)("/api/upload/image",t);if(!s.success)throw new Error(s.message||"Upload recto \xe9chou\xe9");a=s.data.path}let i=null;if(e.cinVersoImage){const t=new FormData;t.append("image",e.cinVersoImage);const s=await(0,hs.yX)("/api/upload/image",t);if(!s.success)throw new Error(s.message||"Upload verso \xe9chou\xe9");i=s.data.path}const o=await(0,hs.apiJson)("/api/auth/verify_cin","POST",{cinNumber:e.cinNumber,cinRectoImagePath:a,cinVersoImagePath:i,cinData:s.cinData||null});if(!o.success)throw new Error(o.message||"Erreur lors de la v\xe9rification CIN");try{const e=await(0,hs.apiGet)("/api/auth/me");e.success&&e.data&&(n(l(e.data)),console.log("\ud83d\udc64 Utilisateur recharg\xe9 apr\xe8s v\xe9rification CIN:",e.data))}catch(t){if(console.warn("\u26a0\ufe0f Impossible de recharger le profil:",t),r){const t=(0,Fe.A)((0,Fe.A)({},r),{},{isVerified:!1,cinVerified:!1,cinPending:!0,cinNumber:e.cinNumber});n(t)}}ms.success("V\xe9rification CIN soumise avec succ\xe8s ! En attente de validation par un administrateur.")}catch(s){throw console.error("\u274c Erreur v\xe9rification CIN:",s),ms.error(s.message||"Erreur lors de la v\xe9rification CIN"),s}finally{i(!1)}}};return(0,Me.jsx)(vs.Provider,{value:o,children:s})},js=(0,t.createContext)(void 0),ws=()=>{const e=(0,t.useContext)(js);if(void 0===e)throw new Error("useProperty must be used within a PropertyProvider");return e},Ns=e=>{let{children:s}=e;const[r,n]=(0,t.useState)([]),[a,i]=(0,t.useState)([]),[l,o]=(0,t.useState)(!1),{user:c}=ys(),d=(0,t.useCallback)(async()=>{o(!0);try{const e=await(0,hs.apiGet)("/api/properties/get_all");if(e.success&&e.data){const t=Array.isArray(e.data)?e.data:[];n(t)}else n([])}catch(e){console.error("Erreur fetchProperties:",e),ms.error("Erreur lors du chargement des propri\xe9t\xe9s"),n([])}finally{o(!1)}},[]),u=(0,t.useCallback)(async()=>{if(c){o(!0);try{const e=await(0,hs.apiGet)("/api/properties/get_by_user");if(e.success&&e.data){const t=Array.isArray(e.data)?e.data:[];i(t)}else i([])}catch(s){var e,t;console.error("Erreur fetchUserProperties:",s),null!==(e=s.message)&&void 0!==e&&e.includes("Token invalide")||null!==(t=s.message)&&void 0!==t&&t.includes("401")||ms.error("Erreur lors du chargement de vos propri\xe9t\xe9s"),i([])}finally{o(!1)}}else i([])},[c]);(0,t.useEffect)(()=>{d()},[d]),(0,t.useEffect)(()=>{u()},[u]);const m={properties:r,userProperties:a,loading:l,createProperty:async e=>{o(!0);try{if(!c)throw new Error("Vous devez \xeatre connect\xe9 pour cr\xe9er une propri\xe9t\xe9");console.log("Donn\xe9es envoy\xe9es \xe0 l'API:",(0,Fe.A)((0,Fe.A)({},e),{},{ownerId:c.id}));const t=await(0,hs.apiJson)("/api/properties/create","POST",e);if(!t.success)throw new Error(t.message||"Erreur lors de la cr\xe9ation");const s=t.data;n(e=>[s,...e]),i(e=>[s,...e]),ms.success("Propri\xe9t\xe9 cr\xe9\xe9e avec succ\xe8s !")}catch(t){throw console.error("Erreur createProperty:",t),ms.error(t instanceof Error?t.message:"Erreur lors de la cr\xe9ation de la propri\xe9t\xe9"),t}finally{o(!1)}},searchProperties:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o(!0);try{const t=new URLSearchParams;Object.entries(e).forEach(e=>{let[s,r]=e;void 0!==r&&null!==r&&""!==r&&(Array.isArray(r)?r.forEach(e=>t.append(s,e)):t.append(s,r.toString()))});const s="/api/properties/search?".concat(t.toString()),r=await(0,hs.apiGet)(s);return r.success&&r.data&&Array.isArray(r.data)?r.data:[]}catch(t){return console.error("Erreur searchProperties:",t),ms.error("Erreur lors de la recherche des propri\xe9t\xe9s"),[]}finally{o(!1)}},fetchProperties:d,fetchPropertyById:async e=>{try{const t=await(0,hs.apiGet)("/api/properties/get_by_id/".concat(e));return t.success&&t.data?t.data:null}catch(t){return console.error("Erreur fetchPropertyById:",t),ms.error("Erreur lors du chargement de la propri\xe9t\xe9"),null}},deleteProperty:async e=>{o(!0);try{const t=await(0,hs.apiJson)("/api/properties/delete/".concat(e),"DELETE");if(!t.success)throw new Error(t.message||"Erreur lors de la suppression");n(t=>t.filter(t=>t.id!==e)),i(t=>t.filter(t=>t.id!==e)),ms.success("Propri\xe9t\xe9 supprim\xe9e avec succ\xe8s")}catch(t){throw ms.error("Erreur lors de la suppression de la propri\xe9t\xe9"),t}finally{o(!1)}},updateProperty:async(e,t)=>{o(!0);try{const s=await(0,hs.apiJson)("/api/properties/update/".concat(e),"PUT",t);if(!s.success)throw new Error(s.message||"Erreur lors de la mise \xe0 jour");const r=s.data;return n(t=>t.map(t=>t.id===e?r:t)),i(t=>t.map(t=>t.id===e?r:t)),ms.success("Propri\xe9t\xe9 modifi\xe9e avec succ\xe8s"),r}catch(s){throw ms.error("Erreur lors de la modification de la propri\xe9t\xe9"),s}finally{o(!1)}},fetchUserProperties:u};return(0,Me.jsx)(js.Provider,{value:m,children:s})},ks=(0,t.createContext)(void 0),Ss=()=>{const e=(0,t.useContext)(ks);if(void 0===e)throw new Error("useMessage must be used within a MessageProvider");return e},Cs=e=>{let{children:s}=e;const[r,n]=(0,t.useState)([]),[a,i]=(0,t.useState)([]),[l,o]=(0,t.useState)(!1),[c,d]=(0,t.useState)(!1),{user:u}=ys(),m=(0,t.useCallback)(async()=>{if(u&&!c)try{o(!0);const e=await(0,hs.apiGet)("/api/messages/conversations");if(!e.success)throw new Error(e.message||"Erreur lors du chargement des conversations");const t=(e.data||[]).map(e=>({id:e.id,participants:e.participants,lastMessage:e.lastMessage,unreadCount:e.unreadCount,createdAt:new Date(e.createdAt),updatedAt:new Date(e.updatedAt)}));n(t),d(!1)}catch(s){var e,t;if(console.error("Erreur chargement conversations:",s),null!==(e=s.message)&&void 0!==e&&e.includes("Token invalide")||null!==(t=s.message)&&void 0!==t&&t.includes("401"))return d(!0),void console.warn("\u26a0\ufe0f Arr\xeat du polling des conversations - Token invalide");ms.error(s.message||"Erreur lors du chargement des conversations")}finally{o(!1)}},[u,c]),h=(0,t.useCallback)(async e=>{try{const t=await(0,hs.apiGet)("/api/messages/conversation/".concat(e));if(!t.success)throw new Error(t.message||"Erreur lors du chargement des messages");const s=(t.data||[]).map(e=>({id:e.id,conversationId:e.conversationId,senderId:e.senderId,receiverId:e.receiverId,content:e.content,isRead:e.isRead,createdAt:new Date(e.createdAt),sender:e.sender,receiver:e.receiver}));i(e=>{const t=new Set(e.map(e=>e.id)),r=s.filter(e=>!t.has(e.id));return[...e,...r]})}catch(t){console.error("Erreur chargement messages:",t),ms.error(t.message||"Erreur lors du chargement des messages")}},[]);(0,t.useEffect)(()=>{u?m():(n([]),i([]))},[u,m]),(0,t.useEffect)(()=>{if(!u||c)return;const e=setInterval(()=>{m()},3e4);return()=>clearInterval(e)},[u,m,c]),(0,t.useEffect)(()=>{d(!u)},[u]);const p={conversations:r,messages:a,sendMessage:async(e,t)=>{if(u)if(t.trim()){o(!0);try{const s=await(0,hs.apiJson)("/api/messages/send","POST",{receiverId:e,content:t.trim()});if(!s.success)throw new Error(s.message||"Erreur lors de l'envoi du message");const r={id:s.data.id,conversationId:s.data.conversationId,senderId:s.data.senderId,receiverId:s.data.receiverId,content:s.data.content,isRead:s.data.isRead,createdAt:new Date(s.data.createdAt),sender:s.data.sender,receiver:s.data.receiver};i(e=>[...e,r]),n(e=>e.map(e=>e.id===r.conversationId?(0,Fe.A)((0,Fe.A)({},e),{},{lastMessage:r,updatedAt:new Date(r.createdAt),unreadCount:0}):e)),await m(),ms.success("Message envoy\xe9 !")}catch(s){throw console.error("Erreur envoi message:",s),ms.error(s.message||"Erreur lors de l'envoi du message"),s}finally{o(!1)}}else ms.error("Le message ne peut pas \xeatre vide");else ms.error("Vous devez \xeatre connect\xe9 pour envoyer un message")},markAsRead:async e=>{try{const t=await(0,hs.apiJson)("/api/messages/markAsRead/".concat(e),"PUT");if(!t.success)throw new Error(t.message||"Erreur lors du marquage comme lu");i(t=>t.map(t=>t.id===e?(0,Fe.A)((0,Fe.A)({},t),{},{isRead:!0}):t)),await m()}catch(t){throw console.error("Erreur marquage comme lu:",t),t}},getConversationMessages:async e=>{try{const t=await(0,hs.apiGet)("/api/messages/conversation/".concat(e));if(!t.success)return[];const s=(t.data||[]).map(e=>({id:e.id,conversationId:e.conversationId,senderId:e.senderId,receiverId:e.receiverId,content:e.content,isRead:e.isRead,createdAt:new Date(e.createdAt),sender:e.sender,receiver:e.receiver})).slice(-50);return i(e=>{const t=new Set(e.map(e=>e.id)),r=s.filter(e=>!t.has(e.id));return[...e,...r]}),s}catch(s){var t;return null!==(t=s.message)&&void 0!==t&&t.includes("404")||console.error("Erreur lors du chargement des messages:",s),[]}},refreshConversations:async()=>{await m()},refreshMessages:async()=>{const e=r.map(e=>h(e.id));await Promise.all(e)},loading:l,editMessage:async(e,t)=>{try{const s=await(0,hs.apiJson)("/api/messages/message/".concat(e),"PUT",{content:t});if(!s.success)throw new Error(s.message||"Erreur lors de la modification");i(t=>t.map(t=>t.id===e?(0,Fe.A)((0,Fe.A)({},t),{},{content:s.data.content}):t)),n(t=>t.map(t=>t.lastMessage&&t.lastMessage.id===e?(0,Fe.A)((0,Fe.A)({},t),{},{lastMessage:(0,Fe.A)((0,Fe.A)({},t.lastMessage),{},{content:s.data.content})}):t)),ms.success("Message modifi\xe9")}catch(s){throw ms.error(s.message||"Erreur lors de la modification du message"),s}},deleteMessage:async e=>{try{const t=await(0,hs.apiJson)("/api/messages/message/".concat(e),"DELETE");if(!t.success)throw new Error(t.message||"Erreur lors de la suppression");i(t=>t.filter(t=>t.id!==e)),await m(),ms.success("Message supprim\xe9")}catch(t){throw ms.error(t.message||"Erreur lors de la suppression du message"),t}},deleteConversation:async e=>{try{const t=await(0,hs.apiJson)("/api/messages/conversation/".concat(e),"DELETE");if(!t.success)throw new Error(t.message||"Erreur lors de la suppression");n(t=>t.filter(t=>t.id!==e)),i(t=>t.filter(t=>t.conversationId!==e)),ms.success("Conversation supprim\xe9e")}catch(t){throw ms.error(t.message||"Erreur lors de la suppression de la conversation"),t}}};return(0,Me.jsx)(ks.Provider,{value:p,children:s})},Es=(0,t.createContext)(void 0),As=()=>{const e=(0,t.useContext)(Es);if(!e)throw new Error("useAnnouncement must be used within AnnouncementProvider");return e},Ps=e=>{let{children:s}=e;const[r,n]=(0,t.useState)([]),[a,i]=(0,t.useState)([]),[l,o]=(0,t.useState)(!1),{user:c}=ys(),d=(0,t.useCallback)(async()=>{o(!0);try{const e=await(0,hs.apiGet)("/api/announcements/get_all");e.success&&e.data?n(Array.isArray(e.data)?e.data:[]):n([])}catch(e){console.error(e),ms.error("Impossible de charger les annonces"),n([])}finally{o(!1)}},[]),u=(0,t.useCallback)(async()=>{if(c){o(!0);try{const e=await(0,hs.apiGet)("/api/announcements/get_by_user");e.success&&e.data?i(Array.isArray(e.data)?e.data:[]):i([])}catch(s){var e,t;console.error(s),null!==(e=s.message)&&void 0!==e&&e.includes("Token invalide")||null!==(t=s.message)&&void 0!==t&&t.includes("401")||ms.error("Impossible de charger vos annonces"),i([])}finally{o(!1)}}else i([])},[c]);return(0,t.useEffect)(()=>{d()},[d]),(0,t.useEffect)(()=>{u()},[u]),(0,Me.jsx)(Es.Provider,{value:{announcements:r,userAnnouncements:a,loading:l,fetchAnnouncements:d,fetchUserAnnouncements:u,createAnnouncement:async e=>{if(!c)throw new Error("Non connect\xe9");o(!0);try{const t=await(0,hs.apiJson)("/api/announcements/create","POST",e);if(!t.success)throw new Error(t.message||"Erreur lors de la cr\xe9ation");const s=t.data;n(e=>[s,...e]),Number(s.authorId)===Number(c.id)&&i(e=>[s,...e]),ms.success("Annonce publi\xe9e !")}catch(t){throw ms.error(t.message||"Erreur lors de la publication"),t}finally{o(!1)}},updateAnnouncement:async(e,t)=>{o(!0);try{const s=await(0,hs.apiJson)("/api/announcements/update/".concat(e),"PUT",t);if(!s.success)throw new Error(s.message||"Erreur lors de la mise \xe0 jour");const r=s.data;n(t=>t.map(t=>t.id===e?(0,Fe.A)((0,Fe.A)({},t),r):t)),i(t=>t.map(t=>t.id===e?(0,Fe.A)((0,Fe.A)({},t),r):t)),ms.success("Annonce mise \xe0 jour")}catch(s){throw ms.error(s.message||"Mise \xe0 jour impossible"),s}finally{o(!1)}},deleteAnnouncement:async e=>{o(!0);try{const t=await(0,hs.apiJson)("/api/announcements/delete/".concat(e),"DELETE");if(!t.success)throw new Error(t.message||"Erreur lors de la suppression");n(t=>t.filter(t=>t.id!==e)),i(t=>t.filter(t=>t.id!==e)),ms.success("Annonce supprim\xe9e")}catch(t){throw ms.error("Suppression impossible"),t}finally{o(!1)}}},children:s})},Ts=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ms=(()=>new Set(Ts))(),Ls=e=>180*e/Math.PI,Rs=e=>{const t=Ls(Math.atan2(e[1],e[0]));return Is(t)},Ds={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Rs,rotateZ:Rs,skewX:e=>Ls(Math.atan(e[1])),skewY:e=>Ls(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Is=e=>((e%=360)<0&&(e+=360),e),Fs=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),zs=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),_s={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Fs,scaleY:zs,scale:e=>(Fs(e)+zs(e))/2,rotateX:e=>Is(Ls(Math.atan2(e[6],e[5]))),rotateY:e=>Is(Ls(Math.atan2(-e[2],e[0]))),rotateZ:Rs,rotate:Rs,skewX:e=>Ls(Math.atan(e[4])),skewY:e=>Ls(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Vs(e){return e.includes("scale")?1:0}function Os(e,t){if(!e||"none"===e)return Vs(t);const s=e.match(/^matrix3d\(([\t-\r ,-\.0-9e\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+)\)$/);let r,n;if(s)r=_s,n=s;else{const t=e.match(/^matrix\(([\t-\r ,-\.0-9e\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+)\)$/);r=Ds,n=t}if(!n)return Vs(t);const a=r[t],i=n[1].split(",").map(Bs);return"function"===typeof a?a(i):i[a]}function Bs(e){return parseFloat(e.trim())}const Us=e=>t=>"string"===typeof t&&t.startsWith(e),Ws=Us("--"),qs=Us("var(--"),Hs=e=>!!qs(e)&&$s.test(e.split("/*")[0].trim()),$s=/var\(--(?:[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*|[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*,(?:[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:(?![\t-\r \(\)\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uD800-\uDFFF\uFEFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])|[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\((?:(?:(?![\(\)\uD800-\uDFFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])|\((?:(?![\(\)\uD800-\uDFFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])*\))*\))+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)\)$/i;function Zs(e){let{top:t,left:s,right:r,bottom:n}=e;return{x:{min:s,max:r},y:{min:t,max:n}}}const Js=(e,t,s)=>e+(t-e)*s;function Gs(e){return void 0===e||1===e}function Ys(e){let{scale:t,scaleX:s,scaleY:r}=e;return!Gs(t)||!Gs(s)||!Gs(r)}function Xs(e){return Ys(e)||Ks(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function Ks(e){return Qs(e.x)||Qs(e.y)}function Qs(e){return e&&"0%"!==e}function er(e,t,s){return s+t*(e-s)}function tr(e,t,s,r,n){return void 0!==n&&(e=er(e,n,r)),er(e,s,r)+t}function sr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,n=arguments.length>4?arguments[4]:void 0;e.min=tr(e.min,t,s,r,n),e.max=tr(e.max,t,s,r,n)}function rr(e,t){let{x:s,y:r}=t;sr(e.x,s.translate,s.scale,s.originPoint),sr(e.y,r.translate,r.scale,r.originPoint)}const nr=.999999999999,ar=1.0000000000001;function ir(e,t){e.min=e.min+t,e.max=e.max+t}function lr(e,t,s,r){let n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.5;sr(e,t,s,Js(e.min,e.max,n),r)}function or(e,t){lr(e.x,t.x,t.scaleX,t.scale,t.originX),lr(e.y,t.y,t.scaleY,t.scale,t.originY)}function cr(e,t){return Zs(function(e,t){if(!t)return e;const s=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:s.y,left:s.x,bottom:r.y,right:r.x}}(e.getBoundingClientRect(),t))}const dr=new Set(["width","height","top","left","right","bottom",...Ts]),ur=(e,t,s)=>s>t?t:s<e?e:s,mr={test:e=>"number"===typeof e,parse:parseFloat,transform:e=>e},hr=(0,Fe.A)((0,Fe.A)({},mr),{},{transform:e=>ur(0,1,e)}),pr=(0,Fe.A)((0,Fe.A)({},mr),{},{default:1}),xr=e=>({test:t=>"string"===typeof t&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>"".concat(t).concat(e)}),fr=xr("deg"),gr=xr("%"),vr=xr("px"),yr=xr("vh"),br=xr("vw"),jr=(()=>(0,Fe.A)((0,Fe.A)({},gr),{},{parse:e=>gr.parse(e)/100,transform:e=>gr.transform(100*e)}))(),wr=e=>t=>t.test(e),Nr=[mr,vr,gr,fr,br,yr,{test:e=>"auto"===e,parse:e=>e}],kr=e=>Nr.find(wr(e));const Sr=e=>/^-?(?:[0-9]+(?:\.[0-9]+)?|\.[0-9]+)$/.test(e),Cr=/^var\(--(?:([\x2D0-9A-Z_a-z]+)|([\x2D0-9A-Z_a-z]+), ?([ #%\(\),-\.0-9A-Za-z]+))\)/;function Er(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;'Max CSS variable fallback depth detected in property "'.concat(e,'". This may indicate a circular fallback dependency.');const[r,n]=function(e){const t=Cr.exec(e);if(!t)return[,];const[,s,r,n]=t;return["--".concat(null!==s&&void 0!==s?s:r),n]}(e);if(!r)return;const a=window.getComputedStyle(t).getPropertyValue(r);if(a){const e=a.trim();return Sr(e)?parseFloat(e):e}return Hs(n)?Er(n,t,s+1):n}const Ar=e=>e===mr||e===vr,Pr=new Set(["x","y","z"]),Tr=Ts.filter(e=>!Pr.has(e));const Mr={width:(e,t)=>{let{x:s}=e,{paddingLeft:r="0",paddingRight:n="0"}=t;return s.max-s.min-parseFloat(r)-parseFloat(n)},height:(e,t)=>{let{y:s}=e,{paddingTop:r="0",paddingBottom:n="0"}=t;return s.max-s.min-parseFloat(r)-parseFloat(n)},top:(e,t)=>{let{top:s}=t;return parseFloat(s)},left:(e,t)=>{let{left:s}=t;return parseFloat(s)},bottom:(e,t)=>{let{y:s}=e,{top:r}=t;return parseFloat(r)+(s.max-s.min)},right:(e,t)=>{let{x:s}=e,{left:r}=t;return parseFloat(r)+(s.max-s.min)},x:(e,t)=>{let{transform:s}=t;return Os(s,"x")},y:(e,t)=>{let{transform:s}=t;return Os(s,"y")}};Mr.translateX=Mr.x,Mr.translateY=Mr.y;const Lr=e=>e,Rr={},Dr=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],Ir={value:null,addProjectionMetrics:null};function Fr(e,t){let s=!1,r=!0;const n={delta:0,timestamp:0,isProcessing:!1},a=()=>s=!0,i=Dr.reduce((e,s)=>(e[s]=function(e,t){let s=new Set,r=new Set,n=!1,a=!1;const i=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1},o=0;function c(t){i.has(t)&&(d.schedule(t),e()),o++,t(l)}const d={schedule:function(e){const t=arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&n?s:r;return arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&i.add(e),t.has(e)||t.add(e),e},cancel:e=>{r.delete(e),i.delete(e)},process:e=>{l=e,n?a=!0:(n=!0,[s,r]=[r,s],s.forEach(c),t&&Ir.value&&Ir.value.frameloop[t].push(o),o=0,s.clear(),n=!1,a&&(a=!1,d.process(e)))}};return d}(a,t?s:void 0),e),{}),{setup:l,read:o,resolveKeyframes:c,preUpdate:d,update:u,preRender:m,render:h,postRender:p}=i,x=()=>{const a=Rr.useManualTiming?n.timestamp:performance.now();s=!1,Rr.useManualTiming||(n.delta=r?1e3/60:Math.max(Math.min(a-n.timestamp,40),1)),n.timestamp=a,n.isProcessing=!0,l.process(n),o.process(n),c.process(n),d.process(n),u.process(n),m.process(n),h.process(n),p.process(n),n.isProcessing=!1,s&&t&&(r=!1,e(x))},f=Dr.reduce((t,a)=>{const l=i[a];return t[a]=function(t){let a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return s||(s=!0,r=!0,n.isProcessing||e(x)),l.schedule(t,a,i)},t},{});return{schedule:f,cancel:e=>{for(let t=0;t<Dr.length;t++)i[Dr[t]].cancel(e)},state:n,steps:i}}const{schedule:zr,cancel:_r,state:Vr,steps:Or}=Fr("undefined"!==typeof requestAnimationFrame?requestAnimationFrame:Lr,!0),Br=new Set;let Ur=!1,Wr=!1,qr=!1;function Hr(){if(Wr){const e=Array.from(Br).filter(e=>e.needsMeasurement),t=new Set(e.map(e=>e.element)),s=new Map;t.forEach(e=>{const t=function(e){const t=[];return Tr.forEach(s=>{const r=e.getValue(s);void 0!==r&&(t.push([s,r.get()]),r.set(s.startsWith("scale")?1:0))}),t}(e);t.length&&(s.set(e,t),e.render())}),e.forEach(e=>e.measureInitialState()),t.forEach(e=>{e.render();const t=s.get(e);t&&t.forEach(t=>{var s;let[r,n]=t;null===(s=e.getValue(r))||void 0===s||s.set(n)})}),e.forEach(e=>e.measureEndState()),e.forEach(e=>{void 0!==e.suspendedScrollY&&window.scrollTo(0,e.suspendedScrollY)})}Wr=!1,Ur=!1,Br.forEach(e=>e.complete(qr)),Br.clear()}function $r(){Br.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Wr=!0)})}class Zr{constructor(e,t,s,r,n){let a=arguments.length>5&&void 0!==arguments[5]&&arguments[5];this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=s,this.motionValue=r,this.element=n,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(Br.add(this),Ur||(Ur=!0,zr.read($r),zr.resolveKeyframes(Hr))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:s,motionValue:r}=this;if(null===e[0]){const n=null===r||void 0===r?void 0:r.get(),a=e[e.length-1];if(void 0!==n)e[0]=n;else if(s&&t){const r=s.readValue(t,a);void 0!==r&&null!==r&&(e[0]=r)}void 0===e[0]&&(e[0]=a),r&&void 0===n&&r.set(e[0])}!function(e){for(let s=1;s<e.length;s++){var t;null!==(t=e[s])&&void 0!==t||(e[s]=e[s-1])}}(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Br.delete(this)}cancel(){"scheduled"===this.state&&(Br.delete(this),this.state="pending")}resume(){"pending"===this.state&&this.scheduleResolve()}}const Jr=e=>/^0(?:[\0-\x08\x0E-\x1F!-\x2D\/-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+$/.test(e);function Gr(e){return"number"===typeof e?0===e:null===e||("none"===e||"0"===e||Jr(e))}const Yr=e=>Math.round(1e5*e)/1e5,Xr=/-?(?:[0-9]+(?:\.[0-9]+)?|\.[0-9]+)/g;const Kr=/^(?:#[0-9a-f]{3,8}|(?:rgb|h[s\u017F]l)a?\((?:-?[\.0-9]+%?[\t-\r ,\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+){2}-?[\.0-9]+%?[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:[,\/][\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)?(?:\b[0-9]+(?:\.[0-9]+)?|\.[0-9]+)?%?\))$/i,Qr=(e,t)=>s=>Boolean("string"===typeof s&&Kr.test(s)&&s.startsWith(e)||t&&!function(e){return null==e}(s)&&Object.prototype.hasOwnProperty.call(s,t)),en=(e,t,s)=>r=>{if("string"!==typeof r)return r;const[n,a,i,l]=r.match(Xr);return{[e]:parseFloat(n),[t]:parseFloat(a),[s]:parseFloat(i),alpha:void 0!==l?parseFloat(l):1}},tn=(0,Fe.A)((0,Fe.A)({},mr),{},{transform:e=>Math.round((e=>ur(0,255,e))(e))}),sn={test:Qr("rgb","red"),parse:en("red","green","blue"),transform:e=>{let{red:t,green:s,blue:r,alpha:n=1}=e;return"rgba("+tn.transform(t)+", "+tn.transform(s)+", "+tn.transform(r)+", "+Yr(hr.transform(n))+")"}};const rn={test:Qr("#"),parse:function(e){let t="",s="",r="",n="";return e.length>5?(t=e.substring(1,3),s=e.substring(3,5),r=e.substring(5,7),n=e.substring(7,9)):(t=e.substring(1,2),s=e.substring(2,3),r=e.substring(3,4),n=e.substring(4,5),t+=t,s+=s,r+=r,n+=n),{red:parseInt(t,16),green:parseInt(s,16),blue:parseInt(r,16),alpha:n?parseInt(n,16)/255:1}},transform:sn.transform},nn={test:Qr("hsl","hue"),parse:en("hue","saturation","lightness"),transform:e=>{let{hue:t,saturation:s,lightness:r,alpha:n=1}=e;return"hsla("+Math.round(t)+", "+gr.transform(Yr(s))+", "+gr.transform(Yr(r))+", "+Yr(hr.transform(n))+")"}},an={test:e=>sn.test(e)||rn.test(e)||nn.test(e),parse:e=>sn.test(e)?sn.parse(e):nn.test(e)?nn.parse(e):rn.parse(e),transform:e=>"string"===typeof e?e:e.hasOwnProperty("red")?sn.transform(e):nn.transform(e),getAnimatableNone:e=>{const t=an.parse(e);return t.alpha=0,an.transform(t)}},ln=/(?:#[0-9a-f]{3,8}|(?:rgb|h[s\u017F]l)a?\((?:-?[\.0-9]+%?[\t-\r ,\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+){2}-?[\.0-9]+%?[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:[,\/][\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)?(?:\b[0-9]+(?:\.[0-9]+)?|\.[0-9]+)?%?\))/gi;const on="number",cn="color",dn=/var[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\([\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*--(?:[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*|[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*,(?:[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:(?![\t-\r \(\)\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uD800-\uDFFF\uFEFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])|[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\((?:(?:(?![\(\)\uD800-\uDFFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])|\((?:(?![\(\)\uD800-\uDFFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])*\))*\))+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)\)|#[0-9a-f]{3,8}|(?:rgb|h[s\u017F]l)a?\((?:-?[\.0-9]+%?[\t-\r ,\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+){2}-?[\.0-9]+%?[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:[,\/][\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)?(?:\b[0-9]+(?:\.[0-9]+)?|\.[0-9]+)?%?\)|-?(?:[0-9]+(?:\.[0-9]+)?|\.[0-9]+)/gi;function un(e){const t=e.toString(),s=[],r={color:[],number:[],var:[]},n=[];let a=0;const i=t.replace(dn,e=>(an.test(e)?(r.color.push(a),n.push(cn),s.push(an.parse(e))):e.startsWith("var(")?(r.var.push(a),n.push("var"),s.push(e)):(r.number.push(a),n.push(on),s.push(parseFloat(e))),++a,"${}")).split("${}");return{values:s,split:i,indexes:r,types:n}}function mn(e){return un(e).values}function hn(e){const{split:t,types:s}=un(e),r=t.length;return e=>{let n="";for(let a=0;a<r;a++)if(n+=t[a],void 0!==e[a]){const t=s[a];n+=t===on?Yr(e[a]):t===cn?an.transform(e[a]):e[a]}return n}}const pn=e=>"number"===typeof e?0:an.test(e)?an.getAnimatableNone(e):e;const xn={test:function(e){var t,s;return isNaN(e)&&"string"===typeof e&&((null===(t=e.match(Xr))||void 0===t?void 0:t.length)||0)+((null===(s=e.match(ln))||void 0===s?void 0:s.length)||0)>0},parse:mn,createTransformer:hn,getAnimatableNone:function(e){const t=mn(e);return hn(e)(t.map(pn))}},fn=new Set(["brightness","contrast","saturate","opacity"]);function gn(e){const[t,s]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;const[r]=s.match(Xr)||[];if(!r)return e;const n=s.replace(r,"");let a=fn.has(t)?1:0;return r!==s&&(a*=100),t+"("+a+n+")"}const vn=/\b([\x2Da-z]*)\((?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*?\)/g,yn=(0,Fe.A)((0,Fe.A)({},xn),{},{getAnimatableNone:e=>{const t=e.match(vn);return t?t.map(gn).join(" "):e}}),bn=(0,Fe.A)((0,Fe.A)({},mr),{},{transform:Math.round}),jn={rotate:fr,rotateX:fr,rotateY:fr,rotateZ:fr,scale:pr,scaleX:pr,scaleY:pr,scaleZ:pr,skew:fr,skewX:fr,skewY:fr,distance:vr,translateX:vr,translateY:vr,translateZ:vr,x:vr,y:vr,z:vr,perspective:vr,transformPerspective:vr,opacity:hr,originX:jr,originY:jr,originZ:vr},wn=(0,Fe.A)((0,Fe.A)({borderWidth:vr,borderTopWidth:vr,borderRightWidth:vr,borderBottomWidth:vr,borderLeftWidth:vr,borderRadius:vr,radius:vr,borderTopLeftRadius:vr,borderTopRightRadius:vr,borderBottomRightRadius:vr,borderBottomLeftRadius:vr,width:vr,maxWidth:vr,height:vr,maxHeight:vr,top:vr,right:vr,bottom:vr,left:vr,padding:vr,paddingTop:vr,paddingRight:vr,paddingBottom:vr,paddingLeft:vr,margin:vr,marginTop:vr,marginRight:vr,marginBottom:vr,marginLeft:vr,backgroundPositionX:vr,backgroundPositionY:vr},jn),{},{zIndex:bn,fillOpacity:hr,strokeOpacity:hr,numOctaves:bn}),Nn=(0,Fe.A)((0,Fe.A)({},wn),{},{color:an,backgroundColor:an,outlineColor:an,fill:an,stroke:an,borderColor:an,borderTopColor:an,borderRightColor:an,borderBottomColor:an,borderLeftColor:an,filter:yn,WebkitFilter:yn}),kn=e=>Nn[e];function Sn(e,t){let s=kn(e);return s!==yn&&(s=xn),s.getAnimatableNone?s.getAnimatableNone(t):void 0}const Cn=new Set(["auto","none","0"]);class En extends Zr{constructor(e,t,s,r,n){super(e,t,s,r,n,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:s}=this;if(!t||!t.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let s=e[l];if("string"===typeof s&&(s=s.trim(),Hs(s))){const r=Er(s,t.current);void 0!==r&&(e[l]=r),l===e.length-1&&(this.finalKeyframe=s)}}if(this.resolveNoneKeyframes(),!dr.has(s)||2!==e.length)return;const[r,n]=e,a=kr(r),i=kr(n);if(a!==i)if(Ar(a)&&Ar(i))for(let l=0;l<e.length;l++){const t=e[l];"string"===typeof t&&(e[l]=parseFloat(t))}else Mr[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,s=[];for(let r=0;r<e.length;r++)(null===e[r]||Gr(e[r]))&&s.push(r);s.length&&function(e,t,s){let r,n=0;for(;n<e.length&&!r;){const t=e[n];"string"===typeof t&&!Cn.has(t)&&un(t).values.length&&(r=e[n]),n++}if(r&&s)for(const a of t)e[a]=Sn(s,r)}(e,s,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:s}=this;if(!e||!e.current)return;"height"===s&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Mr[s](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const r=t[t.length-1];void 0!==r&&e.getValue(s,r).jump(r,!1)}measureEndState(){var e;const{element:t,name:s,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const n=t.getValue(s);n&&n.jump(this.measuredOrigin,!1);const a=r.length-1,i=r[a];r[a]=Mr[s](t.measureViewportBox(),window.getComputedStyle(t.current)),null!==i&&void 0===this.finalKeyframe&&(this.finalKeyframe=i),null!==(e=this.removedTransforms)&&void 0!==e&&e.length&&this.removedTransforms.forEach(e=>{let[s,r]=e;t.getValue(s).set(r)}),this.resolveNoneKeyframes()}}const An=e=>Boolean(e&&e.getVelocity);var Pn=s(3986);let Tn;function Mn(){Tn=void 0}const Ln={now:()=>(void 0===Tn&&Ln.set(Vr.isProcessing||Rr.useManualTiming?Vr.timestamp:performance.now()),Tn),set:e=>{Tn=e,queueMicrotask(Mn)}};function Rn(e,t){-1===e.indexOf(t)&&e.push(t)}function Dn(e,t){const s=e.indexOf(t);s>-1&&e.splice(s,1)}class In{constructor(){this.subscriptions=[]}add(e){return Rn(this.subscriptions,e),()=>Dn(this.subscriptions,e)}notify(e,t,s){const r=this.subscriptions.length;if(r)if(1===r)this.subscriptions[0](e,t,s);else for(let n=0;n<r;n++){const r=this.subscriptions[n];r&&r(e,t,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function Fn(e,t){return t?e*(1e3/t):0}const zn={current:void 0};class _n{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.canTrackVelocity=null,this.events={},this.updateAndNotify=e=>{const t=Ln.now();var s;if((this.updatedAt!==t&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(e),this.current!==this.prev)&&(null===(s=this.events.change)||void 0===s||s.notify(this.current),this.dependents))for(const r of this.dependents)r.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){var t;this.current=e,this.updatedAt=Ln.now(),null===this.canTrackVelocity&&void 0!==e&&(this.canTrackVelocity=(t=this.current,!isNaN(parseFloat(t))))}setPrevFrameValue(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.current;this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new In);const s=this.events[e].add(t);return"change"===e?()=>{s(),zr.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,t,s){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;null===(e=this.events.change)||void 0===e||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return zn.current&&zn.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=Ln.now();if(!this.canTrackVelocity||void 0===this.prevFrameValue||e-this.updatedAt>30)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,30);return Fn(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,t;null===(e=this.dependents)||void 0===e||e.clear(),null===(t=this.events.destroy)||void 0===t||t.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Vn(e,t){return new _n(e,t)}const On=[...Nr,an,xn],{schedule:Bn,cancel:Un}=Fr(queueMicrotask,!1),Wn={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},qn={};for(const Jp in Wn)qn[Jp]={isEnabled:e=>Wn[Jp].some(t=>!!e[t])};const Hn=()=>({x:{min:0,max:0},y:{min:0,max:0}}),$n={current:null},Zn={current:!1};const Jn=new WeakMap;function Gn(e){return null!==e&&"object"===typeof e&&"function"===typeof e.start}function Yn(e){return"string"===typeof e||Array.isArray(e)}const Xn=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Kn=["initial",...Xn];function Qn(e){return Gn(e.animate)||Kn.some(t=>Yn(e[t]))}function ea(e){return Boolean(Qn(e)||e.variants)}function ta(e){const t=[{},{}];return null===e||void 0===e||e.values.forEach((e,s)=>{t[0][s]=e.get(),t[1][s]=e.getVelocity()}),t}function sa(e,t,s,r){if("function"===typeof t){const[n,a]=ta(r);t=t(void 0!==s?s:e.custom,n,a)}if("string"===typeof t&&(t=e.variants&&e.variants[t]),"function"===typeof t){const[n,a]=ta(r);t=t(void 0!==s?s:e.custom,n,a)}return t}const ra=["willChange"],na=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class aa{scrapeMotionValuesFromProps(e,t,s){return{}}constructor(e){let{parent:t,props:s,presenceContext:r,reducedMotionConfig:n,blockInitialAnimation:a,visualState:i}=e,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Zr,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const e=Ln.now();this.renderScheduledAt<e&&(this.renderScheduledAt=e,zr.render(this.render,!1,!0))};const{latestValues:o,renderState:c}=i;this.latestValues=o,this.baseTarget=(0,Fe.A)({},o),this.initialValues=s.initial?(0,Fe.A)({},o):{},this.renderState=c,this.parent=t,this.props=s,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=n,this.options=l,this.blockInitialAnimation=Boolean(a),this.isControllingVariants=Qn(s),this.isVariantNode=ea(s),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(t&&t.current);const d=this.scrapeMotionValuesFromProps(s,{},this),{willChange:u}=d,m=(0,Pn.A)(d,ra);for(const h in m){const e=m[h];void 0!==o[h]&&An(e)&&e.set(o[h])}}mount(e){var t;this.current=e,Jn.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,t)=>this.bindToMotionValue(t,e)),Zn.current||function(){if(Zn.current=!0,De)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>$n.current=e.matches;e.addEventListener("change",t),t()}else $n.current=!1}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||$n.current),null===(t=this.parent)||void 0===t||t.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),_r(this.notifyUpdate),_r(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),null===(e=this.parent)||void 0===e||e.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const e=this.features[t];e&&(e.unmount(),e.isMounted=!1)}this.current=null}addChild(e){var t;this.children.add(e),null!==(t=this.enteringChildren)&&void 0!==t||(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=Ms.has(e);s&&this.onBindTransform&&this.onBindTransform();const r=t.on("change",t=>{this.latestValues[e]=t,this.props.onUpdate&&zr.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let n;window.MotionCheckAppearSync&&(n=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{r(),n&&n(),t.owner&&t.stop()})}sortNodePosition(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}updateFeatures(){let e="animation";for(e in qn){const t=qn[e];if(!t)continue;const{isEnabled:s,Feature:r}=t;if(!this.features[e]&&r&&s(this.props)&&(this.features[e]=new r(this)),this.features[e]){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):{x:{min:0,max:0},y:{min:0,max:0}}}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let s=0;s<na.length;s++){const t=na[s];this.propEventSubscriptions[t]&&(this.propEventSubscriptions[t](),delete this.propEventSubscriptions[t]);const r=e["on"+t];r&&(this.propEventSubscriptions[t]=this.on(t,r))}this.prevMotionValues=function(e,t,s){for(const r in t){const n=t[r],a=s[r];if(An(n))e.addValue(r,n);else if(An(a))e.addValue(r,Vn(n,{owner:e}));else if(a!==n)if(e.hasValue(r)){const t=e.getValue(r);!0===t.liveStyle?t.jump(n):t.hasAnimated||t.set(n)}else{const t=e.getStaticValue(r);e.addValue(r,Vn(void 0!==t?t:n,{owner:e}))}}for(const r in s)void 0===t[r]&&e.removeValue(r);return t}(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const s=this.values.get(e);t!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return void 0===s&&void 0!==t&&(s=Vn(null===t?void 0:t,{owner:this}),this.addValue(e,s)),s}readValue(e,t){var s;let r=void 0===this.latestValues[e]&&this.current?null!==(s=this.getBaseTargetFromProps(this.props,e))&&void 0!==s?s:this.readValueFromInstance(this.current,e,this.options):this.latestValues[e];return void 0!==r&&null!==r&&("string"===typeof r&&(Sr(r)||Jr(r))?r=parseFloat(r):!(e=>On.find(wr(e)))(r)&&xn.test(t)&&(r=Sn(e,t)),this.setBaseTarget(e,An(r)?r.get():r)),An(r)?r.get():r}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){const{initial:t}=this.props;let s;if("string"===typeof t||"object"===typeof t){var r;const n=sa(this.props,t,null===(r=this.presenceContext)||void 0===r?void 0:r.custom);n&&(s=n[e])}if(t&&void 0!==s)return s;const n=this.getBaseTargetFromProps(this.props,e);return void 0===n||An(n)?void 0!==this.initialValues[e]&&void 0===s?void 0:this.baseTarget[e]:n}on(e,t){return this.events[e]||(this.events[e]=new In),this.events[e].add(t)}notify(e){if(this.events[e]){for(var t=arguments.length,s=new Array(t>1?t-1:0),r=1;r<t;r++)s[r-1]=arguments[r];this.events[e].notify(...s)}}scheduleRenderMicrotask(){Bn.render(this.render)}}class ia extends aa{constructor(){super(...arguments),this.KeyframeResolver=En}sortInstanceNodePosition(e,t){return 2&e.compareDocumentPosition(t)?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,t){let{vars:s,style:r}=t;delete s[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;An(e)&&(this.childSubscription=e.on("change",e=>{this.current&&(this.current.textContent="".concat(e))}))}}const la=(e,t)=>t&&"number"===typeof e?t.transform(e):e,oa={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},ca=Ts.length;function da(e,t,s){const{style:r,vars:n,transformOrigin:a}=e;let i=!1,l=!1;for(const o in t){const e=t[o];if(Ms.has(o))i=!0;else if(Ws(o))n[o]=e;else{const t=la(e,wn[o]);o.startsWith("origin")?(l=!0,a[o]=t):r[o]=t}}if(t.transform||(i||s?r.transform=function(e,t,s){let r="",n=!0;for(let a=0;a<ca;a++){const i=Ts[a],l=e[i];if(void 0===l)continue;let o=!0;if(o="number"===typeof l?l===(i.startsWith("scale")?1:0):0===parseFloat(l),!o||s){const e=la(l,wn[i]);o||(n=!1,r+="".concat(oa[i]||i,"(").concat(e,") ")),s&&(t[i]=e)}}return r=r.trim(),s?r=s(t,n?"":r):n&&(r="none"),r}(t,e.transform,s):r.transform&&(r.transform="none")),l){const{originX:e="50%",originY:t="50%",originZ:s=0}=a;r.transformOrigin="".concat(e," ").concat(t," ").concat(s)}}function ua(e,t,s,r){let{style:n,vars:a}=t;const i=e.style;let l;for(l in n)i[l]=n[l];for(l in null===r||void 0===r||r.applyProjectionStyles(i,s),a)i.setProperty(l,a[l])}const ma={};function ha(e,t){let{layout:s,layoutId:r}=t;return Ms.has(e)||e.startsWith("origin")||(s||void 0!==r)&&(!!ma[e]||"opacity"===e)}function pa(e,t,s){const{style:r}=e,n={};for(const i in r){var a;(An(r[i])||t.style&&An(t.style[i])||ha(i,e)||void 0!==(null===s||void 0===s||null===(a=s.getValue(i))||void 0===a?void 0:a.liveStyle))&&(n[i]=r[i])}return n}class xa extends ia{constructor(){super(...arguments),this.type="html",this.renderInstance=ua}readValueFromInstance(e,t){var s,r;if(Ms.has(t))return null!==(s=this.projection)&&void 0!==s&&s.isProjecting?Vs(t):((e,t)=>{const{transform:s="none"}=getComputedStyle(e);return Os(s,t)})(e,t);{const s=(r=e,window.getComputedStyle(r)),n=(Ws(t)?s.getPropertyValue(t):s[t])||0;return"string"===typeof n?n.trim():n}}measureInstanceViewportBox(e,t){let{transformPagePoint:s}=t;return cr(e,s)}build(e,t,s){da(e,t,s.transformTemplate)}scrapeMotionValuesFromProps(e,t,s){return pa(e,t,s)}}const fa=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),ga={offset:"stroke-dashoffset",array:"stroke-dasharray"},va={offset:"strokeDashoffset",array:"strokeDasharray"};const ya=["attrX","attrY","attrScale","pathLength","pathSpacing","pathOffset"];function ba(e,t,s,r,n){let{attrX:a,attrY:i,attrScale:l,pathLength:o,pathSpacing:c=1,pathOffset:d=0}=t;if(da(e,(0,Pn.A)(t,ya),r),s)return void(e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox));e.attrs=e.style,e.style={};const{attrs:u,style:m}=e;var h,p;(u.transform&&(m.transform=u.transform,delete u.transform),m.transform||u.transformOrigin)&&(m.transformOrigin=null!==(h=u.transformOrigin)&&void 0!==h?h:"50% 50%",delete u.transformOrigin);m.transform&&(m.transformBox=null!==(p=null===n||void 0===n?void 0:n.transformBox)&&void 0!==p?p:"fill-box",delete u.transformBox);void 0!==a&&(u.x=a),void 0!==i&&(u.y=i),void 0!==l&&(u.scale=l),void 0!==o&&function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,n=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];e.pathLength=1;const a=n?ga:va;e[a.offset]=vr.transform(-r);const i=vr.transform(t),l=vr.transform(s);e[a.array]="".concat(i," ").concat(l)}(u,o,c,d,!1)}const ja=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),wa=e=>"string"===typeof e&&"svg"===e.toLowerCase();function Na(e,t,s){const r=pa(e,t,s);for(const n in e)if(An(e[n])||An(t[n])){r[-1!==Ts.indexOf(n)?"attr"+n.charAt(0).toUpperCase()+n.substring(1):n]=e[n]}return r}class ka extends ia{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Hn}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(Ms.has(t)){const e=kn(t);return e&&e.default||0}return t=ja.has(t)?t:fa(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,s){return Na(e,t,s)}build(e,t,s){ba(e,t,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,t,s,r){!function(e,t,s,r){ua(e,t,void 0,r);for(const n in t.attrs)e.setAttribute(ja.has(n)?n:fa(n),t.attrs[n])}(e,t,0,r)}mount(e){this.isSVGTag=wa(e.tagName),super.mount(e)}}const Sa=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Ca(e){return"string"===typeof e&&!e.includes("-")&&!!(Sa.indexOf(e)>-1||/[A-Z]/.test(e))}const Ea=(e,s)=>Ca(e)?new ka(s):new xa(s,{allowProjection:e!==t.Fragment}),Aa=(0,t.createContext)({strict:!1}),Pa=(0,t.createContext)({});function Ta(e){const{initial:s,animate:r}=function(e,t){if(Qn(e)){const{initial:t,animate:s}=e;return{initial:!1===t||Yn(t)?t:void 0,animate:Yn(s)?s:void 0}}return!1!==e.inherit?t:{}}(e,(0,t.useContext)(Pa));return(0,t.useMemo)(()=>({initial:s,animate:r}),[Ma(s),Ma(r)])}function Ma(e){return Array.isArray(e)?e.join(" "):e}const La=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Ra(e,t,s){for(const r in t)An(t[r])||ha(r,s)||(e[r]=t[r])}function Da(e,s){const r={};return Ra(r,e.style||{},e),Object.assign(r,function(e,s){let{transformTemplate:r}=e;return(0,t.useMemo)(()=>{const e={style:{},transform:{},transformOrigin:{},vars:{}};return da(e,s,r),Object.assign({},e.vars,e.style)},[s])}(e,s)),r}function Ia(e,t){const s={},r=Da(e,t);return e.drag&&!1!==e.dragListener&&(s.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=!0===e.drag?"none":"pan-".concat("x"===e.drag?"y":"x")),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(s.tabIndex=0),s.style=r,s}const Fa=()=>(0,Fe.A)((0,Fe.A)({},{style:{},transform:{},transformOrigin:{},vars:{}}),{},{attrs:{}});function za(e,s,r,n){const a=(0,t.useMemo)(()=>{const t=Fa();return ba(t,s,wa(n),e.transformTemplate,e.style),(0,Fe.A)((0,Fe.A)({},t.attrs),{},{style:(0,Fe.A)({},t.style)})},[s]);if(e.style){const t={};Ra(t,e.style,e),a.style=(0,Fe.A)((0,Fe.A)({},t),a.style)}return a}const _a=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Va(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||_a.has(e)}let Oa=e=>!Va(e);try{"function"===typeof(Ba=require("@emotion/is-prop-valid").default)&&(Oa=e=>e.startsWith("on")?!Va(e):Ba(e))}catch(Zp){}var Ba;function Ua(e,s,r,n,a){let{latestValues:i}=n,l=arguments.length>5&&void 0!==arguments[5]&&arguments[5];const o=(Ca(e)?za:Ia)(s,i,a,e),c=function(e,t,s){const r={};for(const n in e)"values"===n&&"object"===typeof e.values||(Oa(n)||!0===s&&Va(n)||!t&&!Va(n)||e.draggable&&n.startsWith("onDrag"))&&(r[n]=e[n]);return r}(s,"string"===typeof e,l),d=e!==t.Fragment?(0,Fe.A)((0,Fe.A)((0,Fe.A)({},c),o),{},{ref:r}):{},{children:u}=s,m=(0,t.useMemo)(()=>An(u)?u.get():u,[u]);return(0,t.createElement)(e,(0,Fe.A)((0,Fe.A)({},d),{},{children:m}))}function Wa(e){return An(e)?e.get():e}const qa=["transitionEnd","transition"];function Ha(e,t,s,r){const n={},a=r(e,{});for(const m in a)n[m]=Wa(a[m]);let{initial:i,animate:l}=e;const o=Qn(e),c=ea(e);t&&c&&!o&&!1!==e.inherit&&(void 0===i&&(i=t.initial),void 0===l&&(l=t.animate));let d=!!s&&!1===s.initial;d=d||!1===i;const u=d?l:i;if(u&&"boolean"!==typeof u&&!Gn(u)){const t=Array.isArray(u)?u:[u];for(let s=0;s<t.length;s++){const r=sa(e,t[s]);if(r){const{transitionEnd:e,transition:t}=r,s=(0,Pn.A)(r,qa);for(const r in s){let e=s[r];if(Array.isArray(e)){e=e[d?e.length-1:0]}null!==e&&(n[r]=e)}for(const r in e)n[r]=e[r]}}}return n}const $a=e=>(s,r)=>{const n=(0,t.useContext)(Pa),a=(0,t.useContext)(ze),i=()=>function(e,t,s,r){let{scrapeMotionValuesFromProps:n,createRenderState:a}=e;return{latestValues:Ha(t,s,r,n),renderState:a()}}(e,s,n,a);return r?i():Re(i)},Za=$a({scrapeMotionValuesFromProps:pa,createRenderState:La}),Ja=$a({scrapeMotionValuesFromProps:Na,createRenderState:Fa});const Ga=Symbol.for("motionComponentSymbol");function Ya(e){return e&&"object"===typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}function Xa(e,s,r){return(0,t.useCallback)(t=>{t&&e.onMount&&e.onMount(t),s&&(t?s.mount(t):s.unmount()),r&&("function"===typeof r?r(t):Ya(r)&&(r.current=t))},[s])}const Ka="data-"+fa("framerAppearId"),Qa=(0,t.createContext)({});function ei(e,s,r,n,a){var i,l,o,c;const{visualElement:d}=(0,t.useContext)(Pa),u=(0,t.useContext)(Aa),m=(0,t.useContext)(ze),h=(0,t.useContext)(Oe).reducedMotion,p=(0,t.useRef)(null);n=n||u.renderer,!p.current&&n&&(p.current=n(e,{visualState:s,parent:d,props:r,presenceContext:m,blockInitialAnimation:!!m&&!1===m.initial,reducedMotionConfig:h}));const x=p.current,f=(0,t.useContext)(Qa);!x||x.projection||!a||"html"!==x.type&&"svg"!==x.type||function(e,t,s,r){const{layoutId:n,layout:a,drag:i,dragConstraints:l,layoutScroll:o,layoutRoot:c,layoutCrossfade:d}=t;e.projection=new s(e.latestValues,t["data-framer-portal-id"]?void 0:ti(e.parent)),e.projection.setOptions({layoutId:n,layout:a,alwaysMeasureLayout:Boolean(i)||l&&Ya(l),visualElement:e,animationType:"string"===typeof a?a:"both",initialPromotionConfig:r,crossfade:d,layoutScroll:o,layoutRoot:c})}(p.current,r,a,f);const g=(0,t.useRef)(!1);(0,t.useInsertionEffect)(()=>{x&&g.current&&x.update(r,m)});const v=r[Ka],y=(0,t.useRef)(Boolean(v)&&!(null!==(i=(l=window).MotionHandoffIsComplete)&&void 0!==i&&i.call(l,v))&&(null===(o=(c=window).MotionHasOptimisedAnimation)||void 0===o?void 0:o.call(c,v)));return Ie(()=>{x&&(g.current=!0,window.MotionIsMounted=!0,x.updateFeatures(),x.scheduleRenderMicrotask(),y.current&&x.animationState&&x.animationState.animateChanges())}),(0,t.useEffect)(()=>{x&&(!y.current&&x.animationState&&x.animationState.animateChanges(),y.current&&(queueMicrotask(()=>{var e,t;null===(e=(t=window).MotionHandoffMarkAsComplete)||void 0===e||e.call(t,v)}),y.current=!1),x.enteringChildren=void 0)}),x}function ti(e){if(e)return!1!==e.options.allowProjection?e.projection:ti(e.parent)}function si(e){var s,r;let{forwardMotionProps:n=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0;a&&function(e){for(const t in e)qn[t]=(0,Fe.A)((0,Fe.A)({},qn[t]),e[t])}(a);const l=Ca(e)?Ja:Za;function o(s,r){let a;const o=(0,Fe.A)((0,Fe.A)((0,Fe.A)({},(0,t.useContext)(Oe)),s),{},{layoutId:ri(s)}),{isStatic:c}=o,d=Ta(s),u=l(s,c);if(!c&&De){!function(){(0,t.useContext)(Aa).strict;0}();const s=function(e){const{drag:t,layout:s}=qn;if(!t&&!s)return{};const r=(0,Fe.A)((0,Fe.A)({},t),s);return{MeasureLayout:null!==t&&void 0!==t&&t.isEnabled(e)||null!==s&&void 0!==s&&s.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}(o);a=s.MeasureLayout,d.visualElement=ei(e,u,o,i,s.ProjectionNode)}return(0,Me.jsxs)(Pa.Provider,{value:d,children:[a&&d.visualElement?(0,Me.jsx)(a,(0,Fe.A)({visualElement:d.visualElement},o)):null,Ua(e,s,Xa(u,d.visualElement,r),u,c,n)]})}o.displayName="motion.".concat("string"===typeof e?e:"create(".concat(null!==(s=null!==(r=e.displayName)&&void 0!==r?r:e.name)&&void 0!==s?s:"",")"));const c=(0,t.forwardRef)(o);return c[Ga]=e,c}function ri(e){let{layoutId:s}=e;const r=(0,t.useContext)(Le).id;return r&&void 0!==s?r+"-"+s:s}function ni(e,t){if("undefined"===typeof Proxy)return si;const s=new Map,r=(s,r)=>si(s,r,e,t);return new Proxy((e,t)=>r(e,t),{get:(n,a)=>"create"===a?r:(s.has(a)||s.set(a,si(a,void 0,e,t)),s.get(a))})}function ai(e,t,s){const r=e.getProps();return sa(r,t,void 0!==s?s:r.custom,e)}function ii(e,t){var s,r;return null!==(s=null!==(r=null===e||void 0===e?void 0:e[t])&&void 0!==r?r:null===e||void 0===e?void 0:e.default)&&void 0!==s?s:e}const li=e=>Array.isArray(e),oi=["transitionEnd","transition"];function ci(e,t,s){e.hasValue(t)?e.getValue(t).set(s):e.addValue(t,Vn(s))}function di(e){return li(e)?e[e.length-1]||0:e}function ui(e,t){const s=e.getValue("willChange");if(r=s,Boolean(An(r)&&r.add))return s.add(t);if(!s&&Rr.WillChange){const s=new Rr.WillChange("auto");e.addValue("willChange",s),s.add(t)}var r}function mi(e){return e.props[Ka]}function hi(e){e.duration=0,e.type="keyframes"}const pi=(e,t)=>s=>t(e(s)),xi=function(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return t.reduce(pi)},fi=e=>1e3*e,gi=e=>e/1e3,vi={layout:0,mainThread:0,waapi:0};function yi(e,t,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?e+6*(t-e)*s:s<.5?t:s<2/3?e+(t-e)*(2/3-s)*6:e}function bi(e,t){return s=>s>0?t:e}const ji=(e,t,s)=>{const r=e*e,n=s*(t*t-r)+r;return n<0?0:Math.sqrt(n)},wi=[rn,sn,nn];function Ni(e){const t=(e=>wi.find(t=>t.test(e)))(e);if(Boolean(t),"'".concat(e,"' is not an animatable color. Use the equivalent color code instead."),!Boolean(t))return!1;let s=t.parse(e);return t===nn&&(s=function(e){let{hue:t,saturation:s,lightness:r,alpha:n}=e;t/=360,s/=100,r/=100;let a=0,i=0,l=0;if(s){const e=r<.5?r*(1+s):r+s-r*s,n=2*r-e;a=yi(n,e,t+1/3),i=yi(n,e,t),l=yi(n,e,t-1/3)}else a=i=l=r;return{red:Math.round(255*a),green:Math.round(255*i),blue:Math.round(255*l),alpha:n}}(s)),s}const ki=(e,t)=>{const s=Ni(e),r=Ni(t);if(!s||!r)return bi(e,t);const n=(0,Fe.A)({},s);return e=>(n.red=ji(s.red,r.red,e),n.green=ji(s.green,r.green,e),n.blue=ji(s.blue,r.blue,e),n.alpha=Js(s.alpha,r.alpha,e),sn.transform(n))},Si=new Set(["none","hidden"]);function Ci(e,t){return s=>Js(e,t,s)}function Ei(e){return"number"===typeof e?Ci:"string"===typeof e?Hs(e)?bi:an.test(e)?ki:Ti:Array.isArray(e)?Ai:"object"===typeof e?an.test(e)?ki:Pi:bi}function Ai(e,t){const s=[...e],r=s.length,n=e.map((e,s)=>Ei(e)(e,t[s]));return e=>{for(let t=0;t<r;t++)s[t]=n[t](e);return s}}function Pi(e,t){const s=(0,Fe.A)((0,Fe.A)({},e),t),r={};for(const n in s)void 0!==e[n]&&void 0!==t[n]&&(r[n]=Ei(e[n])(e[n],t[n]));return e=>{for(const t in r)s[t]=r[t](e);return s}}const Ti=(e,t)=>{const s=xn.createTransformer(t),r=un(e),n=un(t);return r.indexes.var.length===n.indexes.var.length&&r.indexes.color.length===n.indexes.color.length&&r.indexes.number.length>=n.indexes.number.length?Si.has(e)&&!n.values.length||Si.has(t)&&!r.values.length?function(e,t){return Si.has(e)?s=>s<=0?e:t:s=>s>=1?t:e}(e,t):xi(Ai(function(e,t){const s=[],r={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){var n;const i=t.types[a],l=e.indexes[i][r[i]],o=null!==(n=e.values[l])&&void 0!==n?n:0;s[a]=o,r[i]++}return s}(r,n),n.values),s):("Complex values '".concat(e,"' and '").concat(t,"' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition."),bi(e,t))};function Mi(e,t,s){if("number"===typeof e&&"number"===typeof t&&"number"===typeof s)return Js(e,t,s);return Ei(e)(e,t)}const Li=e=>{const t=t=>{let{timestamp:s}=t;return e(s)};return{start:function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return zr.update(t,e)},stop:()=>_r(t),now:()=>Vr.isProcessing?Vr.timestamp:Ln.now()}},Ri=function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,r="";const n=Math.max(Math.round(t/s),2);for(let a=0;a<n;a++)r+=Math.round(1e4*e(a/(n-1)))/1e4+", ";return"linear(".concat(r.substring(0,r.length-2),")")},Di=2e4;function Ii(e){let t=0;let s=e.next(t);for(;!s.done&&t<Di;)t+=50,s=e.next(t);return t>=Di?1/0:t}function Fi(e,t,s){const r=Math.max(t-5,0);return Fn(s-e(r),t-r)}const zi={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},_i=.001;function Vi(e){let t,s,{duration:r=zi.duration,bounce:n=zi.bounce,velocity:a=zi.velocity,mass:i=zi.mass}=e;fi(zi.maxDuration);let l=1-n;l=ur(zi.minDamping,zi.maxDamping,l),r=ur(zi.minDuration,zi.maxDuration,gi(r)),l<1?(t=e=>{const t=e*l,s=t*r,n=t-a,i=Bi(e,l),o=Math.exp(-s);return _i-n/i*o},s=e=>{const s=e*l*r,n=s*a+a,i=Math.pow(l,2)*Math.pow(e,2)*r,o=Math.exp(-s),c=Bi(Math.pow(e,2),l);return(-t(e)+_i>0?-1:1)*((n-i)*o)/c}):(t=e=>Math.exp(-e*r)*((e-a)*r+1)-.001,s=e=>Math.exp(-e*r)*(r*r*(a-e)));const o=function(e,t,s){let r=s;for(let n=1;n<Oi;n++)r-=e(r)/t(r);return r}(t,s,5/r);if(r=fi(r),isNaN(o))return{stiffness:zi.stiffness,damping:zi.damping,duration:r};{const e=Math.pow(o,2)*i;return{stiffness:e,damping:2*l*Math.sqrt(i*e),duration:r}}}const Oi=12;function Bi(e,t){return e*Math.sqrt(1-t*t)}const Ui=["duration","bounce"],Wi=["stiffness","damping","mass"];function qi(e,t){return t.some(t=>void 0!==e[t])}function Hi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zi.visualDuration,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:zi.bounce;const s="object"!==typeof e?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:n}=s;const a=s.keyframes[0],i=s.keyframes[s.keyframes.length-1],l={done:!1,value:a},{stiffness:o,damping:c,mass:d,duration:u,velocity:m,isResolvedFromDuration:h}=function(e){let t=(0,Fe.A)({velocity:zi.velocity,stiffness:zi.stiffness,damping:zi.damping,mass:zi.mass,isResolvedFromDuration:!1},e);if(!qi(e,Wi)&&qi(e,Ui))if(e.visualDuration){const s=e.visualDuration,r=2*Math.PI/(1.2*s),n=r*r,a=2*ur(.05,1,1-(e.bounce||0))*Math.sqrt(n);t=(0,Fe.A)((0,Fe.A)({},t),{},{mass:zi.mass,stiffness:n,damping:a})}else{const s=Vi(e);t=(0,Fe.A)((0,Fe.A)((0,Fe.A)({},t),s),{},{mass:zi.mass}),t.isResolvedFromDuration=!0}return t}((0,Fe.A)((0,Fe.A)({},s),{},{velocity:-gi(s.velocity||0)})),p=m||0,x=c/(2*Math.sqrt(o*d)),f=i-a,g=gi(Math.sqrt(o/d)),v=Math.abs(f)<5;let y;if(r||(r=v?zi.restSpeed.granular:zi.restSpeed.default),n||(n=v?zi.restDelta.granular:zi.restDelta.default),x<1){const e=Bi(g,x);y=t=>{const s=Math.exp(-x*g*t);return i-s*((p+x*g*f)/e*Math.sin(e*t)+f*Math.cos(e*t))}}else if(1===x)y=e=>i-Math.exp(-g*e)*(f+(p+g*f)*e);else{const e=g*Math.sqrt(x*x-1);y=t=>{const s=Math.exp(-x*g*t),r=Math.min(e*t,300);return i-s*((p+x*g*f)*Math.sinh(r)+e*f*Math.cosh(r))/e}}const b={calculatedDuration:h&&u||null,next:e=>{const t=y(e);if(h)l.done=e>=u;else{let s=0===e?p:0;x<1&&(s=0===e?fi(p):Fi(y,e,t));const a=Math.abs(s)<=r,o=Math.abs(i-t)<=n;l.done=a&&o}return l.value=l.done?i:t,l},toString:()=>{const e=Math.min(Ii(b),Di),t=Ri(t=>b.next(e*t).value,e,30);return e+"ms "+t},toTransition:()=>{}};return b}function $i(e){let{keyframes:t,velocity:s=0,power:r=.8,timeConstant:n=325,bounceDamping:a=10,bounceStiffness:i=500,modifyTarget:l,min:o,max:c,restDelta:d=.5,restSpeed:u}=e;const m=t[0],h={done:!1,value:m},p=e=>void 0===o?c:void 0===c||Math.abs(o-e)<Math.abs(c-e)?o:c;let x=r*s;const f=m+x,g=void 0===l?f:l(f);g!==f&&(x=g-m);const v=e=>-x*Math.exp(-e/n),y=e=>g+v(e),b=e=>{const t=v(e),s=y(e);h.done=Math.abs(t)<=d,h.value=h.done?g:s};let j,w;const N=e=>{(e=>void 0!==o&&e<o||void 0!==c&&e>c)(h.value)&&(j=e,w=Hi({keyframes:[h.value,p(h.value)],velocity:Fi(y,e,h.value),damping:a,stiffness:i,restDelta:d,restSpeed:u}))};return N(0),{calculatedDuration:null,next:e=>{let t=!1;return w||void 0!==j||(t=!0,b(e),N(e)),void 0!==j&&e>=j?w.next(e-j):(!t&&b(e),h)}}}Hi.applyToOptions=e=>{const t=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;const s=(arguments.length>2?arguments[2]:void 0)((0,Fe.A)((0,Fe.A)({},e),{},{keyframes:[0,t]})),r=Math.min(Ii(s),Di);return{type:"keyframes",ease:e=>s.next(r*e).value/t,duration:gi(r)}}(e,100,Hi);return e.ease=t.ease,e.duration=fi(t.duration),e.type="keyframes",e};const Zi=(e,t,s)=>(((1-3*s+3*t)*e+(3*s-6*t))*e+3*t)*e;function Ji(e,t,s,r){if(e===t&&s===r)return Lr;const n=t=>function(e,t,s,r,n){let a,i,l=0;do{i=t+(s-t)/2,a=Zi(i,r,n)-e,a>0?s=i:t=i}while(Math.abs(a)>1e-7&&++l<12);return i}(t,0,1,e,s);return e=>0===e||1===e?e:Zi(n(e),t,r)}const Gi=Ji(.42,0,1,1),Yi=Ji(0,0,.58,1),Xi=Ji(.42,0,.58,1),Ki=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Qi=e=>t=>1-e(1-t),el=Ji(.33,1.53,.69,.99),tl=Qi(el),sl=Ki(tl),rl=e=>(e*=2)<1?.5*tl(e):.5*(2-Math.pow(2,-10*(e-1))),nl=e=>1-Math.sin(Math.acos(e)),al=Qi(nl),il=Ki(nl),ll=e=>Array.isArray(e)&&"number"===typeof e[0],ol={linear:Lr,easeIn:Gi,easeInOut:Xi,easeOut:Yi,circIn:nl,circInOut:il,circOut:al,backIn:tl,backInOut:sl,backOut:el,anticipate:rl},cl=e=>{if(ll(e)){e.length;const[t,s,r,n]=e;return Ji(t,s,r,n)}return"string"===typeof e?("Invalid easing type '".concat(e,"'"),ol[e]):e},dl=(e,t,s)=>{const r=t-e;return 0===r?1:(s-e)/r};function ul(e,t){let{clamp:s=!0,ease:r,mixer:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=e.length;if(t.length,1===a)return()=>t[0];if(2===a&&t[0]===t[1])return()=>t[1];const i=e[0]===e[1];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=function(e,t,s){const r=[],n=s||Rr.mix||Mi,a=e.length-1;for(let i=0;i<a;i++){let s=n(e[i],e[i+1]);if(t){const e=Array.isArray(t)?t[i]||Lr:t;s=xi(e,s)}r.push(s)}return r}(t,r,n),o=l.length,c=s=>{if(i&&s<e[0])return t[0];let r=0;if(o>1)for(;r<e.length-2&&!(s<e[r+1]);r++);const n=dl(e[r],e[r+1],s);return l[r](n)};return s?t=>c(ur(e[0],e[a-1],t)):c}function ml(e){const t=[0];return function(e,t){const s=e[e.length-1];for(let r=1;r<=t;r++){const n=dl(0,t,r);e.push(Js(s,1,n))}}(t,e.length-1),t}function hl(e){let{duration:t=300,keyframes:s,times:r,ease:n="easeInOut"}=e;const a=(e=>Array.isArray(e)&&"number"!==typeof e[0])(n)?n.map(cl):cl(n),i={done:!1,value:s[0]},l=function(e,t){return e.map(e=>e*t)}(r&&r.length===s.length?r:ml(s),t),o=ul(l,s,{ease:Array.isArray(a)?a:(c=s,d=a,c.map(()=>d||Xi).splice(0,c.length-1))});var c,d;return{calculatedDuration:t,next:e=>(i.value=o(e),i.done=e>=t,i)}}const pl=e=>null!==e;function xl(e,t,s){let{repeat:r,repeatType:n="loop"}=t,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;const i=e.filter(pl),l=a<0||r&&"loop"!==n&&r%2===1?0:i.length-1;return l&&void 0!==s?s:i[l]}const fl={decay:$i,inertia:$i,tween:hl,keyframes:hl,spring:Hi};function gl(e){"string"===typeof e.type&&(e.type=fl[e.type])}class vl{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}const yl=e=>e/100;class bl extends vl{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var e,t;const{motionValue:s}=this.options;s&&s.updatedAt!==Ln.now()&&this.tick(Ln.now()),this.isStopped=!0,"idle"!==this.state&&(this.teardown(),null===(e=(t=this.options).onStop)||void 0===e||e.call(t))},vi.mainThread++,this.options=e,this.initAnimation(),this.play(),!1===e.autoplay&&this.pause()}initAnimation(){const{options:e}=this;gl(e);const{type:t=hl,repeat:s=0,repeatDelay:r=0,repeatType:n,velocity:a=0}=e;let{keyframes:i}=e;const l=t||hl;l!==hl&&"number"!==typeof i[0]&&(this.mixKeyframes=xi(yl,Mi(i[0],i[1])),i=[0,100]);const o=l((0,Fe.A)((0,Fe.A)({},e),{},{keyframes:i}));"mirror"===n&&(this.mirroredGenerator=l((0,Fe.A)((0,Fe.A)({},e),{},{keyframes:[...i].reverse(),velocity:-a}))),null===o.calculatedDuration&&(o.calculatedDuration=Ii(o));const{calculatedDuration:c}=o;this.calculatedDuration=c,this.resolvedDuration=c+r,this.totalDuration=this.resolvedDuration*(s+1)-r,this.generator=o}updateTime(e){const t=Math.round(e-this.startTime)*this.playbackSpeed;null!==this.holdTime?this.currentTime=this.holdTime:this.currentTime=t}tick(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{generator:s,totalDuration:r,mixKeyframes:n,mirroredGenerator:a,resolvedDuration:i,calculatedDuration:l}=this;if(null===this.startTime)return s.next(0);const{delay:o=0,keyframes:c,repeat:d,repeatType:u,repeatDelay:m,type:h,onUpdate:p,finalKeyframe:x}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-r/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);const f=this.currentTime-o*(this.playbackSpeed>=0?1:-1),g=this.playbackSpeed>=0?f<0:f>r;this.currentTime=Math.max(f,0),"finished"===this.state&&null===this.holdTime&&(this.currentTime=r);let v=this.currentTime,y=s;if(d){const e=Math.min(this.currentTime,r)/i;let t=Math.floor(e),s=e%1;!s&&e>=1&&(s=1),1===s&&t--,t=Math.min(t,d+1);Boolean(t%2)&&("reverse"===u?(s=1-s,m&&(s-=m/i)):"mirror"===u&&(y=a)),v=ur(0,1,s)*i}const b=g?{done:!1,value:c[0]}:y.next(v);n&&(b.value=n(b.value));let{done:j}=b;g||null===l||(j=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);const w=null===this.holdTime&&("finished"===this.state||"running"===this.state&&j);return w&&h!==$i&&(b.value=xl(c,this.options,x,this.speed)),p&&p(b.value),w&&this.finish(),b}then(e,t){return this.finished.then(e,t)}get duration(){return gi(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+gi(e)}get time(){return gi(this.currentTime)}set time(e){var t;e=fi(e),this.currentTime=e,null===this.startTime||null!==this.holdTime||0===this.playbackSpeed?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),null===(t=this.driver)||void 0===t||t.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Ln.now());const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=gi(this.currentTime))}play(){var e,t;if(this.isStopped)return;const{driver:s=Li,startTime:r}=this.options;this.driver||(this.driver=s(e=>this.tick(e))),null===(e=(t=this.options).onPlay)||void 0===e||e.call(t);const n=this.driver.now();"finished"===this.state?(this.updateFinished(),this.startTime=n):null!==this.holdTime?this.startTime=n-this.holdTime:this.startTime||(this.startTime=null!==r&&void 0!==r?r:n),"finished"===this.state&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Ln.now()),this.holdTime=this.currentTime}complete(){"running"!==this.state&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,t;this.notifyFinished(),this.teardown(),this.state="finished",null===(e=(t=this.options).onComplete)||void 0===e||e.call(t)}cancel(){var e,t;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),null===(e=(t=this.options).onCancel)||void 0===e||e.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null,vi.mainThread--}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var t;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),null===(t=this.driver)||void 0===t||t.stop(),e.observe(this)}}function jl(e){let t;return()=>(void 0===t&&(t=e()),t)}const wl=jl(()=>void 0!==window.ScrollTimeline),Nl={};function kl(e,t){const s=jl(e);return()=>{var e;return null!==(e=Nl[t])&&void 0!==e?e:s()}}const Sl=kl(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(Ke){return!1}return!0},"linearEasing"),Cl=e=>{let[t,s,r,n]=e;return"cubic-bezier(".concat(t,", ").concat(s,", ").concat(r,", ").concat(n,")")},El={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Cl([0,.65,.55,1]),circOut:Cl([.55,0,1,.45]),backIn:Cl([.31,.01,.66,-.59]),backOut:Cl([.33,1.53,.69,.99])};function Al(e,t){return e?"function"===typeof e?Sl()?Ri(e,t):"ease-out":ll(e)?Cl(e):Array.isArray(e)?e.map(e=>Al(e,t)||El.easeOut):El[e]:void 0}function Pl(e,t,s){let{delay:r=0,duration:n=300,repeat:a=0,repeatType:i="loop",ease:l="easeOut",times:o}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;const d={[t]:s};o&&(d.offset=o);const u=Al(l,n);Array.isArray(u)&&(d.easing=u),Ir.value&&vi.waapi++;const m={delay:r,duration:n,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:a+1,direction:"reverse"===i?"alternate":"normal"};c&&(m.pseudoElement=c);const h=e.animate(d,m);return Ir.value&&h.finished.finally(()=>{vi.waapi--}),h}function Tl(e){return"function"===typeof e&&"applyToOptions"in e}const Ml=["type"];class Ll extends vl{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:t,name:s,keyframes:r,pseudoElement:n,allowFlatten:a=!1,finalKeyframe:i,onComplete:l}=e;this.isPseudoElement=Boolean(n),this.allowFlatten=a,this.options=e,e.type;const o=function(e){let{type:t}=e,s=(0,Pn.A)(e,Ml);return Tl(t)&&Sl()?t.applyToOptions(s):(null!==(r=s.duration)&&void 0!==r||(s.duration=300),null!==(n=s.ease)&&void 0!==n||(s.ease="easeOut"),s);var r,n}(e);this.animation=Pl(t,s,r,o,n),!1===o.autoplay&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!n){const e=xl(r,this.options,i,this.speed);this.updateMotionValue?this.updateMotionValue(e):function(e,t,s){(e=>e.startsWith("--"))(t)?e.style.setProperty(t,s):e.style[t]=s}(t,s,e),this.animation.cancel()}null===l||void 0===l||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),"finished"===this.state&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,t;null===(e=(t=this.animation).finish)||void 0===e||e.call(t)}cancel(){try{this.animation.cancel()}catch(Ke){}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;"idle"!==e&&"finished"!==e&&(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,t;this.isPseudoElement||(null===(e=(t=this.animation).commitStyles)||void 0===e||e.call(t))}get duration(){var e,t;const s=(null===(e=this.animation.effect)||void 0===e||null===(t=e.getComputedTiming)||void 0===t?void 0:t.call(e).duration)||0;return gi(Number(s))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+gi(e)}get time(){return gi(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=fi(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return null!==this.finishedTime?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline(e){let{timeline:t,observe:s}=e;var r;this.allowFlatten&&(null===(r=this.animation.effect)||void 0===r||r.updateTiming({easing:"linear"}));return this.animation.onfinish=null,t&&wl()?(this.animation.timeline=t,Lr):s(this)}}const Rl={anticipate:rl,backInOut:sl,circInOut:il};function Dl(e){"string"===typeof e.ease&&e.ease in Rl&&(e.ease=Rl[e.ease])}const Il=["motionValue","onUpdate","onComplete","element"];class Fl extends Ll{constructor(e){Dl(e),gl(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){var t;const s=this.options,{motionValue:r,onUpdate:n,onComplete:a,element:i}=s,l=(0,Pn.A)(s,Il);if(!r)return;if(void 0!==e)return void r.set(e);const o=new bl((0,Fe.A)((0,Fe.A)({},l),{},{autoplay:!1})),c=fi(null!==(t=this.finishedTime)&&void 0!==t?t:this.time);r.setWithVelocity(o.sample(c-10).value,o.sample(c).value,10),o.stop()}}const zl=(e,t)=>"zIndex"!==t&&(!("number"!==typeof e&&!Array.isArray(e))||!("string"!==typeof e||!xn.test(e)&&"0"!==e||e.startsWith("url(")));const _l=new Set(["opacity","clipPath","filter","transform"]),Vl=jl(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));const Ol=["autoplay","delay","type","repeat","repeatDelay","repeatType","keyframes","name","motionValue","element"];class Bl extends vl{constructor(e){var t;let{autoplay:s=!0,delay:r=0,type:n="keyframes",repeat:a=0,repeatDelay:i=0,repeatType:l="loop",keyframes:o,name:c,motionValue:d,element:u}=e,m=(0,Pn.A)(e,Ol);super(),this.stop=()=>{var e,t;this._animation&&(this._animation.stop(),null===(t=this.stopTimeline)||void 0===t||t.call(this));null===(e=this.keyframeResolver)||void 0===e||e.cancel()},this.createdAt=Ln.now();const h=(0,Fe.A)({autoplay:s,delay:r,type:n,repeat:a,repeatDelay:i,repeatType:l,name:c,motionValue:d,element:u},m),p=(null===u||void 0===u?void 0:u.KeyframeResolver)||Zr;this.keyframeResolver=new p(o,(e,t,s)=>this.onKeyframesResolved(e,t,h,!s),c,d,u),null===(t=this.keyframeResolver)||void 0===t||t.scheduleResolve()}onKeyframesResolved(e,t,s,r){this.keyframeResolver=void 0;const{name:n,type:a,velocity:i,delay:l,isHandoff:o,onUpdate:c}=s;this.resolvedAt=Ln.now(),function(e,t,s,r){const n=e[0];if(null===n)return!1;if("display"===t||"visibility"===t)return!0;const a=e[e.length-1],i=zl(n,t),l=zl(a,t);return"You are trying to animate ".concat(t,' from "').concat(n,'" to "').concat(a,'". "').concat(i?a:n,'" is not an animatable value.'),!(!i||!l)&&(function(e){const t=e[0];if(1===e.length)return!0;for(let s=0;s<e.length;s++)if(e[s]!==t)return!0}(e)||("spring"===s||Tl(s))&&r)}(e,n,a,i)||(!Rr.instantAnimations&&l||null===c||void 0===c||c(xl(e,s,t)),e[0]=e[e.length-1],hi(s),s.repeat=0);const d=r?this.resolvedAt&&this.resolvedAt-this.createdAt>40?this.resolvedAt:this.createdAt:void 0,u=(0,Fe.A)((0,Fe.A)({startTime:d,finalKeyframe:t},s),{},{keyframes:e}),m=!o&&function(e){var t;const{motionValue:s,name:r,repeatDelay:n,repeatType:a,damping:i,type:l}=e;if(!((null===s||void 0===s||null===(t=s.owner)||void 0===t?void 0:t.current)instanceof HTMLElement))return!1;const{onUpdate:o,transformTemplate:c}=s.owner.getProps();return Vl()&&r&&_l.has(r)&&("transform"!==r||!c)&&!o&&!n&&"mirror"!==a&&0!==i&&"inertia"!==l}(u)?new Fl((0,Fe.A)((0,Fe.A)({},u),{},{element:u.motionValue.owner.current})):new bl(u);m.finished.then(()=>this.notifyFinished()).catch(Lr),this.pendingTimeline&&(this.stopTimeline=m.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=m}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){var e;this._animation||(null===(e=this.keyframeResolver)||void 0===e||e.resume(),qr=!0,$r(),Hr(),qr=!1);return this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),null===(e=this.keyframeResolver)||void 0===e||e.cancel()}}const Ul=e=>null!==e;const Wl={type:"spring",stiffness:500,damping:25,restSpeed:10},ql={type:"keyframes",duration:.8},Hl={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},$l=(e,t)=>{let{keyframes:s}=t;return s.length>2?ql:Ms.has(e)?e.startsWith("scale")?{type:"spring",stiffness:550,damping:0===s[1]?2*Math.sqrt(550):30,restSpeed:10}:Wl:Hl},Zl=["when","delay","delayChildren","staggerChildren","staggerDirection","repeat","repeatType","repeatDelay","from","elapsed"];const Jl=function(e,t,s){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n=arguments.length>4?arguments[4]:void 0,a=arguments.length>5?arguments[5]:void 0;return i=>{const l=ii(r,e)||{},o=l.delay||r.delay||0;let{elapsed:c=0}=r;c-=fi(o);const d=(0,Fe.A)((0,Fe.A)({keyframes:Array.isArray(s)?s:[null,s],ease:"easeOut",velocity:t.getVelocity()},l),{},{delay:-c,onUpdate:e=>{t.set(e),l.onUpdate&&l.onUpdate(e)},onComplete:()=>{i(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:a?void 0:n});(function(e){let{when:t,delay:s,delayChildren:r,staggerChildren:n,staggerDirection:a,repeat:i,repeatType:l,repeatDelay:o,from:c,elapsed:d}=e,u=(0,Pn.A)(e,Zl);return!!Object.keys(u).length})(l)||Object.assign(d,$l(e,d)),d.duration&&(d.duration=fi(d.duration)),d.repeatDelay&&(d.repeatDelay=fi(d.repeatDelay)),void 0!==d.from&&(d.keyframes[0]=d.from);let u=!1;if((!1===d.type||0===d.duration&&!d.repeatDelay)&&(hi(d),0===d.delay&&(u=!0)),(Rr.instantAnimations||Rr.skipAnimations)&&(u=!0,hi(d),d.delay=0),d.allowFlatten=!l.type&&!l.ease,u&&!a&&void 0!==t.get()){const e=function(e,t,s){let{repeat:r,repeatType:n="loop"}=t;const a=e.filter(Ul),i=r&&"loop"!==n&&r%2===1?0:a.length-1;return i&&void 0!==s?s:a[i]}(d.keyframes,l);if(void 0!==e)return void zr.update(()=>{d.onUpdate(e),d.onComplete()})}return l.isSync?new bl(d):new Bl(d)}},Gl=["transition","transitionEnd"];function Yl(e,t){let{protectedKeys:s,needsAnimating:r}=e;const n=s.hasOwnProperty(t)&&!0!==r[t];return r[t]=!1,n}function Xl(e,t){let{delay:s=0,transitionOverride:r,type:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{transition:a=e.getDefaultTransition(),transitionEnd:i}=t,l=(0,Pn.A)(t,Gl);r&&(a=r);const o=[],c=n&&e.animationState&&e.animationState.getState()[n];for(const u in l){var d;const t=e.getValue(u,null!==(d=e.latestValues[u])&&void 0!==d?d:null),r=l[u];if(void 0===r||c&&Yl(c,u))continue;const n=(0,Fe.A)({delay:s},ii(a||{},u)),i=t.get();if(void 0!==i&&!t.isAnimating&&!Array.isArray(r)&&r===i&&!n.velocity)continue;let m=!1;if(window.MotionHandoffAnimation){const t=mi(e);if(t){const e=window.MotionHandoffAnimation(t,u,zr);null!==e&&(n.startTime=e,m=!0)}}ui(e,u),t.start(Jl(u,t,r,e.shouldReduceMotion&&dr.has(u)?{type:!1}:n,e,m));const h=t.animation;h&&o.push(h)}return i&&Promise.all(o).then(()=>{zr.update(()=>{i&&function(e,t){let s=ai(e,t)||{},{transitionEnd:r={},transition:n={}}=s,a=(0,Pn.A)(s,oi);a=(0,Fe.A)((0,Fe.A)({},a),r);for(const i in a)ci(e,i,di(a[i]))}(e,i)})}),o}function Kl(e,t,s){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;const a=Array.from(e).sort((e,t)=>e.sortNodePosition(t)).indexOf(t),i=e.size,l=(i-1)*r;return"function"===typeof s?s(a,i):1===n?a*r:l-a*r}function Ql(e,t){var s;let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const n=ai(e,t,"exit"===r.type?null===(s=e.presenceContext)||void 0===s?void 0:s.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(a=r.transitionOverride);const i=n?()=>Promise.all(Xl(e,n,r)):()=>Promise.resolve(),l=e.variantChildren&&e.variantChildren.size?function(){let s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const{delayChildren:n=0,staggerChildren:i,staggerDirection:l}=a;return function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,i=arguments.length>6?arguments[6]:void 0;const l=[];for(const o of e.variantChildren)o.notify("AnimationStart",t),l.push(Ql(o,t,(0,Fe.A)((0,Fe.A)({},i),{},{delay:s+("function"===typeof r?0:r)+Kl(e.variantChildren,o,r,n,a)})).then(()=>o.notify("AnimationComplete",t)));return Promise.all(l)}(e,t,s,n,i,l,r)}:()=>Promise.resolve(),{when:o}=a;if(o){const[e,t]="beforeChildren"===o?[i,l]:[l,i];return e().then(()=>t())}return Promise.all([i(),l(r.delay)])}function eo(e,t){if(!Array.isArray(t))return!1;const s=t.length;if(s!==e.length)return!1;for(let r=0;r<s;r++)if(t[r]!==e[r])return!1;return!0}const to=Kn.length;function so(e){if(!e)return;if(!e.isControllingVariants){const t=e.parent&&so(e.parent)||{};return void 0!==e.props.initial&&(t.initial=e.props.initial),t}const t={};for(let s=0;s<to;s++){const r=Kn[s],n=e.props[r];(Yn(n)||!1===n)&&(t[r]=n)}return t}const ro=["transition","transitionEnd"],no=[...Xn].reverse(),ao=Xn.length;function io(e){return t=>Promise.all(t.map(t=>{let{animation:s,options:r}=t;return function(e,t){let s,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e.notify("AnimationStart",t),Array.isArray(t)){const n=t.map(t=>Ql(e,t,r));s=Promise.all(n)}else if("string"===typeof t)s=Ql(e,t,r);else{const n="function"===typeof t?ai(e,t,r.custom):t;s=Promise.all(Xl(e,n,r))}return s.then(()=>{e.notify("AnimationComplete",t)})}(e,s,r)}))}function lo(e){let t=io(e),s=uo(),r=!0;const n=t=>(s,r)=>{var n;const a=ai(e,r,"exit"===t?null===(n=e.presenceContext)||void 0===n?void 0:n.custom:void 0);if(a){const{transition:e,transitionEnd:t}=a,r=(0,Pn.A)(a,ro);s=(0,Fe.A)((0,Fe.A)((0,Fe.A)({},s),r),t)}return s};function a(a){const{props:i}=e,l=so(e.parent)||{},o=[],c=new Set;let d={},u=1/0;for(let t=0;t<ao;t++){const m=no[t],h=s[m],p=void 0!==i[m]?i[m]:l[m],x=Yn(p),f=m===a?h.isActive:null;!1===f&&(u=t);let g=p===l[m]&&p!==i[m]&&x;if(g&&r&&e.manuallyAnimateOnMount&&(g=!1),h.protectedKeys=(0,Fe.A)({},d),!h.isActive&&null===f||!p&&!h.prevProp||Gn(p)||"boolean"===typeof p)continue;const v=oo(h.prevProp,p);let y=v||m===a&&h.isActive&&!g&&x||t>u&&x,b=!1;const j=Array.isArray(p)?p:[p];let w=j.reduce(n(m),{});!1===f&&(w={});const{prevResolvedValues:N={}}=h,k=(0,Fe.A)((0,Fe.A)({},N),w),S=t=>{y=!0,c.has(t)&&(b=!0,c.delete(t)),h.needsAnimating[t]=!0;const s=e.getValue(t);s&&(s.liveStyle=!1)};for(const e in k){const t=w[e],s=N[e];if(d.hasOwnProperty(e))continue;let r=!1;r=li(t)&&li(s)?!eo(t,s):t!==s,r?void 0!==t&&null!==t?S(e):c.add(e):void 0!==t&&c.has(e)?S(e):h.protectedKeys[e]=!0}h.prevProp=p,h.prevResolvedValues=w,h.isActive&&(d=(0,Fe.A)((0,Fe.A)({},d),w)),r&&e.blockInitialAnimation&&(y=!1);const C=g&&v;y&&(!C||b)&&o.push(...j.map(t=>{const s={type:m};if("string"===typeof t&&r&&!C&&e.manuallyAnimateOnMount&&e.parent){const{parent:r}=e,n=ai(r,t);if(r.enteringChildren&&n){const{delayChildren:t}=n.transition||{};s.delay=Kl(r.enteringChildren,e,t)}}return{animation:t,options:s}}))}if(c.size){const t={};if("boolean"!==typeof i.initial){const s=ai(e,Array.isArray(i.initial)?i.initial[0]:i.initial);s&&s.transition&&(t.transition=s.transition)}c.forEach(s=>{const r=e.getBaseTarget(s),n=e.getValue(s);n&&(n.liveStyle=!0),t[s]=null!==r&&void 0!==r?r:null}),o.push({animation:t})}let m=Boolean(o.length);return!r||!1!==i.initial&&i.initial!==i.animate||e.manuallyAnimateOnMount||(m=!1),r=!1,m?t(o):Promise.resolve()}return{animateChanges:a,setActive:function(t,r){var n;if(s[t].isActive===r)return Promise.resolve();null===(n=e.variantChildren)||void 0===n||n.forEach(e=>{var s;return null===(s=e.animationState)||void 0===s?void 0:s.setActive(t,r)}),s[t].isActive=r;const i=a(t);for(const e in s)s[e].protectedKeys={};return i},setAnimateFunction:function(s){t=s(e)},getState:()=>s,reset:()=>{s=uo()}}}function oo(e,t){return"string"===typeof t?t!==e:!!Array.isArray(t)&&!eo(t,e)}function co(){return{isActive:arguments.length>0&&void 0!==arguments[0]&&arguments[0],protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function uo(){return{animate:co(!0),whileInView:co(),whileHover:co(),whileTap:co(),whileDrag:co(),whileFocus:co(),exit:co()}}class mo{constructor(e){this.isMounted=!1,this.node=e}update(){}}let ho=0;const po={animation:{Feature:class extends mo{constructor(e){super(e),e.animationState||(e.animationState=lo(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Gn(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),null===(e=this.unmountControls)||void 0===e||e.call(this)}}},exit:{Feature:class extends mo{constructor(){super(...arguments),this.id=ho++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const r=this.node.animationState.setActive("exit",!e);t&&!e&&r.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}}},xo={x:!1,y:!1};function fo(){return xo.x||xo.y}function go(e,t,s){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{passive:!0};return e.addEventListener(t,s,r),()=>e.removeEventListener(t,s)}const vo=e=>"mouse"===e.pointerType?"number"!==typeof e.button||e.button<=0:!1!==e.isPrimary;function yo(e){return{point:{x:e.pageX,y:e.pageY}}}function bo(e,t,s,r){return go(e,t,(e=>t=>vo(t)&&e(t,yo(t)))(s),r)}function jo(e){return e.max-e.min}function wo(e,t,s){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;e.origin=r,e.originPoint=Js(t.min,t.max,e.origin),e.scale=jo(s)/jo(t),e.translate=Js(s.min,s.max,e.origin)-e.originPoint,(e.scale>=.9999&&e.scale<=1.0001||isNaN(e.scale))&&(e.scale=1),(e.translate>=-.01&&e.translate<=.01||isNaN(e.translate))&&(e.translate=0)}function No(e,t,s,r){wo(e.x,t.x,s.x,r?r.originX:void 0),wo(e.y,t.y,s.y,r?r.originY:void 0)}function ko(e,t,s){e.min=s.min+t.min,e.max=e.min+jo(t)}function So(e,t,s){e.min=t.min-s.min,e.max=e.min+jo(t)}function Co(e,t,s){So(e.x,t.x,s.x),So(e.y,t.y,s.y)}function Eo(e){return[e("x"),e("y")]}const Ao=e=>{let{current:t}=e;return t?t.ownerDocument.defaultView:null},Po=(e,t)=>Math.abs(e-t);class To{constructor(e,t){let{transformPagePoint:s,contextWindow:r=window,dragSnapToOrigin:n=!1,distanceThreshold:a=3}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!this.lastMoveEvent||!this.lastMoveEventInfo)return;const e=Ro(this.lastMoveEventInfo,this.history),t=null!==this.startEvent,s=function(e,t){const s=Po(e.x,t.x),r=Po(e.y,t.y);return Math.sqrt(s**2+r**2)}(e.offset,{x:0,y:0})>=this.distanceThreshold;if(!t&&!s)return;const{point:r}=e,{timestamp:n}=Vr;this.history.push((0,Fe.A)((0,Fe.A)({},r),{},{timestamp:n}));const{onStart:a,onMove:i}=this.handlers;t||(a&&a(this.lastMoveEvent,e),this.startEvent=this.lastMoveEvent),i&&i(this.lastMoveEvent,e)},this.handlePointerMove=(e,t)=>{this.lastMoveEvent=e,this.lastMoveEventInfo=Mo(t,this.transformPagePoint),zr.update(this.updatePoint,!0)},this.handlePointerUp=(e,t)=>{this.end();const{onEnd:s,onSessionEnd:r,resumeAnimation:n}=this.handlers;if(this.dragSnapToOrigin&&n&&n(),!this.lastMoveEvent||!this.lastMoveEventInfo)return;const a=Ro("pointercancel"===e.type?this.lastMoveEventInfo:Mo(t,this.transformPagePoint),this.history);this.startEvent&&s&&s(e,a),r&&r(e,a)},!vo(e))return;this.dragSnapToOrigin=n,this.handlers=t,this.transformPagePoint=s,this.distanceThreshold=a,this.contextWindow=r||window;const i=Mo(yo(e),this.transformPagePoint),{point:l}=i,{timestamp:o}=Vr;this.history=[(0,Fe.A)((0,Fe.A)({},l),{},{timestamp:o})];const{onSessionStart:c}=t;c&&c(e,Ro(i,this.history)),this.removeListeners=xi(bo(this.contextWindow,"pointermove",this.handlePointerMove),bo(this.contextWindow,"pointerup",this.handlePointerUp),bo(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),_r(this.updatePoint)}}function Mo(e,t){return t?{point:t(e.point)}:e}function Lo(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Ro(e,t){let{point:s}=e;return{point:s,delta:Lo(s,Io(t)),offset:Lo(s,Do(t)),velocity:Fo(t,.1)}}function Do(e){return e[0]}function Io(e){return e[e.length-1]}function Fo(e,t){if(e.length<2)return{x:0,y:0};let s=e.length-1,r=null;const n=Io(e);for(;s>=0&&(r=e[s],!(n.timestamp-r.timestamp>fi(t)));)s--;if(!r)return{x:0,y:0};const a=gi(n.timestamp-r.timestamp);if(0===a)return{x:0,y:0};const i={x:(n.x-r.x)/a,y:(n.y-r.y)/a};return i.x===1/0&&(i.x=0),i.y===1/0&&(i.y=0),i}function zo(e,t,s){return{min:void 0!==t?e.min+t:void 0,max:void 0!==s?e.max+s-(e.max-e.min):void 0}}function _o(e,t){let s=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([s,r]=[r,s]),{min:s,max:r}}const Vo=.35;function Oo(e,t,s){return{min:Bo(e,t),max:Bo(e,s)}}function Bo(e,t){return"number"===typeof e?e:e[t]||0}const Uo=new WeakMap;class Wo{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic={x:{min:0,max:0},y:{min:0,max:0}},this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e){let{snapToCursor:t=!1,distanceThreshold:s}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{presenceContext:r}=this.visualElement;if(r&&!1===r.isPresent)return;const{dragSnapToOrigin:n}=this.getProps();this.panSession=new To(e,{onSessionStart:e=>{const{dragSnapToOrigin:s}=this.getProps();s?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(yo(e).point)},onStart:(e,t)=>{const{drag:s,dragPropagation:r,onDragStart:n}=this.getProps();if(s&&!r&&(this.openDragLock&&this.openDragLock(),this.openDragLock="x"===(a=s)||"y"===a?xo[a]?null:(xo[a]=!0,()=>{xo[a]=!1}):xo.x||xo.y?null:(xo.x=xo.y=!0,()=>{xo.x=xo.y=!1}),!this.openDragLock))return;var a;this.latestPointerEvent=e,this.latestPanInfo=t,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Eo(e=>{let t=this.getAxisMotionValue(e).get()||0;if(gr.test(t)){const{projection:s}=this.visualElement;if(s&&s.layout){const r=s.layout.layoutBox[e];if(r){t=jo(r)*(parseFloat(t)/100)}}}this.originPoint[e]=t}),n&&zr.postRender(()=>n(e,t)),ui(this.visualElement,"transform");const{animationState:i}=this.visualElement;i&&i.setActive("whileDrag",!0)},onMove:(e,t)=>{this.latestPointerEvent=e,this.latestPanInfo=t;const{dragPropagation:s,dragDirectionLock:r,onDirectionLock:n,onDrag:a}=this.getProps();if(!s&&!this.openDragLock)return;const{offset:i}=t;if(r&&null===this.currentDirection)return this.currentDirection=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,s=null;Math.abs(e.y)>t?s="y":Math.abs(e.x)>t&&(s="x");return s}(i),void(null!==this.currentDirection&&n&&n(this.currentDirection));this.updateAxis("x",t.point,i),this.updateAxis("y",t.point,i),this.visualElement.render(),a&&a(e,t)},onSessionEnd:(e,t)=>{this.latestPointerEvent=e,this.latestPanInfo=t,this.stop(e,t),this.latestPointerEvent=null,this.latestPanInfo=null},resumeAnimation:()=>Eo(e=>{var t;return"paused"===this.getAnimationState(e)&&(null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.play())})},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:n,distanceThreshold:s,contextWindow:Ao(this.visualElement)})}stop(e,t){const s=e||this.latestPointerEvent,r=t||this.latestPanInfo,n=this.isDragging;if(this.cancel(),!n||!r||!s)return;const{velocity:a}=r;this.startAnimation(a);const{onDragEnd:i}=this.getProps();i&&zr.postRender(()=>i(s,r))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,s){const{drag:r}=this.getProps();if(!s||!qo(e,r,this.currentDirection))return;const n=this.getAxisMotionValue(e);let a=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(a=function(e,t,s){let{min:r,max:n}=t;return void 0!==r&&e<r?e=s?Js(r,e,s.min):Math.max(e,r):void 0!==n&&e>n&&(e=s?Js(n,e,s.max):Math.min(e,n)),e}(a,this.constraints[e],this.elastic[e])),n.set(a)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:s}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):null===(e=this.visualElement.projection)||void 0===e?void 0:e.layout,n=this.constraints;t&&Ya(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!t||!r)&&function(e,t){let{top:s,left:r,bottom:n,right:a}=t;return{x:zo(e.x,r,a),y:zo(e.y,s,n)}}(r.layoutBox,t),this.elastic=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vo;return!1===e?e=0:!0===e&&(e=Vo),{x:Oo(e,"left","right"),y:Oo(e,"top","bottom")}}(s),n!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Eo(e=>{!1!==this.constraints&&this.getAxisMotionValue(e)&&(this.constraints[e]=function(e,t){const s={};return void 0!==t.min&&(s.min=t.min-e.min),void 0!==t.max&&(s.max=t.max-e.min),s}(r.layoutBox[e],this.constraints[e]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Ya(e))return!1;const s=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const n=function(e,t,s){const r=cr(e,s),{scroll:n}=t;return n&&(ir(r.x,n.offset.x),ir(r.y,n.offset.y)),r}(s,r.root,this.visualElement.getTransformPagePoint());let a=function(e,t){return{x:_o(e.x,t.x),y:_o(e.y,t.y)}}(r.layout.layoutBox,n);if(t){const e=t(function(e){let{x:t,y:s}=e;return{top:s.min,right:t.max,bottom:s.max,left:t.min}}(a));this.hasMutatedConstraints=!!e,e&&(a=Zs(e))}return a}startAnimation(e){const{drag:t,dragMomentum:s,dragElastic:r,dragTransition:n,dragSnapToOrigin:a,onDragTransitionEnd:i}=this.getProps(),l=this.constraints||{},o=Eo(i=>{if(!qo(i,t,this.currentDirection))return;let o=l&&l[i]||{};a&&(o={min:0,max:0});const c=r?200:1e6,d=r?40:1e7,u=(0,Fe.A)((0,Fe.A)({type:"inertia",velocity:s?e[i]:0,bounceStiffness:c,bounceDamping:d,timeConstant:750,restDelta:1,restSpeed:10},n),o);return this.startAxisValueAnimation(i,u)});return Promise.all(o).then(i)}startAxisValueAnimation(e,t){const s=this.getAxisMotionValue(e);return ui(this.visualElement,e),s.start(Jl(e,s,0,t,this.visualElement,!1))}stopAnimation(){Eo(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Eo(e=>{var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.pause()})}getAnimationState(e){var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.state}getAxisMotionValue(e){const t="_drag".concat(e.toUpperCase()),s=this.visualElement.getProps(),r=s[t];return r||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){Eo(t=>{const{drag:s}=this.getProps();if(!qo(t,s,this.currentDirection))return;const{projection:r}=this.visualElement,n=this.getAxisMotionValue(t);if(r&&r.layout){const{min:s,max:a}=r.layout.layoutBox[t];n.set(e[t]-Js(s,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:s}=this.visualElement;if(!Ya(t)||!s||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};Eo(e=>{const t=this.getAxisMotionValue(e);if(t&&!1!==this.constraints){const s=t.get();r[e]=function(e,t){let s=.5;const r=jo(e),n=jo(t);return n>r?s=dl(t.min,t.max-r,e.min):r>n&&(s=dl(e.min,e.max-n,t.min)),ur(0,1,s)}({min:s,max:s},this.constraints[e])}});const{transformTemplate:n}=this.visualElement.getProps();this.visualElement.current.style.transform=n?n({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),Eo(t=>{if(!qo(t,e,null))return;const s=this.getAxisMotionValue(t),{min:n,max:a}=this.constraints[t];s.set(Js(n,a,r[t]))})}addListeners(){if(!this.visualElement.current)return;Uo.set(this.visualElement,this);const e=bo(this.visualElement.current,"pointerdown",e=>{const{drag:t,dragListener:s=!0}=this.getProps();t&&s&&this.start(e)}),t=()=>{const{dragConstraints:e}=this.getProps();Ya(e)&&e.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,r=s.addEventListener("measure",t);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),zr.read(t);const n=go(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",e=>{let{delta:t,hasLayoutChanged:s}=e;this.isDragging&&s&&(Eo(e=>{const s=this.getAxisMotionValue(e);s&&(this.originPoint[e]+=t[e].translate,s.set(s.get()+t[e].translate))}),this.visualElement.render())});return()=>{n(),e(),r(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:s=!1,dragPropagation:r=!1,dragConstraints:n=!1,dragElastic:a=Vo,dragMomentum:i=!0}=e;return(0,Fe.A)((0,Fe.A)({},e),{},{drag:t,dragDirectionLock:s,dragPropagation:r,dragConstraints:n,dragElastic:a,dragMomentum:i})}}function qo(e,t,s){return(!0===t||t===e)&&(null===s||s===e)}const Ho=e=>(t,s)=>{e&&zr.postRender(()=>e(t,s))};const $o={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Zo(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Jo={correct:(e,t)=>{if(!t.target)return e;if("string"===typeof e){if(!vr.test(e))return e;e=parseFloat(e)}const s=Zo(e,t.target.x),r=Zo(e,t.target.y);return"".concat(s,"% ").concat(r,"%")}},Go={correct:(e,t)=>{let{treeScale:s,projectionDelta:r}=t;const n=e,a=xn.parse(e);if(a.length>5)return n;const i=xn.createTransformer(e),l="number"!==typeof a[0]?1:0,o=r.x.scale*s.x,c=r.y.scale*s.y;a[0+l]/=o,a[1+l]/=c;const d=Js(o,c,.5);return"number"===typeof a[2+l]&&(a[2+l]/=d),"number"===typeof a[3+l]&&(a[3+l]/=d),i(a)}};let Yo=!1;class Xo extends t.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:s,layoutId:r}=this.props,{projection:n}=e;!function(e){for(const t in e)ma[t]=e[t],Ws(t)&&(ma[t].isCSSVariable=!0)}(Qo),n&&(t.group&&t.group.add(n),s&&s.register&&r&&s.register(n),Yo&&n.root.didUpdate(),n.addEventListener("animationComplete",()=>{this.safeToRemove()}),n.setOptions((0,Fe.A)((0,Fe.A)({},n.options),{},{onExitComplete:()=>this.safeToRemove()}))),$o.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:s,drag:r,isPresent:n}=this.props,{projection:a}=s;return a?(a.isPresent=n,Yo=!0,r||e.layoutDependency!==t||void 0===t||e.isPresent!==n?a.willUpdate():this.safeToRemove(),e.isPresent!==n&&(n?a.promote():a.relegate()||zr.postRender(()=>{const e=a.getStack();e&&e.members.length||this.safeToRemove()})),null):null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Bn.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:s}=this.props,{projection:r}=e;Yo=!0,r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),s&&s.deregister&&s.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Ko(e){const[s,r]=Ze(),n=(0,t.useContext)(Le);return(0,Me.jsx)(Xo,(0,Fe.A)((0,Fe.A)({},e),{},{layoutGroup:n,switchLayoutGroup:(0,t.useContext)(Qa),isPresent:s,safeToRemove:r}))}const Qo={borderRadius:(0,Fe.A)((0,Fe.A)({},Jo),{},{applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]}),borderTopLeftRadius:Jo,borderTopRightRadius:Jo,borderBottomLeftRadius:Jo,borderBottomRightRadius:Jo,boxShadow:Go};function ec(e){return _e(e)&&"ownerSVGElement"in e}const tc=(e,t)=>e.depth-t.depth;class sc{constructor(){this.children=[],this.isDirty=!1}add(e){Rn(this.children,e),this.isDirty=!0}remove(e){Dn(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(tc),this.isDirty=!1,this.children.forEach(e)}}function rc(e,t){const s=Ln.now(),r=n=>{let{timestamp:a}=n;const i=a-s;i>=t&&(_r(r),e(i-t))};return zr.setup(r,!0),()=>_r(r)}const nc=["TopLeft","TopRight","BottomLeft","BottomRight"],ac=nc.length,ic=e=>"string"===typeof e?parseFloat(e):e,lc=e=>"number"===typeof e||vr.test(e);function oc(e,t){return void 0!==e[t]?e[t]:e.borderRadius}const cc=uc(0,.5,al),dc=uc(.5,.95,Lr);function uc(e,t,s){return r=>r<e?0:r>t?1:s(dl(e,t,r))}function mc(e,t){e.min=t.min,e.max=t.max}function hc(e,t){mc(e.x,t.x),mc(e.y,t.y)}function pc(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function xc(e,t,s,r,n){return e=er(e-=t,1/s,r),void 0!==n&&(e=er(e,1/n,r)),e}function fc(e,t,s,r,n){let[a,i,l]=s;!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,n=arguments.length>4?arguments[4]:void 0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:e,i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:e;gr.test(t)&&(t=parseFloat(t),t=Js(i.min,i.max,t/100)-i.min);if("number"!==typeof t)return;let l=Js(a.min,a.max,r);e===a&&(l-=t),e.min=xc(e.min,t,s,l,n),e.max=xc(e.max,t,s,l,n)}(e,t[a],t[i],t[l],t.scale,r,n)}const gc=["x","scaleX","originX"],vc=["y","scaleY","originY"];function yc(e,t,s,r){fc(e.x,t,gc,s?s.x:void 0,r?r.x:void 0),fc(e.y,t,vc,s?s.y:void 0,r?r.y:void 0)}function bc(e){return 0===e.translate&&1===e.scale}function jc(e){return bc(e.x)&&bc(e.y)}function wc(e,t){return e.min===t.min&&e.max===t.max}function Nc(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function kc(e,t){return Nc(e.x,t.x)&&Nc(e.y,t.y)}function Sc(e){return jo(e.x)/jo(e.y)}function Cc(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class Ec{constructor(){this.members=[]}add(e){Rn(this.members,e),e.scheduleRender()}remove(e){if(Dn(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(e){const t=this.members.findIndex(t=>e===t);if(0===t)return!1;let s;for(let r=t;r>=0;r--){const e=this.members[r];if(!1!==e.isPresent){s=e;break}}return!!s&&(this.promote(s),!0)}promote(e,t){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,t&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;!1===r&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:s}=e;t.onExitComplete&&t.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Ac={nodes:0,calculatedTargetDeltas:0,calculatedProjections:0},Pc=["","X","Y","Z"];let Tc=0;function Mc(e,t,s,r){const{latestValues:n}=t;n[e]&&(s[e]=n[e],t.setStaticValue(e,0),r&&(r[e]=0))}function Lc(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const s=mi(t);if(window.MotionHasOptimisedAnimation(s,"transform")){const{layout:t,layoutId:r}=e.options;window.MotionCancelOptimisedAnimation(s,"transform",zr,!(t||r))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&Lc(r)}function Rc(e){let{attachResizeListener:t,defaultParent:s,measureScroll:r,checkIsScrollRoot:n,resetTransform:a}=e;return class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===s||void 0===s?void 0:s();this.id=Tc++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Ir.value&&(Ac.nodes=Ac.calculatedTargetDeltas=Ac.calculatedProjections=0),this.nodes.forEach(Fc),this.nodes.forEach(Wc),this.nodes.forEach(qc),this.nodes.forEach(zc),Ir.addProjectionMetrics&&Ir.addProjectionMetrics(Ac)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=e,this.root=t?t.root||t:this,this.path=t?[...t.path,t]:[],this.parent=t,this.depth=t?t.depth+1:0;for(let s=0;s<this.path.length;s++)this.path[s].shouldResetTransform=!0;this.root===this&&(this.nodes=new sc)}addEventListener(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new In),this.eventHandlers.get(e).add(t)}notifyListeners(e){const t=this.eventHandlers.get(e);for(var s=arguments.length,r=new Array(s>1?s-1:0),n=1;n<s;n++)r[n-1]=arguments[n];t&&t.notify(...r)}hasListeners(e){return this.eventHandlers.has(e)}mount(e){if(this.instance)return;var s;this.isSVG=ec(e)&&!(ec(s=e)&&"svg"===s.tagName),this.instance=e;const{layoutId:r,layout:n,visualElement:a}=this.options;if(a&&!a.current&&a.mount(e),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(n||r)&&(this.isLayoutDirty=!0),t){let s,r=0;const n=()=>this.root.updateBlockedByResize=!1;zr.read(()=>{r=window.innerWidth}),t(e,()=>{const e=window.innerWidth;e!==r&&(r=e,this.root.updateBlockedByResize=!0,s&&s(),s=rc(n,250),$o.hasAnimatedSinceResize&&($o.hasAnimatedSinceResize=!1,this.nodes.forEach(Uc)))})}r&&this.root.registerSharedNode(r,this),!1!==this.options.animate&&a&&(r||n)&&this.addEventListener("didUpdate",e=>{let{delta:t,hasLayoutChanged:s,hasRelativeLayoutChanged:r,layout:n}=e;if(this.isTreeAnimationBlocked())return this.target=void 0,void(this.relativeTarget=void 0);const i=this.options.transition||a.getDefaultTransition()||Yc,{onLayoutAnimationStart:l,onLayoutAnimationComplete:o}=a.getProps(),c=!this.targetLayout||!kc(this.targetLayout,n),d=!s&&r;if(this.options.layoutRoot||this.resumeFrom||d||s&&(c||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const e=(0,Fe.A)((0,Fe.A)({},ii(i,"layout")),{},{onPlay:l,onComplete:o});(a.shouldReduceMotion||this.options.layoutRoot)&&(e.delay=0,e.type=!1),this.startAnimation(e),this.setAnimationOrigin(t,d)}else s||Uc(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=n})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),_r(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Hc),this.animationId++)}getTransformTemplate(){const{visualElement:e}=this.options;return e&&e.getProps().transformTemplate}willUpdate(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked())return void(this.options.onExitComplete&&this.options.onExitComplete());if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Lc(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let n=0;n<this.path.length;n++){const e=this.path[n];e.shouldResetTransform=!0,e.updateScroll("snapshot"),e.options.layoutRoot&&e.willUpdate(!1)}const{layoutId:t,layout:s}=this.options;if(void 0===t&&!s)return;const r=this.getTransformTemplate();this.prevTransformTemplateValue=r?r(this.latestValues,""):void 0,this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}update(){this.updateScheduled=!1;if(this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(Vc);if(this.animationId<=this.animationCommitId)return void this.nodes.forEach(Oc);this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Bc),this.nodes.forEach(Dc),this.nodes.forEach(Ic)):this.nodes.forEach(Oc),this.clearAllSnapshots();const e=Ln.now();Vr.delta=ur(0,1e3/60,e-Vr.timestamp),Vr.timestamp=e,Vr.isProcessing=!0,Or.update.process(Vr),Or.preRender.process(Vr),Or.render.process(Vr),Vr.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Bn.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(_c),this.sharedNodes.forEach($c)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,zr.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){zr.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure(),!this.snapshot||jo(this.snapshot.measuredBox.x)||jo(this.snapshot.measuredBox.y)||(this.snapshot=void 0))}updateLayout(){if(!this.instance)return;if(this.updateScroll(),(!this.options.alwaysMeasureLayout||!this.isLead())&&!this.isLayoutDirty)return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let s=0;s<this.path.length;s++){this.path[s].updateScroll()}const e=this.layout;this.layout=this.measure(!1),this.layoutCorrected={x:{min:0,max:0},y:{min:0,max:0}},this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:t}=this.options;t&&t.notify("LayoutMeasure",this.layout.layoutBox,e?e.layoutBox:void 0)}updateScroll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"measure",t=Boolean(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t&&this.instance){const t=n(this.instance);this.scroll={animationId:this.root.animationId,phase:e,isRoot:t,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:t}}}resetTransform(){if(!a)return;const e=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,t=this.projectionDelta&&!jc(this.projectionDelta),s=this.getTransformTemplate(),r=s?s(this.latestValues,""):void 0,n=r!==this.prevTransformTemplateValue;e&&this.instance&&(t||Xs(this.latestValues)||n)&&(a(this.instance,r),this.shouldResetTransform=!1,this.scheduleRender())}measure(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=this.measurePageBox();let s=this.removeElementScroll(t);var r;return e&&(s=this.removeTransform(s)),Qc((r=s).x),Qc(r.y),{animationId:this.root.animationId,measuredBox:t,layoutBox:s,latestValues:{},source:this.id}}measurePageBox(){var e;const{visualElement:t}=this.options;if(!t)return{x:{min:0,max:0},y:{min:0,max:0}};const s=t.measureViewportBox();if(!((null===(e=this.scroll)||void 0===e?void 0:e.wasRoot)||this.path.some(td))){const{scroll:e}=this.root;e&&(ir(s.x,e.offset.x),ir(s.y,e.offset.y))}return s}removeElementScroll(e){var t;const s={x:{min:0,max:0},y:{min:0,max:0}};if(hc(s,e),null!==(t=this.scroll)&&void 0!==t&&t.wasRoot)return s;for(let r=0;r<this.path.length;r++){const t=this.path[r],{scroll:n,options:a}=t;t!==this.root&&n&&a.layoutScroll&&(n.wasRoot&&hc(s,e),ir(s.x,n.offset.x),ir(s.y,n.offset.y))}return s}applyTransform(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const s={x:{min:0,max:0},y:{min:0,max:0}};hc(s,e);for(let r=0;r<this.path.length;r++){const e=this.path[r];!t&&e.options.layoutScroll&&e.scroll&&e!==e.root&&or(s,{x:-e.scroll.offset.x,y:-e.scroll.offset.y}),Xs(e.latestValues)&&or(s,e.latestValues)}return Xs(this.latestValues)&&or(s,this.latestValues),s}removeTransform(e){const t={x:{min:0,max:0},y:{min:0,max:0}};hc(t,e);for(let s=0;s<this.path.length;s++){const e=this.path[s];if(!e.instance)continue;if(!Xs(e.latestValues))continue;Ys(e.latestValues)&&e.updateSnapshot();const r=Hn();hc(r,e.measurePageBox()),yc(t,e.latestValues,e.snapshot?e.snapshot.layoutBox:void 0,r)}return Xs(this.latestValues)&&yc(t,this.latestValues),t}setTargetDelta(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(e){this.options=(0,Fe.A)((0,Fe.A)((0,Fe.A)({},this.options),e),{},{crossfade:void 0===e.crossfade||e.crossfade})}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Vr.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(){var e;let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const s=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=s.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=s.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=s.isSharedProjectionDirty);const r=Boolean(this.resumingFrom)||this!==s;if(!(t||r&&this.isSharedProjectionDirty||this.isProjectionDirty||null!==(e=this.parent)&&void 0!==e&&e.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:n,layoutId:a}=this.options;if(this.layout&&(n||a)){if(this.resolvedRelativeTargetAt=Vr.timestamp,!this.targetDelta&&!this.relativeTarget){const e=this.getClosestProjectingParent();e&&e.layout&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},Co(this.relativeTargetOrigin,this.layout.layoutBox,e.layout.layoutBox),hc(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(this.relativeTarget||this.targetDelta){var i,l,o;if(this.target||(this.target={x:{min:0,max:0},y:{min:0,max:0}},this.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}}),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),i=this.target,l=this.relativeTarget,o=this.relativeParent.target,ko(i.x,l.x,o.x),ko(i.y,l.y,o.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):hc(this.target,this.layout.layoutBox),rr(this.target,this.targetDelta)):hc(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const e=this.getClosestProjectingParent();e&&Boolean(e.resumingFrom)===Boolean(this.resumingFrom)&&!e.options.layoutScroll&&e.target&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},Co(this.relativeTargetOrigin,this.target,e.target),hc(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Ir.value&&Ac.calculatedTargetDeltas++}}}getClosestProjectingParent(){if(this.parent&&!Ys(this.parent.latestValues)&&!Ks(this.parent.latestValues))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var e;const t=this.getLead(),s=Boolean(this.resumingFrom)||this!==t;let r=!0;if((this.isProjectionDirty||null!==(e=this.parent)&&void 0!==e&&e.isProjectionDirty)&&(r=!1),s&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(r=!1),this.resolvedRelativeTargetAt===Vr.timestamp&&(r=!1),r)return;const{layout:n,layoutId:a}=this.options;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!n&&!a)return;hc(this.layoutCorrected,this.layout.layoutBox);const i=this.treeScale.x,l=this.treeScale.y;!function(e,t,s){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const n=s.length;if(!n)return;let a,i;t.x=t.y=1;for(let l=0;l<n;l++){a=s[l],i=a.projectionDelta;const{visualElement:n}=a.options;n&&n.props.style&&"contents"===n.props.style.display||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&or(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),i&&(t.x*=i.x.scale,t.y*=i.y.scale,rr(e,i)),r&&Xs(a.latestValues)&&or(e,a.latestValues))}t.x<ar&&t.x>nr&&(t.x=1),t.y<ar&&t.y>nr&&(t.y=1)}(this.layoutCorrected,this.treeScale,this.path,s),!t.layout||t.target||1===this.treeScale.x&&1===this.treeScale.y||(t.target=t.layout.layoutBox,t.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}});const{target:o}=t;o?(this.projectionDelta&&this.prevProjectionDelta?(pc(this.prevProjectionDelta.x,this.projectionDelta.x),pc(this.prevProjectionDelta.y,this.projectionDelta.y)):this.createProjectionDeltas(),No(this.projectionDelta,this.layoutCorrected,o,this.latestValues),this.treeScale.x===i&&this.treeScale.y===l&&Cc(this.projectionDelta.x,this.prevProjectionDelta.x)&&Cc(this.projectionDelta.y,this.prevProjectionDelta.y)||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",o)),Ir.value&&Ac.calculatedProjections++):this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender())}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(){var e;let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(null===(e=this.options.visualElement)||void 0===e||e.scheduleRender(),t){const e=this.getStack();e&&e.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDeltaWithTransform={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}}}setAnimationOrigin(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const s=this.snapshot,r=s?s.latestValues:{},n=(0,Fe.A)({},this.latestValues),a={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!t;const i={x:{min:0,max:0},y:{min:0,max:0}},l=(s?s.source:void 0)!==(this.layout?this.layout.source:void 0),o=this.getStack(),c=!o||o.members.length<=1,d=Boolean(l&&!c&&!0===this.options.crossfade&&!this.path.some(Gc));let u;this.animationProgress=0,this.mixTargetDelta=t=>{const s=t/1e3;Zc(a.x,e.x,s),Zc(a.y,e.y,s),this.setTargetDelta(a),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Co(i,this.layout.layoutBox,this.relativeParent.layout.layoutBox),function(e,t,s,r){Jc(e.x,t.x,s.x,r),Jc(e.y,t.y,s.y,r)}(this.relativeTarget,this.relativeTargetOrigin,i,s),u&&function(e,t){return wc(e.x,t.x)&&wc(e.y,t.y)}(this.relativeTarget,u)&&(this.isProjectionDirty=!1),u||(u={x:{min:0,max:0},y:{min:0,max:0}}),hc(u,this.relativeTarget)),l&&(this.animationValues=n,function(e,t,s,r,n,a){var i,l;if(n)e.opacity=Js(0,null!==(i=s.opacity)&&void 0!==i?i:1,cc(r)),e.opacityExit=Js(null!==(l=t.opacity)&&void 0!==l?l:1,0,dc(r));else if(a){var o,c;e.opacity=Js(null!==(o=t.opacity)&&void 0!==o?o:1,null!==(c=s.opacity)&&void 0!==c?c:1,r)}for(let d=0;d<ac;d++){const n="border".concat(nc[d],"Radius");let a=oc(t,n),i=oc(s,n);void 0===a&&void 0===i||(a||(a=0),i||(i=0),0===a||0===i||lc(a)===lc(i)?(e[n]=Math.max(Js(ic(a),ic(i),r),0),(gr.test(i)||gr.test(a))&&(e[n]+="%")):e[n]=i)}(t.rotate||s.rotate)&&(e.rotate=Js(t.rotate||0,s.rotate||0,r))}(n,r,this.latestValues,s,d,c)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=s},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(e){var t,s;this.notifyListeners("animationStart"),null===(t=this.currentAnimation)||void 0===t||t.stop(),null===(s=this.resumingFrom)||void 0===s||null===(s=s.currentAnimation)||void 0===s||s.stop(),this.pendingAnimation&&(_r(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=zr.update(()=>{$o.hasAnimatedSinceResize=!0,vi.layout++,this.motionValue||(this.motionValue=Vn(0)),this.currentAnimation=function(e,t,s){const r=An(e)?e:Vn(e);return r.start(Jl("",r,t,s)),r.animation}(this.motionValue,[0,1e3],(0,Fe.A)((0,Fe.A)({},e),{},{velocity:0,isSync:!0,onUpdate:t=>{this.mixTargetDelta(t),e.onUpdate&&e.onUpdate(t)},onStop:()=>{vi.layout--},onComplete:()=>{vi.layout--,e.onComplete&&e.onComplete(),this.completeAnimation()}})),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const e=this.getLead();let{targetWithTransforms:t,target:s,layout:r,latestValues:n}=e;if(t&&s&&r){if(this!==e&&this.layout&&r&&ed(this.options.animationType,this.layout.layoutBox,r.layoutBox)){s=this.target||{x:{min:0,max:0},y:{min:0,max:0}};const t=jo(this.layout.layoutBox.x);s.x.min=e.target.x.min,s.x.max=s.x.min+t;const r=jo(this.layout.layoutBox.y);s.y.min=e.target.y.min,s.y.max=s.y.min+r}hc(t,s),or(t,n),No(this.projectionDeltaWithTransform,this.layoutCorrected,t,n)}}registerSharedNode(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new Ec);this.sharedNodes.get(e).add(t);const s=t.options.initialPromotionConfig;t.promote({transition:s?s.transition:void 0,preserveFollowOpacity:s&&s.shouldPreserveFollowOpacity?s.shouldPreserveFollowOpacity(t):void 0})}isLead(){const e=this.getStack();return!e||e.lead===this}getLead(){var e;const{layoutId:t}=this.options;return t&&(null===(e=this.getStack())||void 0===e?void 0:e.lead)||this}getPrevLead(){var e;const{layoutId:t}=this.options;return t?null===(e=this.getStack())||void 0===e?void 0:e.prevLead:void 0}getStack(){const{layoutId:e}=this.options;if(e)return this.root.sharedNodes.get(e)}promote(){let{needsReset:e,transition:t,preserveFollowOpacity:s}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=this.getStack();r&&r.promote(this,s),e&&(this.projectionDelta=void 0,this.needsReset=!0),t&&this.setOptions({transition:t})}relegate(){const e=this.getStack();return!!e&&e.relegate(this)}resetSkewAndRotation(){const{visualElement:e}=this.options;if(!e)return;let t=!1;const{latestValues:s}=e;if((s.z||s.rotate||s.rotateX||s.rotateY||s.rotateZ||s.skewX||s.skewY)&&(t=!0),!t)return;const r={};s.z&&Mc("z",e,r,this.animationValues);for(let n=0;n<Pc.length;n++)Mc("rotate".concat(Pc[n]),e,r,this.animationValues),Mc("skew".concat(Pc[n]),e,r,this.animationValues);e.render();for(const n in r)e.setStaticValue(n,r[n]),this.animationValues&&(this.animationValues[n]=r[n]);e.scheduleRender()}applyProjectionStyles(e,t){if(!this.instance||this.isSVG)return;if(!this.isVisible)return void(e.visibility="hidden");const s=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,e.visibility="",e.opacity="",e.pointerEvents=Wa(null===t||void 0===t?void 0:t.pointerEvents)||"",void(e.transform=s?s(this.latestValues,""):"none");const r=this.getLead();if(!this.projectionDelta||!this.layout||!r.target)return this.options.layoutId&&(e.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,e.pointerEvents=Wa(null===t||void 0===t?void 0:t.pointerEvents)||""),void(this.hasProjected&&!Xs(this.latestValues)&&(e.transform=s?s({},""):"none",this.hasProjected=!1));e.visibility="";const n=r.animationValues||r.latestValues;this.applyTransformsToTarget();let a=function(e,t,s){let r="";const n=e.x.translate/t.x,a=e.y.translate/t.y,i=(null===s||void 0===s?void 0:s.z)||0;if((n||a||i)&&(r="translate3d(".concat(n,"px, ").concat(a,"px, ").concat(i,"px) ")),1===t.x&&1===t.y||(r+="scale(".concat(1/t.x,", ").concat(1/t.y,") ")),s){const{transformPerspective:e,rotate:t,rotateX:n,rotateY:a,skewX:i,skewY:l}=s;e&&(r="perspective(".concat(e,"px) ").concat(r)),t&&(r+="rotate(".concat(t,"deg) ")),n&&(r+="rotateX(".concat(n,"deg) ")),a&&(r+="rotateY(".concat(a,"deg) ")),i&&(r+="skewX(".concat(i,"deg) ")),l&&(r+="skewY(".concat(l,"deg) "))}const l=e.x.scale*t.x,o=e.y.scale*t.y;return 1===l&&1===o||(r+="scale(".concat(l,", ").concat(o,")")),r||"none"}(this.projectionDeltaWithTransform,this.treeScale,n);s&&(a=s(n,a)),e.transform=a;const{x:i,y:l}=this.projectionDelta;var o,c;(e.transformOrigin="".concat(100*i.origin,"% ").concat(100*l.origin,"% 0"),r.animationValues)?e.opacity=r===this?null!==(o=null!==(c=n.opacity)&&void 0!==c?c:this.latestValues.opacity)&&void 0!==o?o:1:this.preserveOpacity?this.latestValues.opacity:n.opacityExit:e.opacity=r===this?void 0!==n.opacity?n.opacity:"":void 0!==n.opacityExit?n.opacityExit:0;for(const d in ma){if(void 0===n[d])continue;const{correct:t,applyTo:s,isCSSVariable:i}=ma[d],l="none"===a?n[d]:t(n[d],r);if(s){const t=s.length;for(let r=0;r<t;r++)e[s[r]]=l}else i?this.options.visualElement.renderState.vars[d]=l:e[d]=l}this.options.layoutId&&(e.pointerEvents=r===this?Wa(null===t||void 0===t?void 0:t.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(e=>{var t;return null===(t=e.currentAnimation)||void 0===t?void 0:t.stop()}),this.root.nodes.forEach(Vc),this.root.sharedNodes.clear()}}}function Dc(e){e.updateLayout()}function Ic(e){var t;const s=(null===(t=e.resumeFrom)||void 0===t?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&s&&e.hasListeners("didUpdate")){const{layoutBox:t,measuredBox:r}=e.layout,{animationType:n}=e.options,a=s.source!==e.layout.source;"size"===n?Eo(e=>{const r=a?s.measuredBox[e]:s.layoutBox[e],n=jo(r);r.min=t[e].min,r.max=r.min+n}):ed(n,s.layoutBox,t)&&Eo(r=>{const n=a?s.measuredBox[r]:s.layoutBox[r],i=jo(t[r]);n.max=n.min+i,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[r].max=e.relativeTarget[r].min+i)});const i={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};No(i,t,s.layoutBox);const l={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};a?No(l,e.applyTransform(r,!0),s.measuredBox):No(l,t,s.layoutBox);const o=!jc(i);let c=!1;if(!e.resumeFrom){const r=e.getClosestProjectingParent();if(r&&!r.resumeFrom){const{snapshot:n,layout:a}=r;if(n&&a){const i={x:{min:0,max:0},y:{min:0,max:0}};Co(i,s.layoutBox,n.layoutBox);const l={x:{min:0,max:0},y:{min:0,max:0}};Co(l,t,a.layoutBox),kc(i,l)||(c=!0),r.options.layoutRoot&&(e.relativeTarget=l,e.relativeTargetOrigin=i,e.relativeParent=r)}}}e.notifyListeners("didUpdate",{layout:t,snapshot:s,delta:l,layoutDelta:i,hasLayoutChanged:o,hasRelativeLayoutChanged:c})}else if(e.isLead()){const{onExitComplete:t}=e.options;t&&t()}e.options.transition=void 0}function Fc(e){Ir.value&&Ac.nodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=Boolean(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function zc(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function _c(e){e.clearSnapshot()}function Vc(e){e.clearMeasurements()}function Oc(e){e.isLayoutDirty=!1}function Bc(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Uc(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Wc(e){e.resolveTargetDelta()}function qc(e){e.calcProjection()}function Hc(e){e.resetSkewAndRotation()}function $c(e){e.removeLeadSnapshot()}function Zc(e,t,s){e.translate=Js(t.translate,0,s),e.scale=Js(t.scale,1,s),e.origin=t.origin,e.originPoint=t.originPoint}function Jc(e,t,s,r){e.min=Js(t.min,s.min,r),e.max=Js(t.max,s.max,r)}function Gc(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}const Yc={duration:.45,ease:[.4,0,.1,1]},Xc=e=>"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),Kc=Xc("applewebkit/")&&!Xc("chrome/")?Math.round:Lr;function Qc(e){e.min=Kc(e.min),e.max=Kc(e.max)}function ed(e,t,s){return"position"===e||"preserve-aspect"===e&&(r=Sc(t),n=Sc(s),a=.2,!(Math.abs(r-n)<=a));var r,n,a}function td(e){var t;return e!==e.root&&(null===(t=e.scroll)||void 0===t?void 0:t.wasRoot)}const sd=Rc({attachResizeListener:(e,t)=>go(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),rd={current:void 0},nd=Rc({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!rd.current){const e=new sd({});e.mount(window),e.setOptions({layoutScroll:!0}),rd.current=e}return rd.current},resetTransform:(e,t)=>{e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:e=>Boolean("fixed"===window.getComputedStyle(e).position)}),ad={pan:{Feature:class extends mo{constructor(){super(...arguments),this.removePointerDownListener=Lr}onPointerDown(e){this.session=new To(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Ao(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:s,onPanEnd:r}=this.node.getProps();return{onSessionStart:Ho(e),onStart:Ho(t),onMove:s,onEnd:(e,t)=>{delete this.session,r&&zr.postRender(()=>r(e,t))}}}mount(){this.removePointerDownListener=bo(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class extends mo{constructor(e){super(e),this.removeGroupControls=Lr,this.removeListeners=Lr,this.controls=new Wo(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Lr}unmount(){this.removeGroupControls(),this.removeListeners()}},ProjectionNode:nd,MeasureLayout:Ko}};function id(e,t,s){if(e instanceof EventTarget)return[e];if("string"===typeof e){var r;let n=document;t&&(n=t.current);const a=null!==(r=null===s||void 0===s?void 0:s[e])&&void 0!==r?r:n.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e)}function ld(e,t){const s=id(e),r=new AbortController;return[s,(0,Fe.A)((0,Fe.A)({passive:!0},t),{},{signal:r.signal}),()=>r.abort()]}function od(e){return!("touch"===e.pointerType||fo())}function cd(e,t,s){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover","Start"===s);const n=r["onHover"+s];n&&zr.postRender(()=>n(t,yo(t)))}const dd=(e,t)=>!!t&&(e===t||dd(e,t.parentElement)),ud=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);const md=new WeakSet;function hd(e){return t=>{"Enter"===t.key&&e(t)}}function pd(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}function xd(e){return vo(e)&&!fo()}function fd(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const[r,n,a]=ld(e,s),i=e=>{const r=e.currentTarget;if(!xd(e))return;md.add(r);const a=t(r,e),i=(e,t)=>{window.removeEventListener("pointerup",l),window.removeEventListener("pointercancel",o),md.has(r)&&md.delete(r),xd(e)&&"function"===typeof a&&a(e,{success:t})},l=e=>{i(e,r===window||r===document||s.useGlobalTarget||dd(r,e.target))},o=e=>{i(e,!1)};window.addEventListener("pointerup",l,n),window.addEventListener("pointercancel",o,n)};return r.forEach(e=>{var t;(s.useGlobalTarget?window:e).addEventListener("pointerdown",i,n),Ve(e)&&(e.addEventListener("focus",e=>((e,t)=>{const s=e.currentTarget;if(!s)return;const r=hd(()=>{if(md.has(s))return;pd(s,"down");const e=hd(()=>{pd(s,"up")});s.addEventListener("keyup",e,t),s.addEventListener("blur",()=>pd(s,"cancel"),t)});s.addEventListener("keydown",r,t),s.addEventListener("blur",()=>s.removeEventListener("keydown",r),t)})(e,n)),t=e,ud.has(t.tagName)||-1!==t.tabIndex||e.hasAttribute("tabindex")||(e.tabIndex=0))}),a}function gd(e,t,s){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap","Start"===s);const n=r["onTap"+("End"===s?"":s)];n&&zr.postRender(()=>n(t,yo(t)))}const vd=["root"],yd=new WeakMap,bd=new WeakMap,jd=e=>{const t=yd.get(e.target);t&&t(e)},wd=e=>{e.forEach(jd)};function Nd(e,t,s){const r=function(e){let{root:t}=e,s=(0,Pn.A)(e,vd);const r=t||document;bd.has(r)||bd.set(r,{});const n=bd.get(r),a=JSON.stringify(s);return n[a]||(n[a]=new IntersectionObserver(wd,(0,Fe.A)({root:t},s))),n[a]}(t);return yd.set(e,s),r.observe(e),()=>{yd.delete(e),r.unobserve(e)}}const kd={some:0,all:1};const Sd={inView:{Feature:class extends mo{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:s,amount:r="some",once:n}=e,a={root:t?t.current:void 0,rootMargin:s,threshold:"number"===typeof r?r:kd[r]};return Nd(this.node.current,a,e=>{const{isIntersecting:t}=e;if(this.isInView===t)return;if(this.isInView=t,n&&!t&&this.hasEnteredView)return;t&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",t);const{onViewportEnter:s,onViewportLeave:r}=this.node.getProps(),a=t?s:r;a&&a(e)})}mount(){this.startObserver()}update(){if("undefined"===typeof IntersectionObserver)return;const{props:e,prevProps:t}=this.node,s=["amount","margin","root"].some(function(e){let{viewport:t={}}=e,{viewport:s={}}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e=>t[e]!==s[e]}(e,t));s&&this.startObserver()}unmount(){}}},tap:{Feature:class extends mo{mount(){const{current:e}=this.node;e&&(this.unmount=fd(e,(e,t)=>(gd(this.node,t,"Start"),(e,t)=>{let{success:s}=t;return gd(this.node,e,s?"End":"Cancel")}),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}},focus:{Feature:class extends mo{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(Ke){e=!0}e&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=xi(go(this.node.current,"focus",()=>this.onFocus()),go(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}},hover:{Feature:class extends mo{mount(){const{current:e}=this.node;e&&(this.unmount=function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const[r,n,a]=ld(e,s),i=e=>{if(!od(e))return;const{target:s}=e,r=t(s,e);if("function"!==typeof r||!s)return;const a=e=>{od(e)&&(r(e),s.removeEventListener("pointerleave",a))};s.addEventListener("pointerleave",a,n)};return r.forEach(e=>{e.addEventListener("pointerenter",i,n)}),a}(e,(e,t)=>(cd(this.node,t,"Start"),e=>cd(this.node,e,"End"))))}unmount(){}}}},Cd={layout:{ProjectionNode:nd,MeasureLayout:Ko}},Ed=ni((0,Fe.A)((0,Fe.A)((0,Fe.A)((0,Fe.A)({},po),Sd),ad),Cd),Ea),Ad=e=>{let{children:t}=e;return(0,Me.jsx)(Ed.div,{initial:{opacity:0,y:20,scale:.98},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-20,scale:.98},transition:{duration:.4,ease:"easeOut"},className:"w-full",children:t})},Pd=["title","titleId"];function Td(e,s){let{title:r,titleId:n}=e,a=(0,Pn.A)(e,Pd);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":n},a),r?t.createElement("title",{id:n},r):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"}))}const Md=t.forwardRef(Td),Ld=["title","titleId"];function Rd(e,s){let{title:r,titleId:n}=e,a=(0,Pn.A)(e,Ld);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":n},a),r?t.createElement("title",{id:n},r):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19.128a9.38 9.38 0 0 0 2.625.372 9.337 9.337 0 0 0 4.121-.952 4.125 4.125 0 0 0-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 0 1 8.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0 1 11.964-3.07M12 6.375a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0Zm8.25 2.25a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z"}))}const Dd=t.forwardRef(Rd),Id=["title","titleId"];function Fd(e,s){let{title:r,titleId:n}=e,a=(0,Pn.A)(e,Id);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":n},a),r?t.createElement("title",{id:n},r):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75m-3-7.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285Z"}))}const zd=t.forwardRef(Fd),_d=["title","titleId"];function Vd(e,s){let{title:r,titleId:n}=e,a=(0,Pn.A)(e,_d);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":n},a),r?t.createElement("title",{id:n},r):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 8.511c.884.284 1.5 1.128 1.5 2.097v4.286c0 1.136-.847 2.1-1.98 2.193-.34.027-.68.052-1.02.072v3.091l-3-3c-1.354 0-2.694-.055-4.02-.163a2.115 2.115 0 0 1-.825-.242m9.345-8.334a2.126 2.126 0 0 0-.476-.095 48.64 48.64 0 0 0-8.048 0c-1.131.094-1.976 1.057-1.976 2.192v4.286c0 .837.46 1.58 1.155 1.951m9.345-8.334V6.637c0-1.621-1.152-3.026-2.76-3.235A48.455 48.455 0 0 0 11.25 3c-2.115 0-4.198.137-6.24.402-1.608.209-2.76 1.614-2.76 3.235v6.226c0 1.621 1.152 3.026 2.76 3.235.577.075 1.157.14 1.74.194V21l4.155-4.155"}))}const Od=t.forwardRef(Vd),Bd=["title","titleId"];function Ud(e,s){let{title:r,titleId:n}=e,a=(0,Pn.A)(e,Bd);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":n},a),r?t.createElement("title",{id:n},r):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}const Wd=t.forwardRef(Ud),qd=["title","titleId"];function Hd(e,s){let{title:r,titleId:n}=e,a=(0,Pn.A)(e,qd);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":n},a),r?t.createElement("title",{id:n},r):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}),t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z"}))}const $d=t.forwardRef(Hd),Zd=["title","titleId"];function Jd(e,s){let{title:r,titleId:n}=e,a=(0,Pn.A)(e,Zd);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":n},a),r?t.createElement("title",{id:n},r):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12Z"}))}const Gd=t.forwardRef(Jd),Yd=["title","titleId"];function Xd(e,s){let{title:r,titleId:n}=e,a=(0,Pn.A)(e,Yd);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":n},a),r?t.createElement("title",{id:n},r):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}))}const Kd=t.forwardRef(Xd),Qd=["title","titleId"];function eu(e,s){let{title:r,titleId:n}=e,a=(0,Pn.A)(e,Qd);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":n},a),r?t.createElement("title",{id:n},r):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.48 3.499a.562.562 0 0 1 1.04 0l2.125 5.111a.563.563 0 0 0 .475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 0 0-.182.557l1.285 5.385a.562.562 0 0 1-.84.61l-4.725-2.885a.562.562 0 0 0-.586 0L6.982 20.54a.562.562 0 0 1-.84-.61l1.285-5.386a.562.562 0 0 0-.182-.557l-4.204-3.602a.562.562 0 0 1 .321-.988l5.518-.442a.563.563 0 0 0 .475-.345L11.48 3.5Z"}))}const tu=t.forwardRef(eu),su=["title","titleId"];function ru(e,s){let{title:r,titleId:n}=e,a=(0,Pn.A)(e,su);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":n},a),r?t.createElement("title",{id:n},r):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const nu=t.forwardRef(ru),au=t.lazy(()=>Promise.all([s.e(985),s.e(842)]).then(s.bind(s,7842))),iu=()=>{const[e,s]=t.useState(!1);return t.useEffect(()=>{s(!0)},[]),e?(0,Me.jsx)(t.Suspense,{fallback:null,children:(0,Me.jsx)(au,{})}):null},lu=["title","titleId"];function ou(e,s){let{title:r,titleId:n}=e,a=(0,Pn.A)(e,lu);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":n},a),r?t.createElement("title",{id:n},r):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 9h3.75M15 12h3.75M15 15h3.75M4.5 19.5h15a2.25 2.25 0 0 0 2.25-2.25V6.75A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25v10.5A2.25 2.25 0 0 0 4.5 19.5Zm6-10.125a1.875 1.875 0 1 1-3.75 0 1.875 1.875 0 0 1 3.75 0Zm1.294 6.336a6.721 6.721 0 0 1-3.17.789 6.721 6.721 0 0 1-3.168-.789 3.376 3.376 0 0 1 6.338 0Z"}))}const cu=t.forwardRef(ou),du=e=>{let{isOpen:t,onClose:s,showBackButton:r=!0,backButtonText:n="Retour",onBackClick:a}=e;return t?(0,Me.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Me.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full p-6 relative",children:[(0,Me.jsx)("button",{onClick:()=>{s()},className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700",children:(0,Me.jsx)(nu,{className:"h-6 w-6"})}),(0,Me.jsxs)("div",{className:"text-center",children:[(0,Me.jsx)("div",{className:"mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-yellow-100 mb-4",children:(0,Me.jsx)(cu,{className:"h-8 w-8 text-yellow-600"})}),(0,Me.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"V\xe9rification Requise"}),(0,Me.jsx)("p",{className:"text-gray-600 mb-6",children:"Vous devez v\xe9rifier votre CIN avant de pouvoir acc\xe9der \xe0 cette fonctionnalit\xe9."}),(0,Me.jsxs)("div",{className:"space-y-3",children:[(0,Me.jsx)(Ae,{to:"/cin-verification",onClick:s,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"V\xe9rifier mon CIN"}),r&&(0,Me.jsx)("button",{type:"button",onClick:()=>{a&&a(),s()},className:"w-full flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:n})]})]})]})}):null},uu=()=>{const{user:e}=ys(),s=K(),[r,n]=(0,t.useState)(!1),a=(null===e||void 0===e?void 0:e.cinVerified)||(null===e||void 0===e?void 0:e.cin_verified)||!1,i=(null===e||void 0===e?void 0:e.cinPending)||!(null===e||void 0===e||!e.cin_verification_requested_at),l="owner"===(null===e||void 0===e?void 0:e.userType)&&!a&&!i,o=(0,t.useCallback)(t=>(t&&t.preventDefault(),e?!l||(n(!0),!1):(s("/login",{state:{from:window.location.pathname}}),!1)),[l,e,s]);return{isVerified:a,isPending:i,requiresVerification:l,showVerificationModal:r,setShowVerificationModal:n,checkVerification:o,onClickHandler:(e,t)=>{o(e)&&s(t)}}},mu=uu,hu={some:0,all:1};function pu(e){let{root:s,margin:r,amount:n,once:a=!1,initial:i=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const[l,o]=(0,t.useState)(i);return(0,t.useEffect)(()=>{if(!e.current||a&&l)return;const t={root:s&&s.current||void 0,margin:r,amount:n};return function(e,t){let{root:s,margin:r,amount:n="some"}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=id(e),i=new WeakMap,l=new IntersectionObserver(e=>{e.forEach(e=>{const s=i.get(e.target);if(e.isIntersecting!==Boolean(s))if(e.isIntersecting){const s=t(e.target,e);"function"===typeof s?i.set(e.target,s):l.unobserve(e.target)}else"function"===typeof s&&(s(e),i.delete(e.target))})},{root:s,rootMargin:r,threshold:"number"===typeof n?n:hu[n]});return a.forEach(e=>l.observe(e)),()=>l.disconnect()}(e.current,()=>(o(!0),a?void 0:()=>o(!1)),t)},[s,e,r,a,n]),l}const xu=e=>{let{children:s,delay:r=0}=e;const n=t.useRef(null),a=pu(n,{once:!0,margin:"-100px"});return(0,Me.jsx)(Ed.div,{ref:n,initial:{opacity:0,y:20},animate:a?{opacity:1,y:0}:{},transition:{duration:.6,ease:"easeOut",delay:r},children:s})},fu=()=>{var e,s,r,n;const{properties:a,loading:i}=ws(),{announcements:l,loading:o}=As(),[c,d]=(0,t.useState)([]),[u,m]=(0,t.useState)(null),[h,p]=(0,t.useState)([]),[x,f]=(0,t.useState)(null),{user:g}=ys(),v=K(),[y,b]=(0,t.useState)(""),[j,w]=(0,t.useState)(!1),[N,k]=(0,t.useState)(""),[S,C]=(0,t.useState)(null),[E,A]=(0,t.useState)(null),{sendMessage:P}=Ss(),{showVerificationModal:T,setShowVerificationModal:M,checkVerification:L}=uu();(0,t.useEffect)(()=>{if(a&&a.length>0){const e=[...a].sort((e,t)=>new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime());d(e.slice(0,6)),m(e[0])}},[a]),(0,t.useEffect)(()=>{if(l&&l.length>0){const e=[...l].sort((e,t)=>new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime());p(e.slice(0,6))}else p([])},[l]),(0,t.useEffect)(()=>{(async()=>{try{const e=await(0,hs.apiGet)("api/properties/stats_public");e&&e.success&&f(e.data)}catch(Ke){console.error("Error loading stats:",Ke)}})()},[]);const R=[{icon:(0,Me.jsx)(Md,{className:"w-8 h-8 text-primary-600"}),title:"Logements de qualit\xe9",description:"D\xe9couvrez des logements soigneusement s\xe9lectionn\xe9s dans les meilleurs quartiers d'Antananarivo."},{icon:(0,Me.jsx)(Dd,{className:"w-8 h-8 text-primary-600"}),title:"Colocataires compatibles",description:"Trouvez des colocataires qui partagent vos centres d'int\xe9r\xeat et votre mode de vie."},{icon:(0,Me.jsx)(zd,{className:"w-8 h-8 text-primary-600"}),title:"S\xe9curit\xe9 garantie",description:"Tous nos utilisateurs sont v\xe9rifi\xe9s pour assurer votre s\xe9curit\xe9 et votre tranquillit\xe9."},{icon:(0,Me.jsx)(Od,{className:"w-8 h-8 text-primary-600"}),title:"Communication facile",description:"Discutez directement avec les propri\xe9taires et futurs colocataires via notre messagerie int\xe9gr\xe9e."}],D=(0,t.useMemo)(()=>y?h.filter(e=>{var t,s,r,n,a;return(null===(t=e.content)||void 0===t?void 0:t.toLowerCase().includes(y.toLowerCase()))||(null===(s=e.author)||void 0===s||null===(r=s.firstName)||void 0===r?void 0:r.toLowerCase().includes(y.toLowerCase()))||(null===(n=e.author)||void 0===n||null===(a=n.lastName)||void 0===a?void 0:a.toLowerCase().includes(y.toLowerCase()))}):h,[h,y]),I=(0,t.useMemo)(()=>y?c.filter(e=>{var t,s,r;return(null===(t=e.title)||void 0===t?void 0:t.toLowerCase().includes(y.toLowerCase()))||(null===(s=e.description)||void 0===s?void 0:s.toLowerCase().includes(y.toLowerCase()))||(null===(r=e.district)||void 0===r?void 0:r.toLowerCase().includes(y.toLowerCase()))}):c,[c,y]),F=(0,Me.jsxs)("div",{className:"min-h-screen",children:[g?"owner"===g.userType?(0,Me.jsxs)("section",{className:"bg-gradient-to-r from-primary-600 to-primary-800 text-white relative overflow-hidden",children:[(0,Me.jsx)("div",{className:"absolute inset-0 bg-black opacity-10"}),(0,Me.jsx)(iu,{}),(0,Me.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20 relative",children:(0,Me.jsx)(xu,{children:(0,Me.jsxs)("div",{className:"text-center",children:[(0,Me.jsxs)("h1",{className:"text-4xl md:text-6xl font-bold mb-6",children:["Bienvenue, ",g.firstName," !"]}),(0,Me.jsx)("p",{className:"text-xl md:text-2xl mb-8 text-primary-100 max-w-3xl mx-auto",children:"G\xe9rez vos propri\xe9t\xe9s et connectez-vous avec des \xe9tudiants recherchant une colocation."}),(0,Me.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[(0,Me.jsxs)(Ae,{to:"/dashboard",className:"bg-white text-primary-600 hover:bg-gray-100 font-semibold py-3 px-8 rounded-lg transition-colors duration-200 flex items-center justify-center space-x-2",children:[(0,Me.jsx)(Wd,{className:"w-5 h-5"}),(0,Me.jsx)("span",{children:"Tableau de bord"})]}),(0,Me.jsx)(Ae,{to:"/create-property",className:"border-2 border-white text-white hover:bg-white hover:text-primary-600 font-semibold py-3 px-8 rounded-lg transition-colors duration-200",children:"Publier un logement"})]})]})})})]}):(0,Me.jsxs)("section",{className:"bg-gradient-to-r from-primary-600 to-primary-800 text-white relative overflow-hidden",children:[(0,Me.jsx)("div",{className:"absolute inset-0 bg-black opacity-10"}),(0,Me.jsx)(iu,{}),(0,Me.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20 relative",children:(0,Me.jsx)(xu,{children:(0,Me.jsxs)("div",{className:"text-center",children:[(0,Me.jsxs)("h1",{className:"text-4xl md:text-6xl font-bold mb-6",children:["Bienvenue, ",g.firstName," !"]}),(0,Me.jsx)("p",{className:"text-xl md:text-2xl mb-8 text-primary-100 max-w-3xl mx-auto",children:"Trouvez la colocation parfaite pr\xe8s de votre universit\xe9 \xe0 Antananarivo."}),(0,Me.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[(0,Me.jsxs)(Ae,{to:"/logements",className:"bg-white text-primary-600 hover:bg-gray-100 font-semibold py-3 px-8 rounded-lg transition-colors duration-200 flex items-center justify-center space-x-2",children:[(0,Me.jsx)(Wd,{className:"w-5 h-5"}),(0,Me.jsx)("span",{children:"Rechercher un logement"})]}),(0,Me.jsx)(Ae,{to:"/create-announcement",className:"border-2 border-white text-white hover:bg-white hover:text-primary-600 font-semibold py-3 px-8 rounded-lg transition-colors duration-200",children:"Publier une annonce"})]})]})})})]}):(0,Me.jsxs)("section",{className:"bg-gradient-to-r from-primary-600 to-primary-800 text-white relative overflow-hidden",children:[(0,Me.jsx)("div",{className:"absolute inset-0 bg-black opacity-10"}),(0,Me.jsx)(iu,{}),(0,Me.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20 relative",children:(0,Me.jsx)(xu,{children:(0,Me.jsxs)("div",{className:"text-center",children:[(0,Me.jsx)("h1",{className:"text-4xl md:text-6xl font-bold mb-6",children:"Trouvez votre colocation id\xe9ale \xe0 Antananarivo"}),(0,Me.jsx)("p",{className:"text-xl md:text-2xl mb-8 text-primary-100 max-w-3xl mx-auto",children:"La plateforme de r\xe9f\xe9rence pour les \xe9tudiants qui cherchent un logement abordable et des colocataires compatibles dans la capitale malgache."}),(0,Me.jsx)("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:(0,Me.jsxs)(Ae,{to:"/logements",className:"bg-white text-primary-600 hover:bg-gray-100 font-semibold py-3 px-8 rounded-lg transition-colors duration-200 flex items-center justify-center space-x-2",children:[(0,Me.jsx)(Wd,{className:"w-5 h-5"}),(0,Me.jsx)("span",{children:"Rechercher un logement"})]})})]})})})]}),(0,Me.jsx)("section",{className:"py-20 bg-white",children:(0,Me.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,Me.jsx)(xu,{children:(0,Me.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,Me.jsxs)("div",{className:"text-left",children:[(0,Me.jsx)("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-2",children:"Annonces des \xe9tudiants"}),(0,Me.jsx)("p",{className:"text-xl text-gray-600",children:"Recherches de colocation r\xe9centes"})]}),(0,Me.jsx)(Ae,{to:"/announcements",className:"btn-primary",children:"Voir tout"})]})}),o?(0,Me.jsx)("div",{className:"flex justify-center py-12",children:(0,Me.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):D.length>0?(0,Me.jsx)(xu,{children:(0,Me.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:D.slice(0,6).map(e=>{var t,s,r,n;return(0,Me.jsxs)("div",{className:"bg-gray-50 rounded-2xl overflow-hidden hover:shadow-lg transition-shadow border border-gray-200",children:[(null===(t=e.images)||void 0===t?void 0:t[0])&&(0,Me.jsx)("img",{src:(0,hs.VG)(e.images[0]),alt:"annonce",className:"w-full h-40 object-cover"}),(0,Me.jsxs)("div",{className:"p-6",children:[(0,Me.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Me.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 truncate",children:[null===(s=e.author)||void 0===s?void 0:s.firstName," ",null===(r=e.author)||void 0===r?void 0:r.lastName]}),(0,Me.jsx)("span",{className:"text-xs text-gray-500",children:new Date(e.createdAt).toLocaleDateString()})]}),(0,Me.jsx)("p",{className:"text-gray-700 text-sm line-clamp-3 mb-4",children:e.content}),(0,Me.jsxs)("div",{className:"flex gap-2",children:[(0,Me.jsx)(Ae,{to:"/announcements/".concat(e.id),className:"btn-secondary",children:"Voir d\xe9tails"}),g&&Number(null===(n=e.author)||void 0===n?void 0:n.id)===Number(g.id)?null:(0,Me.jsxs)("button",{onClick:t=>{t.preventDefault(),L(t)&&((e,t)=>{if(e.preventDefault(),!L(e))return;C(t),A(null),w(!0);const s="".concat(window.location.origin,"/announcements/").concat(t.id);k("Bonjour ".concat(t.author.firstName,", je suis int\xe9ress\xe9(e) par votre annonce de recherche de colocation.\n\nAnnonce: ").concat(s))})(t,e)},className:"flex-1 btn-primary flex items-center justify-center space-x-2",children:[(0,Me.jsx)(Od,{className:"w-4 h-4"}),(0,Me.jsx)("span",{children:"Contacter"})]})]})]})]},e.id)})})}):(0,Me.jsxs)("div",{className:"text-center py-12",children:[(0,Me.jsx)(Od,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,Me.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:y?"Aucune annonce trouv\xe9e":"Aucune annonce r\xe9cente"}),(0,Me.jsx)("p",{className:"text-gray-600 mb-4",children:y?"Essayez avec d'autres termes de recherche":"Les annonces publi\xe9es par les \xe9tudiants appara\xeetront ici."}),(0,Me.jsx)(Ae,{to:"/announcements",className:"btn-primary",children:"Voir les annonces"})]})]})}),u&&(0,Me.jsx)("section",{className:"py-12 bg-gradient-to-r from-gray-900 to-primary-900 text-white",children:(0,Me.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,Me.jsxs)("div",{className:"text-center mb-8",children:[(0,Me.jsx)("h2",{className:"text-2xl md:text-3xl font-bold mb-2",children:"\ud83c\udf89 Nouveau logement disponible !"}),(0,Me.jsx)("p",{className:"text-primary-200",children:"D\xe9couvrez notre derni\xe8re annonce"})]}),(0,Me.jsx)("div",{className:"bg-white/10 backdrop-blur-sm rounded-2xl overflow-hidden",children:(0,Me.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 p-8",children:[(0,Me.jsxs)("div",{className:"relative",children:[(0,Me.jsx)("img",{src:(0,hs.VG)(null===(e=u.images)||void 0===e?void 0:e[0]),alt:u.title,className:"w-full h-80 object-cover rounded-xl shadow-2xl",onError:e=>{e.currentTarget.src="/api/placeholder/600/400"}}),(0,Me.jsx)("div",{className:"absolute top-4 left-4 bg-red-500 text-white px-3 py-1 rounded-full text-sm font-semibold",children:"Nouveau"})]}),(0,Me.jsxs)("div",{className:"flex flex-col justify-center",children:[(0,Me.jsx)("h3",{className:"text-2xl font-bold mb-4",children:u.title}),(0,Me.jsxs)("div",{className:"flex items-center text-primary-200 mb-3",children:[(0,Me.jsx)($d,{className:"w-5 h-5 mr-2"}),(0,Me.jsxs)("span",{children:[u.district," \u2022 ",u.address]})]}),(0,Me.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[(0,Me.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Me.jsx)(Dd,{className:"w-5 h-5 text-primary-300"}),(0,Me.jsxs)("span",{children:[u.availableRooms,"/",u.totalRooms," chambres"]})]}),(0,Me.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Me.jsx)(Md,{className:"w-5 h-5 text-primary-300"}),(0,Me.jsx)("span",{className:"capitalize",children:"apartment"===u.propertyType?"Appartement":"house"===u.propertyType?"Maison":"Studio"})]})]}),(0,Me.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Me.jsxs)("div",{className:"text-3xl font-bold text-primary-200",children:[null===(s=u.price)||void 0===s?void 0:s.toLocaleString()," Ar",(0,Me.jsx)("span",{className:"text-lg text-primary-300",children:"/mois"})]}),(0,Me.jsxs)("div",{className:"text-sm bg-primary-600 px-3 py-1 rounded-full",children:["Caution: ",null===(r=u.deposit)||void 0===r?void 0:r.toLocaleString()," Ar"]})]}),(0,Me.jsx)("p",{className:"text-primary-200 mb-6 line-clamp-3",children:u.description}),(0,Me.jsxs)("div",{className:"flex space-x-4",children:[(0,Me.jsx)(Ae,{to:"/properties/".concat(u.id),className:"flex-1 bg-primary-500 hover:bg-primary-400 text-white font-semibold py-3 px-6 rounded-lg transition-colors duration-200 flex items-center justify-center space-x-2",children:(0,Me.jsx)("span",{children:"Voir les d\xe9tails"})}),(0,Me.jsx)("button",{className:"p-3 border-2 border-primary-400 text-primary-200 hover:bg-primary-400 hover:text-white rounded-lg transition-colors duration-200",children:(0,Me.jsx)(Gd,{className:"w-5 h-5"})})]})]})]})})]})}),(0,Me.jsx)("section",{className:"py-20 bg-gray-50",children:(0,Me.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,Me.jsx)(xu,{children:(0,Me.jsxs)("div",{className:"text-center mb-8",children:[(0,Me.jsx)("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Logements populaires"}),(0,Me.jsx)("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto mb-6",children:"D\xe9couvrez nos annonces les plus r\xe9centes et trouvez la colocation parfaite"}),(0,Me.jsx)("div",{className:"max-w-2xl mx-auto mb-8",children:(0,Me.jsxs)("div",{className:"relative",children:[(0,Me.jsx)(Wd,{className:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2"}),(0,Me.jsx)("input",{type:"text",placeholder:"Rechercher un logement par titre, description ou quartier...",value:y,onChange:e=>b(e.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-white text-gray-900 placeholder-gray-500"})]})})]})}),i?(0,Me.jsx)("div",{className:"flex justify-center py-12",children:(0,Me.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):I.length>0?(0,Me.jsx)(xu,{children:(0,Me.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mb-12",children:I.slice(0,6).map(e=>{var t,s,r;return(0,Me.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden hover:shadow-xl transition-all duration-300 hover:-translate-y-1 h-full flex flex-col",children:[(0,Me.jsxs)("div",{className:"relative",children:[(0,Me.jsx)("img",{src:(0,hs.VG)(null===(t=e.images)||void 0===t?void 0:t[0]),alt:e.title,className:"w-full h-48 object-cover",onError:e=>{e.currentTarget.src="/api/placeholder/400/300"}}),(0,Me.jsx)("div",{className:"absolute top-3 left-3 bg-white/90 backdrop-blur-sm text-gray-900 px-2 py-1 rounded-full text-xs font-semibold",children:"apartment"===e.propertyType?"\ud83c\udfe2 Appartement":"house"===e.propertyType?"\ud83c\udfe0 Maison":"\ud83c\udfe1 Studio"}),(0,Me.jsx)("button",{className:"absolute top-3 right-3 bg-white/90 backdrop-blur-sm p-2 rounded-full hover:bg-red-500 hover:text-white transition-colors",children:(0,Me.jsx)(Gd,{className:"w-4 h-4"})})]}),(0,Me.jsxs)("div",{className:"p-6 flex-1 flex flex-col",children:[(0,Me.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,Me.jsx)("h3",{className:"text-lg font-semibold text-gray-900 line-clamp-1 flex-1",children:e.title}),(0,Me.jsxs)("div",{className:"text-right",children:[(0,Me.jsxs)("div",{className:"text-xl font-bold text-primary-600",children:[null===(s=e.price)||void 0===s?void 0:s.toLocaleString()," Ar"]}),(0,Me.jsx)("div",{className:"text-xs text-gray-500",children:"/mois"})]})]}),(0,Me.jsxs)("div",{className:"flex items-center text-gray-600 mb-3",children:[(0,Me.jsx)($d,{className:"w-4 h-4 mr-1"}),(0,Me.jsx)("span",{className:"text-sm",children:e.district})]}),(0,Me.jsx)("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2",children:e.description}),(0,Me.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,Me.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[(0,Me.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Me.jsx)(Dd,{className:"w-4 h-4"}),(0,Me.jsxs)("span",{children:[e.availableRooms,"/",e.totalRooms," ch."]})]}),(0,Me.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Me.jsx)(Kd,{className:"w-4 h-4"}),(0,Me.jsx)("span",{children:"Disponible"})]})]})}),(0,Me.jsxs)("div",{className:"flex flex-wrap gap-1 mb-4",children:[null===(r=e.amenities)||void 0===r?void 0:r.slice(0,2).map((e,t)=>(0,Me.jsx)("span",{className:"badge badge-primary text-xs",children:e},t)),e.amenities&&e.amenities.length>2&&(0,Me.jsxs)("span",{className:"badge badge-primary text-xs",children:["+",e.amenities.length-2]})]}),(0,Me.jsxs)("div",{className:"flex gap-2 mt-auto",children:[(0,Me.jsx)(Ae,{to:"/properties/".concat(e.id),className:"flex-1 btn-primary flex items-center justify-center space-x-2",children:(0,Me.jsx)("span",{children:"Voir d\xe9tails"})}),g&&Number(e.ownerId)===Number(g.id)?null:(0,Me.jsxs)("button",{onClick:t=>{t.preventDefault(),L(t)&&((e,t)=>{if(e.preventDefault(),!L(e))return;A(t),C(null),w(!0);const s="".concat(window.location.origin,"/properties/").concat(t.id);k('Bonjour, je suis int\xe9ress\xe9(e) par votre logement "'.concat(t.title,'".\n\nLogement: ').concat(s))})(t,e)},className:"flex-1 btn-secondary flex items-center justify-center space-x-2",title:"Contacter le propri\xe9taire",children:[(0,Me.jsx)(Od,{className:"w-4 h-4"}),(0,Me.jsx)("span",{children:"Contacter"})]})]})]})]},e.id)})})}):(0,Me.jsxs)("div",{className:"text-center py-12",children:[(0,Me.jsx)(Md,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,Me.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:y?"Aucun logement trouv\xe9":"Aucun logement disponible pour le moment"}),(0,Me.jsx)("p",{className:"text-gray-600 mb-4",children:y?"Essayez avec d'autres termes de recherche":"Soyez le premier \xe0 publier votre logement !"}),!y&&(0,Me.jsx)(Ae,{to:"/create-property",className:"btn-primary",children:"Publier un logement"})]}),I.length>6&&(0,Me.jsx)("div",{className:"text-center",children:(0,Me.jsxs)("button",{onClick:()=>v("/logements",{state:{searchQuery:y}}),className:"btn-primary text-lg px-8 py-3",children:["Voir tous les logements (",I.length,")"]})}),c.length>0&&(0,Me.jsx)("div",{className:"text-center",children:(0,Me.jsx)(Ae,{to:"/logements",className:"btn-primary text-lg px-8 py-3",children:"Voir tous les logements"})})]})}),(0,Me.jsx)("section",{className:"py-16 bg-white",children:(0,Me.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,Me.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8 text-center",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("div",{className:"text-3xl font-bold text-primary-600 mb-2",children:x?x.availableProperties:"\u2014"}),(0,Me.jsx)("div",{className:"text-gray-600",children:"Logements disponibles"})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("div",{className:"text-3xl font-bold text-primary-600 mb-2",children:x?x.totalStudents:"\u2014"}),(0,Me.jsx)("div",{className:"text-gray-600",children:"\xc9tudiants inscrits"})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("div",{className:"text-3xl font-bold text-primary-600 mb-2",children:x?x.totalOwners:"\u2014"}),(0,Me.jsx)("div",{className:"text-gray-600",children:"Propri\xe9taires inscrits"})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("div",{className:"text-3xl font-bold text-primary-600 mb-2",children:x?x.totalStudents+x.totalOwners:"\u2014"}),(0,Me.jsx)("div",{className:"text-gray-600",children:"Utilisateurs totaux"})]})]})})}),(0,Me.jsx)("section",{className:"py-20 bg-white",children:(0,Me.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,Me.jsxs)("div",{className:"text-center mb-16",children:[(0,Me.jsx)("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Pourquoi choisir ColocAntananarivo ?"}),(0,Me.jsx)("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Nous facilitons la recherche de logement \xe9tudiant avec des outils modernes et une approche humaine."})]}),(0,Me.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:R.map((e,t)=>(0,Me.jsxs)("div",{className:"text-center p-6 bg-gray-50 rounded-2xl hover:bg-primary-50 transition-colors",children:[(0,Me.jsx)("div",{className:"flex justify-center mb-4",children:e.icon}),(0,Me.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:e.title}),(0,Me.jsx)("p",{className:"text-gray-600",children:e.description})]},t))})]})}),(0,Me.jsx)("section",{className:"py-20 bg-white",children:(0,Me.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,Me.jsxs)("div",{className:"text-center mb-16",children:[(0,Me.jsx)("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Comment \xe7a marche ?"}),(0,Me.jsx)("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Trouvez votre colocation en seulement 3 \xe9tapes simples"})]}),(0,Me.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[(0,Me.jsxs)("div",{className:"text-center p-6",children:[(0,Me.jsx)("div",{className:"w-16 h-16 bg-primary-100 text-primary-600 rounded-full flex items-center justify-center text-xl font-bold mx-auto mb-4",children:"1"}),(0,Me.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Cr\xe9ez votre profil"}),(0,Me.jsx)("p",{className:"text-gray-600",children:"Inscrivez-vous et compl\xe9tez votre profil pour aider les propri\xe9taires et colocataires \xe0 mieux vous conna\xeetre."})]}),(0,Me.jsxs)("div",{className:"text-center p-6",children:[(0,Me.jsx)("div",{className:"w-16 h-16 bg-primary-100 text-primary-600 rounded-full flex items-center justify-center text-xl font-bold mx-auto mb-4",children:"2"}),(0,Me.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Trouvez ou proposez"}),(0,Me.jsx)("p",{className:"text-gray-600",children:"Parcourez les annonces de colocation ou publiez la v\xf4tre en quelques clics seulement."})]}),(0,Me.jsxs)("div",{className:"text-center p-6",children:[(0,Me.jsx)("div",{className:"w-16 h-16 bg-primary-100 text-primary-600 rounded-full flex items-center justify-center text-xl font-bold mx-auto mb-4",children:"3"}),(0,Me.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Connectez-vous"}),(0,Me.jsx)("p",{className:"text-gray-600",children:"Utilisez notre messagerie int\xe9gr\xe9e pour \xe9changer et organiser des visites en toute s\xe9curit\xe9."})]})]})]})}),(0,Me.jsx)("section",{className:"py-20 bg-gradient-to-br from-primary-50 to-blue-50",children:(0,Me.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,Me.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-6",children:"Sp\xe9cialement con\xe7u pour les \xe9tudiants"}),(0,Me.jsx)("p",{className:"text-lg text-gray-600 mb-8",children:"ColocAntananarivo comprend les besoins sp\xe9cifiques des \xe9tudiants et propose des solutions adapt\xe9es \xe0 votre budget et votre mode de vie."}),(0,Me.jsxs)("div",{className:"space-y-4",children:[(0,Me.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,Me.jsx)("div",{className:"w-6 h-6 bg-primary-500 rounded-full flex items-center justify-center mt-1 flex-shrink-0",children:(0,Me.jsx)("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Me.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M5 13l4 4L19 7"})})}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("h4",{className:"font-semibold text-gray-900",children:"Budget \xe9tudiant"}),(0,Me.jsx)("p",{className:"text-gray-600",children:"Des logements \xe0 des prix adapt\xe9s aux budgets \xe9tudiants"})]})]}),(0,Me.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,Me.jsx)("div",{className:"w-6 h-6 bg-primary-500 rounded-full flex items-center justify-center mt-1 flex-shrink-0",children:(0,Me.jsx)("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Me.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M5 13l4 4L19 7"})})}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("h4",{className:"font-semibold text-gray-900",children:"Proche des universit\xe9s"}),(0,Me.jsx)("p",{className:"text-gray-600",children:"Localisations strat\xe9giques pr\xe8s des campus et facult\xe9s"})]})]}),(0,Me.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,Me.jsx)("div",{className:"w-6 h-6 bg-primary-500 rounded-full flex items-center justify-center mt-1 flex-shrink-0",children:(0,Me.jsx)("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Me.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M5 13l4 4L19 7"})})}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("h4",{className:"font-semibold text-gray-900",children:"Flexibilit\xe9"}),(0,Me.jsx)("p",{className:"text-gray-600",children:"Contrats adapt\xe9s aux calendriers universitaires"})]})]})]})]}),(0,Me.jsxs)("div",{className:"relative",children:[(0,Me.jsx)("img",{src:"/api/placeholder/600/400",alt:"\xc9tudiants en colocation",className:"rounded-2xl shadow-2xl"}),(0,Me.jsxs)("div",{className:"absolute -bottom-6 -left-6 bg-white p-6 rounded-2xl shadow-lg",children:[(0,Me.jsx)("div",{className:"text-2xl font-bold text-primary-600",children:"95%"}),(0,Me.jsx)("div",{className:"text-gray-600",children:"de satisfaction \xe9tudiante"})]})]})]})})}),(0,Me.jsx)("section",{className:"py-20 bg-gray-50",children:(0,Me.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,Me.jsxs)("div",{className:"text-center mb-16",children:[(0,Me.jsx)("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Quartiers couverts"}),(0,Me.jsx)("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Trouvez des logements dans les meilleurs quartiers d'Antananarivo, proches des universit\xe9s et des transports."})]}),(0,Me.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:["Analakely","Ambohijatovo","Ankadifotsy","Ankatso","Antaninarenina","Behoririka","Isoraka","Mahamasina","Tsaralalana","67ha"].map((e,t)=>(0,Me.jsxs)("div",{className:"bg-white rounded-lg p-4 text-center hover:bg-primary-50 transition-colors cursor-pointer border border-gray-200 hover:border-primary-300",children:[(0,Me.jsx)($d,{className:"w-6 h-6 text-primary-600 mx-auto mb-2"}),(0,Me.jsx)("span",{className:"text-gray-900 font-medium",children:e})]},t))})]})}),(0,Me.jsx)("section",{className:"py-20 bg-white",children:(0,Me.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,Me.jsxs)("div",{className:"text-center mb-16",children:[(0,Me.jsx)("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Ce que disent nos utilisateurs"}),(0,Me.jsx)("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"D\xe9couvrez les t\xe9moignages de nos utilisateurs satisfaits."})]}),(0,Me.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[{name:"Marie Rakoto",role:"\xc9tudiante en M\xe9decine",content:"Gr\xe2ce \xe0 ColocAntananarivo, j'ai trouv\xe9 une colocation parfaite pr\xe8s de mon universit\xe9. L'\xe9quipe est tr\xe8s professionnelle !",rating:5},{name:"Jean Rasoa",role:"Propri\xe9taire",content:"Excellente plateforme pour louer mes logements. Les \xe9tudiants sont s\xe9rieux et les paiements sont s\xe9curis\xe9s.",rating:5},{name:"Sofia Andriamalala",role:"\xc9tudiante en Informatique",content:"Interface intuitive et logements de qualit\xe9. Je recommande vivement cette plateforme !",rating:5}].map((e,t)=>(0,Me.jsxs)("div",{className:"bg-gray-50 rounded-lg p-6 hover:shadow-md transition-shadow",children:[(0,Me.jsx)("div",{className:"flex items-center mb-4",children:[...Array(e.rating)].map((e,t)=>(0,Me.jsx)(tu,{className:"w-5 h-5 text-yellow-400 fill-current"},t))}),(0,Me.jsxs)("p",{className:"text-gray-600 mb-4 italic",children:['"',e.content,'"']}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("div",{className:"font-semibold text-gray-900",children:e.name}),(0,Me.jsx)("div",{className:"text-sm text-gray-500",children:e.role})]})]},t))})]})}),(0,Me.jsx)("section",{className:"py-20 bg-gray-50",children:(0,Me.jsxs)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,Me.jsxs)("div",{className:"text-center mb-16",children:[(0,Me.jsx)("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Questions fr\xe9quentes"}),(0,Me.jsx)("p",{className:"text-xl text-gray-600",children:"Tout ce que vous devez savoir sur ColocAntananarivo"})]}),(0,Me.jsxs)("div",{className:"space-y-6",children:[(0,Me.jsxs)("div",{className:"bg-white rounded-2xl p-6 shadow-sm",children:[(0,Me.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Comment puis-je v\xe9rifier la fiabilit\xe9 d'un propri\xe9taire ?"}),(0,Me.jsx)("p",{className:"text-gray-600",children:"Tous nos propri\xe9taires sont v\xe9rifi\xe9s et not\xe9s par les anciens locataires. Vous pouvez consulter les avis et \xe9valuations sur chaque profil."})]}),(0,Me.jsxs)("div",{className:"bg-white rounded-2xl p-6 shadow-sm",children:[(0,Me.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Quels sont les frais de service ?"}),(0,Me.jsx)("p",{className:"text-gray-600",children:"L'inscription et la recherche de logement sont enti\xe8rement gratuites pour les \xe9tudiants. Seuls les propri\xe9taires paient des frais mod\xe9r\xe9s lors de la location effective."})]}),(0,Me.jsxs)("div",{className:"bg-white rounded-2xl p-6 shadow-sm",children:[(0,Me.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Puis-je visiter les logements avant de m'engager ?"}),(0,Me.jsx)("p",{className:"text-gray-600",children:"Absolument ! Nous encourageons les visites et vous pouvez organiser des rendez-vous directement via notre plateforme."})]}),(0,Me.jsxs)("div",{className:"bg-white rounded-2xl p-6 shadow-sm",children:[(0,Me.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Comment sont g\xe9r\xe9s les conflits entre colocataires ?"}),(0,Me.jsx)("p",{className:"text-gray-600",children:"Nous proposons un service de m\xe9diation et des ressources pour aider \xe0 r\xe9soudre les conflits de mani\xe8re constructive."})]})]}),(0,Me.jsx)("div",{className:"text-center mt-12",children:(0,Me.jsx)(Ae,{to:"/faq",className:"text-primary-600 hover:text-primary-700 font-semibold",children:"Voir toutes les questions \u2192"})})]})}),(0,Me.jsx)("section",{className:"py-20 bg-primary-600 text-white",children:(0,Me.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[(0,Me.jsx)("h2",{className:"text-3xl md:text-4xl font-bold mb-4",children:"Pr\xeat \xe0 trouver votre colocation ?"}),(0,Me.jsx)("p",{className:"text-xl mb-8 text-primary-100 max-w-2xl mx-auto",children:"Rejoignez des milliers d'\xe9tudiants qui ont d\xe9j\xe0 trouv\xe9 leur logement id\xe9al sur notre plateforme."}),(0,Me.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[!g&&(0,Me.jsx)(Ae,{to:"/register",className:"bg-white text-primary-600 hover:bg-gray-100 font-semibold py-3 px-8 rounded-lg transition-colors duration-200",children:"Commencer maintenant"}),(0,Me.jsx)(Ae,{to:"/logements",className:"border-2 border-white text-white hover:bg-white hover:text-primary-600 font-semibold py-3 px-8 rounded-lg transition-colors duration-200",children:"Voir les logements"})]})]})}),j&&(0,Me.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Me.jsxs)("div",{className:"bg-white rounded-lg max-w-md w-full p-6",children:[(0,Me.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Me.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Envoyer un message"}),(0,Me.jsx)("button",{onClick:()=>w(!1),className:"text-gray-400 hover:text-gray-600",children:(0,Me.jsx)(nu,{className:"w-5 h-5"})})]}),(0,Me.jsxs)("div",{className:"mb-4",children:[(0,Me.jsxs)("p",{className:"text-sm text-gray-600 mb-2",children:["\xc0 : ",S?"".concat(S.author.firstName," ").concat(S.author.lastName):null!==E&&void 0!==E&&null!==(n=E.owner)&&void 0!==n&&n.firstName?"".concat(E.owner.firstName," ").concat(E.owner.lastName):"Propri\xe9taire"]}),(0,Me.jsx)("textarea",{value:N,onChange:e=>k(e.target.value),placeholder:"Tapez votre message...",rows:4,className:"w-full input-field resize-none"})]}),(0,Me.jsxs)("div",{className:"flex space-x-2",children:[(0,Me.jsx)("button",{onClick:()=>{S?(async e=>{if(N.trim())try{await P(e.author.id,N),k(""),w(!1),C(null)}catch(t){ms.error("Erreur lors de l'envoi du message")}else ms.error("Veuillez saisir un message")})(S):E&&(async e=>{if(N.trim())try{await P(e.ownerId,N),k(""),w(!1),A(null),ms.success("Message envoy\xe9 avec succ\xe8s !")}catch(t){ms.error("Erreur lors de l'envoi du message")}else ms.error("Veuillez saisir un message")})(E)},className:"flex-1 btn-primary",disabled:!N.trim(),children:"Envoyer"}),(0,Me.jsx)("button",{onClick:()=>w(!1),className:"flex-1 btn-secondary",children:"Annuler"})]})]})}),(0,Me.jsx)(du,{isOpen:T,onClose:()=>M(!1),backButtonText:"Retour \xe0 l'accueil"})]});return(0,Me.jsx)(Me.Fragment,{children:F})},gu=["title","titleId"];function vu(e,s){let{title:r,titleId:n}=e,a=(0,Pn.A)(e,gu);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":n},a),r?t.createElement("title",{id:n},r):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"}))}const yu=t.forwardRef(vu),bu=["title","titleId"];function ju(e,s){let{title:r,titleId:n}=e,a=(0,Pn.A)(e,bu);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":n},a),r?t.createElement("title",{id:n},r):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const wu=t.forwardRef(ju),Nu=e=>{let{onVerify:s}=e;const[r,n]=(0,t.useState)(""),[a,i]=(0,t.useState)(""),[l,o]=(0,t.useState)(!1);(0,t.useEffect)(()=>{c()},[]);const c=()=>{const e="ABCDEFGHJKLMNPQRSTUVWXYZ23456789";let t="";for(let s=0;s<5;s++)t+=e.charAt(Math.floor(32*Math.random()));i(t),n(""),o(!1)};return(0,Me.jsxs)("div",{className:"space-y-2",children:[(0,Me.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Me.jsx)("div",{className:"flex-1",children:(0,Me.jsxs)("div",{className:"relative w-full rounded-md border border-gray-300 bg-white px-4 py-2 overflow-hidden shadow-sm",children:[(0,Me.jsxs)("div",{className:"absolute inset-0 opacity-30 pointer-events-none",children:[(0,Me.jsx)("div",{className:"w-full h-px bg-gray-200 absolute top-1/3"}),(0,Me.jsx)("div",{className:"w-full h-px bg-gray-200 absolute top-2/3"}),(0,Me.jsx)("div",{className:"h-full w-px bg-gray-200 absolute left-1/4"}),(0,Me.jsx)("div",{className:"h-full w-px bg-gray-200 absolute left-2/3"})]}),(0,Me.jsx)("div",{className:"relative text-2xl font-bold text-primary-700 tracking-[0.4em] text-center select-none",children:a.split("").map((e,t)=>(0,Me.jsx)("span",{style:{transform:"rotate(".concat(24*Math.random()-12,"deg)"),display:"inline-block",margin:"0 3px"},className:"inline-block drop-shadow-sm",children:e},t))})]})}),(0,Me.jsx)("button",{type:"button",onClick:c,className:"px-3 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-md border border-gray-300 text-sm font-medium transition-colors",title:"Actualiser le code",children:"\u21bb"})]}),(0,Me.jsx)("input",{type:"text",value:r,onChange:e=>{const t=e.target.value.toUpperCase();if(n(t),o(!1),5===t.length){const e=t===a;s(e),e||o(!0)}else s(!1)},maxLength:5,placeholder:"Entrez le code ci-dessus",className:"input-field ".concat(l?"border-red-500":""),style:{textTransform:"uppercase"}}),l&&(0,Me.jsx)("p",{className:"text-xs text-red-600",children:"Code incorrect, veuillez r\xe9essayer"})]})},ku=()=>{var e,s;const[r,n]=(0,t.useState)(""),[a,i]=(0,t.useState)(""),[l,o]=(0,t.useState)(!1),[c,d]=(0,t.useState)(!1),[u,m]=(0,t.useState)(!1),{login:h}=ys(),p=K(),x=(null===(e=Y().state)||void 0===e||null===(s=e.from)||void 0===s?void 0:s.pathname)||"/";return(0,Me.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:(0,Me.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("div",{className:"flex justify-center",children:(0,Me.jsx)("img",{src:"/logo_colo.svg",alt:"ColocAntananarivo",className:"h-20 w-auto"})}),(0,Me.jsx)("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Connexion \xe0 votre compte"}),(0,Me.jsxs)("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Ou"," ",(0,Me.jsx)(Ae,{to:"/register",className:"font-medium text-primary-600 hover:text-primary-500",children:"cr\xe9ez un nouveau compte"})]})]}),(0,Me.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:async e=>{if(e.preventDefault(),u){d(!0);try{await h(r,a),p(x,{replace:!0})}catch(t){}finally{d(!1)}}else ms.error("Veuillez compl\xe9ter le CAPTCHA")},children:[(0,Me.jsxs)("div",{className:"space-y-4",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Adresse email"}),(0,Me.jsx)("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:r,onChange:e=>n(e.target.value),className:"input-field mt-1",placeholder:"votre@email.com"})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Mot de passe"}),(0,Me.jsxs)("div",{className:"mt-1 relative",children:[(0,Me.jsx)("input",{id:"password",name:"password",type:l?"text":"password",autoComplete:"current-password",required:!0,value:a,onChange:e=>i(e.target.value),className:"input-field pr-10",placeholder:"Votre mot de passe"}),(0,Me.jsx)("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>o(!l),children:l?(0,Me.jsx)(yu,{className:"h-5 w-5 text-gray-400"}):(0,Me.jsx)(wu,{className:"h-5 w-5 text-gray-400"})})]})]})]}),(0,Me.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Me.jsxs)("div",{className:"flex items-center",children:[(0,Me.jsx)("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),(0,Me.jsx)("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-900",children:"Se souvenir de moi"})]}),(0,Me.jsx)("div",{className:"text-sm",children:(0,Me.jsx)("a",{href:"/forgot-password",className:"font-medium text-primary-600 hover:text-primary-500",children:"Mot de passe oubli\xe9 ?"})})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"V\xe9rification CAPTCHA *"}),(0,Me.jsx)(Nu,{onVerify:m})]}),(0,Me.jsx)("div",{children:(0,Me.jsx)("button",{type:"submit",disabled:c,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed",children:c?(0,Me.jsxs)("div",{className:"flex items-center",children:[(0,Me.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Connexion..."]}):"Se connecter"})}),(0,Me.jsxs)("div",{className:"mt-6",children:[(0,Me.jsxs)("div",{className:"relative",children:[(0,Me.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,Me.jsx)("div",{className:"w-full border-t border-gray-300"})}),(0,Me.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,Me.jsx)("span",{className:"px-2 bg-gray-50 text-gray-500",children:"Ou continuez avec"})})]}),(0,Me.jsxs)("div",{className:"mt-6 grid grid-cols-2 gap-3",children:[(0,Me.jsxs)("button",{type:"button",className:"w-full inline-flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm bg-white text-sm font-medium text-gray-500 hover:bg-gray-50",children:[(0,Me.jsxs)("svg",{className:"h-5 w-5",viewBox:"0 0 24 24",children:[(0,Me.jsx)("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),(0,Me.jsx)("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),(0,Me.jsx)("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),(0,Me.jsx)("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),(0,Me.jsx)("span",{className:"ml-2",children:"Google"})]}),(0,Me.jsxs)("button",{type:"button",className:"w-full inline-flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm bg-white text-sm font-medium text-gray-500 hover:bg-gray-50",children:[(0,Me.jsx)("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 24 24",children:(0,Me.jsx)("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})}),(0,Me.jsx)("span",{className:"ml-2",children:"Facebook"})]})]})]})]})]})})},Su=["confirmPassword"],Cu="".concat("","/logo_colo.svg"),Eu=()=>{const[e,s]=(0,t.useState)({email:"",password:"",confirmPassword:"",firstName:"",lastName:"",phone:"",userType:"student",university:"",studyLevel:"",budget:0,profileImage:null}),[r,n]=(0,t.useState)(!1),[a,i]=(0,t.useState)(!1),[l,o]=(0,t.useState)(!1),[c,d]=(0,t.useState)(!1),{register:u}=ys(),m=K(),h=t=>{const{name:r,value:n}=t.target;s((0,Fe.A)((0,Fe.A)({},e),{},{[r]:"budget"===r?Number(n):n}))};return(0,Me.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:(0,Me.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("div",{className:"flex justify-center",children:(0,Me.jsx)("img",{src:Cu,alt:"ColocAntananarivo",className:"h-12 w-auto"})}),(0,Me.jsx)("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Cr\xe9er un compte"}),(0,Me.jsxs)("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Ou"," ",(0,Me.jsx)(Ae,{to:"/login",className:"font-medium text-primary-600 hover:text-primary-500",children:"connectez-vous \xe0 votre compte existant"})]})]}),(0,Me.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:async t=>{if(t.preventDefault(),c)if(await(async e=>{if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e))return!1;const[t,s]=e.split("@");if(!t||t.length<3||t.length>64)return!1;if(t.startsWith(".")||t.endsWith(".")||t.includes(".."))return!1;const r=null===s||void 0===s?void 0:s.toLowerCase();return["gmail.com","googlemail.com"].includes(r||""),!0})(e.email))if(e.password===e.confirmPassword)if(e.password.length<6)ms.error("Le mot de passe doit contenir au moins 6 caract\xe8res");else{o(!0);try{const{confirmPassword:t}=e,s=(0,Pn.A)(e,Su);await u(s),m("/login"),ms.success("Inscription r\xe9ussie ! Veuillez vous connecter.")}catch(s){}finally{o(!1)}}else ms.error("Les mots de passe ne correspondent pas");else ms.error("Veuillez saisir une adresse email valide");else ms.error("Veuillez compl\xe9ter le CAPTCHA")},children:[(0,Me.jsxs)("div",{className:"space-y-4",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Je suis un(e) :"}),(0,Me.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Me.jsxs)("label",{className:"relative",children:[(0,Me.jsx)("input",{type:"radio",name:"userType",value:"student",checked:"student"===e.userType,onChange:h,className:"sr-only"}),(0,Me.jsx)("div",{className:"p-4 border-2 rounded-lg cursor-pointer transition-colors ".concat("student"===e.userType?"border-primary-500 bg-primary-50":"border-gray-300 hover:border-gray-400"),children:(0,Me.jsxs)("div",{className:"text-center",children:[(0,Me.jsx)("div",{className:"text-lg font-medium text-gray-900",children:"\xc9tudiant(e)"}),(0,Me.jsx)("div",{className:"text-sm text-gray-500",children:"Je cherche un logement"})]})})]}),(0,Me.jsxs)("label",{className:"relative",children:[(0,Me.jsx)("input",{type:"radio",name:"userType",value:"owner",checked:"owner"===e.userType,onChange:h,className:"sr-only"}),(0,Me.jsx)("div",{className:"p-4 border-2 rounded-lg cursor-pointer transition-colors ".concat("owner"===e.userType?"border-primary-500 bg-primary-50":"border-gray-300 hover:border-gray-400"),children:(0,Me.jsxs)("div",{className:"text-center",children:[(0,Me.jsx)("div",{className:"text-lg font-medium text-gray-900",children:"Propri\xe9taire"}),(0,Me.jsx)("div",{className:"text-sm text-gray-500",children:"Je loue un logement"})]})})]})]})]}),(0,Me.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{htmlFor:"firstName",className:"block text-sm font-medium text-gray-700",children:"Pr\xe9nom"}),(0,Me.jsx)("input",{id:"firstName",name:"firstName",type:"text",required:!0,value:e.firstName,onChange:h,className:"input-field mt-1",placeholder:"Votre pr\xe9nom"})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{htmlFor:"lastName",className:"block text-sm font-medium text-gray-700",children:"Nom"}),(0,Me.jsx)("input",{id:"lastName",name:"lastName",type:"text",required:!0,value:e.lastName,onChange:h,className:"input-field mt-1",placeholder:"Votre nom"})]})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Adresse email"}),(0,Me.jsx)("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:e.email,onChange:h,className:"input-field mt-1",placeholder:"votre@email.com"})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700",children:"Num\xe9ro de t\xe9l\xe9phone"}),(0,Me.jsx)("input",{id:"phone",name:"phone",type:"tel",required:!0,value:e.phone,onChange:h,className:"input-field mt-1",placeholder:"+261 34 12 345 67"})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{htmlFor:"profileImage",className:"block text-sm font-medium text-gray-700",children:"Photo de profil (optionnel)"}),(0,Me.jsx)("input",{id:"profileImage",name:"profileImage",type:"file",accept:"image/*",onChange:t=>{t.target.files&&t.target.files[0]&&s((0,Fe.A)((0,Fe.A)({},e),{},{profileImage:t.target.files[0]}))},className:"input-field mt-1"}),e.profileImage&&(0,Me.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:e.profileImage.name})]}),"student"===e.userType&&(0,Me.jsxs)(Me.Fragment,{children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{htmlFor:"university",className:"block text-sm font-medium text-gray-700",children:"Universit\xe9 / \xc9cole"}),(0,Me.jsxs)("select",{id:"university",name:"university",value:e.university,onChange:h,className:"input-field mt-1",children:[(0,Me.jsx)("option",{value:"",children:"S\xe9lectionnez votre universit\xe9"}),(0,Me.jsx)("option",{value:"Universit\xe9 d'Antananarivo",children:"Universit\xe9 d'Antananarivo"}),(0,Me.jsx)("option",{value:"\xc9cole Sup\xe9rieure Polytechnique",children:"\xc9cole Sup\xe9rieure Polytechnique"}),(0,Me.jsx)("option",{value:"Institut National des Sciences Comptables",children:"Institut National des Sciences Comptables"}),(0,Me.jsx)("option",{value:"\xc9cole de M\xe9decine",children:"\xc9cole de M\xe9decine"}),(0,Me.jsx)("option",{value:"Autre",children:"Autre"})]})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{htmlFor:"studyLevel",className:"block text-sm font-medium text-gray-700",children:"Niveau d'\xe9tudes"}),(0,Me.jsxs)("select",{id:"studyLevel",name:"studyLevel",value:e.studyLevel,onChange:h,className:"input-field mt-1",children:[(0,Me.jsx)("option",{value:"",children:"S\xe9lectionnez votre niveau"}),(0,Me.jsx)("option",{value:"Licence 1",children:"Licence 1"}),(0,Me.jsx)("option",{value:"Licence 2",children:"Licence 2"}),(0,Me.jsx)("option",{value:"Licence 3",children:"Licence 3"}),(0,Me.jsx)("option",{value:"Master 1",children:"Master 1"}),(0,Me.jsx)("option",{value:"Master 2",children:"Master 2"}),(0,Me.jsx)("option",{value:"Doctorat",children:"Doctorat"})]})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{htmlFor:"budget",className:"block text-sm font-medium text-gray-700",children:"Budget mensuel (Ar) *"}),(0,Me.jsx)("input",{id:"budget",name:"budget",type:"number",required:!0,min:"0",value:e.budget||"",onChange:h,className:"input-field mt-1",placeholder:"150000"}),(0,Me.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Votre budget mensuel pour la colocation"})]})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Mot de passe"}),(0,Me.jsxs)("div",{className:"mt-1 relative",children:[(0,Me.jsx)("input",{id:"password",name:"password",type:r?"text":"password",autoComplete:"new-password",required:!0,value:e.password,onChange:h,className:"input-field pr-10",placeholder:"Votre mot de passe"}),(0,Me.jsx)("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>n(!r),children:r?(0,Me.jsx)(yu,{className:"h-5 w-5 text-gray-400"}):(0,Me.jsx)(wu,{className:"h-5 w-5 text-gray-400"})})]})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:"Confirmer le mot de passe"}),(0,Me.jsxs)("div",{className:"mt-1 relative",children:[(0,Me.jsx)("input",{id:"confirmPassword",name:"confirmPassword",type:a?"text":"password",autoComplete:"new-password",required:!0,value:e.confirmPassword,onChange:h,className:"input-field pr-10",placeholder:"Confirmez votre mot de passe"}),(0,Me.jsx)("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>i(!a),children:a?(0,Me.jsx)(yu,{className:"h-5 w-5 text-gray-400"}):(0,Me.jsx)(wu,{className:"h-5 w-5 text-gray-400"})})]})]})]}),(0,Me.jsxs)("div",{className:"flex items-center",children:[(0,Me.jsx)("input",{id:"terms",name:"terms",type:"checkbox",required:!0,className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),(0,Me.jsxs)("label",{htmlFor:"terms",className:"ml-2 block text-sm text-gray-900",children:["J'accepte les"," ",(0,Me.jsx)("a",{href:"/terms",className:"text-primary-600 hover:text-primary-500",children:"conditions d'utilisation"})," ","et la"," ",(0,Me.jsx)("a",{href:"/privacy",className:"text-primary-600 hover:text-primary-500",children:"politique de confidentialit\xe9"})]})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"V\xe9rification CAPTCHA *"}),(0,Me.jsx)(Nu,{onVerify:d})]}),(0,Me.jsx)("div",{children:(0,Me.jsx)("button",{type:"submit",disabled:l,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed",children:l?(0,Me.jsxs)("div",{className:"flex items-center",children:[(0,Me.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Cr\xe9ation du compte..."]}):"Cr\xe9er mon compte"})})]})]})})},Au=["title","titleId"];function Pu(e,s){let{title:r,titleId:n}=e,a=(0,Pn.A)(e,Au);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":n},a),r?t.createElement("title",{id:n},r):null,t.createElement("path",{fillRule:"evenodd",d:"M16.5 4.478v.227a48.816 48.816 0 0 1 3.878.512.75.75 0 1 1-.256 1.478l-.209-.035-1.005 13.07a3 3 0 0 1-2.991 2.77H8.084a3 3 0 0 1-2.991-2.77L4.087 6.66l-.209.035a.75.75 0 0 1-.256-1.478A48.567 48.567 0 0 1 7.5 4.705v-.227c0-1.564 1.213-2.9 2.816-2.951a52.662 52.662 0 0 1 3.369 0c1.603.051 2.815 1.387 2.815 2.951Zm-6.136-1.452a51.196 51.196 0 0 1 3.273 0C14.39 3.05 15 3.684 15 4.478v.113a49.488 49.488 0 0 0-6 0v-.113c0-.794.609-1.428 1.364-1.452Zm-.355 5.945a.75.75 0 1 0-1.5.058l.347 9a.75.75 0 1 0 1.499-.058l-.346-9Zm5.48.058a.75.75 0 1 0-1.498-.058l-.347 9a.75.75 0 0 0 1.5.058l.345-9Z",clipRule:"evenodd"}))}const Tu=t.forwardRef(Pu),Mu=["title","titleId"];function Lu(e,s){let{title:r,titleId:n}=e,a=(0,Pn.A)(e,Mu);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":n},a),r?t.createElement("title",{id:n},r):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}const Ru=t.forwardRef(Lu),Du=["title","titleId"];function Iu(e,s){let{title:r,titleId:n}=e,a=(0,Pn.A)(e,Du);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":n},a),r?t.createElement("title",{id:n},r):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const Fu=t.forwardRef(Iu),zu=["title","titleId"];function _u(e,s){let{title:r,titleId:n}=e,a=(0,Pn.A)(e,zu);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":n},a),r?t.createElement("title",{id:n},r):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))}const Vu=t.forwardRef(_u),Ou=["title","titleId"];function Bu(e,s){let{title:r,titleId:n}=e,a=(0,Pn.A)(e,Ou);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":n},a),r?t.createElement("title",{id:n},r):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 15.75 5.159-5.159a2.25 2.25 0 0 1 3.182 0l5.159 5.159m-1.5-1.5 1.409-1.409a2.25 2.25 0 0 1 3.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 0 0 1.5-1.5V6a1.5 1.5 0 0 0-1.5-1.5H3.75A1.5 1.5 0 0 0 2.25 6v12a1.5 1.5 0 0 0 1.5 1.5Zm10.5-11.25h.008v.008h-.008V8.25Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))}const Uu=t.forwardRef(Bu),Wu=["title","titleId"];function qu(e,s){let{title:r,titleId:n}=e,a=(0,Pn.A)(e,Wu);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":n},a),r?t.createElement("title",{id:n},r):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v12m-3-2.818.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const Hu=t.forwardRef(qu),$u=["title","titleId"];function Zu(e,s){let{title:r,titleId:n}=e,a=(0,Pn.A)(e,$u);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":n},a),r?t.createElement("title",{id:n},r):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0"}))}const Ju=t.forwardRef(Zu),Gu=["title","titleId"];function Yu(e,s){let{title:r,titleId:n}=e,a=(0,Pn.A)(e,Gu);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":n},a),r?t.createElement("title",{id:n},r):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const Xu=t.forwardRef(Yu),Ku=["title","titleId"];function Qu(e,s){let{title:r,titleId:n}=e,a=(0,Pn.A)(e,Ku);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":n},a),r?t.createElement("title",{id:n},r):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const em=t.forwardRef(Qu),tm=["title","titleId"];function sm(e,s){let{title:r,titleId:n}=e,a=(0,Pn.A)(e,tm);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":n},a),r?t.createElement("title",{id:n},r):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const rm=t.forwardRef(sm),nm=()=>{const{user:e}=ys(),{properties:s,userProperties:r,deleteProperty:n}=ws(),{userAnnouncements:a,deleteAnnouncement:i,updateAnnouncement:l,fetchUserAnnouncements:o}=As(),{conversations:c}=Ss(),[d,u]=t.useState(null),[m,h]=t.useState(null),[p,x]=t.useState(""),[f,g]=t.useState({}),[v,y]=t.useState([]),[b,j]=t.useState(!1);t.useEffect(()=>{(async()=>{if("student"===(null===e||void 0===e?void 0:e.userType)){j(!0);try{await o()}catch(t){console.error("Erreur chargement annonces:",t)}finally{j(!1)}}})()},[e,o]),t.useEffect(()=>{if(!e)return;(async()=>{try{const i="admin"===e.userType?"/api/properties/stats":"/api/properties/stats_public",l=await(0,hs.apiGet)(i);if(!l.success)return;const o=l.data||{};if("owner"===e.userType){var t,s;const e=r.length||o.totalProperties||0,n=r.length?r.filter(e=>e.isAvailable).length:null!==(t=null!==(s=o.availableProperties)&&void 0!==s?s:o.totalProperties)&&void 0!==t?t:0;y([{name:"Logements publi\xe9s",value:String(e),change:n>0?"".concat(n," disponibles"):"Aucun disponible",changeType:e>0?"positive":"neutral",icon:(0,Me.jsx)(Md,{className:"w-6 h-6"})},{name:"Messages re\xe7us",value:String(o.messagesReceived||0),changeType:"neutral",icon:(0,Me.jsx)(Od,{className:"w-6 h-6"})}])}else{var n,a;y([{name:"Messages re\xe7us",value:String(o.messagesReceived||0),changeType:"neutral",icon:(0,Me.jsx)(Od,{className:"w-6 h-6"})},{name:"Logements disponibles",value:String((null!==(n=null!==(a=o.availableProperties)&&void 0!==a?a:o.totalProperties)&&void 0!==n?n:0)||0),changeType:"positive",icon:(0,Me.jsx)(Md,{className:"w-6 h-6"})}])}}catch(Ke){console.error("Erreur chargement stats:",Ke)}})()},[e,y,r]);const[w,N]=t.useState(1),k=Math.max(1,Math.ceil(r.length/4)),S=t.useMemo(()=>{const e=4*(w-1);return r.slice(e,e+4)},[r,w]),C=t.useMemo(()=>{const e=[...s||[]].sort((e,t)=>new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime());return e.slice(0,3)},[s]),E=t.useMemo(()=>(c||[]).slice(0,5).map(e=>{var t,s,r,n,a,i,l,o;const c=null!==(t=e.lastMessage)&&void 0!==t&&null!==(s=t.sender)&&void 0!==s&&s.firstName?"".concat(null===(r=e.lastMessage)||void 0===r||null===(n=r.sender)||void 0===n?void 0:n.firstName," ").concat((null===(a=e.lastMessage)||void 0===a||null===(i=a.sender)||void 0===i?void 0:i.lastName)||"").trim():"Utilisateur",d=e.lastMessage?"Nouveau message de ".concat(c):"Conversation mise \xe0 jour",u=(null===(l=e.lastMessage)||void 0===l?void 0:l.content)||"",m=((null===(o=e.lastMessage)||void 0===o?void 0:o.createdAt)||e.updatedAt).toLocaleString("fr-FR");return{id:e.id,title:d,description:u,time:m,icon:(0,Me.jsx)(Od,{className:"w-5 h-5"})}}),[c]),A=!(null===e||void 0===e||!e.accountActivationDeadline)&&new Date<new Date(e.accountActivationDeadline);if("owner"===(null===e||void 0===e?void 0:e.userType)&&(null===e||void 0===e||!e.cinVerified)&&!A&&(null===e||void 0===e||!e.cinPending))return(0,Me.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:(0,Me.jsxs)("div",{className:"max-w-md w-full text-center",children:[(0,Me.jsx)(Ru,{className:"w-16 h-16 text-yellow-500 mx-auto mb-4"}),(0,Me.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"V\xe9rification Requise"}),(0,Me.jsx)("p",{className:"text-gray-600 mb-4",children:"Pour publier des annonces, vous devez d'abord v\xe9rifier votre carte d'identit\xe9 nationale. Cette mesure permet d'assurer la s\xe9curit\xe9 et la confiance sur notre plateforme."}),(0,Me.jsxs)("div",{className:"space-y-3",children:[(0,Me.jsxs)(Ae,{to:"/cin-verification",className:"w-full btn-primary flex items-center justify-center space-x-2",children:[(0,Me.jsx)(cu,{className:"w-5 h-5"}),(0,Me.jsx)("span",{children:"V\xe9rifier mon CIN"})]}),(0,Me.jsx)(Ae,{to:"/logements",className:"w-full btn-secondary",children:"Parcourir les logements"})]})]})});if(!e)return(0,Me.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,Me.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-600"})});const P=async()=>{if(m)try{await l(m,{content:p}),h(null),x("")}catch(Ke){}};return(0,Me.jsx)("div",{className:"min-h-screen bg-gradient-to-b from-slate-50 to-slate-100 py-8",children:(0,Me.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,Me.jsxs)("div",{className:"mb-8",children:[(0,Me.jsxs)("h1",{className:"text-3xl font-bold text-gray-900",children:["Bonjour, ",e.firstName," !"]}),(0,Me.jsx)("p",{className:"text-gray-600 mt-2",children:"Voici un aper\xe7u de votre activit\xe9 sur ColocAntananarivo"})]}),(0,Me.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:v.map((e,t)=>(0,Me.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 transition-transform hover:scale-[1.01]",children:(0,Me.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("p",{className:"text-sm font-medium text-gray-600",children:e.name}),(0,Me.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:e.value}),(0,Me.jsx)("p",{className:"text-sm ".concat("positive"===e.changeType?"text-green-600":"negative"===e.changeType?"text-red-600":"text-gray-600"),children:e.change})]}),(0,Me.jsx)("div",{className:"p-3 bg-primary-100 rounded-lg",children:(0,Me.jsx)("div",{className:"text-primary-600",children:e.icon})})]})},t))}),(0,Me.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,Me.jsxs)("div",{className:"lg:col-span-2 space-y-8",children:["student"===e.userType&&(0,Me.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,Me.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Me.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Mes annonces"}),(0,Me.jsxs)(Ae,{to:"/create-announcement",className:"btn-primary text-sm flex items-center space-x-2",children:[(0,Me.jsx)(Fu,{className:"w-4 h-4"}),(0,Me.jsx)("span",{children:"Nouvelle annonce"})]})]}),b?(0,Me.jsx)("div",{className:"flex justify-center py-8",children:(0,Me.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):0===a.length?(0,Me.jsx)("div",{className:"text-center py-8 text-gray-600",children:"Vous n'avez pas encore publi\xe9 d'annonce."}):(0,Me.jsxs)("div",{className:"space-y-4",children:[a.map(e=>(0,Me.jsx)("div",{className:"border border-gray-200 rounded-lg p-4",children:m===e.id?(0,Me.jsxs)("div",{className:"space-y-3",children:[(0,Me.jsx)("textarea",{className:"w-full border border-gray-300 rounded-md p-2 focus:outline-none focus:ring-2 focus:ring-primary-300",rows:3,value:p,onChange:e=>x(e.target.value)}),(0,Me.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Me.jsx)("button",{onClick:P,className:"btn-primary text-sm",children:"Enregistrer"}),(0,Me.jsx)("button",{onClick:()=>h(null),className:"btn-secondary text-sm",children:"Annuler"})]})]}):(0,Me.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,Me.jsxs)("div",{className:"flex-1",children:[(0,Me.jsx)("div",{className:"bg-gradient-to-br from-gray-50 to-blue-50 rounded-2xl p-4",children:(()=>{const t=(e.content||"").length>220,s=!!f[e.id],r=s?e.content:t?"".concat((e.content||"").slice(0,220),"..."):e.content;return(0,Me.jsxs)(Me.Fragment,{children:[(0,Me.jsx)("p",{className:"text-gray-800 leading-relaxed text-base whitespace-pre-wrap break-all md:break-words max-w-full overflow-hidden",children:r}),t&&(0,Me.jsx)("button",{onClick:()=>g(t=>(0,Fe.A)((0,Fe.A)({},t),{},{[e.id]:!t[e.id]})),className:"mt-3 text-primary-600 hover:text-primary-800 font-medium transition-colors text-sm",children:s?"Afficher moins \u25b2":"Afficher plus \u25bc"})]})})()}),(0,Me.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:new Date(e.createdAt).toLocaleString("fr-FR")})]}),(0,Me.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Me.jsxs)(Ae,{to:"/edit-announcement/".concat(e.id),className:"btn-primary text-sm flex items-center space-x-1",children:[(0,Me.jsx)(Vu,{className:"w-4 h-4"}),(0,Me.jsx)("span",{children:"Modifier"})]}),(0,Me.jsxs)("button",{onClick:()=>(async e=>{if(window.confirm("Supprimer cette annonce ?"))try{await i(e)}catch(Ke){}})(e.id),className:"btn-danger text-sm flex items-center gap-1",children:[(0,Me.jsx)(Tu,{className:"w-4 h-4"}),"Supprimer"]})]})]})},e.id)),r.length>4&&(0,Me.jsxs)("div",{className:"flex items-center justify-between pt-2 border-t border-gray-200",children:[(0,Me.jsx)("button",{type:"button",className:"text-sm text-gray-600 hover:text-primary-600 disabled:opacity-50",disabled:1===w,onClick:()=>N(e=>Math.max(1,e-1)),children:"Pr\xe9c\xe9dent"}),(0,Me.jsxs)("div",{className:"text-sm text-gray-600",children:["Page ",w," / ",k]}),(0,Me.jsx)("button",{type:"button",className:"text-sm text-gray-600 hover:text-primary-600 disabled:opacity-50",disabled:w===k,onClick:()=>N(e=>Math.min(k,e+1)),children:"Suivant"})]})]})]}),(0,Me.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,Me.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Actions rapides"}),(0,Me.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:"owner"===e.userType?(0,Me.jsxs)(Me.Fragment,{children:[(0,Me.jsxs)(Ae,{to:"/create-property",className:"flex items-center p-4 border border-gray-200 rounded-lg hover:border-primary-300 hover:bg-primary-50 transition-colors",children:[(0,Me.jsx)(Fu,{className:"w-8 h-8 text-primary-600 mr-4"}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("h3",{className:"font-medium text-gray-900",children:"Publier un logement"}),(0,Me.jsx)("p",{className:"text-sm text-gray-600",children:"Ajouter un nouveau logement "})]})]}),(0,Me.jsxs)(Ae,{to:"/messages",className:"flex items-center p-4 border border-gray-200 rounded-lg hover:border-primary-300 hover:bg-primary-50 transition-colors",children:[(0,Me.jsx)(Od,{className:"w-8 h-8 text-primary-600 mr-4"}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("h3",{className:"font-medium text-gray-900",children:"Messages"}),(0,Me.jsx)("p",{className:"text-sm text-gray-600",children:"Voir les conversations"})]})]}),(0,Me.jsxs)(Ae,{to:"/appointments",className:"flex items-center p-4 border border-gray-200 rounded-lg hover:border-primary-300 hover:bg-primary-50 transition-colors",children:[(0,Me.jsx)(Kd,{className:"w-8 h-8 text-primary-600 mr-4"}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("h3",{className:"font-medium text-gray-900",children:"Visites planifi\xe9es"}),(0,Me.jsx)("p",{className:"text-sm text-gray-600",children:"G\xe9rer les rendez-vous"})]})]})]}):(0,Me.jsxs)(Me.Fragment,{children:[(0,Me.jsxs)(Ae,{to:"/logements",className:"flex items-center p-4 border border-gray-200 rounded-lg hover:border-primary-300 hover:bg-primary-50 transition-colors",children:[(0,Me.jsx)(Md,{className:"w-8 h-8 text-primary-600 mr-4"}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("h3",{className:"font-medium text-gray-900",children:"Rechercher un logement"}),(0,Me.jsx)("p",{className:"text-sm text-gray-600",children:"Trouver votre colocation id\xe9ale"})]})]}),(0,Me.jsxs)(Ae,{to:"/messages",className:"flex items-center p-4 border border-gray-200 rounded-lg hover:border-primary-300 hover:bg-primary-50 transition-colors",children:[(0,Me.jsx)(Od,{className:"w-8 h-8 text-primary-600 mr-4"}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("h3",{className:"font-medium text-gray-900",children:"Messages"}),(0,Me.jsx)("p",{className:"text-sm text-gray-600",children:"Contacter les propri\xe9taires"})]})]}),(0,Me.jsxs)(Ae,{to:"/appointments",className:"flex items-center p-4 border border-gray-200 rounded-lg hover:border-primary-300 hover:bg-primary-50 transition-colors",children:[(0,Me.jsx)(Kd,{className:"w-8 h-8 text-primary-600 mr-4"}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("h3",{className:"font-medium text-gray-900",children:"Mes visites planifi\xe9es"}),(0,Me.jsx)("p",{className:"text-sm text-gray-600",children:"Voir mes rendez-vous"})]})]})]})})]}),"owner"===e.userType&&(0,Me.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,Me.jsx)("div",{className:"flex items-center justify-between mb-6",children:(0,Me.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Mes logements publi\xe9s"})}),0===r.length?(0,Me.jsxs)("div",{className:"text-center py-8",children:[(0,Me.jsx)(Md,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,Me.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucun logement publi\xe9"}),(0,Me.jsx)("p",{className:"text-gray-600 mb-6",children:"Commencez par publier votre premier logement pour le proposer en colocation"}),(0,Me.jsxs)(Ae,{to:"/create-property",className:"btn-primary inline-flex items-center space-x-2",children:[(0,Me.jsx)(Fu,{className:"w-5 h-5"}),(0,Me.jsx)("span",{children:"Publier un logement"})]})]}):(0,Me.jsx)("div",{className:"space-y-6",children:S.map(e=>(0,Me.jsx)("div",{className:"border border-gray-200 rounded-lg overflow-hidden hover:shadow-md transition-shadow",children:(0,Me.jsxs)("div",{className:"flex flex-col md:flex-row",children:[(0,Me.jsx)("div",{className:"md:w-48 h-48 bg-gray-200 flex-shrink-0",children:e.images&&e.images.length>0?(0,Me.jsx)("img",{src:(0,hs.VG)(e.images[0]),alt:e.title,className:"w-full h-full object-cover",onError:e=>{e.currentTarget.src="/api/placeholder/400/300"}}):(0,Me.jsx)("div",{className:"w-full h-full bg-gray-200 flex items-center justify-center",children:(0,Me.jsx)(Uu,{className:"w-12 h-12 text-gray-400"})})}),(0,Me.jsxs)("div",{className:"flex-1 p-6",children:[(0,Me.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,Me.jsxs)("div",{className:"flex-1",children:[(0,Me.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:e.title}),(0,Me.jsxs)("div",{className:"flex items-center text-gray-600 mb-2",children:[(0,Me.jsx)($d,{className:"w-4 h-4 mr-1"}),(0,Me.jsx)("span",{className:"text-sm",children:e.address})]})]}),(0,Me.jsx)("span",{className:"badge ".concat(e.isAvailable?"badge-success":"badge-warning"," ml-4"),children:e.isAvailable?"Disponible":"Occup\xe9"})]}),(0,Me.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Me.jsxs)("div",{className:"flex items-center text-primary-600",children:[(0,Me.jsx)(Hu,{className:"w-4 h-4 mr-1"}),(0,Me.jsxs)("span",{className:"font-semibold",children:[e.price.toLocaleString()," Ar"]}),(0,Me.jsx)("span",{className:"text-gray-500 text-sm ml-1",children:"/mois"})]}),(0,Me.jsxs)("div",{className:"flex items-center text-gray-600",children:[(0,Me.jsx)(Dd,{className:"w-4 h-4 mr-1"}),(0,Me.jsxs)("span",{className:"text-sm",children:[e.availableRooms,"/",e.totalRooms," ch."]})]})]}),(0,Me.jsx)("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2",children:e.description}),(0,Me.jsxs)("div",{className:"flex items-center justify-between pt-4 border-t border-gray-200",children:[(0,Me.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Me.jsxs)(Ae,{to:"/properties/".concat(e.id),className:"btn-secondary text-sm flex items-center space-x-1",children:[(0,Me.jsx)(wu,{className:"w-4 h-4"}),(0,Me.jsx)("span",{children:"Voir"})]}),(0,Me.jsxs)(Ae,{to:"/edit-property/".concat(e.id),className:"btn-primary text-sm flex items-center space-x-1",children:[(0,Me.jsx)(Vu,{className:"w-4 h-4"}),(0,Me.jsx)("span",{children:"Modifier"})]})]}),(0,Me.jsxs)("button",{onClick:()=>(async e=>{if(window.confirm("\xcates-vous s\xfbr de vouloir supprimer ce logement ? Cette action est irr\xe9versible.")){u(e);try{await n(e)}catch(t){console.error("Erreur lors de la suppression:",t),alert("Erreur lors de la suppression du logement")}finally{u(null)}}})(e.id),disabled:d===e.id,className:"btn-danger text-sm flex items-center space-x-1 disabled:opacity-50",children:[d===e.id?(0,Me.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):(0,Me.jsx)(Tu,{className:"w-4 h-4"}),(0,Me.jsx)("span",{children:"Supprimer"})]})]})]})]})},e.id))})]}),"student"===e.userType&&(0,Me.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,Me.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Me.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Logements r\xe9cents"}),(0,Me.jsx)(Ae,{to:"/logements",className:"text-primary-600 hover:text-primary-700 text-sm font-medium",children:"Voir tout"})]}),(0,Me.jsx)("div",{className:"space-y-4",children:C.map(e=>(0,Me.jsxs)("div",{className:"flex items-center p-4 border border-gray-200 rounded-lg",children:[(0,Me.jsx)("div",{className:"w-16 h-16 flex-shrink-0 rounded-md overflow-hidden bg-gray-100 mr-3",children:e.images&&e.images.length>0?(0,Me.jsx)("img",{src:(0,hs.VG)(e.images[0]),alt:e.title,className:"w-full h-full object-cover",onError:e=>{e.currentTarget.src="/api/placeholder/100/100"}}):(0,Me.jsx)("div",{className:"w-full h-full bg-gray-200"})}),(0,Me.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Me.jsx)("h3",{className:"font-medium text-gray-900 truncate",children:e.title}),(0,Me.jsx)("p",{className:"text-sm text-gray-600 truncate",children:e.address}),(0,Me.jsxs)("p",{className:"text-sm text-gray-500",children:[e.availableRooms," chambre(s) \u2022 ",e.price.toLocaleString()," Ar/mois"]})]}),(0,Me.jsx)(Ae,{to:"/properties/".concat(e.id),className:"ml-3 text-primary-600 hover:text-primary-700 flex-shrink-0",children:(0,Me.jsx)(wu,{className:"w-5 h-5"})})]},e.id))})]})]}),(0,Me.jsxs)("div",{className:"space-y-8",children:[(0,Me.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,Me.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Me.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Activit\xe9 r\xe9cente"}),(0,Me.jsx)(Ju,{className:"w-5 h-5 text-gray-400"})]}),(0,Me.jsx)("div",{className:"space-y-4",children:E.map(e=>(0,Me.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,Me.jsx)("div",{className:"flex-shrink-0 p-2 bg-primary-100 rounded-lg",children:(0,Me.jsx)("div",{className:"text-primary-600",children:e.icon})}),(0,Me.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Me.jsx)("p",{className:"text-sm font-medium text-gray-900",children:e.title}),(0,Me.jsx)("p",{className:"text-sm text-gray-600",children:e.description}),(0,Me.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:e.time})]})]},e.id))})]}),(0,Me.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,Me.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Compl\xe9tion du profil"}),(()=>{const t=!!(e.firstName&&e.lastName&&e.phone),s=!!e.avatar,r=!!e.bio,n=!!e.cinVerified,a=[t,s,r,n].filter(Boolean).length,i=Math.round(a/4*100);return(0,Me.jsxs)("div",{className:"space-y-4",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsxs)("div",{className:"flex justify-between text-sm mb-1",children:[(0,Me.jsx)("span",{className:"text-gray-600",children:"Profil"}),(0,Me.jsxs)("span",{className:"text-gray-900",children:[i,"%"]})]}),(0,Me.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,Me.jsx)("div",{className:"bg-primary-600 h-2 rounded-full",style:{width:"".concat(i,"%")}})})]}),(0,Me.jsxs)("div",{className:"space-y-2",children:[(0,Me.jsxs)("div",{className:"flex items-center text-sm",children:[t?(0,Me.jsx)(Xu,{className:"w-4 h-4 text-green-500 mr-2"}):(0,Me.jsx)(em,{className:"w-4 h-4 text-yellow-500 mr-2"}),(0,Me.jsx)("span",{className:"text-gray-600",children:"Informations de base"})]}),(0,Me.jsxs)("div",{className:"flex items-center text-sm",children:[s?(0,Me.jsx)(Xu,{className:"w-4 h-4 text-green-500 mr-2"}):(0,Me.jsx)(em,{className:"w-4 h-4 text-yellow-500 mr-2"}),(0,Me.jsx)("span",{className:"text-gray-600",children:"Photo de profil"})]}),(0,Me.jsxs)("div",{className:"flex items-center text-sm",children:[r?(0,Me.jsx)(Xu,{className:"w-4 h-4 text-green-500 mr-2"}):(0,Me.jsx)(em,{className:"w-4 h-4 text-yellow-500 mr-2"}),(0,Me.jsx)("span",{className:"text-gray-600",children:"Description personnelle"})]}),(0,Me.jsxs)("div",{className:"flex items-center text-sm",children:[n?(0,Me.jsx)(Xu,{className:"w-4 h-4 text-green-500 mr-2"}):(0,Me.jsx)(rm,{className:"w-4 h-4 text-gray-400 mr-2"}),(0,Me.jsx)("span",{className:"text-gray-600",children:"V\xe9rification d'identit\xe9"})]})]}),(0,Me.jsx)(Ae,{to:"/profile",className:"block w-full text-center btn-primary text-sm",children:"Compl\xe9ter le profil"})]})})()]})]})]})]})})},am=["title","titleId"];function im(e,s){let{title:r,titleId:n}=e,a=(0,Pn.A)(e,am);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":n},a),r?t.createElement("title",{id:n},r):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"}))}const lm=t.forwardRef(im),om=["title","titleId"];function cm(e,s){let{title:r,titleId:n}=e,a=(0,Pn.A)(e,om);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":n},a),r?t.createElement("title",{id:n},r):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.217 10.907a2.25 2.25 0 1 0 0 2.186m0-2.186c.18.324.283.696.283 1.093s-.103.77-.283 1.093m0-2.186 9.566-5.314m-9.566 7.5 9.566 5.314m0 0a2.25 2.25 0 1 0 3.935 2.186 2.25 2.25 0 0 0-3.935-2.186Zm0-12.814a2.25 2.25 0 1 0 3.933-2.185 2.25 2.25 0 0 0-3.933 2.185Z"}))}const dm=t.forwardRef(cm),um=["title","titleId"];function mm(e,s){let{title:r,titleId:n}=e,a=(0,Pn.A)(e,um);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":n},a),r?t.createElement("title",{id:n},r):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 0 0 2.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 0 1-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 0 0-1.091-.852H4.5A2.25 2.25 0 0 0 2.25 4.5v2.25Z"}))}const hm=t.forwardRef(mm),pm=e=>{let{isOpen:s,onClose:r,propertyId:n,ownerId:a,propertyTitle:i,appointment:l,onUpdate:o}=e;const{user:c}=ys(),[d,u]=(0,t.useState)(""),[m,h]=(0,t.useState)(""),[p,x]=(0,t.useState)(""),[f,g]=(0,t.useState)(!1),[v,y]=(0,t.useState)([]),[b,j]=(0,t.useState)(!1);(0,t.useEffect)(()=>{s&&c&&(async()=>{if(c){j(!0);try{const e=await(0,hs.apiGet)("/api/appointments/get_all");e.success&&y(e.data||[])}catch(e){console.error("Erreur lors du chargement des rendez-vous existants")}finally{j(!1)}}})()},[s,c]),(0,t.useEffect)(()=>{if(l){const e=new Date(l.appointmentDate);u(e.toISOString().split("T")[0]),h(e.toTimeString().slice(0,5)),x(l.message)}else u(""),h(""),x("")},[l]);const w=(e,t)=>{const s=new Date("".concat(e,"T").concat(t,":00")),r=new Date;return v.some(e=>{if(e.id===(null===l||void 0===l?void 0:l.id))return!1;const t=new Date(e.appointmentDate);if(t.getTime()<r.getTime())return!1;if("completed"===e.status)return!1;return Math.abs(s.getTime()-t.getTime())/36e5<2&&"cancelled"!==e.status})};if(!s)return null;const N=(new Date).toISOString().split("T")[0],k=new Date;k.setDate(k.getDate()+30);const S=k.toISOString().split("T")[0];return(0,Me.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Me.jsxs)("div",{className:"bg-white rounded-lg max-w-md w-full max-h-[90vh] overflow-y-auto",children:[(0,Me.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[(0,Me.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:l?"Modifier la visite":"Planifier une visite"}),(0,Me.jsx)("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,Me.jsx)(nu,{className:"w-6 h-6"})})]}),(0,Me.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),d&&m)if(c)if(w(d,m))ms.error("Ce cr\xe9neau horaire est d\xe9j\xe0 r\xe9serv\xe9. Veuillez choisir un autre horaire.");else{g(!0);try{const e="".concat(d,"T").concat(m,":00");if(l&&o)await o({appointmentDate:e,message:p||'Je souhaite visiter le logement "'.concat(i,'"')});else{const t=await(0,hs.apiJson)("/api/appointments/create","POST",{propertyId:n,appointmentDate:e,message:p||'Je souhaite visiter le logement "'.concat(i,'"')});t.success?(ms.success("Rendez-vous planifi\xe9 avec succ\xe8s !"),r()):ms.error(t.message||"Erreur lors de la planification")}}catch(t){console.error("Erreur:",t),ms.error("Erreur lors de la planification du rendez-vous")}finally{g(!1)}}else ms.error("Veuillez vous connecter pour planifier un rendez-vous");else ms.error("Veuillez s\xe9lectionner une date et une heure")},className:"p-6 space-y-6",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Logement"}),(0,Me.jsx)("p",{className:"text-gray-900 font-medium",children:i})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{htmlFor:"date",className:"block text-sm font-medium text-gray-700 mb-2",children:"Date de visite *"}),(0,Me.jsxs)("div",{className:"relative",children:[(0,Me.jsx)(Kd,{className:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2"}),(0,Me.jsx)("input",{type:"date",id:"date",required:!0,min:N,max:S,value:d,onChange:e=>u(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Heure de visite *"}),b?(0,Me.jsx)("div",{className:"flex justify-center py-4",children:(0,Me.jsx)("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary-600"})}):(0,Me.jsx)("div",{className:"grid grid-cols-2 gap-2",children:["08:00","09:00","10:00","11:00","14:00","15:00","16:00","17:00"].map(e=>{const t=!!d&&w(d,e);return(0,Me.jsxs)("button",{type:"button",onClick:()=>!t&&h(e),disabled:t,className:"p-3 border rounded-lg text-sm font-medium transition-colors ".concat(m===e?"border-primary-500 bg-primary-50 text-primary-700":t?"border-gray-200 bg-gray-100 text-gray-400 cursor-not-allowed":"border-gray-300 text-gray-700 hover:border-primary-400"),title:t?"Cr\xe9neau indisponible":"",children:[e,t&&(0,Me.jsx)("div",{className:"text-xs text-red-500 mt-1",children:"Indisponible"})]},e)})})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-700 mb-2",children:"Message au propri\xe9taire (optionnel)"}),(0,Me.jsx)("textarea",{id:"message",rows:4,value:p,onChange:e=>x(e.target.value),placeholder:"Bonjour, je souhaite visiter votre logement...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),(0,Me.jsxs)("div",{className:"flex space-x-3 pt-4",children:[(0,Me.jsx)("button",{type:"button",onClick:r,className:"flex-1 btn-secondary",children:"Annuler"}),(0,Me.jsx)("button",{type:"submit",disabled:f||!d||!m||b,className:"flex-1 btn-primary disabled:opacity-50 disabled:cursor-not-allowed",children:f?l?"Modification...":"Planification...":l?"Modifier":"Confirmer"})]})]})]})})},xm=()=>{var e,s,r,n,a,i,l,o,c,d;const{id:u}=Q(),{properties:m,fetchPropertyById:h}=ws(),{sendMessage:p}=Ss(),{user:x}=ys(),{showVerificationModal:f,setShowVerificationModal:g,checkVerification:v}=uu(),[y,b]=(0,t.useState)(null),[j,w]=(0,t.useState)(!0),[N,k]=(0,t.useState)(0),[S,C]=(0,t.useState)(!1),[E,A]=(0,t.useState)(!1),[P,T]=(0,t.useState)(""),[M,L]=(0,t.useState)(!1),[R,D]=(0,t.useState)(!1),[I,F]=(0,t.useState)(!1),z=x&&y&&String(y.ownerId)===String(x.id),_=t.useMemo(()=>y?m.filter(e=>e.id!==u&&"apartment"===e.propertyType).slice(0,5):[],[m,u,y]);if((0,t.useEffect)(()=>{(async()=>{if(u){w(!0);try{const e=m.find(e=>e.id===u);if(e)b(e);else{const e=await h(u);b(e)}}catch(e){console.error("Erreur lors du chargement de la propri\xe9t\xe9:",e),ms.error("Erreur lors du chargement du logement")}finally{w(!1)}}})()},[u,m,h]),j)return(0,Me.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,Me.jsxs)("div",{className:"text-center",children:[(0,Me.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto mb-4"}),(0,Me.jsx)("p",{className:"text-gray-600",children:"Chargement du logement..."})]})});if(!y)return(0,Me.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,Me.jsxs)("div",{className:"text-center",children:[(0,Me.jsx)(Md,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,Me.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Logement non trouv\xe9"}),(0,Me.jsx)("p",{className:"text-gray-600 mb-4",children:"Le logement que vous recherchez n'existe pas."}),(0,Me.jsx)(Ae,{to:"/properties",className:"btn-primary",children:"Voir tous les logements"})]})});const V=(0,Me.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,Me.jsx)("div",{className:"bg-white border-b border-gray-200",children:(0,Me.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:(0,Me.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Me.jsxs)(Ae,{to:"/properties",className:"flex items-center text-gray-600 hover:text-gray-900 transition-colors",children:[(0,Me.jsx)(lm,{className:"w-5 h-5 mr-2"}),"Retour aux logements"]}),(0,Me.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Me.jsx)("button",{onClick:()=>{C(!S),ms.success(S?"Retir\xe9 des favoris":"Ajout\xe9 aux favoris")},className:"p-2 rounded-lg transition-colors ".concat(S?"text-red-500 bg-red-50":"text-gray-400 hover:text-red-500 hover:bg-red-50"),children:(0,Me.jsx)(Gd,{className:"w-5 h-5"})}),(0,Me.jsx)("button",{onClick:()=>{navigator.share?navigator.share({title:y.title,text:y.description,url:window.location.href}):(navigator.clipboard.writeText(window.location.href),ms.success("Lien copi\xe9 dans le presse-papiers"))},className:"p-2 rounded-lg text-gray-400 hover:text-gray-600 hover:bg-gray-100 transition-colors",children:(0,Me.jsx)(dm,{className:"w-5 h-5"})})]})]})})}),(0,Me.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,Me.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,Me.jsxs)("div",{className:"lg:col-span-2 space-y-8",children:[(0,Me.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[(0,Me.jsx)("div",{className:"aspect-w-16 aspect-h-9",children:(0,Me.jsx)("img",{src:(0,hs.VG)(null===(e=y.images)||void 0===e?void 0:e[N]),alt:y.title,className:"w-full h-96 object-cover",onError:e=>{e.currentTarget.src="/api/placeholder/800/600"}})}),y.images&&y.images.length>1&&(0,Me.jsx)("div",{className:"p-4",children:(0,Me.jsx)("div",{className:"flex space-x-2 overflow-x-auto",children:y.images.map((e,t)=>(0,Me.jsx)("button",{onClick:()=>k(t),className:"flex-shrink-0 w-20 h-20 rounded-lg overflow-hidden border-2 ".concat(N===t?"border-primary-500":"border-gray-200 hover:border-gray-300"),children:(0,Me.jsx)("img",{src:(0,hs.VG)(e),alt:"".concat(y.title," ").concat(t+1),className:"w-full h-full object-cover",onError:e=>{e.currentTarget.src="/api/placeholder/80/80"}})},t))})})]}),(0,Me.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,Me.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:y.title}),(0,Me.jsxs)("div",{className:"flex items-center text-gray-600 mb-2",children:[(0,Me.jsx)($d,{className:"w-5 h-5 mr-2"}),(0,Me.jsx)("span",{children:y.address})]}),y.latitude&&y.longitude&&(0,Me.jsx)("div",{className:"text-xs text-gray-500 mb-2",children:(0,Me.jsxs)("span",{children:["Lat: ",y.latitude.toFixed(6)," \u2022 Lng: ",y.longitude.toFixed(6)]})}),(0,Me.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Me.jsx)("span",{className:"badge badge-primary",children:"apartment"===y.propertyType?"Appartement":"house"===y.propertyType?"Maison":"Studio"}),(0,Me.jsx)("span",{className:"badge ".concat(y.isAvailable?"badge-success":"badge-warning"),children:y.isAvailable?"Disponible":"Occup\xe9"}),y.latitude&&y.longitude&&(0,Me.jsx)("span",{className:"badge badge-success",title:"Coordonn\xe9es disponibles",children:"Coordonn\xe9es v\xe9rifi\xe9es"})]})]}),(0,Me.jsxs)("div",{className:"text-right",children:[(0,Me.jsxs)("div",{className:"text-3xl font-bold text-primary-600",children:[null===(s=y.price)||void 0===s?void 0:s.toLocaleString()," Ar"]}),(0,Me.jsx)("div",{className:"text-gray-500",children:"par mois"})]})]}),(0,Me.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[(0,Me.jsxs)("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[(0,Me.jsx)(Dd,{className:"w-6 h-6 text-primary-600 mx-auto mb-2"}),(0,Me.jsx)("div",{className:"text-sm text-gray-600",children:"Chambres"}),(0,Me.jsxs)("div",{className:"font-semibold",children:[y.availableRooms,"/",y.totalRooms]})]}),(0,Me.jsxs)("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[(0,Me.jsx)(Hu,{className:"w-6 h-6 text-primary-600 mx-auto mb-2"}),(0,Me.jsx)("div",{className:"text-sm text-gray-600",children:"Caution"}),(0,Me.jsxs)("div",{className:"font-semibold",children:[null===(r=y.deposit)||void 0===r?void 0:r.toLocaleString()," Ar"]})]}),(0,Me.jsxs)("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[(0,Me.jsx)(Md,{className:"w-6 h-6 text-primary-600 mx-auto mb-2"}),(0,Me.jsx)("div",{className:"text-sm text-gray-600",children:"Type"}),(0,Me.jsx)("div",{className:"font-semibold",children:"apartment"===y.propertyType?"Appartement":"house"===y.propertyType?"Maison":"Studio"})]}),(0,Me.jsxs)("div",{className:"text-center p-4 bg-gray-50 rounded-lg cursor-pointer hover:bg-gray-100 transition",onClick:()=>L(!M),title:"Voir sur la carte",children:[(0,Me.jsx)($d,{className:"w-6 h-6 text-primary-600 mx-auto mb-2"}),(0,Me.jsx)("div",{className:"text-sm text-gray-600",children:"Quartier"}),(0,Me.jsx)("div",{className:"font-semibold",children:y.district}),(0,Me.jsx)("div",{className:"text-xs text-primary-600 mt-1 underline",children:"Voir sur la carte"})]})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Description"}),(0,Me.jsx)("p",{className:"text-gray-600 leading-relaxed",children:y.description})]})]}),(0,Me.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,Me.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"\xc9quipements"}),(0,Me.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:[null===(n=y.amenities)||void 0===n?void 0:n.map((e,t)=>(0,Me.jsxs)("div",{className:"flex items-center",children:[(0,Me.jsx)(Xu,{className:"w-5 h-5 text-green-500 mr-2"}),(0,Me.jsx)("span",{className:"text-gray-700",children:e})]},t)),(!y.amenities||0===y.amenities.length)&&(0,Me.jsx)("p",{className:"text-gray-500 col-span-3",children:"Aucun \xe9quipement list\xe9"})]})]}),M&&(0,Me.jsxs)("div",{className:"my-6",children:[(0,Me.jsx)("h4",{className:"text-md font-semibold mb-2",children:"Emplacement sur la carte"}),(0,Me.jsxs)("div",{className:"rounded-lg overflow-hidden border border-gray-200",children:[(0,Me.jsxs)("div",{className:"relative w-full h-[300px]",children:[(0,Me.jsx)("iframe",{width:"100%",height:"300",className:"absolute inset-0 w-full h-full",style:{border:0},loading:"lazy",allowFullScreen:!0,title:"Carte montrant la localisation de ".concat(y.title||"la propri\xe9t\xe9"," \xe0 ").concat(y.address),src:y.latitude&&y.longitude?"https://www.google.com/maps?q=".concat(y.latitude,",").concat(y.longitude,"&z=16&output=embed"):"https://www.google.com/maps?q=".concat(encodeURIComponent(y.address),"&output=embed")}),y.latitude&&y.longitude&&(0,Me.jsx)("div",{className:"pointer-events-none absolute inset-0 flex items-center justify-center",children:(0,Me.jsxs)("div",{className:"flex flex-col items-center",children:[(0,Me.jsx)("div",{className:"w-9 h-9 rounded-full bg-blue-600 flex items-center justify-center shadow-lg border-2 border-white",children:(0,Me.jsx)(Md,{className:"w-4 h-4 text-white"})}),(0,Me.jsx)("div",{className:"w-2 h-2 bg-blue-600 rounded-full mt-1 opacity-80"})]})})]}),y.latitude&&y.longitude&&(0,Me.jsxs)("div",{className:"px-4 py-2 bg-gray-50 border-t border-gray-200 text-xs text-gray-600 flex justify-between",children:[(0,Me.jsxs)("span",{children:["Latitude : ",y.latitude.toFixed(6)]}),(0,Me.jsxs)("span",{children:["Longitude : ",y.longitude.toFixed(6)]})]})]})]})]}),(0,Me.jsxs)("div",{className:"space-y-6",children:[(0,Me.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,Me.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Autres appartements"}),0===_.length?(0,Me.jsx)("p",{className:"text-gray-500 text-sm",children:"Aucun autre appartement disponible."}):(0,Me.jsx)("div",{className:"space-y-3",children:_.map(e=>{var t;return(0,Me.jsxs)(Ae,{to:"/properties/".concat(e.id),className:"flex items-center p-3 border border-gray-200 rounded-lg hover:border-primary-300 hover:bg-primary-50 transition-colors",children:[(0,Me.jsx)("div",{className:"w-14 h-14 rounded-md overflow-hidden bg-gray-100 mr-3 flex-shrink-0",children:(0,Me.jsx)("img",{src:(0,hs.VG)(null===(t=e.images)||void 0===t?void 0:t[0]),alt:e.title,className:"w-full h-full object-cover",onError:e=>{e.currentTarget.src="/api/placeholder/80/80"}})}),(0,Me.jsxs)("div",{className:"min-w-0",children:[(0,Me.jsx)("p",{className:"font-medium text-gray-900 truncate",children:e.title}),(0,Me.jsx)("p",{className:"text-sm text-gray-600 truncate",children:e.address}),(0,Me.jsxs)("p",{className:"text-sm text-primary-600 font-semibold",children:[e.price.toLocaleString()," Ar"]})]})]},e.id)})})]}),(0,Me.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,Me.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Propri\xe9taire"}),(0,Me.jsxs)("div",{className:"flex items-center mb-4",children:[(0,Me.jsx)("div",{className:"w-12 h-12 bg-primary-100 rounded-full flex items-center justify-center mr-3",children:(0,Me.jsx)("span",{className:"text-primary-600 font-medium text-lg",children:(null===(a=y.owner)||void 0===a||null===(i=a.firstName)||void 0===i?void 0:i[0])||"U"})}),(0,Me.jsxs)("div",{children:[(0,Me.jsxs)("h4",{className:"font-semibold text-gray-900",children:[null===(l=y.owner)||void 0===l?void 0:l.firstName," ",null===(o=y.owner)||void 0===o?void 0:o.lastName]}),(0,Me.jsxs)("div",{className:"flex items-center",children:[[...Array(5)].map((e,t)=>(0,Me.jsx)(tu,{className:"w-4 h-4 text-yellow-400 fill-current"},t)),(0,Me.jsx)("span",{className:"text-sm text-gray-500 ml-1",children:"(4.8)"})]})]})]}),(null===(c=y.owner)||void 0===c?void 0:c.is_verified)&&(0,Me.jsxs)("div",{className:"flex items-center text-green-600 mb-4",children:[(0,Me.jsx)(Xu,{className:"w-4 h-4 mr-1"}),(0,Me.jsx)("span",{className:"text-sm",children:"Propri\xe9taire v\xe9rifi\xe9"})]}),!z&&(0,Me.jsxs)("div",{className:"space-y-3",children:[(0,Me.jsxs)("button",{onClick:e=>{e.preventDefault(),x?v(e)&&A(!0):ms.error("Veuillez vous connecter pour contacter le propri\xe9taire")},className:"w-full btn-primary flex items-center justify-center space-x-2",children:[(0,Me.jsx)(Od,{className:"w-4 h-4"}),(0,Me.jsx)("span",{children:"Contacter"})]}),(0,Me.jsxs)("button",{onClick:()=>F(!0),className:"w-full btn-secondary flex items-center justify-center space-x-2",children:[(0,Me.jsx)(hm,{className:"w-4 h-4"}),(0,Me.jsx)("span",{children:"Appeler"})]}),(0,Me.jsxs)("button",{onClick:e=>{e.preventDefault(),v(e)&&D(!0)},className:"w-full btn-secondary flex items-center justify-center space-x-2",children:[(0,Me.jsx)(Kd,{className:"w-4 h-4"}),(0,Me.jsx)("span",{children:"Planifier une visite"})]})]}),z&&(0,Me.jsxs)("div",{className:"text-center p-4 bg-gray-50 rounded-lg border border-green-200",children:[(0,Me.jsxs)("div",{className:"flex items-center justify-center mb-2",children:[(0,Me.jsx)(Xu,{className:"w-5 h-5 text-green-600 mr-2"}),(0,Me.jsx)("p",{className:"text-green-800 font-semibold",children:"C'est votre propri\xe9t\xe9"})]}),(0,Me.jsx)("p",{className:"text-gray-600 mb-4 text-sm",children:"Vous pouvez modifier les informations de cette propri\xe9t\xe9"}),(0,Me.jsx)(Ae,{to:"/edit-property/".concat(y.id),className:"btn-primary w-full",children:"Modifier la propri\xe9t\xe9"})]})]}),I&&(0,Me.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Me.jsxs)("div",{className:"bg-white rounded-lg max-w-sm w-full p-6",children:[(0,Me.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Me.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Num\xe9ro de t\xe9l\xe9phone"}),(0,Me.jsx)("button",{onClick:()=>F(!1),className:"text-gray-400 hover:text-gray-600",children:(0,Me.jsx)(nu,{className:"w-5 h-5"})})]}),(0,Me.jsxs)("div",{className:"text-center",children:[(0,Me.jsx)(hm,{className:"w-12 h-12 text-primary-600 mx-auto mb-4"}),(0,Me.jsx)("p",{className:"text-gray-600 mb-2",children:"Num\xe9ro du propri\xe9taire :"}),(0,Me.jsx)("p",{className:"text-2xl font-bold text-primary-600 mb-6",children:(null===(d=y.owner)||void 0===d?void 0:d.phone)||"Non disponible"}),(0,Me.jsx)("button",{onClick:()=>F(!1),className:"btn-primary w-full",children:"Fermer"})]})]})}),E&&(0,Me.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,Me.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Envoyer un message"}),(0,Me.jsxs)("div",{className:"space-y-4",children:[(0,Me.jsx)("textarea",{value:P,onChange:e=>T(e.target.value),placeholder:"Bonjour, je suis int\xe9ress\xe9(e) par votre logement...",rows:4,className:"w-full input-field"}),(0,Me.jsxs)("div",{className:"flex space-x-2",children:[(0,Me.jsx)("button",{onClick:async()=>{if(P.trim())try{await p(y.ownerId,P),T(""),A(!1)}catch(e){ms.error("Erreur lors de l'envoi du message")}else ms.error("Veuillez saisir un message")},className:"flex-1 btn-primary",children:"Envoyer"}),(0,Me.jsx)("button",{onClick:()=>A(!1),className:"flex-1 btn-secondary",children:"Annuler"})]})]})]}),(0,Me.jsxs)("div",{className:"bg-blue-50 rounded-lg p-6",children:[(0,Me.jsx)("h3",{className:"text-lg font-semibold text-blue-900 mb-3",children:"Conseils de s\xe9curit\xe9"}),(0,Me.jsxs)("ul",{className:"space-y-2 text-sm text-blue-800",children:[(0,Me.jsx)("li",{children:"\u2022 Visitez toujours le logement avant de signer"}),(0,Me.jsx)("li",{children:"\u2022 V\xe9rifiez l'identit\xe9 du propri\xe9taire"}),(0,Me.jsx)("li",{children:"\u2022 Ne payez jamais d'avance sans contrat"}),(0,Me.jsx)("li",{children:"\u2022 Utilisez notre messagerie s\xe9curis\xe9e"})]})]})]})]})}),y&&(0,Me.jsx)(pm,{isOpen:R,onClose:()=>D(!1),propertyId:y.id,ownerId:y.ownerId,propertyTitle:y.title}),(0,Me.jsx)(du,{isOpen:f,onClose:()=>g(!1),backButtonText:"Retour au logement"})]});return V},fm=["title","titleId"];function gm(e,s){let{title:r,titleId:n}=e,a=(0,Pn.A)(e,fm);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":n},a),r?t.createElement("title",{id:n},r):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 0 1-.659 1.591l-5.432 5.432a2.25 2.25 0 0 0-.659 1.591v2.927a2.25 2.25 0 0 1-1.244 2.013L9.75 21v-6.568a2.25 2.25 0 0 0-.659-1.591L3.659 7.409A2.25 2.25 0 0 1 3 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0 1 12 3Z"}))}const vm=t.forwardRef(gm),ym=()=>{const{properties:e,loading:s}=ws(),{user:r}=ys(),[n,a]=(0,t.useState)([]),[i,l]=(0,t.useState)(!1),[o,c]=(0,t.useState)("date-desc"),[d,u]=(0,t.useState)({district:"",propertyType:"",minPrice:"",maxPrice:"",availableRooms:""});(0,t.useEffect)(()=>{if(!e||!Array.isArray(e))return void a([]);let t=[...e];switch(d.district&&(t=t.filter(e=>e.district===d.district)),d.propertyType&&(t=t.filter(e=>e.propertyType===d.propertyType)),d.minPrice&&(t=t.filter(e=>e.price>=Number(d.minPrice))),d.maxPrice&&(t=t.filter(e=>e.price<=Number(d.maxPrice))),d.availableRooms&&(t=t.filter(e=>e.availableRooms>=Number(d.availableRooms))),o){case"price-asc":t.sort((e,t)=>e.price-t.price);break;case"price-desc":t.sort((e,t)=>t.price-e.price);break;case"date-desc":t.sort((e,t)=>new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime());break;case"date-asc":t.sort((e,t)=>new Date(e.createdAt).getTime()-new Date(t.createdAt).getTime())}a(t)},[e,d,o]);const m=(e,t)=>{u(s=>(0,Fe.A)((0,Fe.A)({},s),{},{[e]:t}))},h=()=>{u({district:"",propertyType:"",minPrice:"",maxPrice:"",availableRooms:""})};return(0,Me.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,Me.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,Me.jsxs)("div",{className:"mb-8",children:[(0,Me.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Tous les logements"}),(0,Me.jsx)("p",{className:"text-gray-600",children:"D\xe9couvrez tous les logements disponibles pour la colocation \xe0 Antananarivo"})]}),(0,Me.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-8",children:[(0,Me.jsxs)("div",{className:"flex flex-col lg:flex-row gap-4 items-center justify-between",children:[(0,Me.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 flex-1",children:[(0,Me.jsxs)("button",{onClick:()=>l(!i),className:"btn-secondary flex items-center space-x-2",children:[(0,Me.jsx)(vm,{className:"w-5 h-5"}),(0,Me.jsx)("span",{children:"Filtres"})]}),(0,Me.jsxs)("select",{value:d.district,onChange:e=>m("district",e.target.value),className:"input-field",children:[(0,Me.jsx)("option",{value:"",children:"Tous les quartiers"}),["Analakely","Ambohijatovo","Ankadifotsy","Ankatso","Antaninarenina","Behoririka","Isoraka","Mahamasina","Tsaralalana","67ha"].map(e=>(0,Me.jsx)("option",{value:e,children:e},e))]}),(0,Me.jsxs)("select",{value:d.propertyType,onChange:e=>m("propertyType",e.target.value),className:"input-field",children:[(0,Me.jsx)("option",{value:"",children:"Tous les types"}),[{value:"apartment",label:"Appartement"},{value:"house",label:"Maison"},{value:"studio",label:"Studio"}].map(e=>(0,Me.jsx)("option",{value:e.value,children:e.label},e.value))]})]}),(0,Me.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Me.jsx)("span",{className:"text-sm text-gray-600",children:"Trier par:"}),(0,Me.jsxs)("select",{value:o,onChange:e=>c(e.target.value),className:"input-field text-sm",children:[(0,Me.jsx)("option",{value:"date-desc",children:"Plus r\xe9cent"}),(0,Me.jsx)("option",{value:"date-asc",children:"Plus ancien"}),(0,Me.jsx)("option",{value:"price-asc",children:"Prix croissant"}),(0,Me.jsx)("option",{value:"price-desc",children:"Prix d\xe9croissant"})]})]})]}),i&&(0,Me.jsx)("div",{className:"mt-6 pt-6 border-t border-gray-200",children:(0,Me.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Prix min (Ar)"}),(0,Me.jsx)("input",{type:"number",value:d.minPrice,onChange:e=>m("minPrice",e.target.value),className:"input-field",placeholder:"0"})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Prix max (Ar)"}),(0,Me.jsx)("input",{type:"number",value:d.maxPrice,onChange:e=>m("maxPrice",e.target.value),className:"input-field",placeholder:"500000"})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Chambres min"}),(0,Me.jsxs)("select",{value:d.availableRooms,onChange:e=>m("availableRooms",e.target.value),className:"input-field",children:[(0,Me.jsx)("option",{value:"",children:"Toutes"}),(0,Me.jsx)("option",{value:"1",children:"1+"}),(0,Me.jsx)("option",{value:"2",children:"2+"}),(0,Me.jsx)("option",{value:"3",children:"3+"}),(0,Me.jsx)("option",{value:"4",children:"4+"})]})]}),(0,Me.jsx)("div",{className:"flex items-end",children:(0,Me.jsx)("button",{onClick:h,className:"btn-secondary w-full",children:"Effacer"})})]})})]}),s?(0,Me.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,Me.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):(0,Me.jsxs)(Me.Fragment,{children:[(0,Me.jsx)("div",{className:"flex items-center justify-between mb-6",children:(0,Me.jsxs)("p",{className:"text-gray-600",children:[n.length," logement(s) trouv\xe9(s)"]})}),(0,Me.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:n.map(e=>{var t,s,n,a,i,l,o;return(0,Me.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden hover:shadow-md transition-shadow",children:[(0,Me.jsx)("div",{className:"aspect-w-16 aspect-h-9 bg-gray-200",children:(0,Me.jsx)("img",{src:(0,hs.VG)(null===(t=e.images)||void 0===t?void 0:t[0]),alt:e.title,className:"w-full h-48 object-cover",onError:e=>{e.currentTarget.src="/api/placeholder/400/300"}})}),(0,Me.jsxs)("div",{className:"p-6",children:[(0,Me.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,Me.jsx)("h3",{className:"text-lg font-semibold text-gray-900 line-clamp-1",children:e.title}),(0,Me.jsx)("button",{className:"text-gray-400 hover:text-red-500 transition-colors",children:(0,Me.jsx)(Gd,{className:"w-5 h-5"})})]}),(0,Me.jsxs)("div",{className:"flex items-center text-gray-600 mb-2",children:[(0,Me.jsx)($d,{className:"w-4 h-4 mr-1"}),(0,Me.jsx)("span",{className:"text-sm",children:e.address})]}),(0,Me.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Me.jsxs)("div",{className:"flex items-center text-primary-600",children:[(0,Me.jsx)(Hu,{className:"w-4 h-4 mr-1"}),(0,Me.jsxs)("span",{className:"font-semibold",children:[null===(s=e.price)||void 0===s?void 0:s.toLocaleString()," Ar"]}),(0,Me.jsx)("span",{className:"text-gray-500 text-sm ml-1",children:"/mois"})]}),(0,Me.jsxs)("div",{className:"flex items-center text-gray-600",children:[(0,Me.jsx)(Dd,{className:"w-4 h-4 mr-1"}),(0,Me.jsxs)("span",{className:"text-sm",children:[e.availableRooms,"/",e.totalRooms," ch."]})]})]}),(0,Me.jsx)("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2",children:e.description}),(0,Me.jsxs)("div",{className:"flex flex-wrap gap-1 mb-4",children:[null===(n=e.amenities)||void 0===n?void 0:n.slice(0,3).map(e=>(0,Me.jsx)("span",{className:"badge badge-primary text-xs",children:e},e)),e.amenities&&e.amenities.length>3&&(0,Me.jsxs)("span",{className:"badge badge-primary text-xs",children:["+",e.amenities.length-3]})]}),(0,Me.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Me.jsxs)("div",{className:"flex items-center",children:[(0,Me.jsx)("div",{className:"w-8 h-8 bg-primary-100 rounded-full flex items-center justify-center mr-2",children:(0,Me.jsx)("span",{className:"text-primary-600 font-medium text-sm",children:(null===(a=e.owner)||void 0===a||null===(i=a.firstName)||void 0===i?void 0:i[0])||"U"})}),(0,Me.jsxs)("div",{children:[(0,Me.jsxs)("p",{className:"text-sm font-medium text-gray-900",children:[null===(l=e.owner)||void 0===l?void 0:l.firstName," ",null===(o=e.owner)||void 0===o?void 0:o.lastName]}),(0,Me.jsxs)("div",{className:"flex items-center",children:[[...Array(5)].map((e,t)=>(0,Me.jsx)(tu,{className:"w-3 h-3 text-yellow-400 fill-current"},t)),(0,Me.jsx)("span",{className:"text-xs text-gray-500 ml-1",children:"(4.8)"})]})]})]}),(0,Me.jsxs)("div",{className:"flex gap-2",children:[(0,Me.jsx)(Ae,{to:"/properties/".concat(e.id),className:"btn-primary text-sm",children:"Voir d\xe9tails"}),r&&Number(e.ownerId)===Number(r.id)?null:(0,Me.jsxs)(Ae,{to:"/messages?to=".concat(e.ownerId,"&prefill=").concat(encodeURIComponent('Bonjour, je suis int\xe9ress\xe9(e) par votre logement "'.concat(e.title,'".\n\nLogement: ').concat(window.location.origin,"/properties/").concat(e.id))),className:"btn-secondary text-sm flex items-center space-x-1",title:"Contacter le propri\xe9taire",children:[(0,Me.jsx)(Od,{className:"w-4 h-4"}),(0,Me.jsx)("span",{children:"Contacter"})]})]})]})]})]},e.id)})}),0===n.length&&(0,Me.jsxs)("div",{className:"text-center py-12",children:[(0,Me.jsx)(Md,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,Me.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:e&&e.length>0?"Aucun logement correspond aux filtres":"Aucun logement disponible"}),(0,Me.jsx)("p",{className:"text-gray-600 mb-4",children:e&&e.length>0?"Essayez de modifier vos crit\xe8res de recherche":"Revenez plus tard pour d\xe9couvrir de nouveaux logements"}),(0,Me.jsx)("button",{onClick:h,className:"btn-primary",children:"Effacer les filtres"})]})]})]})})};var bm={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const jm=["color","size","strokeWidth","absoluteStrokeWidth","children"];var wm=(e,s)=>{const r=(0,t.forwardRef)((r,n)=>{let{color:a="currentColor",size:i=24,strokeWidth:l=2,absoluteStrokeWidth:o,children:c}=r,d=(0,Pn.A)(r,jm);return(0,t.createElement)("svg",(0,Fe.A)((0,Fe.A)({ref:n},bm),{},{width:i,height:i,stroke:a,strokeWidth:o?24*Number(l)/Number(i):l,className:"lucide lucide-".concat((u=e,u.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()))},d),[...s.map(e=>{let[s,r]=e;return(0,t.createElement)(s,r)}),...(Array.isArray(c)?c:[c])||[]]);var u});return r.displayName="".concat(e),r};const Nm=wm("Map",[["polygon",{points:"3 6 9 3 15 6 21 3 21 18 15 21 9 18 3 21",key:"ok2ie8"}],["line",{x1:"9",x2:"9",y1:"3",y2:"18",key:"w34qz5"}],["line",{x1:"15",x2:"15",y1:"6",y2:"21",key:"volv9a"}]]),km=async e=>{const t=e.map(e=>(async e=>{const t=new FormData;t.append("image",e);try{var s,r;const e=await(0,hs.yX)("/api/upload/image",t);if(!e.success)throw new Error(e.message||"Erreur lors de l'upload");return(null===(s=e.data)||void 0===s?void 0:s.url)||(null===(r=e.data)||void 0===r?void 0:r.path)||""}catch(n){throw console.error("\u274c Erreur upload:",n),new Error(n.message||"Impossible d'uploader l'image")}})(e));return Promise.all(t)},Sm=()=>{const e=K(),{createProperty:s,loading:r}=ws(),{user:n}=ys(),[a,i]=(0,t.useState)({title:"",description:"",address:"",district:"",price:0,deposit:0,availableRooms:1,totalRooms:1,propertyType:"apartment",amenities:[],images:[]}),[l,o]=(0,t.useState)([]),[c,d]=(0,t.useState)(null),[u,m]=(0,t.useState)(!1),[h,p]=(0,t.useState)(null),[x,f]=(0,t.useState)(!1),[g,v]=(0,t.useState)(!1),[y,b]=(0,t.useState)([]),[j,w]=(0,t.useState)(!1),[N,k]=(0,t.useState)(""),[S,C]=(0,t.useState)(""),[E,A]=(0,t.useState)(!1),P=(0,t.useRef)(null),T=(0,t.useRef)(null),M=(0,t.useRef)(null),L=(0,t.useRef)(),R=(null===n||void 0===n?void 0:n.cinVerified)||(null===n||void 0===n?void 0:n.cin_verified),D=(null===n||void 0===n?void 0:n.cinPending)||(null===n||void 0===n?void 0:n.cin_verification_requested_at),[I,F]=t.useState(!1);if(t.useEffect(()=>{"owner"!==(null===n||void 0===n?void 0:n.userType)||R||D||F(!0)},[n,R,D]),"owner"===(null===n||void 0===n?void 0:n.userType)&&!R&&!D)return(0,Me.jsx)(du,{isOpen:I,onClose:()=>F(!1),backButtonText:"Retour au tableau de bord",onBackClick:()=>e("/dashboard")});if("owner"===(null===n||void 0===n?void 0:n.userType)&&!R&&D)return(0,Me.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:(0,Me.jsxs)("div",{className:"max-w-md w-full text-center",children:[(0,Me.jsx)(em,{className:"w-16 h-16 text-blue-500 mx-auto mb-4"}),(0,Me.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"V\xe9rification en cours"}),(0,Me.jsx)("p",{className:"text-gray-600 mb-4",children:"Votre CIN est en cours de validation. Vous pourrez publier un logement d\xe8s qu'elle sera approuv\xe9e."}),(0,Me.jsx)("button",{onClick:()=>e("/dashboard"),className:"w-full btn-secondary",children:"Retour au tableau de bord"})]})});const z=["Analakely","Ambohijatovo","Ankadifotsy","Ankatso","Antaninarenina","Behoririka","Isoraka","Mahamasina","Tsaralalana","67ha"],_=()=>{navigator.geolocation?(v(!0),ms.loading("R\xe9cup\xe9ration de votre position actuelle..."),navigator.geolocation.getCurrentPosition(e=>{const{latitude:t,longitude:s}=e.coords;d({lat:t,lng:s}),p({lat:t,lng:s}),V(t,s),ms.dismiss(),ms.success("Position d\xe9tect\xe9e : ".concat(t.toFixed(5),", ").concat(s.toFixed(5))),v(!1)},e=>{switch(ms.dismiss(),v(!1),e.code){case e.PERMISSION_DENIED:ms.error("Permission de g\xe9olocalisation refus\xe9e");break;case e.POSITION_UNAVAILABLE:ms.error("Position GPS indisponible");break;case e.TIMEOUT:ms.error("Timeout de la g\xe9olocalisation");break;default:ms.error("Erreur de g\xe9olocalisation inconnue")}},{enableHighAccuracy:!0,timeout:15e3,maximumAge:0})):ms.error("La g\xe9olocalisation n'est pas support\xe9e par votre navigateur")},V=async(e,t)=>{try{const s=await fetch("https://nominatim.openstreetmap.org/reverse?format=json&lat=".concat(e,"&lon=").concat(t,"&zoom=18&addressdetails=1")),r=await s.json();if(r&&r.display_name){const e=r.display_name;if(i(t=>(0,Fe.A)((0,Fe.A)({},t),{},{address:e})),r.address){const e=r.address.suburb||r.address.neighbourhood||r.address.quarter;e&&z.includes(e)&&i(t=>(0,Fe.A)((0,Fe.A)({},t),{},{district:e}))}}}catch(s){console.error("Erreur reverse geocoding:",s)}},O=async e=>{try{const t=await fetch("https://nominatim.openstreetmap.org/search?format=json&q=".concat(encodeURIComponent(e),"&limit=5&countrycodes=mg")),s=await t.json();if(s&&s.length>0){const e=s[0];return{lat:parseFloat(e.lat),lng:parseFloat(e.lon)}}return null}catch(t){return console.error("Erreur geocoding:",t),null}},B=e=>{if(!T.current||!c)return;const t=T.current.getBoundingClientRect(),s=(e.clientX-t.left)/t.width,r=(e.clientY-t.top)/t.height,n={lat:c.lat+.01*(r-.5),lng:c.lng+.01*(s-.5)};p(n)},U=e=>{const{name:t,value:s}=e.target;i(e=>(0,Fe.A)((0,Fe.A)({},e),{},{[t]:"price"===t||"deposit"===t||"availableRooms"===t||"totalRooms"===t?Number(s):s}))};return(0,Me.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,Me.jsxs)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,Me.jsxs)("div",{className:"mb-8",children:[(0,Me.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Publier un logement"}),(0,Me.jsx)("p",{className:"text-gray-600",children:"Partagez votre logement avec des \xe9tudiants \xe0 la recherche d'une colocation"})]}),(0,Me.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),!n)return ms.error("Vous devez \xeatre connect\xe9 pour cr\xe9er une propri\xe9t\xe9"),void e("/login");if(a.title.trim())if(a.description.trim())if(a.address.trim())if(a.district)if(a.price<=0)ms.error("Le prix doit \xeatre sup\xe9rieur \xe0 0");else if("apartment"===a.propertyType&&(a.price<5e4||a.price>15e4))ms.error("Le prix d'un appartement doit \xeatre entre 50 000 Ar et 150 000 Ar par mois");else if(a.deposit<0)ms.error("La caution ne peut pas \xeatre n\xe9gative");else if(a.availableRooms>a.totalRooms)ms.error("Le nombre de chambres disponibles ne peut pas \xeatre sup\xe9rieur au total");else if(a.availableRooms<=0)ms.error("Il doit y avoir au moins une chambre disponible");else if(0!==l.length)if(c)try{ms.loading("Upload des images en cours...");const t=await(async()=>{if(0===l.length)return[];f(!0);try{const e=l.map(e=>e.file),t=await km(e);return ms.success("Toutes les images ont \xe9t\xe9 upload\xe9es avec succ\xe8s"),t}catch(e){throw ms.error("Erreur lors de l'upload des images: ".concat(e.message)),e}finally{f(!1)}})();if(0===t.length)return void ms.error("Aucune image n'a pu \xeatre upload\xe9e");ms.dismiss(),await s((0,Fe.A)((0,Fe.A)({},a),{},{images:t,coordinates:c})),l.forEach(e=>URL.revokeObjectURL(e.preview)),e("/dashboard")}catch(r){console.error("Erreur lors de la cr\xe9ation:",r),ms.dismiss()}else ms.error("Veuillez confirmer la localisation sur la carte");else ms.error("Veuillez ajouter au moins une image");else ms.error("Le quartier est requis");else ms.error("L'adresse est requise");else ms.error("La description est requise");else ms.error("Le titre est requis")},className:"space-y-8",children:[(0,Me.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,Me.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Informations de base"}),(0,Me.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Me.jsxs)("div",{className:"md:col-span-2",children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Titre de l'annonce *"}),(0,Me.jsx)("input",{type:"text",name:"title",value:a.title,onChange:U,className:"input-field",placeholder:"Ex: Appartement 3 chambres \xe0 Analakely",required:!0})]}),(0,Me.jsxs)("div",{className:"md:col-span-2",children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description *"}),(0,Me.jsx)("textarea",{name:"description",value:a.description,onChange:U,rows:4,className:"input-field",placeholder:"D\xe9crivez votre logement, ses avantages, le quartier...",required:!0})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Type de logement *"}),(0,Me.jsx)("select",{name:"propertyType",value:a.propertyType,onChange:U,className:"input-field",required:!0,children:[{value:"apartment",label:"Appartement"},{value:"house",label:"Maison"},{value:"studio",label:"Studio"}].map(e=>(0,Me.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Quartier *"}),(0,Me.jsxs)("select",{name:"district",value:a.district,onChange:U,className:"input-field",required:!0,children:[(0,Me.jsx)("option",{value:"",children:"S\xe9lectionnez un quartier"}),z.map(e=>(0,Me.jsx)("option",{value:e,children:e},e))]})]})]})]}),(0,Me.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,Me.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Localisation"}),(0,Me.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Me.jsxs)("div",{className:"md:col-span-2",children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Adresse compl\xe8te *"}),(0,Me.jsxs)("div",{className:"relative",children:[(0,Me.jsxs)("div",{className:"flex space-x-2",children:[(0,Me.jsxs)("div",{className:"flex-1 relative",children:[(0,Me.jsx)("input",{ref:M,type:"text",name:"address",value:a.address,onChange:e=>{const t=e.target.value;i(e=>(0,Fe.A)((0,Fe.A)({},e),{},{address:t})),L.current&&clearTimeout(L.current),L.current=setTimeout(()=>{(async e=>{if(e.length<3)return b([]),void w(!1);try{const t=await fetch("https://nominatim.openstreetmap.org/search?format=json&q=".concat(encodeURIComponent(e),"&limit=5&countrycodes=mg")),s=await t.json();if(s&&s.length>0){const e=s.map(e=>e.display_name);b(e),w(!0)}else b([]),w(!1)}catch(t){console.error("Erreur recherche adresse:",t),b([]),w(!1)}})(t)},500)},className:"input-field pr-10",placeholder:"Ex: Rue de l'Ind\xe9pendance, Analakely, Antananarivo",required:!0,onFocus:()=>{y.length>0&&w(!0)},onBlur:()=>{setTimeout(()=>w(!1),200)}}),(0,Me.jsx)(Wd,{className:"w-5 h-5 text-gray-400 absolute right-3 top-1/2 transform -translate-y-1/2"})]}),(0,Me.jsxs)("button",{type:"button",onClick:_,className:"btn-secondary flex items-center space-x-2 whitespace-nowrap",disabled:g,title:"Utiliser ma position actuelle",children:[g?(0,Me.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-gray-600"}):(0,Me.jsx)(Nm,{className:"w-4 h-4"}),(0,Me.jsx)("span",{children:"Ma position"})]}),(0,Me.jsxs)("button",{type:"button",onClick:async()=>{if(a.address.trim())try{ms.loading("Recherche des coordonn\xe9es...");const e=await O(a.address);e?(d(e),p(e),m(!0),ms.dismiss(),ms.success("Coordonn\xe9es trouv\xe9es ! Ajustez la position sur la carte.")):(ms.dismiss(),ms.error("Impossible de trouver les coordonn\xe9es pour cette adresse"))}catch(e){ms.dismiss(),ms.error("Erreur lors de la g\xe9olocalisation")}else ms.error("Veuillez d'abord saisir une adresse")},className:"btn-secondary flex items-center space-x-2 whitespace-nowrap",disabled:!a.address.trim(),title:"Localiser cette adresse",children:[(0,Me.jsx)($d,{className:"w-4 h-4"}),(0,Me.jsx)("span",{children:"Localiser"})]})]}),j&&y.length>0&&(0,Me.jsx)("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-60 overflow-auto",children:y.map((e,t)=>(0,Me.jsx)("button",{type:"button",className:"w-full px-4 py-2 text-left hover:bg-gray-100 border-b border-gray-100 last:border-b-0",onClick:()=>(async e=>{i(t=>(0,Fe.A)((0,Fe.A)({},t),{},{address:e})),w(!1),b([]),ms.loading("R\xe9cup\xe9ration des coordonn\xe9es...");const t=await O(e);t?(d(t),p(t),ms.dismiss(),ms.success("Adresse localis\xe9e sur la carte !")):(ms.dismiss(),ms.error("Impossible de localiser cette adresse"))})(e),children:(0,Me.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,Me.jsx)($d,{className:"w-4 h-4 text-gray-400 mt-0.5 flex-shrink-0"}),(0,Me.jsx)("span",{className:"text-sm text-gray-700",children:e})]})},t))})]}),(0,Me.jsxs)("div",{className:"mt-2 text-xs text-gray-500",children:[(0,Me.jsx)("p",{children:"Commencez \xe0 taper pour voir les suggestions d'adresse"}),(0,Me.jsx)("p",{children:'Ou sur "Mobile" utilisez "Ma position" pour d\xe9tecter automatiquement votre localisation actuelle'})]})]}),(0,Me.jsxs)("div",{className:"md:col-span-2",children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Localisation sur la carte"}),(0,Me.jsx)("div",{className:"mb-4",children:(0,Me.jsxs)("button",{type:"button",onClick:()=>A(!E),className:"btn-secondary flex items-center space-x-2 text-sm",children:[(0,Me.jsx)(Fu,{className:"w-4 h-4"}),(0,Me.jsx)("span",{children:"Saisir les coordonn\xe9es manuellement"})]})}),E&&(0,Me.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",children:[(0,Me.jsx)("h4",{className:"text-sm font-medium text-blue-900 mb-3",children:"Saisie manuelle des coordonn\xe9es"}),(0,Me.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-xs font-medium text-blue-700 mb-1",children:"Latitude *"}),(0,Me.jsx)("input",{type:"text",value:N,onChange:e=>k(e.target.value),className:"input-field text-sm",placeholder:"Ex: -18.8792"}),(0,Me.jsx)("p",{className:"text-xs text-blue-600 mt-1",children:"Entre -90 et 90"})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-xs font-medium text-blue-700 mb-1",children:"Longitude *"}),(0,Me.jsx)("input",{type:"text",value:S,onChange:e=>C(e.target.value),className:"input-field text-sm",placeholder:"Ex: 47.5079"}),(0,Me.jsx)("p",{className:"text-xs text-blue-600 mt-1",children:"Entre -180 et 180"})]})]}),(0,Me.jsxs)("div",{className:"flex space-x-2 mt-3",children:[(0,Me.jsx)("button",{type:"button",onClick:()=>{const e=parseFloat(N),t=parseFloat(S);if(isNaN(e)||isNaN(t))return void ms.error("Veuillez saisir des coordonn\xe9es valides");if(e<-90||e>90)return void ms.error("La latitude doit \xeatre entre -90 et 90");if(t<-180||t>180)return void ms.error("La longitude doit \xeatre entre -180 et 180");const s={lat:e,lng:t};d(s),p(s),A(!1),k(""),C(""),ms.success("Coordonn\xe9es manuelles enregistr\xe9es !")},className:"btn-primary text-sm px-3 py-2",children:"Valider les coordonn\xe9es"}),(0,Me.jsx)("button",{type:"button",onClick:()=>{A(!1),k(""),C("")},className:"btn-secondary text-sm px-3 py-2",children:"Annuler"})]})]}),(0,Me.jsx)("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 bg-gray-50",children:c?(0,Me.jsxs)("div",{className:"text-center",children:[(0,Me.jsxs)("div",{className:"w-full h-48 rounded-lg flex items-center justify-center relative overflow-hidden",children:[(0,Me.jsx)("iframe",{className:"absolute inset-0 w-full h-full pointer-events-none",style:{border:0},loading:"lazy",allowFullScreen:!0,title:"Carte de localisation du logement",src:"https://www.google.com/maps?q=".concat(c.lat,",").concat(c.lng,"&z=16&output=embed")}),(0,Me.jsx)("div",{ref:T,className:"absolute inset-0 cursor-pointer",onClick:B,children:(0,Me.jsxs)("div",{className:"absolute w-6 h-6 transform -translate-x-1/2 -translate-y-1/2",style:{left:"50%",top:"50%"},children:[(0,Me.jsx)("div",{className:"w-6 h-6 bg-red-500 rounded-full border-2 border-white shadow-lg"}),(0,Me.jsx)("div",{className:"w-2 h-2 bg-white rounded-full absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2"})]})})]}),(0,Me.jsxs)("div",{className:"mt-3 text-sm text-gray-600",children:[(0,Me.jsxs)("p",{children:["Latitude: ",c.lat.toFixed(6)]}),(0,Me.jsxs)("p",{children:["Longitude: ",c.lng.toFixed(6)]})]}),(0,Me.jsxs)("div",{className:"flex justify-center space-x-2 mt-2",children:[(0,Me.jsx)("button",{type:"button",onClick:()=>m(!0),className:"btn-secondary text-sm",children:"Ajuster sur la carte"}),(0,Me.jsx)("button",{type:"button",onClick:()=>A(!0),className:"btn-secondary text-sm",children:"Modifier manuellement"})]})]}):(0,Me.jsxs)("div",{className:"text-center py-8",children:[(0,Me.jsx)($d,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,Me.jsx)("p",{className:"text-gray-500 mb-2",children:"Aucune localisation d\xe9finie"}),(0,Me.jsx)("p",{className:"text-sm text-gray-400 mb-4",children:'Saisissez une adresse, utilisez "Ma position" ou entrez les coordonn\xe9es manuellement'}),(0,Me.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2 justify-center",children:[(0,Me.jsx)("button",{type:"button",onClick:_,className:"btn-primary flex items-center space-x-2 text-sm",disabled:g,children:g?(0,Me.jsxs)(Me.Fragment,{children:[(0,Me.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),(0,Me.jsx)("span",{children:"D\xe9tection..."})]}):(0,Me.jsxs)(Me.Fragment,{children:[(0,Me.jsx)(Nm,{className:"w-4 h-4"}),(0,Me.jsx)("span",{children:"Utiliser ma position"})]})}),(0,Me.jsxs)("button",{type:"button",onClick:()=>A(!0),className:"btn-secondary flex items-center space-x-2 text-sm",children:[(0,Me.jsx)(Fu,{className:"w-4 h-4"}),(0,Me.jsx)("span",{children:"Saisir manuellement"})]})]})]})})]})]})]}),(0,Me.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,Me.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Tarification"}),(0,Me.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Prix mensuel (Ar) *"}),(0,Me.jsx)("input",{type:"number",name:"price",value:a.price||"",onChange:U,className:"input-field",placeholder:"200000",min:"1",required:!0})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Caution (Ar) *"}),(0,Me.jsx)("input",{type:"number",name:"deposit",value:a.deposit||"",onChange:U,className:"input-field",placeholder:"100000",min:"0",required:!0})]})]})]}),(0,Me.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,Me.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Chambres"}),(0,Me.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre total de chambres *"}),(0,Me.jsx)("input",{type:"number",name:"totalRooms",value:a.totalRooms,onChange:U,className:"input-field",min:"1",required:!0})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Chambres disponibles *"}),(0,Me.jsx)("input",{type:"number",name:"availableRooms",value:a.availableRooms,onChange:U,className:"input-field",min:"1",max:a.totalRooms,required:!0})]})]})]}),(0,Me.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,Me.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"\xc9quipements"}),(0,Me.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:["Internet","Eau chaude","S\xe9curit\xe9","Parking","Jardin","Climatisation","Machine \xe0 laver","Cuisine \xe9quip\xe9e","Balcon","Ascenseur","Piscine","Gym"].map(e=>(0,Me.jsxs)("label",{className:"flex items-center",children:[(0,Me.jsx)("input",{type:"checkbox",checked:a.amenities.includes(e),onChange:()=>(e=>{i(t=>(0,Fe.A)((0,Fe.A)({},t),{},{amenities:t.amenities.includes(e)?t.amenities.filter(t=>t!==e):[...t.amenities,e]}))})(e),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),(0,Me.jsx)("span",{className:"ml-2 text-sm text-gray-700",children:e})]},e))})]}),(0,Me.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,Me.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Photos"}),(0,Me.jsxs)("div",{className:"space-y-4",children:[(0,Me.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center space-y-2 sm:space-y-0 sm:space-x-2",children:[(0,Me.jsx)("input",{ref:P,type:"file",accept:"image/*",multiple:!0,onChange:e=>{const t=e.target.files;if(!t)return;const s=[];for(let r=0;r<t.length;r++){const e=t[r];if(!e.type.startsWith("image/")){ms.error("".concat(e.name," n'est pas une image valide"));continue}if(e.size>5242880){ms.error("".concat(e.name," est trop volumineux (max 5MB)"));continue}if(l.length+s.length>=10){ms.error("Maximum 10 images autoris\xe9es");break}const n={file:e,preview:URL.createObjectURL(e),id:Math.random().toString(36).substr(2,9)};s.push(n)}s.length>0&&(o(e=>[...e,...s]),ms.success("".concat(s.length," image(s) ajout\xe9e(s) avec succ\xe8s"))),P.current&&(P.current.value="")},className:"hidden"}),(0,Me.jsxs)("button",{type:"button",onClick:()=>{var e;return null===(e=P.current)||void 0===e?void 0:e.click()},className:"btn-primary flex items-center justify-center space-x-2 px-4 py-2",disabled:x||r,children:[(0,Me.jsx)(Uu,{className:"w-5 h-5"}),(0,Me.jsx)("span",{children:"S\xe9lectionner des images"})]}),(0,Me.jsxs)("div",{className:"flex-1 text-sm text-gray-500",children:[(0,Me.jsx)("p",{children:"Formats accept\xe9s: JPG, PNG, WebP \u2022 Max 5MB par image \u2022 Maximum 10 images"}),(0,Me.jsx)("p",{className:"text-green-600 font-medium",children:"Les images seront sauvegard\xe9es d\xe9finitivement"})]})]}),l.length>0&&(0,Me.jsxs)("div",{className:"flex items-center justify-between bg-blue-50 border border-blue-200 rounded-lg p-3",children:[(0,Me.jsxs)("span",{className:"text-sm font-medium text-blue-800",children:[l.length," image(s) s\xe9lectionn\xe9e(s) sur 10 maximum"]}),x&&(0,Me.jsx)("div",{className:"flex items-center space-x-2",children:(0,Me.jsx)("span",{className:"text-xs text-blue-600",children:"Upload en cours..."})})]}),l.length>0&&(0,Me.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:l.map((e,t)=>(0,Me.jsxs)("div",{className:"relative group bg-gray-100 rounded-lg overflow-hidden",children:[(0,Me.jsx)("img",{src:e.preview,alt:"Aper\xe7u ".concat(t+1),className:"w-full h-32 object-cover transition-transform group-hover:scale-105"}),(0,Me.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-40 transition-all flex items-center justify-center",children:(0,Me.jsx)("button",{type:"button",onClick:()=>(e=>{URL.revokeObjectURL(l[e].preview),o(t=>t.filter((t,s)=>s!==e)),ms.success("Image supprim\xe9e")})(t),className:"opacity-0 group-hover:opacity-100 bg-red-500 text-white rounded-full p-2 hover:bg-red-600 transition-all transform scale-90 group-hover:scale-100",title:"Supprimer l'image",disabled:x,children:(0,Me.jsx)(nu,{className:"w-4 h-4"})})}),(0,Me.jsxs)("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black to-transparent p-2",children:[(0,Me.jsx)("p",{className:"text-xs text-white truncate",children:e.file.name}),(0,Me.jsxs)("p",{className:"text-xs text-gray-300",children:[(e.file.size/1048576).toFixed(1)," MB"]})]}),(0,Me.jsx)("div",{className:"absolute top-2 left-2 bg-black bg-opacity-60 text-white text-xs px-2 py-1 rounded-full",children:t+1})]},e.id))}),0===l.length&&(0,Me.jsxs)("div",{className:"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg bg-gray-50",children:[(0,Me.jsx)(Uu,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,Me.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucune image s\xe9lectionn\xe9e"}),(0,Me.jsx)("p",{className:"text-gray-500 mb-4",children:"Ajoutez des photos attractives de votre logement"}),(0,Me.jsxs)("button",{type:"button",onClick:()=>{var e;return null===(e=P.current)||void 0===e?void 0:e.click()},className:"btn-secondary flex items-center space-x-2 mx-auto",disabled:x,children:[(0,Me.jsx)(Fu,{className:"w-4 h-4"}),(0,Me.jsx)("span",{children:"S\xe9lectionner des images"})]})]})]})]}),(0,Me.jsxs)("div",{className:"flex justify-end space-x-4",children:[(0,Me.jsx)("button",{type:"button",onClick:()=>e("/dashboard"),className:"btn-secondary",disabled:r||x,children:"Annuler"}),(0,Me.jsx)("button",{type:"submit",disabled:r||x||0===l.length,className:"btn-primary flex items-center space-x-2",children:r||x?(0,Me.jsxs)(Me.Fragment,{children:[(0,Me.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),(0,Me.jsx)("span",{children:x?"Upload...":"Publication..."})]}):"Publier le logement"})]})]}),u&&(0,Me.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Me.jsx)("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-auto",children:(0,Me.jsxs)("div",{className:"p-6",children:[(0,Me.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Ajuster la position sur la carte"}),(0,Me.jsx)("div",{className:"mb-3",children:(0,Me.jsxs)("button",{type:"button",onClick:()=>{h&&(k(h.lat.toString()),C(h.lng.toString())),A(!0),m(!1)},className:"btn-secondary flex items-center space-x-2 text-sm",children:[(0,Me.jsx)(Fu,{className:"w-4 h-4"}),(0,Me.jsx)("span",{children:"Saisir les coordonn\xe9es manuellement"})]})}),(0,Me.jsxs)("div",{className:"mb-4",children:[(0,Me.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:"Cliquez sur la carte pour positionner le marqueur"}),(0,Me.jsx)("div",{className:"text-xs text-gray-500",children:h&&(0,Me.jsxs)("p",{children:["Position actuelle: ",h.lat.toFixed(6),", ",h.lng.toFixed(6)]})})]}),(0,Me.jsxs)("div",{ref:T,className:"w-full h-64 rounded-lg cursor-pointer relative mb-4 border-2 border-gray-300 overflow-hidden",onClick:B,children:[(0,Me.jsx)("iframe",{className:"absolute inset-0 w-full h-full pointer-events-none",style:{border:0},loading:"lazy",allowFullScreen:!0,title:"Carte d'ajustement de la position",src:((e,t,s,r)=>{const n=null!==(e=null!==(t=null===h||void 0===h?void 0:h.lat)&&void 0!==t?t:null===c||void 0===c?void 0:c.lat)&&void 0!==e?e:0,a=null!==(s=null!==(r=null===h||void 0===h?void 0:h.lng)&&void 0!==r?r:null===c||void 0===c?void 0:c.lng)&&void 0!==s?s:0;return"https://www.google.com/maps?q=".concat(n,",").concat(a,"&z=16&output=embed")})()}),h&&(0,Me.jsxs)("div",{className:"absolute w-6 h-6 transform -translate-x-1/2 -translate-y-1/2",style:{left:"50%",top:"50%"},children:[(0,Me.jsx)("div",{className:"w-6 h-6 bg-red-500 rounded-full border-2 border-white shadow-lg"}),(0,Me.jsx)("div",{className:"w-2 h-2 bg-white rounded-full absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2"})]})]}),(0,Me.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,Me.jsx)("button",{type:"button",onClick:()=>m(!1),className:"btn-secondary",children:"Annuler"}),(0,Me.jsx)("button",{type:"button",onClick:()=>{h&&(d(h),ms.success("Emplacement confirm\xe9 !")),m(!1)},className:"btn-primary",disabled:!h,children:"Confirmer l'emplacement"})]})]})})})]})})},Cm=["title","titleId"];function Em(e,s){let{title:r,titleId:n}=e,a=(0,Pn.A)(e,Cm);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":n},a),r?t.createElement("title",{id:n},r):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"}))}const Am=t.forwardRef(Em),Pm=["title","titleId"];function Tm(e,s){let{title:r,titleId:n}=e,a=(0,Pn.A)(e,Pm);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":n},a),r?t.createElement("title",{id:n},r):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.827 6.175A2.31 2.31 0 0 1 5.186 7.23c-.38.054-.757.112-1.134.175C2.999 7.58 2.25 8.507 2.25 9.574V18a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18V9.574c0-1.067-.75-1.994-1.802-2.169a47.865 47.865 0 0 0-1.134-.175 2.31 2.31 0 0 1-1.64-1.055l-.822-1.316a2.192 2.192 0 0 0-1.736-1.039 48.774 48.774 0 0 0-5.232 0 2.192 2.192 0 0 0-1.736 1.039l-.821 1.316Z"}),t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 12.75a4.5 4.5 0 1 1-9 0 4.5 4.5 0 0 1 9 0ZM18.75 10.5h.008v.008h-.008V10.5Z"}))}const Mm=t.forwardRef(Tm),Lm=["title","titleId"];function Rm(e,s){let{title:r,titleId:n}=e,a=(0,Pn.A)(e,Lm);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":n},a),r?t.createElement("title",{id:n},r):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"}))}const Dm=t.forwardRef(Rm),Im=["title","titleId"];function Fm(e,s){let{title:r,titleId:n}=e,a=(0,Pn.A)(e,Im);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":n},a),r?t.createElement("title",{id:n},r):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.26 10.147a60.438 60.438 0 0 0-.491 6.347A48.62 48.62 0 0 1 12 20.904a48.62 48.62 0 0 1 8.232-4.41 60.46 60.46 0 0 0-.491-6.347m-15.482 0a50.636 50.636 0 0 0-2.658-.813A59.906 59.906 0 0 1 12 3.493a59.903 59.903 0 0 1 10.399 5.84c-.896.248-1.783.52-2.658.814m-15.482 0A50.717 50.717 0 0 1 12 13.489a50.702 50.702 0 0 1 7.74-3.342M6.75 15a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Zm0 0v-3.675A55.378 55.378 0 0 1 12 8.443m-7.007 11.55A5.981 5.981 0 0 0 6.75 15.75v-1.5"}))}const zm=t.forwardRef(Fm),_m=()=>{const{user:e,updateProfile:s,setUser:r}=ys(),[n,a]=(0,t.useState)(!1),i=(0,t.useRef)(null),[l,o]=(0,t.useState)({firstName:(null===e||void 0===e?void 0:e.firstName)||"",lastName:(null===e||void 0===e?void 0:e.lastName)||"",phone:(null===e||void 0===e?void 0:e.phone)||"",bio:(null===e||void 0===e?void 0:e.bio)||"",university:(null===e||void 0===e?void 0:e.university)||"",studyLevel:(null===e||void 0===e?void 0:e.studyLevel)||"",budget:(null===e||void 0===e?void 0:e.budget)||0,preferences:(null===e||void 0===e?void 0:e.preferences)||[],cinNumber:(null===e||void 0===e?void 0:e.cinNumber)||"",cinVerified:(null===e||void 0===e?void 0:e.cinVerified)||!1}),c=e=>{o((0,Fe.A)((0,Fe.A)({},l),{},{[e.target.name]:e.target.value}))},[d,u]=(0,t.useState)(!1);if(!e)return(0,Me.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,Me.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-600"})});const m=[!!(e.firstName&&e.lastName&&e.phone),!!e.avatar,!!e.bio,!!e.cinVerified].filter(Boolean).length,h=Math.round(m/4*100);return(0,Me.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,Me.jsx)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,Me.jsxs)("div",{className:"bg-white text-gray-900 rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[(0,Me.jsx)("div",{className:"bg-gradient-to-r from-primary-600 to-primary-800 px-6 py-8",children:(0,Me.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Me.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Me.jsxs)("div",{className:"relative",children:[(0,Me.jsx)("div",{className:"w-24 h-24 bg-white rounded-full overflow-hidden flex items-center justify-center",children:d?(0,Me.jsx)("div",{className:"w-full h-full flex items-center justify-center bg-gray-100",children:(0,Me.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):e.avatar?(0,Me.jsx)("img",{src:e.avatar,alt:"Avatar",className:"w-full h-full object-cover",onError:e=>{const t=e.target;t.onerror=null,t.src="/default-avatar.png"}}):(0,Me.jsx)(Am,{className:"w-12 h-12 text-primary-600"})}),(0,Me.jsx)("button",{onClick:()=>{var e;null===(e=i.current)||void 0===e||e.click()},disabled:d,className:"absolute bottom-0 right-0 ".concat(d?"bg-gray-400":"bg-primary-600 hover:bg-primary-700"," text-white p-2 rounded-full transition-colors"),children:d?(0,Me.jsxs)("svg",{className:"animate-spin h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,Me.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,Me.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):(0,Me.jsx)(Mm,{className:"w-4 h-4"})}),(0,Me.jsx)("input",{ref:i,type:"file",accept:"image/jpeg,image/png,image/webp",className:"hidden",onChange:async t=>{var n;const a=null===(n=t.target.files)||void 0===n?void 0:n[0];if(!a)return;u(!0);const l="avatar-upload";try{ms.loading("T\xe9l\xe9chargement de la photo...",{id:l});const t=await(async e=>{if(!["image/jpeg","image/png","image/webp"].includes(e.type))throw new Error("Format d'image non support\xe9. Utilisez JPEG, PNG ou WebP");if(e.size>5242880)throw new Error("L'image ne doit pas d\xe9passer 5MB");try{var t,s;const r=new FormData;r.append("image",e);const n=await(0,hs.yX)("/api/upload/image",r);if(!n.success)throw new Error(n.message||"Erreur lors de l'upload");const a=(null===(t=n.data)||void 0===t?void 0:t.url)||(null===(s=n.data)||void 0===s?void 0:s.path)||"";if(!a)throw new Error("Aucune URL d'image valide re\xe7ue du serveur");return a}catch(r){throw console.error("Erreur upload avatar:",r),new Error(r.message||"Impossible d'uploader l'avatar")}})(a);s&&(await s({avatar:t}),e&&r((0,Fe.A)((0,Fe.A)({},e),{},{avatar:t}))),ms.success("Photo de profil mise \xe0 jour avec succ\xe8s",{id:l})}catch(o){console.error("Error updating avatar:",o),ms.error(o.message||"\xc9chec du t\xe9l\xe9chargement de la photo",{id:l})}finally{u(!1),i.current&&(i.current.value="")}},disabled:d})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsxs)("h1",{className:"text-2xl font-bold text-white",children:[e.firstName," ",e.lastName]}),(0,Me.jsx)("p",{className:"text-primary-100",children:"student"===e.userType?"\xc9tudiant(e)":"Propri\xe9taire"}),e.isVerified&&(0,Me.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800 mt-2",children:"\u2713 Compte v\xe9rifi\xe9"})]})]}),(0,Me.jsxs)("button",{onClick:()=>a(!n),className:"bg-white text-primary-600 hover:bg-gray-100 px-4 py-2 rounded-lg font-medium transition-colors flex items-center space-x-2",children:[(0,Me.jsx)(Vu,{className:"w-4 h-4"}),(0,Me.jsx)("span",{children:n?"Annuler":"Modifier"})]})]})}),(0,Me.jsx)("div",{className:"p-6",children:(0,Me.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,Me.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,Me.jsxs)("div",{className:"card bg-white border border-gray-200",children:[(0,Me.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Informations personnelles"}),(0,Me.jsxs)("div",{className:"space-y-4",children:[(0,Me.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Pr\xe9nom"}),n?(0,Me.jsx)("input",{type:"text",name:"firstName",value:l.firstName,onChange:c,className:"input-field"}):(0,Me.jsx)("p",{className:"text-gray-900",children:e.firstName})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nom"}),n?(0,Me.jsx)("input",{type:"text",name:"lastName",value:l.lastName,onChange:c,className:"input-field"}):(0,Me.jsx)("p",{className:"text-gray-900",children:e.lastName})]})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),(0,Me.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Me.jsx)(Dm,{className:"w-5 h-5 text-gray-400"}),(0,Me.jsx)("p",{className:"text-gray-900",children:e.email})]})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"T\xe9l\xe9phone"}),n?(0,Me.jsx)("input",{type:"tel",name:"phone",value:l.phone,onChange:c,className:"input-field"}):(0,Me.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Me.jsx)(hm,{className:"w-5 h-5 text-gray-400"}),(0,Me.jsx)("p",{className:"text-gray-900",children:e.phone})]})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"\xc0 propos de moi"}),n?(0,Me.jsx)("textarea",{name:"bio",value:l.bio,onChange:c,rows:4,className:"input-field",placeholder:"Parlez-nous de vous..."}):(0,Me.jsx)("p",{className:"text-gray-700",children:e.bio||"Aucune description disponible"})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Statut CIN"}),(0,Me.jsx)("div",{className:"flex items-center space-x-2",children:e.cinVerified?(0,Me.jsx)("span",{className:"badge badge-success",children:"\u2713 CIN V\xe9rifi\xe9e"}):e.cinPending?(0,Me.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Me.jsx)("span",{className:"badge badge-info",children:"\u23f3 V\xe9rification en cours"}),(0,Me.jsx)("span",{className:"text-sm text-gray-600",children:"En attente de validation par un administrateur"})]}):(0,Me.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Me.jsx)("span",{className:"badge badge-warning",children:"CIN Non v\xe9rifi\xe9e"}),(0,Me.jsx)(Ae,{to:"/cin-verification",className:"font-medium underline text-yellow-700 hover:text-yellow-600",children:"V\xe9rifier maintenant \u2192"})]})})]})]})]}),"student"===e.userType&&(0,Me.jsxs)("div",{className:"card bg-white border border-gray-200",children:[(0,Me.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Informations acad\xe9miques"}),(0,Me.jsxs)("div",{className:"space-y-4",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Universit\xe9 / \xc9cole"}),n?(0,Me.jsxs)("select",{name:"university",value:l.university,onChange:c,className:"input-field",children:[(0,Me.jsx)("option",{value:"",children:"S\xe9lectionnez votre universit\xe9"}),(0,Me.jsx)("option",{value:"Universit\xe9 d'Antananarivo",children:"Universit\xe9 d'Antananarivo"}),(0,Me.jsx)("option",{value:"\xc9cole Sup\xe9rieure Polytechnique",children:"\xc9cole Sup\xe9rieure Polytechnique"}),(0,Me.jsx)("option",{value:"Institut National des Sciences Comptables",children:"Institut National des Sciences Comptables"}),(0,Me.jsx)("option",{value:"\xc9cole de M\xe9decine",children:"\xc9cole de M\xe9decine"}),(0,Me.jsx)("option",{value:"Autre",children:"Autre"})]}):(0,Me.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Me.jsx)(zm,{className:"w-5 h-5 text-gray-400"}),(0,Me.jsx)("p",{className:"text-gray-900",children:e.university||"Non sp\xe9cifi\xe9"})]})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Niveau d'\xe9tudes"}),n?(0,Me.jsxs)("select",{name:"studyLevel",value:l.studyLevel,onChange:c,className:"input-field",children:[(0,Me.jsx)("option",{value:"",children:"S\xe9lectionnez votre niveau"}),(0,Me.jsx)("option",{value:"Licence 1",children:"Licence 1"}),(0,Me.jsx)("option",{value:"Licence 2",children:"Licence 2"}),(0,Me.jsx)("option",{value:"Licence 3",children:"Licence 3"}),(0,Me.jsx)("option",{value:"Master 1",children:"Master 1"}),(0,Me.jsx)("option",{value:"Master 2",children:"Master 2"}),(0,Me.jsx)("option",{value:"Doctorat",children:"Doctorat"})]}):(0,Me.jsx)("p",{className:"text-gray-900",children:e.studyLevel||"Non sp\xe9cifi\xe9"})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Budget mensuel (Ar)"}),n?(0,Me.jsx)("input",{type:"number",name:"budget",value:l.budget,onChange:c,className:"input-field",placeholder:"150000"}):(0,Me.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Me.jsx)(Hu,{className:"w-5 h-5 text-gray-400"}),(0,Me.jsx)("p",{className:"text-gray-900",children:e.budget?"".concat(e.budget.toLocaleString()," Ar"):"Non sp\xe9cifi\xe9"})]})]})]})]})]}),(0,Me.jsxs)("div",{className:"space-y-6",children:[(0,Me.jsxs)("div",{className:"card bg-white text-gray-900 border border-gray-200",children:[(0,Me.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Statistiques"}),(0,Me.jsxs)("div",{className:"space-y-3",children:[(0,Me.jsxs)("div",{className:"flex justify-between",children:[(0,Me.jsx)("span",{className:"text-gray-600",children:"Membre depuis"}),(0,Me.jsx)("span",{className:"font-medium",children:new Date(e.createdAt).toLocaleDateString("fr-FR")})]}),(0,Me.jsxs)("div",{className:"flex justify-between",children:[(0,Me.jsx)("span",{className:"text-gray-600",children:"Profil compl\xe9t\xe9"}),(0,Me.jsxs)("span",{className:"font-medium",children:[h,"%"]})]}),"student"===e.userType&&(0,Me.jsxs)("div",{className:"flex justify-between",children:[(0,Me.jsx)("span",{className:"text-gray-600",children:"Recherches"}),(0,Me.jsx)("span",{className:"font-medium",children:"12"})]}),"owner"===e.userType&&(0,Me.jsxs)("div",{className:"flex justify-between",children:[(0,Me.jsx)("span",{className:"text-gray-600",children:"Logements publi\xe9s"}),(0,Me.jsx)("span",{className:"font-medium",children:"3"})]})]})]}),"student"===e.userType&&(0,Me.jsxs)("div",{className:"card bg-white text-gray-900 border border-gray-200",children:[(0,Me.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Pr\xe9f\xe9rences"}),(0,Me.jsx)("div",{className:"space-y-2",children:e.preferences&&e.preferences.length>0?e.preferences.map((e,t)=>(0,Me.jsx)("span",{className:"badge badge-primary",children:e},t)):(0,Me.jsx)("p",{className:"text-gray-500 text-sm",children:"Aucune pr\xe9f\xe9rence d\xe9finie"})})]}),n&&(0,Me.jsx)("div",{className:"card",children:(0,Me.jsxs)("div",{className:"space-y-3",children:[(0,Me.jsx)("button",{onClick:async()=>{try{s&&await s({firstName:l.firstName,lastName:l.lastName,phone:l.phone,bio:l.bio,university:l.university,studyLevel:l.studyLevel,budget:Number(l.budget)||0}),a(!1)}catch(e){}},className:"w-full btn-primary",children:"Sauvegarder"}),(0,Me.jsx)("button",{onClick:()=>{o({firstName:(null===e||void 0===e?void 0:e.firstName)||"",lastName:(null===e||void 0===e?void 0:e.lastName)||"",phone:(null===e||void 0===e?void 0:e.phone)||"",bio:(null===e||void 0===e?void 0:e.bio)||"",university:(null===e||void 0===e?void 0:e.university)||"",studyLevel:(null===e||void 0===e?void 0:e.studyLevel)||"",budget:(null===e||void 0===e?void 0:e.budget)||0,preferences:(null===e||void 0===e?void 0:e.preferences)||[],cinNumber:(null===e||void 0===e?void 0:e.cinNumber)||"",cinVerified:(null===e||void 0===e?void 0:e.cinVerified)||!1}),a(!1)},className:"w-full btn-secondary",children:"Annuler"})]})})]})]})})]})})})},Vm=["title","titleId"];function Om(e,s){let{title:r,titleId:n}=e,a=(0,Pn.A)(e,Vm);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":n},a),r?t.createElement("title",{id:n},r):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 12a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM12.75 12a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM18.75 12a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Z"}))}const Bm=t.forwardRef(Om),Um=["title","titleId"];function Wm(e,s){let{title:r,titleId:n}=e,a=(0,Pn.A)(e,Um);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":n},a),r?t.createElement("title",{id:n},r):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"}))}const qm=t.forwardRef(Wm),Hm=["title","titleId"];function $m(e,s){let{title:r,titleId:n}=e,a=(0,Pn.A)(e,Hm);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":n},a),r?t.createElement("title",{id:n},r):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const Zm=t.forwardRef($m),Jm=["title","titleId"];function Gm(e,s){let{title:r,titleId:n}=e,a=(0,Pn.A)(e,Jm);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":n},a),r?t.createElement("title",{id:n},r):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 12 3.269 3.125A59.769 59.769 0 0 1 21.485 12 59.768 59.768 0 0 1 3.27 20.875L5.999 12Zm0 0h7.5"}))}const Ym=t.forwardRef(Gm),Xm=(Math.pow(10,8),43200),Km=Symbol.for("constructDateFrom");function Qm(e,t){return"function"===typeof e?e(t):e&&"object"===typeof e&&Km in e?e[Km](t):e instanceof Date?new e.constructor(t):new Date(t)}function eh(e){return Qm(e,Date.now())}const th={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function sh(e){return function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const s=t.width?String(t.width):e.defaultWidth;return e.formats[s]||e.formats[e.defaultWidth]}}const rh={date:sh({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:sh({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:sh({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},nh={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function ah(e){return(t,s)=>{let r;if("formatting"===(null!==s&&void 0!==s&&s.context?String(s.context):"standalone")&&e.formattingValues){const t=e.defaultFormattingWidth||e.defaultWidth,n=null!==s&&void 0!==s&&s.width?String(s.width):t;r=e.formattingValues[n]||e.formattingValues[t]}else{const t=e.defaultWidth,n=null!==s&&void 0!==s&&s.width?String(s.width):e.defaultWidth;r=e.values[n]||e.values[t]}return r[e.argumentCallback?e.argumentCallback(t):t]}}const ih={ordinalNumber:(e,t)=>{const s=Number(e),r=s%100;if(r>20||r<10)switch(r%10){case 1:return s+"st";case 2:return s+"nd";case 3:return s+"rd"}return s+"th"},era:ah({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:ah({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:e=>e-1}),month:ah({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:ah({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:ah({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})};function lh(e){return function(t){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=s.width,n=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],a=t.match(n);if(!a)return null;const i=a[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],o=Array.isArray(l)?function(e,t){for(let s=0;s<e.length;s++)if(t(e[s]))return s;return}(l,e=>e.test(i)):function(e,t){for(const s in e)if(Object.prototype.hasOwnProperty.call(e,s)&&t(e[s]))return s;return}(l,e=>e.test(i));let c;c=e.valueCallback?e.valueCallback(o):o,c=s.valueCallback?s.valueCallback(c):c;return{value:c,rest:t.slice(i.length)}}}function oh(e){return function(t){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=t.match(e.matchPattern);if(!r)return null;const n=r[0],a=t.match(e.parsePattern);if(!a)return null;let i=e.valueCallback?e.valueCallback(a[0]):a[0];i=s.valueCallback?s.valueCallback(i):i;return{value:i,rest:t.slice(n.length)}}}const ch={code:"en-US",formatDistance:(e,t,s)=>{let r;const n=th[e];return r="string"===typeof n?n:1===t?n.one:n.other.replace("{{count}}",t.toString()),null!==s&&void 0!==s&&s.addSuffix?s.comparison&&s.comparison>0?"in "+r:r+" ago":r},formatLong:rh,formatRelative:(e,t,s,r)=>nh[e],localize:ih,match:{ordinalNumber:oh({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:e=>parseInt(e,10)}),era:lh({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:lh({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:lh({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:lh({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:lh({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}};let dh={};function uh(){return dh}function mh(e,t){return Qm(t||e,e)}function hh(e){const t=mh(e),s=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return s.setUTCFullYear(t.getFullYear()),+e-+s}function ph(e){for(var t=arguments.length,s=new Array(t>1?t-1:0),r=1;r<t;r++)s[r-1]=arguments[r];const n=Qm.bind(null,e||s.find(e=>"object"===typeof e));return s.map(n)}function xh(e,t){const s=+mh(e)-+mh(t);return s<0?-1:s>0?1:s}function fh(e,t,s){const[r,n]=ph(null===s||void 0===s?void 0:s.in,e,t);return 12*(r.getFullYear()-n.getFullYear())+(r.getMonth()-n.getMonth())}function gh(e,t){const s=mh(e,null===t||void 0===t?void 0:t.in);return s.setHours(23,59,59,999),s}function vh(e,t){const s=mh(e,null===t||void 0===t?void 0:t.in),r=s.getMonth();return s.setFullYear(s.getFullYear(),r+1,0),s.setHours(23,59,59,999),s}function yh(e,t){const s=mh(e,null===t||void 0===t?void 0:t.in);return+gh(s,t)===+vh(s,t)}function bh(e,t,s){const[r,n,a]=ph(null===s||void 0===s?void 0:s.in,e,e,t),i=xh(n,a),l=Math.abs(fh(n,a));if(l<1)return 0;1===n.getMonth()&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-i*l);let o=xh(n,a)===-i;yh(r)&&1===l&&1===xh(r,a)&&(o=!1);const c=i*(l-+o);return 0===c?0:c}function jh(e,t){return+mh(e)-+mh(t)}function wh(e,t,s){const r=jh(e,t)/1e3;return(n=null===s||void 0===s?void 0:s.roundingMethod,e=>{const t=(n?Math[n]:Math.trunc)(e);return 0===t?0:t})(r);var n}function Nh(e,t,s){var r,n;const a=uh(),i=null!==(r=null!==(n=null===s||void 0===s?void 0:s.locale)&&void 0!==n?n:a.locale)&&void 0!==r?r:ch,l=xh(e,t);if(isNaN(l))throw new RangeError("Invalid time value");const o=Object.assign({},s,{addSuffix:null===s||void 0===s?void 0:s.addSuffix,comparison:l}),[c,d]=ph(null===s||void 0===s?void 0:s.in,...l>0?[t,e]:[e,t]),u=wh(d,c),m=(hh(d)-hh(c))/1e3,h=Math.round((u-m)/60);let p;if(h<2)return null!==s&&void 0!==s&&s.includeSeconds?u<5?i.formatDistance("lessThanXSeconds",5,o):u<10?i.formatDistance("lessThanXSeconds",10,o):u<20?i.formatDistance("lessThanXSeconds",20,o):u<40?i.formatDistance("halfAMinute",0,o):u<60?i.formatDistance("lessThanXMinutes",1,o):i.formatDistance("xMinutes",1,o):0===h?i.formatDistance("lessThanXMinutes",1,o):i.formatDistance("xMinutes",h,o);if(h<45)return i.formatDistance("xMinutes",h,o);if(h<90)return i.formatDistance("aboutXHours",1,o);if(h<1440){const e=Math.round(h/60);return i.formatDistance("aboutXHours",e,o)}if(h<2520)return i.formatDistance("xDays",1,o);if(h<Xm){const e=Math.round(h/1440);return i.formatDistance("xDays",e,o)}if(h<86400)return p=Math.round(h/Xm),i.formatDistance("aboutXMonths",p,o);if(p=bh(d,c),p<12){const e=Math.round(h/Xm);return i.formatDistance("xMonths",e,o)}{const e=p%12,t=Math.trunc(p/12);return e<3?i.formatDistance("aboutXYears",t,o):e<9?i.formatDistance("overXYears",t,o):i.formatDistance("almostXYears",t+1,o)}}function kh(e,t){return Nh(e,eh(e),t)}const Sh={lessThanXSeconds:{one:"moins d\u2019une seconde",other:"moins de {{count}} secondes"},xSeconds:{one:"1 seconde",other:"{{count}} secondes"},halfAMinute:"30 secondes",lessThanXMinutes:{one:"moins d\u2019une minute",other:"moins de {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"environ 1 heure",other:"environ {{count}} heures"},xHours:{one:"1 heure",other:"{{count}} heures"},xDays:{one:"1 jour",other:"{{count}} jours"},aboutXWeeks:{one:"environ 1 semaine",other:"environ {{count}} semaines"},xWeeks:{one:"1 semaine",other:"{{count}} semaines"},aboutXMonths:{one:"environ 1 mois",other:"environ {{count}} mois"},xMonths:{one:"1 mois",other:"{{count}} mois"},aboutXYears:{one:"environ 1 an",other:"environ {{count}} ans"},xYears:{one:"1 an",other:"{{count}} ans"},overXYears:{one:"plus d\u2019un an",other:"plus de {{count}} ans"},almostXYears:{one:"presqu\u2019un an",other:"presque {{count}} ans"}},Ch={date:sh({formats:{full:"EEEE d MMMM y",long:"d MMMM y",medium:"d MMM y",short:"dd/MM/y"},defaultWidth:"full"}),time:sh({formats:{full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},defaultWidth:"full"}),dateTime:sh({formats:{full:"{{date}} '\xe0' {{time}}",long:"{{date}} '\xe0' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},Eh={lastWeek:"eeee 'dernier \xe0' p",yesterday:"'hier \xe0' p",today:"'aujourd\u2019hui \xe0' p",tomorrow:"'demain \xe0' p'",nextWeek:"eeee 'prochain \xe0' p",other:"P"},Ah=["MMM","MMMM"],Ph={preprocessor:(e,t)=>{if(1===e.getDate())return t;return t.some(e=>e.isToken&&Ah.includes(e.value))?t.map(e=>e.isToken&&"do"===e.value?{isToken:!0,value:"d"}:e):t},ordinalNumber:(e,t)=>{const s=Number(e),r=null===t||void 0===t?void 0:t.unit;if(0===s)return"0";let n;return n=1===s?r&&["year","week","hour","minute","second"].includes(r)?"\xe8re":"er":"\xe8me",s+n},era:ah({values:{narrow:["av. J.-C","ap. J.-C"],abbreviated:["av. J.-C","ap. J.-C"],wide:["avant J\xe9sus-Christ","apr\xe8s J\xe9sus-Christ"]},defaultWidth:"wide"}),quarter:ah({values:{narrow:["T1","T2","T3","T4"],abbreviated:["1er trim.","2\xe8me trim.","3\xe8me trim.","4\xe8me trim."],wide:["1er trimestre","2\xe8me trimestre","3\xe8me trimestre","4\xe8me trimestre"]},defaultWidth:"wide",argumentCallback:e=>e-1}),month:ah({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["janv.","f\xe9vr.","mars","avr.","mai","juin","juil.","ao\xfbt","sept.","oct.","nov.","d\xe9c."],wide:["janvier","f\xe9vrier","mars","avril","mai","juin","juillet","ao\xfbt","septembre","octobre","novembre","d\xe9cembre"]},defaultWidth:"wide"}),day:ah({values:{narrow:["D","L","M","M","J","V","S"],short:["di","lu","ma","me","je","ve","sa"],abbreviated:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],wide:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"]},defaultWidth:"wide"}),dayPeriod:ah({values:{narrow:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"mat.",afternoon:"ap.m.",evening:"soir",night:"mat."},abbreviated:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"matin",afternoon:"apr\xe8s-midi",evening:"soir",night:"matin"},wide:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"du matin",afternoon:"de l\u2019apr\xe8s-midi",evening:"du soir",night:"du matin"}},defaultWidth:"wide"})},Th={code:"fr",formatDistance:(e,t,s)=>{let r;const n=Sh[e];return r="string"===typeof n?n:1===t?n.one:n.other.replace("{{count}}",String(t)),null!==s&&void 0!==s&&s.addSuffix?s.comparison&&s.comparison>0?"dans "+r:"il y a "+r:r},formatLong:Ch,formatRelative:(e,t,s,r)=>Eh[e],localize:Ph,match:{ordinalNumber:oh({matchPattern:/^(\d+)(i\xe8me|\xe8re|\xe8me|er|e)?/i,parsePattern:/\d+/i,valueCallback:e=>parseInt(e)}),era:lh({matchPatterns:{narrow:/^(av\.J\.C|ap\.J\.C|ap\.J\.-C)/i,abbreviated:/^(av\.J\.-C|av\.J-C|apr\.J\.-C|apr\.J-C|ap\.J-C)/i,wide:/^(avant J\xe9sus-Christ|apr\xe8s J\xe9sus-Christ)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^av/i,/^ap/i]},defaultParseWidth:"any"}),quarter:lh({matchPatterns:{narrow:/^T?[1234]/i,abbreviated:/^[1234](er|\xe8me|e)? trim\.?/i,wide:/^[1234](er|\xe8me|e)? trimestre/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:lh({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(janv|f\xe9vr|mars|avr|mai|juin|juill|juil|ao\xfbt|sept|oct|nov|d\xe9c)\.?/i,wide:/^(janvier|f\xe9vrier|mars|avril|mai|juin|juillet|ao\xfbt|septembre|octobre|novembre|d\xe9cembre)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^av/i,/^ma/i,/^juin/i,/^juil/i,/^ao/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:lh({matchPatterns:{narrow:/^[lmjvsd]/i,short:/^(di|lu|ma|me|je|ve|sa)/i,abbreviated:/^(dim|lun|mar|mer|jeu|ven|sam)\.?/i,wide:/^(dimanche|lundi|mardi|mercredi|jeudi|vendredi|samedi)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^di/i,/^lu/i,/^ma/i,/^me/i,/^je/i,/^ve/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:lh({matchPatterns:{narrow:/^(a|p|minuit|midi|mat\.?|ap\.?m\.?|soir|nuit)/i,any:/^([ap]\.?\s?m\.?|du matin|de l'apr\xe8s[-\s]midi|du soir|de la nuit)/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^min/i,noon:/^mid/i,morning:/mat/i,afternoon:/ap/i,evening:/soir/i,night:/nuit/i}},defaultParseWidth:"any"})},options:{weekStartsOn:1,firstWeekContainsDate:4}},Mh=()=>{var e,s,r,n,a;const{conversations:i,sendMessage:l,markAsRead:o,getConversationMessages:c,loading:d,editMessage:u,deleteMessage:m,deleteConversation:h}=Ss(),{user:p}=ys(),x=Y(),[f,g]=(0,t.useState)(null),[v,y]=(0,t.useState)(""),[b,j]=(0,t.useState)([]),[w,N]=(0,t.useState)(!1),[k,S]=(0,t.useState)(new Set),[C,E]=(0,t.useState)(!1),A=(0,t.useRef)(null),[P,T]=(0,t.useState)(null),[M,L]=(0,t.useState)(new Set),R=i.find(e=>e.id===f),D=(0,t.useCallback)(async e=>{if(!c)return;const t=await c(e);j(t)},[c]);(0,t.useEffect)(()=>{f&&D(f)},[f,D]),(0,t.useEffect)(()=>{var e;null===(e=A.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})},[b]),(0,t.useEffect)(()=>{if(f&&p&&o){const e=b.filter(e=>e.receiverId===p.id&&!e.isRead);e.length>0&&S(e=>new Set([...e,f])),e.forEach(async e=>{try{await o(e.id)}catch(t){console.error("Erreur marquage comme lu:",t)}})}},[f,b,p,o]);const I=async()=>{if(!v.trim()||!R||!p||w)return;const e=R.participants.find(e=>e.id!==p.id);if(e){N(!0);try{await l(e.id,v),y(""),f&&await D(f)}catch(t){console.error("Erreur lors de l'envoi du message:",t)}finally{N(!1)}}};(0,t.useEffect)(()=>{i.length>0&&!f&&!d&&!C&&g(i[0].id)},[i,f,d,C]),(0,t.useEffect)(()=>{const e=new URLSearchParams(x.search),t=e.get("to"),s=e.get("prefill");if(!t||0===i.length)return;const r=i.find(e=>e.participants.some(e=>String(e.id)===String(t)));r&&(g(r.id),s&&y(s))},[x.search,i]),(0,t.useEffect)(()=>{f&&E(!1)},[f]),(0,t.useEffect)(()=>{if(!p)return;const e="hidden_conversations_".concat(p.id);try{const t=localStorage.getItem(e);t&&L(new Set(JSON.parse(t)))}catch(Zp){}},[p]);const F=e=>{L(t=>{const s=new Set(t);return s.add(e),(e=>{if(!p)return;const t="hidden_conversations_".concat(p.id);try{localStorage.setItem(t,JSON.stringify(Array.from(e)))}catch(s){}})(s),s}),f===e&&g(null),T(null)};(0,t.useEffect)(()=>{const e=()=>T(null);return document.addEventListener("click",e),()=>document.removeEventListener("click",e)},[]);return p?(0,Me.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,Me.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,Me.jsxs)("div",{className:"mb-8",children:[(0,Me.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Messages"}),(0,Me.jsx)("p",{className:"text-gray-600",children:"Communiquez avec les propri\xe9taires et les \xe9tudiants"})]}),(0,Me.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:(0,Me.jsxs)("div",{className:"flex h-[600px]",children:[(0,Me.jsxs)("div",{className:"w-1/3 border-r border-gray-200 flex flex-col",children:[(0,Me.jsx)("div",{className:"p-4 border-b border-gray-200",children:(0,Me.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Conversations"})}),(0,Me.jsx)("div",{className:"flex-1 overflow-y-auto",children:d?(0,Me.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,Me.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):0===i.filter(e=>!M.has(e.id)).length?(0,Me.jsxs)("div",{className:"flex flex-col items-center justify-center h-full text-gray-500",children:[(0,Me.jsx)(Od,{className:"w-12 h-12 mb-4"}),(0,Me.jsx)("p",{className:"text-center",children:"Aucune conversation"}),(0,Me.jsx)("p",{className:"text-sm text-center mt-2",children:"Commencez une nouvelle conversation depuis une annonce"})]}):(0,Me.jsx)("div",{className:"space-y-1",children:i.filter(e=>!M.has(e.id)).map(e=>{const t=e.participants.find(e=>e.id!==p.id);if(!t)return null;const s=(e=>{if(f===e.id)return 0;if(k.has(e.id))return 0;const t=e.lastMessage;if(!t)return 0;const s=String(t.senderId)!==String(null===p||void 0===p?void 0:p.id),r=!t.isRead;return s&&r?1:0})(e);return(0,Me.jsx)("button",{onClick:()=>{g(e.id),T(null)},className:"w-full p-4 text-left hover:bg-gray-50 transition-colors ".concat(f===e.id?"bg-primary-50 border-r-2 border-primary-500":""),children:(0,Me.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Me.jsx)("div",{className:"w-10 h-10 bg-primary-100 rounded-full flex items-center justify-center",children:(0,Me.jsxs)("span",{className:"text-primary-600 font-medium text-sm",children:[t.firstName[0],t.lastName[0]]})}),(0,Me.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Me.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Me.jsxs)("h3",{className:"text-sm font-medium text-gray-900 truncate",children:[t.firstName," ",t.lastName]}),(0,Me.jsxs)("div",{className:"flex items-center space-x-2",onClick:e=>e.stopPropagation(),children:[s>0&&(0,Me.jsx)("span",{className:"bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:s}),(0,Me.jsxs)("div",{className:"relative",children:[(0,Me.jsx)("button",{className:"p-1 text-gray-400 hover:text-gray-600 rounded hover:bg-gray-100",title:"Options",onClick:t=>{t.stopPropagation(),T(t=>t===e.id?null:e.id)},children:(0,Me.jsx)(Bm,{className:"w-5 h-5"})}),P===e.id&&(0,Me.jsx)("div",{className:"absolute right-0 mt-1 bg-white border border-gray-200 rounded shadow z-10",children:(0,Me.jsx)("button",{className:"block w-full text-left px-3 py-2 text-sm text-gray-700 hover:bg-gray-100",onClick:()=>F(e.id),children:"Supprimer pour moi"})})]})]})]}),e.lastMessage&&(0,Me.jsx)("p",{className:"text-sm truncate ".concat(s>0?"text-gray-900 font-medium":"text-gray-500"),children:e.lastMessage.content}),(0,Me.jsx)("p",{className:"text-xs text-gray-400",children:e.lastMessage&&kh(new Date(e.lastMessage.createdAt),{addSuffix:!0,locale:Th})})]})]})},e.id)})})})]}),(0,Me.jsx)("div",{className:"flex-1 flex flex-col",children:R?(0,Me.jsxs)(Me.Fragment,{children:[(0,Me.jsxs)("div",{className:"p-4 border-b border-gray-200 flex items-center justify-between",children:[(0,Me.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Me.jsx)("div",{className:"w-10 h-10 bg-primary-100 rounded-full flex items-center justify-center",children:(0,Me.jsxs)("span",{className:"text-primary-600 font-medium text-sm",children:[null===(e=R.participants.find(e=>e.id!==p.id))||void 0===e?void 0:e.firstName[0],null===(s=R.participants.find(e=>e.id!==p.id))||void 0===s?void 0:s.lastName[0]]})}),(0,Me.jsxs)("div",{children:[(0,Me.jsxs)("h3",{className:"text-lg font-semibold text-gray-900",children:[null===(r=R.participants.find(e=>e.id!==p.id))||void 0===r?void 0:r.firstName," ",null===(n=R.participants.find(e=>e.id!==p.id))||void 0===n?void 0:n.lastName]}),(0,Me.jsx)("p",{className:"text-sm text-gray-500",children:"student"===(null===(a=R.participants.find(e=>e.id!==p.id))||void 0===a?void 0:a.userType)?"\xc9tudiant":"Propri\xe9taire"})]})]}),(0,Me.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Me.jsx)("button",{onClick:()=>{g(null),y(""),E(!0)},className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-full transition-colors",title:"Fermer la conversation",children:(0,Me.jsx)(nu,{className:"w-5 h-5"})}),(0,Me.jsx)("button",{onClick:async()=>{if(f&&window.confirm("Supprimer cette conversation ? Cette action est irr\xe9versible."))try{await h(f),g(null)}catch(e){}},className:"text-sm text-red-600 hover:text-red-700",title:"Supprimer la conversation",children:"Supprimer"})]})]}),(0,Me.jsx)("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:0===b.length?(0,Me.jsxs)("div",{className:"flex flex-col items-center justify-center h-full text-gray-500",children:[(0,Me.jsx)(Od,{className:"w-12 h-12 mb-4"}),(0,Me.jsx)("p",{children:"Aucun message dans cette conversation"}),(0,Me.jsx)("p",{className:"text-sm",children:"Envoyez le premier message !"})]}):(0,Me.jsx)(Me.Fragment,{children:b.map(e=>{const t=String(e.senderId)===String(p.id);return(0,Me.jsx)("div",{className:"flex ".concat(t?"justify-end":"justify-start"," mb-2"),children:(0,Me.jsxs)("div",{className:"max-w-[75%] px-4 py-2 rounded-2xl shadow-sm ".concat(t?"bg-primary-600 text-white rounded-br-none":"bg-gray-100 text-gray-900 rounded-bl-none border border-gray-200"),children:[(0,Me.jsx)("p",{className:"text-sm break-words",children:e.content}),(0,Me.jsxs)("div",{className:"flex items-center justify-end mt-1 space-x-1 text-xs ".concat(t?"text-primary-100":"text-gray-500"),children:[(0,Me.jsx)("span",{children:kh(new Date(e.createdAt),{addSuffix:!0,locale:Th})}),t&&(0,Me.jsx)("div",{className:"flex items-center",children:e.isRead?(0,Me.jsx)(Xu,{className:"w-3 h-3"}):(0,Me.jsx)(qm,{className:"w-3 h-3"})})]}),t&&(0,Me.jsxs)("div",{className:"mt-1 flex justify-end space-x-1 text-xs",children:[(0,Me.jsx)("button",{className:"p-1 rounded-full text-blue-600 hover:text-blue-700 hover:bg-blue-50",title:"Modifier le message",onClick:async()=>{const t=prompt("Modifier le message:",e.content);if(null!==t&&t.trim()&&t!==e.content)try{await u(e.id,t)}catch(s){}},children:(0,Me.jsx)(Vu,{className:"w-4 h-4"})}),(0,Me.jsx)("button",{className:"p-1 rounded-full text-red-600 hover:text-red-700 hover:bg-red-50",title:"Supprimer le message",onClick:async()=>{if(window.confirm("Supprimer ce message ?"))try{await m(e.id)}catch(t){}},children:(0,Me.jsx)(Zm,{className:"w-4 h-4"})})]})]})},e.id)})})}),(0,Me.jsx)("div",{className:"p-4 border-t border-gray-200",children:(0,Me.jsxs)("div",{className:"flex space-x-2",children:[(0,Me.jsx)("textarea",{value:v,onChange:e=>y(e.target.value),onKeyPress:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),I())},placeholder:"Tapez votre message...",rows:2,className:"flex-1 input-field resize-none",disabled:w}),(0,Me.jsx)("button",{onClick:I,disabled:!v.trim()||w,className:"btn-primary flex items-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed",children:w?(0,Me.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):(0,Me.jsx)(Ym,{className:"w-4 h-4"})})]})})]}):(0,Me.jsx)("div",{className:"flex-1 flex items-center justify-center text-gray-500",children:(0,Me.jsxs)("div",{className:"text-center",children:[(0,Me.jsx)(Od,{className:"w-16 h-16 mx-auto mb-4"}),(0,Me.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:0===i.length?"Aucune conversation":"S\xe9lectionnez une conversation"}),(0,Me.jsx)("p",{children:0===i.length?"Commencez une nouvelle conversation depuis une annonce":"Choisissez une conversation pour commencer \xe0 discuter"})]})})})]})})]})}):(0,Me.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,Me.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-600"})})},Lh=()=>{const{announcements:e,loading:s}=As(),{user:r}=ys(),n=K(),{sendMessage:a}=Ss(),[i,l]=(0,t.useState)(""),[o,c]=(0,t.useState)(1),[d,u]=(0,t.useState)(!1),[m,h]=(0,t.useState)(""),[p,x]=(0,t.useState)(null),{checkVerification:f,showVerificationModal:g,setShowVerificationModal:v}=mu(),y=(0,t.useMemo)(()=>i?e.filter(e=>{var t,s,r,n,a;return(null===(t=e.content)||void 0===t?void 0:t.toLowerCase().includes(i.toLowerCase()))||(null===(s=e.author)||void 0===s||null===(r=s.firstName)||void 0===r?void 0:r.toLowerCase().includes(i.toLowerCase()))||(null===(n=e.author)||void 0===n||null===(a=n.lastName)||void 0===a?void 0:a.toLowerCase().includes(i.toLowerCase()))}):e,[e,i]),b=(0,t.useMemo)(()=>{const e=9*(o-1);return y.slice(e,e+9)},[y,o]),j=Math.ceil(y.length/9);return(0,Me.jsxs)("div",{className:"min-h-screen bg-gray-50 py-8",children:[(0,Me.jsx)(du,{isOpen:g,onClose:()=>v(!1),backButtonText:"Retour aux annonces"}),(0,Me.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,Me.jsx)("div",{className:"mb-8",children:(0,Me.jsx)("div",{className:"max-w-2xl mx-auto",children:(0,Me.jsxs)("div",{className:"relative",children:[(0,Me.jsx)(Wd,{className:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2"}),(0,Me.jsx)("input",{type:"text",placeholder:"Rechercher une annonce par contenu ou nom d'auteur...",value:i,onChange:e=>{l(e.target.value),c(1)},className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-white text-gray-900 placeholder-gray-500"})]})})}),(0,Me.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Annonces des \xe9tudiants"}),(0,Me.jsx)("p",{className:"text-gray-600",children:"Recherches de colocation publi\xe9es par les \xe9tudiants"})]}),"student"===(null===r||void 0===r?void 0:r.userType)&&(0,Me.jsxs)("button",{onClick:e=>{e.preventDefault(),f(e)&&n("/create-announcement")},className:"btn-primary flex items-center space-x-2",children:[(0,Me.jsx)(Fu,{className:"w-4 h-4"}),(0,Me.jsx)("span",{children:"Publier une annonce"})]})]}),s?(0,Me.jsx)("div",{className:"flex items-center justify-center py-24",children:(0,Me.jsx)("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-primary-600"})}):0===y.length?(0,Me.jsxs)("div",{className:"text-center py-24",children:[(0,Me.jsx)(Uu,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,Me.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:i?"Aucune annonce trouv\xe9e":"Aucune annonce pour le moment"}),(0,Me.jsx)("p",{className:"text-gray-600 mb-4",children:i?"Essayez avec d'autres termes de recherche":"Soyez le premier \xe0 publier une annonce de colocation."}),"student"===(null===r||void 0===r?void 0:r.userType)&&!i&&(0,Me.jsx)("button",{onClick:e=>{e.preventDefault(),f(e)&&n("/create-announcement")},className:"btn-primary",children:"Publier"})]}):(0,Me.jsxs)(Me.Fragment,{children:[(0,Me.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:b.map(e=>{var t,s,a;return(0,Me.jsxs)("div",{className:"bg-white rounded-lg shadow-md overflow-hidden flex flex-col h-full",children:[e.images&&e.images.length>0?(0,Me.jsx)("img",{src:(a=e.images[0],a?a.startsWith("http")?a:a.startsWith("/")?"http://localhost".concat(a):a:"/api/placeholder/400/300"),alt:"annonce",className:"w-full h-40 object-cover"}):(0,Me.jsx)("div",{className:"h-40 bg-gray-100 flex items-center justify-center text-gray-400",children:(0,Me.jsx)(Uu,{className:"w-12 h-12"})}),(0,Me.jsxs)("div",{className:"p-4 flex flex-col flex-grow",children:[(0,Me.jsxs)("div",{className:"flex-grow",children:[(0,Me.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Me.jsx)("div",{className:"font-semibold text-gray-900 truncate",children:e.author?"".concat(e.author.firstName," ").concat(e.author.lastName):"Utilisateur inconnu"}),(0,Me.jsx)("div",{className:"text-xs text-gray-500",children:kh(new Date(e.createdAt),{addSuffix:!0,locale:Th})})]}),(0,Me.jsx)("p",{className:"text-sm text-gray-700 line-clamp-3 mb-3",children:e.content})]}),(0,Me.jsx)("div",{className:"flex items-center justify-between mt-4 pt-3 border-t border-gray-100",children:(0,Me.jsxs)("div",{className:"flex gap-2 flex-1",children:[(0,Me.jsx)(Ae,{to:"/announcements/".concat(e.id),className:"btn-secondary flex-1 text-center",children:"Voir d\xe9tails"}),r&&Number(null===(t=e.author)||void 0===t?void 0:t.id)===Number(r.id)&&(0,Me.jsx)("button",{onClick:()=>n("/edit-announcement/".concat(e.id)),className:"btn-primary flex items-center justify-center space-x-2 flex-1",title:"Modifier mon annonce",children:(0,Me.jsx)("span",{children:"Modifier"})}),r&&Number(null===(s=e.author)||void 0===s?void 0:s.id)!==Number(r.id)&&(0,Me.jsxs)("button",{onClick:t=>((e,t)=>{var s,a;e.preventDefault(),f(e)&&(r?r&&Number(null===(s=t.author)||void 0===s?void 0:s.id)===Number(r.id)||(x(t),u(!0),h("Bonjour ".concat((null===(a=t.author)||void 0===a?void 0:a.firstName)||"",", je suis int\xe9ress\xe9(e) par votre annonce de recherche de colocation."))):n("/login"))})(t,e),className:"btn-primary flex items-center justify-center space-x-2 flex-1",children:[(0,Me.jsx)(Od,{className:"w-4 h-4"}),(0,Me.jsx)("span",{children:"Contacter"})]})]})})]})]},e.id)})}),j>1&&(0,Me.jsxs)("div",{className:"flex justify-center items-center space-x-4 mt-8",children:[(0,Me.jsx)("button",{onClick:()=>c(e=>Math.max(e-1,1)),disabled:1===o,className:"px-4 py-2 border border-gray-300 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Pr\xe9c\xe9dent"}),(0,Me.jsxs)("span",{className:"text-gray-600",children:["Page ",o," sur ",j]}),(0,Me.jsx)("button",{onClick:()=>c(e=>Math.min(e+1,j)),disabled:o===j,className:"px-4 py-2 border border-gray-300 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Suivant"})]})]})]})]})},Rh=["title","titleId"];function Dh(e,s){let{title:r,titleId:n}=e,a=(0,Pn.A)(e,Rh);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":n},a),r?t.createElement("title",{id:n},r):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 3v1.5M3 21v-6m0 0 2.77-.693a9 9 0 0 1 6.208.682l.108.054a9 9 0 0 0 6.086.71l3.114-.732a48.524 48.524 0 0 1-.005-10.499l-3.11.732a9 9 0 0 1-6.085-.711l-.108-.054a9 9 0 0 0-6.208-.682L3 4.5M3 15V4.5"}))}const Ih=t.forwardRef(Dh),Fh=["title","titleId"];function zh(e,s){let{title:r,titleId:n}=e,a=(0,Pn.A)(e,Fh);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":n},a),r?t.createElement("title",{id:n},r):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.625 9.75a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0H8.25m4.125 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0H12m4.125 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0h-.375m-13.5 3.01c0 1.6 1.123 2.994 2.707 3.227 1.087.16 2.185.283 3.293.369V21l4.184-4.183a1.14 1.14 0 0 1 .778-.332 48.294 48.294 0 0 0 5.83-.498c1.585-.233 2.708-1.626 2.708-3.228V6.741c0-1.602-1.123-2.995-2.707-3.228A48.394 48.394 0 0 0 12 3c-2.392 0-4.744.175-7.043.513C3.373 3.746 2.25 5.14 2.25 6.741v6.018Z"}))}const _h=t.forwardRef(zh),Vh=["title","titleId"];function Oh(e,s){let{title:r,titleId:n}=e,a=(0,Pn.A)(e,Vh);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":n},a),r?t.createElement("title",{id:n},r):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 21h16.5M4.5 3h15M5.25 3v18m13.5-18v18M9 6.75h1.5m-1.5 3h1.5m-1.5 3h1.5m3-6H15m-1.5 3H15m-1.5 3H15M9 21v-3.375c0-.621.504-1.125 1.125-1.125h3.75c.621 0 1.125.504 1.125 1.125V21"}))}const Bh=t.forwardRef(Oh),Uh=()=>{var e,s,r,n,a,i;const{id:l}=Q(),o=K(),{announcements:c}=As(),{user:d}=ys(),{showVerificationModal:u,setShowVerificationModal:m,checkVerification:h}=uu(),[p,x]=t.useState(!1),[f,g]=t.useState(null),[v,y]=t.useState([]),[b,j]=t.useState(!1),[w,N]=t.useState(!1),[k,S]=t.useState(""),{sendMessage:C}=Ss(),[E,A]=(0,t.useState)(!1);t.useEffect(()=>{const e=c.find(e=>String(e.id)===String(l));if(e)return g(e),void P(e);(async()=>{x(!0);try{const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL||"http://localhost:5000",t=await fetch("".concat(e,"/api/announcements/get_by_id/").concat(l)),s=await t.json();t.ok&&s.success?(g(s.data),P(s.data)):g(null)}catch(Ke){console.error("Erreur chargement annonce:",Ke),g(null)}finally{x(!1)}})()},[l,c]);const P=e=>{if(!e||!e.author)return void y([]);const t=c.filter(t=>{var s,r,n;return String(t.id)!==String(l)&&"student"===(null===(s=t.author)||void 0===s?void 0:s.userType)&&(null===(r=t.author)||void 0===r?void 0:r.id)!==(null===(n=e.author)||void 0===n?void 0:n.id)}).slice(0,4);y(t)},T=e=>e?e.startsWith("http")?e:e.startsWith("/")?"http://localhost".concat(e):e:"/api/placeholder/400/300";if(!l)return(0,Me.jsx)("div",{className:"p-6",children:"Annonce invalide"});if(p)return(0,Me.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,Me.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})});if(!f)return(0,Me.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,Me.jsxs)("div",{className:"text-center",children:[(0,Me.jsx)("div",{className:"text-gray-700 mb-4 text-lg",children:"Annonce introuvable."}),(0,Me.jsx)("button",{onClick:()=>o(-1),className:"btn-secondary",children:"Retour"})]})});const M=f.content.length>300,L=E?f.content:f.content.slice(0,300)+(M?"...":""),R=d&&Number(null===(e=f.author)||void 0===e?void 0:e.id)===Number(d.id);let D=0;try{D=Math.floor(((new Date).getTime()-new Date(f.createdAt).getTime())/864e5)}catch(Ke){}return(0,Me.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-blue-50 py-8",children:[(0,Me.jsx)(du,{isOpen:u,onClose:()=>m(!1),backButtonText:"Retour \xe0 l'annonce"}),(0,Me.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,Me.jsxs)("div",{className:"mb-8",children:[(0,Me.jsxs)("nav",{className:"flex items-center space-x-2 text-sm text-gray-600 mb-6",children:[(0,Me.jsx)(Ae,{to:"/",className:"hover:text-primary-600 transition-colors",children:"Accueil"}),(0,Me.jsx)("span",{children:"\u203a"}),(0,Me.jsx)(Ae,{to:"/announcements",className:"hover:text-primary-600 transition-colors",children:"Annonces"}),(0,Me.jsx)("span",{children:"\u203a"}),(0,Me.jsx)("span",{className:"text-gray-900 font-medium",children:"D\xe9tails de l'annonce"})]}),(0,Me.jsxs)("div",{className:"flex justify-between items-start",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("h1",{className:"text-4xl font-bold text-gray-900 mb-3",children:"Recherche de colocation"}),(0,Me.jsxs)("div",{className:"flex items-center space-x-4 text-gray-600",children:[(0,Me.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Me.jsx)(Kd,{className:"w-5 h-5"}),(0,Me.jsxs)("span",{children:["Publi\xe9e ",D<=0?"aujourd'hui":"il y a ".concat(D," jour").concat(D>1?"s":"")]})]}),(0,Me.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Me.jsx)(wu,{className:"w-5 h-5"}),(0,Me.jsxs)("span",{children:[f.views||0," vues"]})]})]})]}),(0,Me.jsxs)("div",{className:"flex space-x-3",children:[(0,Me.jsx)("button",{onClick:()=>{j(!b)},className:"p-3 rounded-full border transition-all ".concat(b?"bg-red-50 border-red-200 text-red-600":"bg-white border-gray-300 text-gray-600 hover:border-red-300 hover:text-red-500"),title:b?"Retirer des favoris":"Sauvegarder",children:(0,Me.jsx)(Gd,{className:"w-5 h-5 ".concat(b?"fill-current":"")})}),(0,Me.jsx)("button",{onClick:async()=>{if(f)if(navigator.share)try{var e,t;await navigator.share({title:"Annonce de ".concat(null===(e=f.author)||void 0===e?void 0:e.firstName," ").concat(null===(t=f.author)||void 0===t?void 0:t.lastName),text:f.content,url:window.location.href})}catch(s){console.log("Partage annul\xe9")}else navigator.clipboard.writeText(window.location.href),ms.success("Lien copi\xe9 dans le presse-papiers !")},className:"p-3 rounded-full bg-white border border-gray-300 text-gray-600 hover:border-primary-300 hover:text-primary-600 transition-all",title:"Partager",children:(0,Me.jsx)(dm,{className:"w-5 h-5"})}),!R&&(0,Me.jsx)("button",{onClick:()=>{ms.success("Fonctionnalit\xe9 de signalement \xe0 impl\xe9menter")},className:"p-3 rounded-full bg-white border border-gray-300 text-gray-600 hover:border-red-300 hover:text-red-600 transition-all",title:"Signaler",children:(0,Me.jsx)(Ih,{className:"w-5 h-5"})})]})]})]}),(0,Me.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[(0,Me.jsxs)("div",{className:"lg:col-span-3 space-y-8",children:[(0,Me.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-200 overflow-hidden",children:[(0,Me.jsx)("div",{className:"p-8 border-b border-gray-200",children:(0,Me.jsxs)("div",{className:"flex items-start justify-between",children:[(0,Me.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Me.jsx)("div",{className:"w-16 h-16 bg-gradient-to-br from-primary-500 to-primary-600 rounded-full flex items-center justify-center shadow-lg",children:(0,Me.jsx)(Am,{className:"w-8 h-8 text-white"})}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:f.author?"".concat(f.author.firstName," ").concat(f.author.lastName):"Utilisateur inconnu"}),(0,Me.jsxs)("div",{className:"flex items-center space-x-4 text-gray-600 mt-2",children:[(0,Me.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Me.jsx)(Kd,{className:"w-4 h-4"}),(0,Me.jsx)("span",{className:"text-sm",children:(e=>{try{const t=new Date(e);return isNaN(t.getTime())?"Date invalide":t.toLocaleDateString("fr-FR",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})}catch(Ke){return"Date indisponible"}})(f.createdAt)})]}),f.budget&&(0,Me.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Me.jsx)(Hu,{className:"w-4 h-4"}),(0,Me.jsxs)("span",{className:"text-sm font-semibold text-primary-600",children:["Budget: ",Number(f.budget).toLocaleString()," Ar/mois"]})]})]})]})]}),f.budget&&(0,Me.jsxs)("div",{className:"text-right bg-gradient-to-br from-primary-50 to-blue-50 rounded-xl p-4 border border-primary-200",children:[(0,Me.jsx)("div",{className:"text-sm text-gray-600",children:"Budget maximum"}),(0,Me.jsxs)("div",{className:"text-3xl font-bold text-primary-600",children:[Number(f.budget).toLocaleString()," Ar"]}),(0,Me.jsx)("div",{className:"text-xs text-gray-500",children:"/mois"})]})]})}),f.images&&f.images.length>0&&(0,Me.jsxs)("div",{className:"p-8 border-b border-gray-200",children:[(0,Me.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Me.jsx)("h3",{className:"text-xl font-semibold text-gray-900",children:"Galerie photos"}),(0,Me.jsxs)("span",{className:"text-sm text-gray-500",children:[f.images.length," photo(s)"]})]}),(0,Me.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:f.images.map((e,t)=>(0,Me.jsxs)("div",{className:"relative rounded-xl overflow-hidden cursor-pointer transform transition-all hover:scale-105 ".concat(0===t?"md:col-span-2 lg:col-span-2":""),onClick:()=>window.open(T(e),"_blank"),children:[(0,Me.jsx)("img",{src:T(e),alt:"annonce ".concat(t+1),className:"w-full h-64 object-cover"}),0===t&&(0,Me.jsx)("div",{className:"absolute top-4 left-4 bg-primary-600 text-white px-3 py-1 rounded-full text-sm font-semibold",children:"Photo principale"})]},t))})]}),(0,Me.jsxs)("div",{className:"p-8 border-b border-gray-200",children:[(0,Me.jsxs)("h3",{className:"text-xl font-semibold text-gray-900 mb-6 flex items-center space-x-2",children:[(0,Me.jsx)(_h,{className:"w-6 h-6 text-primary-600"}),(0,Me.jsx)("span",{children:"Description de la recherche"})]}),(0,Me.jsxs)("div",{className:"bg-gradient-to-br from-gray-50 to-blue-50 rounded-2xl p-8",children:[(0,Me.jsx)("p",{className:"text-gray-800 leading-relaxed text-lg whitespace-pre-wrap break-words",children:L}),M&&(0,Me.jsx)("button",{onClick:()=>A(!E),className:"mt-4 text-primary-600 hover:text-primary-800 font-medium transition-colors",children:E?"Afficher moins \u25b2":"Afficher plus \u25bc"})]})]}),(0,Me.jsx)("div",{className:"p-8",children:(0,Me.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[(0,Me.jsxs)("div",{className:"bg-gradient-to-br from-primary-50 to-primary-100 rounded-2xl p-6",children:[(0,Me.jsxs)("h4",{className:"font-semibold text-gray-900 mb-4 flex items-center space-x-2",children:[(0,Me.jsx)(Md,{className:"w-5 h-5 text-primary-600"}),(0,Me.jsx)("span",{children:"Pr\xe9f\xe9rences de colocation"})]}),(0,Me.jsx)("div",{className:"space-y-3",children:(null===(s=f.preferences)||void 0===s?void 0:s.length)>0?f.preferences.map((e,t)=>(0,Me.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Me.jsx)("div",{className:"w-2 h-2 bg-primary-500 rounded-full"}),(0,Me.jsx)("span",{className:"text-gray-700",children:e})]},t)):(0,Me.jsx)("p",{className:"text-gray-600 italic",children:"Aucune pr\xe9f\xe9rence sp\xe9cifique mentionn\xe9e"})})]}),(0,Me.jsxs)("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-2xl p-6",children:[(0,Me.jsxs)("h4",{className:"font-semibold text-gray-900 mb-4 flex items-center space-x-2",children:[(0,Me.jsx)(zm,{className:"w-5 h-5 text-blue-600"}),(0,Me.jsx)("span",{children:"Informations \xe9tudiantes"})]}),(0,Me.jsxs)("div",{className:"space-y-4",children:[(0,Me.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-blue-200",children:[(0,Me.jsx)("span",{className:"text-gray-700",children:"Statut:"}),(0,Me.jsx)("span",{className:"font-semibold text-gray-900",children:"student"===(null===(r=f.author)||void 0===r?void 0:r.userType)?"\ud83c\udf93 \xc9tudiant":"Non sp\xe9cifi\xe9"})]}),(0,Me.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-blue-200",children:[(0,Me.jsx)("span",{className:"text-gray-700",children:"Universit\xe9:"}),(0,Me.jsx)("span",{className:"font-semibold text-gray-900",children:f.university||"Non sp\xe9cifi\xe9e"})]}),(0,Me.jsxs)("div",{className:"flex justify-between items-center py-2",children:[(0,Me.jsx)("span",{className:"text-gray-700",children:"Ann\xe9e d'\xe9tude:"}),(0,Me.jsx)("span",{className:"font-semibold text-gray-900",children:f.studyYear||"Non sp\xe9cifi\xe9e"})]})]})]})]})})]}),v.length>0&&(0,Me.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-200 p-8",children:[(0,Me.jsx)("h3",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Annonces similaires"}),(0,Me.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:v.map(e=>{var t,s;return(0,Me.jsxs)(Ae,{to:"/announcements/".concat(e.id),className:"group border border-gray-200 rounded-xl p-4 hover:border-primary-300 hover:shadow-lg transition-all duration-300",children:[(0,Me.jsxs)("div",{className:"flex items-center space-x-3 mb-3",children:[(0,Me.jsx)("div",{className:"w-10 h-10 bg-primary-100 rounded-full flex items-center justify-center",children:(0,Me.jsx)(Am,{className:"w-5 h-5 text-primary-600"})}),(0,Me.jsxs)("div",{children:[(0,Me.jsxs)("h4",{className:"font-semibold text-gray-900 group-hover:text-primary-600 transition-colors",children:[null===(t=e.author)||void 0===t?void 0:t.firstName," ",null===(s=e.author)||void 0===s?void 0:s.lastName]}),(0,Me.jsx)("p",{className:"text-xs text-gray-500",children:kh(new Date(e.createdAt),{addSuffix:!0,locale:Th})})]})]}),(0,Me.jsx)("p",{className:"text-gray-700 text-sm line-clamp-2 mb-2",children:e.content}),e.budget&&(0,Me.jsxs)("div",{className:"text-primary-600 font-semibold text-sm",children:["Budget: ",Number(e.budget).toLocaleString()," Ar/mois"]})]},e.id)})})]})]}),(0,Me.jsxs)("div",{className:"space-y-6",children:[(0,Me.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-200 p-6",children:[(0,Me.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Contacter ",null===(n=f.author)||void 0===n?void 0:n.firstName]}),R?(0,Me.jsxs)("div",{className:"text-center py-4",children:[(0,Me.jsx)("div",{className:"w-16 h-16 bg-primary-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,Me.jsx)(Am,{className:"w-8 h-8 text-primary-600"})}),(0,Me.jsx)("p",{className:"text-gray-600 mb-4",children:"C'est votre annonce"}),(0,Me.jsx)("button",{onClick:()=>o("/dashboard"),className:"w-full btn-primary py-3",children:"G\xe9rer mes annonces"})]}):(0,Me.jsxs)("div",{className:"space-y-4",children:[(0,Me.jsx)("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-xl p-4 border border-green-200",children:(0,Me.jsx)("p",{className:"text-sm text-green-800 text-center",children:"\ud83d\udccd Recherche active dans votre r\xe9gion"})}),(0,Me.jsxs)("div",{className:"space-y-3",children:[(0,Me.jsxs)("button",{onClick:e=>{e.preventDefault(),h(e)&&N(!0)},className:"flex-1 btn-primary flex items-center justify-center space-x-2",children:[(0,Me.jsx)(Od,{className:"w-4 h-4"}),(0,Me.jsx)("span",{children:"Contacter"})]}),(null===(a=f.author)||void 0===a?void 0:a.phone)&&(0,Me.jsxs)("a",{href:"tel:".concat(f.author.phone),className:"w-full btn-secondary py-3 flex items-center justify-center space-x-2 text-lg",children:[(0,Me.jsx)(hm,{className:"w-5 h-5"}),(0,Me.jsx)("span",{children:"Appeler maintenant"})]})]}),(0,Me.jsx)("div",{className:"pt-4 border-t border-gray-200",children:(0,Me.jsxs)("div",{className:"text-xs text-gray-500 space-y-2",children:[(0,Me.jsx)("p",{children:"\ud83d\udca1 Pr\xe9sentez-vous bri\xe8vement dans votre message"}),(0,Me.jsx)("p",{children:"\ud83c\udfe0 Pr\xe9cisez vos disponibilit\xe9s pour une visite"}),(0,Me.jsx)("p",{children:"\ud83d\udcb0 N\xe9gociez le budget si n\xe9cessaire"})]})})]})]}),(0,Me.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-200 p-6",children:[(0,Me.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Statistiques de l'annonce"}),(0,Me.jsxs)("div",{className:"space-y-4",children:[(0,Me.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-gray-200",children:[(0,Me.jsxs)("span",{className:"text-gray-600 flex items-center space-x-2",children:[(0,Me.jsx)(wu,{className:"w-4 h-4"}),(0,Me.jsx)("span",{children:"Vues totales:"})]}),(0,Me.jsx)("span",{className:"font-semibold text-gray-900",children:f.views||0})]}),(0,Me.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-gray-200",children:[(0,Me.jsxs)("span",{className:"text-gray-600 flex items-center space-x-2",children:[(0,Me.jsx)(_h,{className:"w-4 h-4"}),(0,Me.jsx)("span",{children:"Messages re\xe7us:"})]}),(0,Me.jsx)("span",{className:"font-semibold text-gray-900",children:f.messageCount||0})]}),(0,Me.jsxs)("div",{className:"flex justify-between items-center py-2",children:[(0,Me.jsxs)("span",{className:"text-gray-600 flex items-center space-x-2",children:[(0,Me.jsx)(Gd,{className:"w-4 h-4"}),(0,Me.jsx)("span",{children:"Favoris:"})]}),(0,Me.jsx)("span",{className:"font-semibold text-gray-900",children:f.favoriteCount||0})]})]})]}),(0,Me.jsxs)("div",{className:"bg-gradient-to-br from-orange-50 to-orange-100 rounded-2xl shadow-lg border border-orange-200 p-6",children:[(0,Me.jsxs)("h3",{className:"text-lg font-semibold text-orange-900 mb-4 flex items-center space-x-2",children:[(0,Me.jsx)(Bh,{className:"w-5 h-5"}),(0,Me.jsx)("span",{children:"Pour les propri\xe9taires"})]}),(0,Me.jsxs)("div",{className:"space-y-3 text-sm text-orange-800",children:[(0,Me.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,Me.jsx)("div",{className:"w-2 h-2 bg-orange-500 rounded-full mt-1.5 flex-shrink-0"}),(0,Me.jsx)("p",{children:"Cet \xe9tudiant recherche activement une colocation"})]}),(0,Me.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,Me.jsx)("div",{className:"w-2 h-2 bg-orange-500 rounded-full mt-1.5 flex-shrink-0"}),(0,Me.jsx)("p",{children:"R\xe9pondez rapidement pour maximiser vos chances"})]}),(0,Me.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,Me.jsx)("div",{className:"w-2 h-2 bg-orange-500 rounded-full mt-1.5 flex-shrink-0"}),(0,Me.jsx)("p",{children:"Pr\xe9parez les informations sur votre logement"})]})]})]}),(0,Me.jsxs)("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-2xl shadow-lg border border-blue-200 p-6",children:[(0,Me.jsx)("h3",{className:"text-lg font-semibold text-blue-900 mb-4",children:"\ud83d\udd12 S\xe9curit\xe9"}),(0,Me.jsxs)("div",{className:"space-y-2 text-sm text-blue-800",children:[(0,Me.jsx)("p",{children:"\u2022 Rencontrez-vous dans un lieu public"}),(0,Me.jsx)("p",{children:"\u2022 V\xe9rifiez l'identit\xe9 de l'interlocuteur"}),(0,Me.jsx)("p",{children:"\u2022 Utilisez notre messagerie s\xe9curis\xe9e"}),(0,Me.jsx)("p",{children:"\u2022 Signalez tout comportement suspect"})]})]})]})]}),(0,Me.jsx)("div",{className:"flex items-center justify-between mt-12 pt-8 border-t border-gray-200",children:(0,Me.jsxs)("button",{onClick:()=>o(-1),className:"btn-secondary flex items-center space-x-2 px-6 py-3",children:[(0,Me.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Me.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),(0,Me.jsx)("span",{children:"Retour aux annonces"})]})})]}),w&&(0,Me.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Me.jsxs)("div",{className:"bg-white rounded-lg max-w-md w-full p-6",children:[(0,Me.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Me.jsxs)("h3",{className:"text-lg font-semibold text-gray-900",children:["Envoyer un message \xe0 ",null===(i=f.author)||void 0===i?void 0:i.firstName]}),(0,Me.jsx)("button",{onClick:()=>N(!1),className:"text-gray-400 hover:text-gray-600",children:(0,Me.jsx)(nu,{className:"w-5 h-5"})})]}),(0,Me.jsx)("div",{className:"mb-4",children:(0,Me.jsx)("textarea",{value:k,onChange:e=>S(e.target.value),placeholder:"Tapez votre message...",rows:4,className:"w-full input-field resize-none"})}),(0,Me.jsxs)("div",{className:"flex space-x-2",children:[(0,Me.jsx)("button",{onClick:async()=>{var e;if(k.trim())if(null!==f&&void 0!==f&&null!==(e=f.author)&&void 0!==e&&e.id)try{await C(f.author.id,k),S(""),N(!1),ms.success("Message envoy\xe9 avec succ\xe8s !")}catch(t){ms.error("Erreur lors de l'envoi du message")}else ms.error("Impossible de contacter cet utilisateur");else ms.error("Veuillez saisir un message")},className:"flex-1 btn-primary",disabled:!k.trim(),children:"Envoyer"}),(0,Me.jsx)("button",{onClick:()=>N(!1),className:"flex-1 btn-secondary",children:"Annuler"})]})]})})]})},Wh=async e=>{try{var t,s;const r=new FormData;r.append("image",e);const n=await(0,hs.yX)("/api/upload/image",r);if(!n.success)throw new Error(n.message||"Erreur lors de l'upload");return(null===(t=n.data)||void 0===t?void 0:t.url)||(null===(s=n.data)||void 0===s?void 0:s.path)||""}catch(r){throw console.error("Erreur upload:",r),new Error(r.message||"Erreur lors de l'upload")}},qh=()=>{const{user:e}=ys(),s=K(),{createAnnouncement:r}=As(),[n,a]=(0,t.useState)(""),[i,l]=(0,t.useState)(""),[o,c]=(0,t.useState)([]),[d,u]=(0,t.useState)(!1),m=(0,t.useRef)(null);if(!e)return(0,Me.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,Me.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-600"})});if("student"!==e.userType)return(0,Me.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:(0,Me.jsxs)("div",{className:"max-w-md w-full text-center",children:[(0,Me.jsx)(Ru,{className:"w-16 h-16 text-yellow-500 mx-auto mb-4"}),(0,Me.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"R\xe9serv\xe9 aux \xe9tudiants"}),(0,Me.jsx)("p",{className:"text-gray-600 mb-4",children:"Seuls les comptes \xe9tudiants peuvent publier une annonce de colocation."}),(0,Me.jsx)("button",{onClick:()=>s("/dashboard"),className:"w-full btn-secondary",children:"Retour"})]})});const h=(null===e||void 0===e?void 0:e.cinVerified)||(null===e||void 0===e?void 0:e.cin_verified),p=(null===e||void 0===e?void 0:e.cinPending)||(null===e||void 0===e?void 0:e.cin_verification_requested_at);if(!h&&!p)return(0,Me.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:(0,Me.jsxs)("div",{className:"max-w-md w-full text-center",children:[(0,Me.jsx)(Ru,{className:"w-16 h-16 text-yellow-500 mx-auto mb-4"}),(0,Me.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"V\xe9rification Requise"}),(0,Me.jsx)("p",{className:"text-gray-600 mb-4",children:"Vous devez v\xe9rifier votre CIN avant de pouvoir publier des annonces."}),(0,Me.jsxs)("div",{className:"space-y-3",children:[(0,Me.jsxs)(Ae,{to:"/cin-verification",className:"w-full btn-primary flex items-center justify-center space-x-2",children:[(0,Me.jsx)(cu,{className:"w-5 h-5"}),(0,Me.jsx)("span",{children:"V\xe9rifier mon CIN"})]}),(0,Me.jsx)("button",{onClick:()=>s("/dashboard"),className:"w-full btn-secondary",children:"Retour au tableau de bord"})]})]})});if(!h&&p)return(0,Me.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:(0,Me.jsxs)("div",{className:"max-w-md w-full text-center",children:[(0,Me.jsx)(em,{className:"w-16 h-16 text-blue-500 mx-auto mb-4"}),(0,Me.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"V\xe9rification en cours"}),(0,Me.jsx)("p",{className:"text-gray-600 mb-4",children:"Votre CIN est en cours de validation. Vous pourrez publier une annonce d\xe8s qu'elle sera approuv\xe9e."}),(0,Me.jsx)("button",{onClick:()=>s("/dashboard"),className:"w-full btn-secondary",children:"Retour au tableau de bord"})]})});return(0,Me.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,Me.jsxs)("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,Me.jsxs)("div",{className:"mb-8",children:[(0,Me.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Publier une annonce de colocation"}),(0,Me.jsx)("p",{className:"text-gray-600",children:"Partagez ce que vous recherchez (quartier, budget, pr\xe9f\xe9rences) et ajoutez des images si besoin."})]}),(0,Me.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),n.trim())try{ms.loading("Publication en cours...");const e=await(async()=>{if(0===o.length)return[];u(!0);try{const e=o.map(e=>e.file);return await Promise.all(e.map(Wh))}finally{u(!1)}})();ms.dismiss();const t={content:n.trim(),images:e,contact:i.trim()||void 0};await r(t),o.forEach(e=>URL.revokeObjectURL(e.preview)),s("/announcements")}catch(t){ms.dismiss(),ms.error(t.message||"Erreur lors de la publication")}else ms.error("Le texte de votre annonce est requis")},className:"space-y-8 bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Texte de l'annonce *"}),(0,Me.jsx)("textarea",{value:n,onChange:e=>a(e.target.value),rows:5,className:"input-field",placeholder:"Ex: \xc9tudiant en info, je cherche une colocation \xe0 Isoraka, budget 300 000 Ar, non fumeur...",required:!0})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contact (optionnel)"}),(0,Me.jsx)("input",{value:i,onChange:e=>l(e.target.value),type:"text",className:"input-field",placeholder:"T\xe9l\xe9phone, email, etc."})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Images (max 6)"}),(0,Me.jsxs)("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:[(0,Me.jsx)("input",{ref:m,type:"file",accept:"image/*",multiple:!0,onChange:e=>{const t=e.target.files;if(!t)return;const s=[];for(let r=0;r<t.length;r++){const e=t[r];if(e.type.startsWith("image/"))if(e.size>5242880)ms.error("".concat(e.name," est trop volumineux (max 5MB)"));else{if(o.length+s.length>=6){ms.error("Maximum 6 images");break}s.push({file:e,preview:URL.createObjectURL(e),id:Math.random().toString(36).slice(2)})}else ms.error("".concat(e.name," n'est pas une image valide"))}s.length>0&&(c(e=>[...e,...s]),ms.success("".concat(s.length," image(s) ajout\xe9e(s)"))),m.current&&(m.current.value="")},className:"hidden",id:"announcementImages"}),(0,Me.jsxs)("label",{htmlFor:"announcementImages",className:"cursor-pointer inline-flex items-center space-x-2 btn-secondary",children:[(0,Me.jsx)(Uu,{className:"w-5 h-5"}),(0,Me.jsx)("span",{children:"Ajouter des images"})]}),o.length>0&&(0,Me.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3 mt-4",children:o.map((e,t)=>(0,Me.jsxs)("div",{className:"relative",children:[(0,Me.jsx)("img",{src:e.preview,alt:"preview",className:"w-full h-32 object-cover rounded-lg"}),(0,Me.jsx)("button",{type:"button",onClick:()=>{return e=t,URL.revokeObjectURL(o[e].preview),void c(t=>t.filter((t,s)=>s!==e));var e},className:"absolute top-2 right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600",children:(0,Me.jsx)(nu,{className:"w-4 h-4"})})]},e.id))})]})]}),(0,Me.jsxs)("div",{className:"flex space-x-3",children:[(0,Me.jsx)("button",{type:"button",onClick:()=>s("/announcements"),className:"btn-secondary",children:"Annuler"}),(0,Me.jsx)("button",{type:"submit",disabled:d||!n.trim(),className:"btn-primary",children:"Publier"})]})]})]})})},Hh=()=>{const{searchProperties:e,loading:s}=ws(),[r,n]=(0,t.useState)([]),[a,i]=(0,t.useState)({}),[l,o]=(0,t.useState)(!1),[c,d]=(0,t.useState)(""),[u,m]=(0,t.useState)(!1),h=(0,t.useCallback)(async t=>{try{const s=await e(t);n(s),m(!0)}catch(s){console.error("Erreur lors de la recherche:",s),n([]),m(!0)}},[e]);(0,t.useEffect)(()=>{u||h(a)},[a,u,h]),(0,t.useEffect)(()=>{m(!1)},[a.district,a.propertyType,a.minPrice,a.maxPrice,a.availableRooms]);const p=(e,t)=>{i(s=>(0,Fe.A)((0,Fe.A)({},s),{},{[e]:t}))},x=()=>{i({}),d(""),m(!1)},f=r.filter(e=>e.title.toLowerCase().includes(c.toLowerCase())||e.address.toLowerCase().includes(c.toLowerCase())||e.description.toLowerCase().includes(c.toLowerCase()));return(0,Me.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,Me.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,Me.jsxs)("div",{className:"mb-8",children:[(0,Me.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Rechercher un logement"}),(0,Me.jsx)("p",{className:"text-gray-600",children:"Trouvez la colocation id\xe9ale dans les meilleurs quartiers d'Antananarivo"})]}),(0,Me.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-8",children:(0,Me.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,Me.jsx)("div",{className:"flex-1",children:(0,Me.jsx)("input",{type:"text",placeholder:"Rechercher par titre, adresse ou description...",value:c,onChange:e=>d(e.target.value),className:"w-full input-field"})}),(0,Me.jsxs)("button",{onClick:()=>o(!l),className:"btn-secondary flex items-center space-x-2",children:[(0,Me.jsx)(vm,{className:"w-5 h-5"}),(0,Me.jsx)("span",{children:"Filtres"})]}),(0,Me.jsx)("button",{onClick:()=>{h(a)},className:"btn-primary",disabled:s,children:s?"Recherche...":"Rechercher"})]})}),(0,Me.jsxs)("div",{className:"flex flex-col lg:flex-row gap-8",children:[(0,Me.jsx)("div",{className:"lg:w-80 ".concat(l?"block":"hidden lg:block"),children:(0,Me.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 sticky top-8",children:[(0,Me.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Me.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Filtres"}),(0,Me.jsx)("button",{onClick:x,className:"text-sm text-primary-600 hover:text-primary-700",children:"Effacer tout"})]}),(0,Me.jsxs)("div",{className:"space-y-6",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Prix mensuel (Ar)"}),(0,Me.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,Me.jsx)("input",{type:"number",placeholder:"Min",value:a.minPrice||"",onChange:e=>p("minPrice",e.target.value?Number(e.target.value):void 0),className:"input-field text-sm"}),(0,Me.jsx)("input",{type:"number",placeholder:"Max",value:a.maxPrice||"",onChange:e=>p("maxPrice",e.target.value?Number(e.target.value):void 0),className:"input-field text-sm"})]})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Type de logement"}),(0,Me.jsxs)("select",{value:a.propertyType||"",onChange:e=>p("propertyType",e.target.value||void 0),className:"input-field",children:[(0,Me.jsx)("option",{value:"",children:"Tous les types"}),[{value:"apartment",label:"Appartement"},{value:"house",label:"Maison"},{value:"studio",label:"Studio"}].map(e=>(0,Me.jsx)("option",{value:e.value,children:e.label},e.value))]})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Quartier"}),(0,Me.jsxs)("select",{value:a.district||"",onChange:e=>p("district",e.target.value||void 0),className:"input-field",children:[(0,Me.jsx)("option",{value:"",children:"Tous les quartiers"}),["Analakely","Ambohijatovo","Ankadifotsy","Ankatso","Antaninarenina","Behoririka","Isoraka","Mahamasina","Tsaralalana","67ha"].map(e=>(0,Me.jsx)("option",{value:e,children:e},e))]})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Chambres disponibles"}),(0,Me.jsxs)("select",{value:a.availableRooms||"",onChange:e=>p("availableRooms",e.target.value?Number(e.target.value):void 0),className:"input-field",children:[(0,Me.jsx)("option",{value:"",children:"Toutes"}),(0,Me.jsx)("option",{value:"1",children:"1 chambre"}),(0,Me.jsx)("option",{value:"2",children:"2 chambres"}),(0,Me.jsx)("option",{value:"3",children:"3 chambres"}),(0,Me.jsx)("option",{value:"4",children:"4+ chambres"})]})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\xc9quipements"}),(0,Me.jsx)("div",{className:"space-y-2",children:["Internet","Eau chaude","S\xe9curit\xe9","Parking","Jardin","Climatisation","Machine \xe0 laver","Cuisine \xe9quip\xe9e","Balcon","Ascenseur"].map(e=>{var t;return(0,Me.jsxs)("label",{className:"flex items-center",children:[(0,Me.jsx)("input",{type:"checkbox",checked:(null===(t=a.amenities)||void 0===t?void 0:t.includes(e))||!1,onChange:t=>{const s=a.amenities||[];t.target.checked?p("amenities",[...s,e]):p("amenities",s.filter(t=>t!==e))},className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),(0,Me.jsx)("span",{className:"ml-2 text-sm text-gray-700",children:e})]},e)})})]})]})]})}),(0,Me.jsx)("div",{className:"flex-1",children:s&&!u?(0,Me.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,Me.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):(0,Me.jsxs)(Me.Fragment,{children:[(0,Me.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Me.jsxs)("p",{className:"text-gray-600",children:[f.length," logement(s) trouv\xe9(s)"]}),(0,Me.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Me.jsx)("span",{className:"text-sm text-gray-600",children:"Trier par:"}),(0,Me.jsxs)("select",{className:"input-field text-sm",value:a.sort||"",onChange:e=>p("sort",e.target.value||void 0),children:[(0,Me.jsx)("option",{value:"",children:"Par d\xe9faut"}),(0,Me.jsx)("option",{value:"price ASC",children:"Prix croissant"}),(0,Me.jsx)("option",{value:"price DESC",children:"Prix d\xe9croissant"}),(0,Me.jsx)("option",{value:"createdAt DESC",children:"Plus r\xe9cent"}),(0,Me.jsx)("option",{value:"createdAt ASC",children:"Plus ancien"})]})]})]}),(0,Me.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-8",children:f.map(e=>{var t;return(0,Me.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden hover:shadow-md transition-shadow",children:[(0,Me.jsx)("div",{className:"aspect-w-16 aspect-h-9 bg-gray-200",children:(0,Me.jsx)("img",{src:(0,hs.VG)(null===(t=e.images)||void 0===t?void 0:t[0]),alt:e.title,className:"w-full h-48 object-cover",onError:e=>{e.currentTarget.src="/api/placeholder/400/300"}})}),(0,Me.jsxs)("div",{className:"p-6",children:[(0,Me.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,Me.jsx)("h3",{className:"text-lg font-semibold text-gray-900 line-clamp-1",children:e.title}),(0,Me.jsx)("button",{className:"text-gray-400 hover:text-red-500 transition-colors",children:(0,Me.jsx)(Gd,{className:"w-5 h-5"})})]}),(0,Me.jsxs)("div",{className:"flex items-center text-gray-600 mb-2",children:[(0,Me.jsx)($d,{className:"w-4 h-4 mr-1"}),(0,Me.jsx)("span",{className:"text-sm",children:e.address})]}),(0,Me.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Me.jsxs)("div",{className:"flex items-center text-primary-600",children:[(0,Me.jsx)(Hu,{className:"w-4 h-4 mr-1"}),(0,Me.jsxs)("span",{className:"font-semibold",children:[e.price.toLocaleString()," Ar"]}),(0,Me.jsx)("span",{className:"text-gray-500 text-sm ml-1",children:"/mois"})]}),(0,Me.jsxs)("div",{className:"flex items-center text-gray-600",children:[(0,Me.jsx)(Dd,{className:"w-4 h-4 mr-1"}),(0,Me.jsxs)("span",{className:"text-sm",children:[e.availableRooms,"/",e.totalRooms," ch."]})]})]}),(0,Me.jsx)("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2",children:e.description}),(0,Me.jsxs)("div",{className:"flex flex-wrap gap-1 mb-4",children:[e.amenities.slice(0,3).map(e=>(0,Me.jsx)("span",{className:"badge badge-primary text-xs",children:e},e)),e.amenities.length>3&&(0,Me.jsxs)("span",{className:"badge badge-primary text-xs",children:["+",e.amenities.length-3]})]}),(0,Me.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Me.jsxs)("div",{className:"flex items-center",children:[(0,Me.jsx)("div",{className:"w-8 h-8 bg-primary-100 rounded-full flex items-center justify-center mr-2",children:(0,Me.jsx)("span",{className:"text-primary-600 font-medium text-sm",children:e.owner.firstName[0]})}),(0,Me.jsxs)("div",{children:[(0,Me.jsxs)("p",{className:"text-sm font-medium text-gray-900",children:[e.owner.firstName," ",e.owner.lastName]}),(0,Me.jsxs)("div",{className:"flex items-center",children:[[...Array(5)].map((e,t)=>(0,Me.jsx)(tu,{className:"w-3 h-3 text-yellow-400 fill-current"},t)),(0,Me.jsx)("span",{className:"text-xs text-gray-500 ml-1",children:"(4.8)"})]})]})]}),(0,Me.jsx)(Ae,{to:"/properties/".concat(e.id),className:"btn-primary text-sm",children:"Voir d\xe9tails"})]})]})]},e.id)})}),0===f.length&&u&&(0,Me.jsxs)("div",{className:"text-center py-12",children:[(0,Me.jsx)(Md,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,Me.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucun logement trouv\xe9"}),(0,Me.jsx)("p",{className:"text-gray-600 mb-4",children:"Essayez de modifier vos crit\xe8res de recherche"}),(0,Me.jsx)("button",{onClick:x,className:"btn-primary",children:"Effacer les filtres"})]})]})})]})]})})},$h=()=>{const e=[{icon:(0,Me.jsx)(Gd,{className:"w-8 h-8 text-primary-600"}),title:"Solidarit\xe9",description:"Nous croyons en la force de la communaut\xe9 \xe9tudiante et favorisons l'entraide."},{icon:(0,Me.jsx)(zd,{className:"w-8 h-8 text-primary-600"}),title:"S\xe9curit\xe9",description:"La s\xe9curit\xe9 de nos utilisateurs est notre priorit\xe9 absolue."},{icon:(0,Me.jsx)(Dd,{className:"w-8 h-8 text-primary-600"}),title:"Inclusion",description:"Nous accueillons tous les \xe9tudiants, quelle que soit leur origine ou leur situation."},{icon:(0,Me.jsx)(Md,{className:"w-8 h-8 text-primary-600"}),title:"Qualit\xe9",description:"Nous nous engageons \xe0 offrir des logements de qualit\xe9 \xe0 des prix abordables."}];return(0,Me.jsxs)("div",{className:"min-h-screen",children:[(0,Me.jsxs)("section",{className:"relative bg-gradient-to-r from-primary-600 to-primary-800 text-white py-20 overflow-hidden",children:[(0,Me.jsx)("div",{className:"absolute inset-0 opacity-70 pointer-events-none",children:(0,Me.jsx)(iu,{})}),(0,Me.jsx)("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,Me.jsxs)("div",{className:"text-center",children:[(0,Me.jsx)("h1",{className:"text-4xl md:text-6xl font-bold mb-6",children:"\xc0 propos de ColocAntananarivo"}),(0,Me.jsx)("p",{className:"text-xl md:text-2xl mb-8 text-primary-100 max-w-3xl mx-auto",children:"La plateforme de r\xe9f\xe9rence pour la colocation \xe9tudiante \xe0 Antananarivo, cr\xe9\xe9e par des \xe9tudiants, pour les \xe9tudiants."})]})})]}),(0,Me.jsx)("section",{className:"py-20 bg-white",children:(0,Me.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,Me.jsxs)("div",{className:"text-center mb-16",children:[(0,Me.jsx)("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Notre mission"}),(0,Me.jsx)("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Faciliter l'acc\xe8s au logement \xe9tudiant \xe0 Antananarivo en cr\xe9ant une communaut\xe9 solidaire et s\xe9curis\xe9e pour la colocation."})]}),(0,Me.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12 items-center",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Un probl\xe8me r\xe9el"}),(0,Me.jsx)("p",{className:"text-gray-600 mb-6",children:"\xc0 Antananarivo, les \xe9tudiants font face \xe0 des difficult\xe9s majeures pour trouver un logement abordable et adapt\xe9 \xe0 leurs besoins. Les loyers \xe9lev\xe9s, le manque d'information et l'absence de plateforme d\xe9di\xe9e compliquent leur recherche."}),(0,Me.jsx)("p",{className:"text-gray-600",children:"La colocation \xe9merge comme une solution \xe9conomique et conviviale, mais l'absence d'outils adapt\xe9s rend la mise en relation entre \xe9tudiants et propri\xe9taires difficile."})]}),(0,Me.jsx)("div",{className:"bg-gray-50 rounded-lg p-8",children:(0,Me.jsx)("div",{className:"grid grid-cols-2 gap-6",children:[{number:"500+",label:"Logements disponibles"},{number:"1200+",label:"\xc9tudiants inscrits"},{number:"300+",label:"Colocations r\xe9ussies"},{number:"15",label:"Quartiers couverts"}].map((e,t)=>(0,Me.jsxs)("div",{className:"text-center",children:[(0,Me.jsx)("div",{className:"text-3xl font-bold text-primary-600 mb-2",children:e.number}),(0,Me.jsx)("div",{className:"text-gray-600 text-sm",children:e.label})]},t))})})]})]})}),(0,Me.jsx)("section",{className:"py-20 bg-gray-50",children:(0,Me.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,Me.jsxs)("div",{className:"text-center mb-16",children:[(0,Me.jsx)("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Nos valeurs"}),(0,Me.jsx)("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Les principes qui guident notre action au quotidien"})]}),(0,Me.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:e.map((e,t)=>(0,Me.jsxs)("div",{className:"text-center",children:[(0,Me.jsx)("div",{className:"flex justify-center mb-4",children:e.icon}),(0,Me.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:e.title}),(0,Me.jsx)("p",{className:"text-gray-600",children:e.description})]},t))})]})}),(0,Me.jsx)("section",{className:"py-20 bg-white",children:(0,Me.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,Me.jsxs)("div",{className:"text-center mb-16",children:[(0,Me.jsx)("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Comment \xe7a marche"}),(0,Me.jsx)("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Un processus simple et s\xe9curis\xe9 en 3 \xe9tapes"})]}),(0,Me.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[(0,Me.jsxs)("div",{className:"text-center",children:[(0,Me.jsx)("div",{className:"w-16 h-16 bg-primary-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,Me.jsx)("span",{className:"text-2xl font-bold text-primary-600",children:"1"})}),(0,Me.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Inscription"}),(0,Me.jsx)("p",{className:"text-gray-600",children:"Cr\xe9ez votre profil en quelques minutes. Indiquez vos pr\xe9f\xe9rences et votre budget pour une recherche personnalis\xe9e."})]}),(0,Me.jsxs)("div",{className:"text-center",children:[(0,Me.jsx)("div",{className:"w-16 h-16 bg-primary-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,Me.jsx)("span",{className:"text-2xl font-bold text-primary-600",children:"2"})}),(0,Me.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Recherche"}),(0,Me.jsx)("p",{className:"text-gray-600",children:"Utilisez nos filtres avanc\xe9s pour trouver des logements qui correspondent \xe0 vos crit\xe8res et \xe0 votre budget."})]}),(0,Me.jsxs)("div",{className:"text-center",children:[(0,Me.jsx)("div",{className:"w-16 h-16 bg-primary-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,Me.jsx)("span",{className:"text-2xl font-bold text-primary-600",children:"3"})}),(0,Me.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Mise en relation"}),(0,Me.jsx)("p",{className:"text-gray-600",children:"Contactez les propri\xe9taires via notre messagerie s\xe9curis\xe9e et planifiez vos visites en toute confiance."})]})]})]})}),(0,Me.jsx)("section",{className:"py-20 bg-gray-50",children:(0,Me.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,Me.jsxs)("div",{className:"text-center mb-16",children:[(0,Me.jsx)("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Notre \xe9quipe"}),(0,Me.jsx)("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Des passionn\xe9s qui travaillent chaque jour pour am\xe9liorer la vie des \xe9tudiants \xe0 Antananarivo"})]}),(0,Me.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[{name:"Jean Dupont",role:"Fondateur & CEO",description:"Passionn\xe9 par l'innovation sociale et les solutions technologiques pour am\xe9liorer la vie des \xe9tudiants.",image:"/api/placeholder/200/200"},{name:"Marie Rakoto",role:"Responsable Technique",description:"D\xe9veloppeuse exp\xe9riment\xe9e avec une expertise en React et Node.js.",image:"/api/placeholder/200/200"},{name:"Sofia Andriamalala",role:"Responsable Marketing",description:"Sp\xe9cialiste du marketing digital et de la communication aupr\xe8s des \xe9tudiants.",image:"/api/placeholder/200/200"}].map((e,t)=>(0,Me.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 text-center",children:[(0,Me.jsx)("div",{className:"w-24 h-24 bg-gray-200 rounded-full mx-auto mb-4 flex items-center justify-center",children:(0,Me.jsx)("span",{className:"text-2xl font-bold text-gray-600",children:e.name.split(" ").map(e=>e[0]).join("")})}),(0,Me.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-1",children:e.name}),(0,Me.jsx)("p",{className:"text-primary-600 font-medium mb-3",children:e.role}),(0,Me.jsx)("p",{className:"text-gray-600 text-sm",children:e.description})]},t))})]})}),(0,Me.jsx)("section",{className:"py-20 bg-white",children:(0,Me.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,Me.jsxs)("div",{className:"text-center mb-16",children:[(0,Me.jsx)("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Notre impact"}),(0,Me.jsx)("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Des r\xe9sultats concrets qui am\xe9liorent la vie des \xe9tudiants"})]}),(0,Me.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[(0,Me.jsxs)("div",{className:"text-center",children:[(0,Me.jsx)("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,Me.jsx)(Hu,{className:"w-8 h-8 text-green-600"})}),(0,Me.jsx)("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"40%"}),(0,Me.jsx)("p",{className:"text-gray-600",children:"d'\xe9conomies en moyenne sur le loyer"})]}),(0,Me.jsxs)("div",{className:"text-center",children:[(0,Me.jsx)("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,Me.jsx)(Dd,{className:"w-8 h-8 text-blue-600"})}),(0,Me.jsx)("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"95%"}),(0,Me.jsx)("p",{className:"text-gray-600",children:"de satisfaction des utilisateurs"})]}),(0,Me.jsxs)("div",{className:"text-center",children:[(0,Me.jsx)("div",{className:"w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,Me.jsx)($d,{className:"w-8 h-8 text-purple-600"})}),(0,Me.jsx)("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"15"}),(0,Me.jsx)("p",{className:"text-gray-600",children:"quartiers couverts \xe0 Antananarivo"})]}),(0,Me.jsxs)("div",{className:"text-center",children:[(0,Me.jsx)("div",{className:"w-16 h-16 bg-yellow-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,Me.jsx)(zm,{className:"w-8 h-8 text-yellow-600"})}),(0,Me.jsx)("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"8"}),(0,Me.jsx)("p",{className:"text-gray-600",children:"universit\xe9s partenaires"})]})]})]})}),(0,Me.jsx)("section",{className:"py-20 bg-primary-600 text-white",children:(0,Me.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[(0,Me.jsx)("h2",{className:"text-3xl md:text-4xl font-bold mb-4",children:"Rejoignez notre communaut\xe9"}),(0,Me.jsx)("p",{className:"text-xl mb-8 text-primary-100 max-w-2xl mx-auto",children:"Que vous soyez \xe9tudiant \xe0 la recherche d'un logement ou propri\xe9taire souhaitant louer, ColocAntananarivo est fait pour vous."}),(0,Me.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[(0,Me.jsx)("a",{href:"/register",className:"bg-white text-primary-600 hover:bg-gray-100 font-semibold py-3 px-8 rounded-lg transition-colors duration-200",children:"Commencer maintenant"}),(0,Me.jsx)("a",{href:"/contact",className:"border-2 border-white text-white hover:bg-white hover:text-primary-600 font-semibold py-3 px-8 rounded-lg transition-colors duration-200",children:"Nous contacter"})]})]})})]})},Zh=()=>{const[e,s]=(0,t.useState)({name:"",email:"",subject:"",message:""}),[r,n]=(0,t.useState)(!1),a=t=>{s((0,Fe.A)((0,Fe.A)({},e),{},{[t.target.name]:t.target.value}))},i=[{icon:(0,Me.jsx)($d,{className:"w-6 h-6"}),title:"Adresse",details:["Antananarivo, Madagascar","BP 1234"]},{icon:(0,Me.jsx)(hm,{className:"w-6 h-6"}),title:"T\xe9l\xe9phone",details:["+261 34 12 345 67","+261 20 22 345 67"]},{icon:(0,Me.jsx)(Dm,{className:"w-6 h-6"}),title:"Email",details:["contact@colocantananarivo.mg","support@colocantananarivo.mg"]},{icon:(0,Me.jsx)(em,{className:"w-6 h-6"}),title:"Horaires",details:["Lun - Ven: 8h00 - 18h00","Sam: 9h00 - 16h00"]}];return(0,Me.jsxs)("div",{className:"min-h-screen",children:[(0,Me.jsxs)("section",{className:"relative bg-gradient-to-r from-primary-600 to-primary-800 text-white py-20 overflow-hidden",children:[(0,Me.jsx)("div",{className:"absolute inset-0 opacity-70 pointer-events-none",children:(0,Me.jsx)(iu,{})}),(0,Me.jsx)("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,Me.jsxs)("div",{className:"text-center",children:[(0,Me.jsx)("h1",{className:"text-4xl md:text-6xl font-bold mb-6",children:"Contactez-nous"}),(0,Me.jsx)("p",{className:"text-xl md:text-2xl mb-8 text-primary-100 max-w-3xl mx-auto",children:"Nous sommes l\xe0 pour vous aider. N'h\xe9sitez pas \xe0 nous contacter pour toute question ou assistance."})]})})]}),(0,Me.jsx)("section",{className:"py-20 bg-white",children:(0,Me.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,Me.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 mb-16",children:i.map((e,t)=>(0,Me.jsxs)("div",{className:"text-center",children:[(0,Me.jsx)("div",{className:"w-16 h-16 bg-primary-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,Me.jsx)("div",{className:"text-primary-600",children:e.icon})}),(0,Me.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:e.title}),e.details.map((e,t)=>(0,Me.jsx)("p",{className:"text-gray-600 text-sm",children:e},t))]},t))})})}),(0,Me.jsx)("section",{className:"py-20 bg-gray-50",children:(0,Me.jsxs)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,Me.jsxs)("div",{className:"text-center mb-12",children:[(0,Me.jsx)("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Envoyez-nous un message"}),(0,Me.jsx)("p",{className:"text-gray-600",children:"Remplissez le formulaire ci-dessous et nous vous r\xe9pondrons dans les plus brefs d\xe9lais"})]}),(0,Me.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-8",children:(0,Me.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),n(!0);try{await new Promise(e=>setTimeout(e,1e3)),ms.success("Message envoy\xe9 avec succ\xe8s ! Nous vous r\xe9pondrons dans les plus brefs d\xe9lais."),s({name:"",email:"",subject:"",message:""})}catch(t){ms.error("Erreur lors de l'envoi du message. Veuillez r\xe9essayer.")}finally{n(!1)}},className:"space-y-6",children:[(0,Me.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Nom complet *"}),(0,Me.jsx)("input",{type:"text",id:"name",name:"name",value:e.name,onChange:a,required:!0,className:"input-field",placeholder:"Votre nom complet"})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email *"}),(0,Me.jsx)("input",{type:"email",id:"email",name:"email",value:e.email,onChange:a,required:!0,className:"input-field",placeholder:"votre@email.com"})]})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{htmlFor:"subject",className:"block text-sm font-medium text-gray-700 mb-2",children:"Sujet *"}),(0,Me.jsxs)("select",{id:"subject",name:"subject",value:e.subject,onChange:a,required:!0,className:"input-field",children:[(0,Me.jsx)("option",{value:"",children:"S\xe9lectionnez un sujet"}),(0,Me.jsx)("option",{value:"general",children:"Question g\xe9n\xe9rale"}),(0,Me.jsx)("option",{value:"technical",children:"Probl\xe8me technique"}),(0,Me.jsx)("option",{value:"account",children:"Probl\xe8me de compte"}),(0,Me.jsx)("option",{value:"property",children:"Question sur un logement"}),(0,Me.jsx)("option",{value:"payment",children:"Question de paiement"}),(0,Me.jsx)("option",{value:"other",children:"Autre"})]})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-700 mb-2",children:"Message *"}),(0,Me.jsx)("textarea",{id:"message",name:"message",value:e.message,onChange:a,required:!0,rows:6,className:"input-field",placeholder:"D\xe9crivez votre question ou votre probl\xe8me en d\xe9tail..."})]}),(0,Me.jsx)("div",{className:"flex justify-end",children:(0,Me.jsx)("button",{type:"submit",disabled:r,className:"btn-primary flex items-center space-x-2",children:r?(0,Me.jsxs)(Me.Fragment,{children:[(0,Me.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),(0,Me.jsx)("span",{children:"Envoi..."})]}):(0,Me.jsxs)(Me.Fragment,{children:[(0,Me.jsx)(Ym,{className:"w-4 h-4"}),(0,Me.jsx)("span",{children:"Envoyer le message"})]})})})]})})]})}),(0,Me.jsx)("section",{className:"py-20 bg-white",children:(0,Me.jsxs)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,Me.jsxs)("div",{className:"text-center mb-12",children:[(0,Me.jsx)("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Questions fr\xe9quentes"}),(0,Me.jsx)("p",{className:"text-gray-600",children:"Trouvez des r\xe9ponses aux questions les plus courantes"})]}),(0,Me.jsx)("div",{className:"space-y-6",children:[{question:"Comment puis-je m'inscrire sur la plateforme ?",answer:'L\'inscription est gratuite et simple. Cliquez sur "Inscription" en haut de la page, remplissez le formulaire avec vos informations et confirmez votre email.'},{question:"La plateforme est-elle gratuite ?",answer:"Oui, l'inscription et l'utilisation de la plateforme sont enti\xe8rement gratuites pour les \xe9tudiants. Les propri\xe9taires paient une commission uniquement lors de la conclusion d'un bail."},{question:"Comment puis-je contacter un propri\xe9taire ?",answer:"Une fois inscrit, vous pouvez utiliser notre messagerie int\xe9gr\xe9e pour contacter directement les propri\xe9taires. C'est s\xe9curis\xe9 et gratuit."},{question:"Mes donn\xe9es personnelles sont-elles s\xe9curis\xe9es ?",answer:"Absolument. Nous utilisons les derni\xe8res technologies de cryptage et ne partageons jamais vos donn\xe9es personnelles avec des tiers sans votre consentement."},{question:"Que faire si je rencontre un probl\xe8me ?",answer:"Notre \xe9quipe de support est l\xe0 pour vous aider. Contactez-nous via ce formulaire ou par email \xe0 support@colocantananarivo.mg"}].map((e,t)=>(0,Me.jsxs)("div",{className:"bg-gray-50 rounded-lg p-6",children:[(0,Me.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:e.question}),(0,Me.jsx)("p",{className:"text-gray-600",children:e.answer})]},t))})]})}),(0,Me.jsx)("section",{className:"py-20 bg-gray-50",children:(0,Me.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,Me.jsxs)("div",{className:"text-center mb-12",children:[(0,Me.jsx)("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Notre localisation"}),(0,Me.jsx)("p",{className:"text-gray-600",children:"Venez nous rendre visite dans nos bureaux \xe0 Antananarivo"})]}),(0,Me.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:(0,Me.jsx)("div",{className:"aspect-w-16 aspect-h-9 bg-gray-200",children:(0,Me.jsx)("div",{className:"flex items-center justify-center h-64 bg-gray-100",children:(0,Me.jsxs)("div",{className:"text-center text-gray-500",children:[(0,Me.jsx)($d,{className:"w-12 h-12 mx-auto mb-2"}),(0,Me.jsx)("p",{children:"Carte interactive"}),(0,Me.jsx)("p",{className:"text-sm",children:"Antananarivo, Madagascar"})]})})})})]})})]})},Jh=["title","titleId"];function Gh(e,s){let{title:r,titleId:n}=e,a=(0,Pn.A)(e,Jh);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":n},a),r?t.createElement("title",{id:n},r):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m2.25 0H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const Yh=t.forwardRef(Gh),Xh=()=>{const{verifyCIN:e,user:s}=ys(),r=K(),[n,a]=(0,t.useState)({cinNumber:"",cinRectoImage:null,cinVersoImage:null}),[i,l]=(0,t.useState)(!1),[o,c]=(0,t.useState)(null),[d,u]=(0,t.useState)(null),m=(e,t)=>{var s;const r=null===(s=e.target.files)||void 0===s?void 0:s[0];if(r){if(!r.type.startsWith("image/"))return void ms.error("Veuillez s\xe9lectionner une image valide (JPG, PNG)");if(r.size>5242880)return void ms.error("L'image ne doit pas d\xe9passer 5MB");a(e=>(0,Fe.A)((0,Fe.A)({},e),{},{[t]:r}));const e=new FileReader;e.onload=e=>{var s,r;"cinRectoImage"===t?c(null===(s=e.target)||void 0===s?void 0:s.result):u(null===(r=e.target)||void 0===r?void 0:r.result)},e.readAsDataURL(r)}},h=e=>{a(t=>(0,Fe.A)((0,Fe.A)({},t),{},{[e]:null})),"cinRectoImage"===e?c(null):u(null)};return null!==s&&void 0!==s&&s.cinVerified?(0,Me.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:(0,Me.jsxs)("div",{className:"max-w-md w-full text-center",children:[(0,Me.jsx)(Xu,{className:"w-16 h-16 text-green-500 mx-auto mb-4"}),(0,Me.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"V\xe9rification CIN R\xe9ussie"}),(0,Me.jsx)("p",{className:"text-gray-600 mb-6",children:"Votre carte d'identit\xe9 nationale a \xe9t\xe9 v\xe9rifi\xe9e avec succ\xe8s. Vous pouvez maintenant publier des annonces."}),(0,Me.jsx)("button",{onClick:()=>r("/dashboard"),className:"btn-primary",children:"Retour au tableau de bord"})]})}):(0,Me.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,Me.jsxs)("div",{className:"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,Me.jsxs)("div",{className:"mb-8",children:[(0,Me.jsxs)("button",{onClick:()=>r("/dashboard"),className:"flex items-center text-gray-600 hover:text-gray-900 mb-4",children:[(0,Me.jsx)(lm,{className:"w-5 h-5 mr-2"}),"Retour"]}),(0,Me.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"V\xe9rification de votre CIN"}),(0,Me.jsx)("p",{className:"text-gray-600 mt-2",children:"Pour publier des annonces, nous devons v\xe9rifier votre identit\xe9 en scannant les deux c\xf4t\xe9s de votre CIN"})]}),(0,Me.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,Me.jsxs)("div",{className:"text-center mb-8",children:[(0,Me.jsx)(cu,{className:"w-16 h-16 text-primary-600 mx-auto mb-4"}),(0,Me.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"V\xe9rification d'identit\xe9"}),(0,Me.jsx)("p",{className:"text-gray-600 mt-2",children:"T\xe9l\xe9chargez les photos des deux c\xf4t\xe9s de votre CIN"})]}),(0,Me.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),n.cinNumber&&n.cinRectoImage&&n.cinVersoImage)if(/^\d{12}$/.test(n.cinNumber)){l(!0);try{await e({cinNumber:n.cinNumber,cinRectoImage:n.cinRectoImage,cinVersoImage:n.cinVersoImage}),setTimeout(()=>{l(!1),r("/dashboard")},1e3)}catch(s){l(!1),ms.error(s.message||"Erreur lors de la v\xe9rification")}}else ms.error("Le num\xe9ro CIN doit contenir exactement 12 chiffres");else ms.error("Veuillez remplir tous les champs")},className:"space-y-8",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Num\xe9ro de CIN *"}),(0,Me.jsx)("input",{type:"text",value:n.cinNumber,onChange:e=>a(t=>(0,Fe.A)((0,Fe.A)({},t),{},{cinNumber:e.target.value})),className:"input-field",placeholder:"Ex: 123456789012",required:!0,maxLength:12,pattern:"\\d{12}",title:"Le num\xe9ro CIN doit contenir 12 chiffres"}),(0,Me.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Doit contenir exactement 12 chiffres"})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Photo du recto de votre CIN *"}),(0,Me.jsxs)("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:[(0,Me.jsx)("input",{type:"file",accept:"image/*",onChange:e=>m(e,"cinRectoImage"),className:"hidden",id:"cinRectoImage",required:!0}),o?(0,Me.jsxs)("div",{className:"relative",children:[(0,Me.jsx)("img",{src:o,alt:"Preview recto CIN",className:"mx-auto h-48 object-cover rounded-lg"}),(0,Me.jsx)("button",{type:"button",onClick:()=>h("cinRectoImage"),className:"absolute top-2 right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600",children:(0,Me.jsx)(Mm,{className:"w-4 h-4"})})]}):(0,Me.jsxs)("label",{htmlFor:"cinRectoImage",className:"cursor-pointer block",children:[(0,Me.jsx)(Yh,{className:"w-12 h-12 text-gray-400 mx-auto mb-2"}),(0,Me.jsx)("p",{className:"text-sm text-gray-600",children:"Cliquez pour t\xe9l\xe9charger une photo du recto de votre CIN"}),(0,Me.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"C\xf4t\xe9 avec votre photo et informations personnelles"})]})]})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Photo du verso de votre CIN *"}),(0,Me.jsxs)("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:[(0,Me.jsx)("input",{type:"file",accept:"image/*",onChange:e=>m(e,"cinVersoImage"),className:"hidden",id:"cinVersoImage",required:!0}),d?(0,Me.jsxs)("div",{className:"relative",children:[(0,Me.jsx)("img",{src:d,alt:"Preview verso CIN",className:"mx-auto h-48 object-cover rounded-lg"}),(0,Me.jsx)("button",{type:"button",onClick:()=>h("cinVersoImage"),className:"absolute top-2 right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600",children:(0,Me.jsx)(Mm,{className:"w-4 h-4"})})]}):(0,Me.jsxs)("label",{htmlFor:"cinVersoImage",className:"cursor-pointer block",children:[(0,Me.jsx)(Yh,{className:"w-12 h-12 text-gray-400 mx-auto mb-2"}),(0,Me.jsx)("p",{className:"text-sm text-gray-600",children:"Cliquez pour t\xe9l\xe9charger une photo du verso de votre CIN"}),(0,Me.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"C\xf4t\xe9 avec les informations compl\xe9mentaires"})]})]})]}),(0,Me.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,Me.jsx)("h3",{className:"text-sm font-medium text-blue-900 mb-2",children:"Instructions importantes"}),(0,Me.jsxs)("ul",{className:"text-sm text-blue-800 space-y-1",children:[(0,Me.jsx)("li",{children:"\u2022 Assurez-vous que les deux photos soient nettes et lisibles"}),(0,Me.jsx)("li",{children:"\u2022 T\xe9l\xe9chargez le recto (c\xf4t\xe9 photo) et le verso de votre CIN"}),(0,Me.jsx)("li",{children:"\u2022 Utilisez un fond neutre et un bon \xe9clairage"}),(0,Me.jsx)("li",{children:"\u2022 \xc9vitez les reflets sur la carte"}),(0,Me.jsx)("li",{children:"\u2022 Format accept\xe9 : JPG, PNG (max 5MB)"})]})]}),(0,Me.jsxs)("div",{className:"flex space-x-4",children:[(0,Me.jsx)("button",{type:"button",onClick:()=>r("/dashboard"),className:"flex-1 btn-secondary",disabled:i,children:"Annuler"}),(0,Me.jsx)("button",{type:"submit",disabled:i||!n.cinNumber||!n.cinRectoImage||!n.cinVersoImage,className:"flex-1 btn-primary flex items-center justify-center space-x-2",children:i?(0,Me.jsxs)(Me.Fragment,{children:[(0,Me.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),(0,Me.jsx)("span",{children:"V\xe9rification en cours..."})]}):(0,Me.jsxs)(Me.Fragment,{children:[(0,Me.jsx)(Yh,{className:"w-5 h-5"}),(0,Me.jsx)("span",{children:"V\xe9rifier ma CIN"})]})})]})]})]})]})})},Kh=["title","titleId"];function Qh(e,s){let{title:r,titleId:n}=e,a=(0,Pn.A)(e,Kh);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":n},a),r?t.createElement("title",{id:n},r):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15m3 0 3-3m0 0-3-3m3 3H9"}))}const ep=t.forwardRef(Qh),tp=["title","titleId"];function sp(e,s){let{title:r,titleId:n}=e,a=(0,Pn.A)(e,tp);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":n},a),r?t.createElement("title",{id:n},r):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}))}const rp=t.forwardRef(sp),np=("".concat("","/logo_colo.svg"),()=>{const{user:e,logout:s}=ys(),{conversations:r}=Ss(),n=K(),a=Y(),[i,l]=(0,t.useState)(!1),[o,c]=(0,t.useState)(0),{showVerificationModal:d,setShowVerificationModal:u,checkVerification:m,requiresVerification:h,onClickHandler:p}=uu(),x=(0,t.useCallback)((e,t)=>h?(e.preventDefault(),u(!0),!1):(n(t),!0),[h,n,u]),[f,g]=(0,t.useState)(!1);(0,t.useEffect)(()=>{if(!e||f)return void c(0);const t=r.reduce((t,s)=>{const r=s.lastMessage;if(!r)return t;const n=String(r.senderId)!==String(e.id),a=!r.isRead;return t+(n&&a?1:0)},0);c(t)},[r,e,f]),(0,t.useEffect)(()=>{if(!e)return;r.some(t=>{const s=t.lastMessage;if(!s)return!1;return String(s.senderId)!==String(e.id)&&!s.isRead})&&g(!1)},[r,e]);const v=()=>{s(),n("/")},y=e=>a.pathname===e,b=e=>0===e?null:e>99?"99+":e.toString(),j=e=>"".concat("px-3 py-2 rounded-md text-sm font-medium transition-colors"," ").concat(y(e)?"text-primary-600 bg-primary-50 border-b-2 border-primary-600":"text-gray-700 hover:text-primary-600 hover:bg-gray-50");return e&&"admin"===e.userType?null:(0,Me.jsxs)(Me.Fragment,{children:[(0,Me.jsx)(du,{isOpen:d,onClose:()=>{u(!1)},backButtonText:"Fermer"}),(0,Me.jsx)("nav",{className:"bg-white shadow-lg border-b border-gray-200 fixed top-0 left-0 right-0 z-50",children:(0,Me.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,Me.jsxs)("div",{className:"flex justify-between h-16",children:[(0,Me.jsx)("div",{className:"flex items-center",children:(0,Me.jsx)(Ae,{to:"/",className:"flex items-center",children:(0,Me.jsx)("img",{src:"/logo_colo.svg",alt:"ColocAntananarivo",className:"h-20 w-auto"})})}),(0,Me.jsxs)("div",{className:"hidden md:flex items-center space-x-1",children:[(0,Me.jsx)(Ae,{to:"/",className:j("/"),children:"Accueil"}),e&&(0,Me.jsx)(Ae,{to:"/dashboard",className:j("/dashboard"),children:"Dashboard"}),(0,Me.jsx)(Ae,{to:"/logements",className:j("/logements"),children:"Logements"}),(0,Me.jsx)(Ae,{to:"/announcements",className:j("/announcements"),children:"Annonces"}),(0,Me.jsx)(Ae,{to:"/about",className:j("/about"),children:"\xc0 propos"}),(0,Me.jsx)(Ae,{to:"/contact",className:j("/contact"),children:"Contact"})]}),(0,Me.jsx)("div",{className:"hidden md:flex items-center space-x-3",children:e?(0,Me.jsxs)(Me.Fragment,{children:["owner"===e.userType&&(0,Me.jsxs)("button",{onClick:e=>{e.preventDefault(),m(e)&&n("/create-property")},className:"btn-primary flex items-center space-x-2",children:[(0,Me.jsx)(Fu,{className:"w-4 h-4"}),(0,Me.jsx)("span",{children:"Publier"})]}),"student"===e.userType&&(0,Me.jsxs)("button",{onClick:e=>{e.preventDefault(),m(e)&&n("/create-announcement")},className:"btn-primary flex items-center space-x-2",children:[(0,Me.jsx)(Fu,{className:"w-4 h-4"}),(0,Me.jsx)("span",{children:"Publier une annonce"})]}),(0,Me.jsxs)("button",{onClick:e=>{e.preventDefault(),m(e)&&n("/messages")},className:"relative p-2 text-gray-600 hover:text-primary-600 rounded-full hover:bg-gray-100",children:[(0,Me.jsx)(Od,{className:"h-6 w-6"}),o>0&&(0,Me.jsx)("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:b(o)})]}),(0,Me.jsxs)("div",{className:"relative group",children:[(0,Me.jsxs)("button",{className:"\n                    flex items-center space-x-2 p-2 rounded-md transition-colors\n                    ".concat(y("/profile")?"text-primary-600 bg-primary-50":"text-gray-700 hover:text-primary-600 hover:bg-gray-50","\n                  "),children:[e.avatar?(0,Me.jsx)("img",{src:e.avatar,alt:"avatar",className:"w-6 h-6 rounded-full object-cover"}):(0,Me.jsx)(Am,{className:"w-5 h-5"}),(0,Me.jsx)("span",{className:"text-sm font-medium max-w-24 truncate",children:e.firstName})]}),(0,Me.jsxs)("div",{className:"absolute right-0 mt-2 w-56 bg-white rounded-md shadow-lg py-1 z-50 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 border border-gray-200",children:[(0,Me.jsx)(Ae,{to:"/dashboard",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 hover:text-primary-600 transition-colors whitespace-nowrap",children:"Tableau de bord"}),(0,Me.jsx)(Ae,{to:"/profile",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 hover:text-primary-600 transition-colors whitespace-nowrap",children:"Mon profil"}),"owner"===e.userType&&(0,Me.jsxs)(Me.Fragment,{children:[(0,Me.jsx)("div",{className:"border-t border-gray-100 my-1"}),e.cinVerified?(0,Me.jsx)("div",{className:"px-4 py-2 text-xs text-green-600 bg-green-50",children:"\u2713 CIN V\xe9rifi\xe9e"}):e.cinPending||e.cin_verification_requested_at?(0,Me.jsx)("div",{className:"px-4 py-2 text-xs text-blue-600 bg-blue-50",children:"\u23f3 V\xe9rification en cours"}):(0,Me.jsx)(Ae,{to:"/cin-verification",className:"block px-4 py-2 text-sm text-yellow-700 hover:bg-yellow-50 transition-colors whitespace-nowrap",children:"V\xe9rifier ma CIN"})]}),(0,Me.jsx)("div",{className:"border-t border-gray-100 my-1"}),(0,Me.jsxs)("button",{onClick:v,className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 hover:text-red-600 transition-colors whitespace-nowrap",children:[(0,Me.jsx)(ep,{className:"w-4 h-4 inline mr-2"}),"D\xe9connexion"]})]})]})]}):(0,Me.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Me.jsx)(Ae,{to:"/login",className:j("/login"),children:"Connexion"}),(0,Me.jsx)(Ae,{to:"/register",className:"btn-primary",children:"Inscription"})]})}),(0,Me.jsx)("div",{className:"md:hidden flex items-center",children:(0,Me.jsx)("button",{onClick:()=>l(!i),className:"text-gray-700 hover:text-primary-600 p-2 rounded-md transition-colors",children:i?(0,Me.jsx)(nu,{className:"w-6 h-6"}):(0,Me.jsx)(rp,{className:"w-6 h-6"})})})]}),i&&(0,Me.jsx)("div",{className:"md:hidden",children:(0,Me.jsxs)("div",{className:"px-2 pt-2 pb-3 space-y-1 sm:px-3 bg-gray-50 rounded-lg mt-2 border border-gray-200",children:[(0,Me.jsx)(Ae,{to:"/",className:"block px-3 py-2 rounded-md text-base font-medium transition-colors ".concat(y("/")?"text-primary-600 bg-primary-50":"text-gray-700 hover:text-primary-600 hover:bg-gray-100"),onClick:()=>l(!1),children:"Accueil"}),e&&(0,Me.jsx)(Ae,{to:"/dashboard",className:"block px-3 py-2 rounded-md text-base font-medium transition-colors ".concat(y("/dashboard")?"text-primary-600 bg-primary-50":"text-gray-700 hover:text-primary-600 hover:bg-gray-100"),onClick:()=>l(!1),children:"Dashboard"}),(0,Me.jsx)(Ae,{to:"/logements",className:"block px-3 py-2 rounded-md text-base font-medium transition-colors ".concat(y("/logements")?"text-primary-600 bg-primary-50":"text-gray-700 hover:text-primary-600 hover:bg-gray-100"),onClick:()=>l(!1),children:"Logements"}),(0,Me.jsx)(Ae,{to:"/announcements",className:"block px-3 py-2 rounded-md text-base font-medium transition-colors ".concat(y("/announcements")?"text-primary-600 bg-primary-50":"text-gray-700 hover:text-primary-600 hover:bg-gray-100"),onClick:()=>l(!1),children:"Annonces"}),(0,Me.jsx)(Ae,{to:"/about",className:"block px-3 py-2 rounded-md text-base font-medium transition-colors ".concat(y("/about")?"text-primary-600 bg-primary-50":"text-gray-700 hover:text-primary-600 hover:bg-gray-100"),onClick:()=>l(!1),children:"\xc0 propos"}),(0,Me.jsx)(Ae,{to:"/contact",className:"block px-3 py-2 rounded-md text-base font-medium transition-colors ".concat(y("/contact")?"text-primary-600 bg-primary-50":"text-gray-700 hover:text-primary-600 hover:bg-gray-100"),onClick:()=>l(!1),children:"Contact"}),e?(0,Me.jsx)(Me.Fragment,{children:(0,Me.jsxs)("div",{className:"border-t border-gray-200 pt-4 mt-2",children:[(0,Me.jsxs)("div",{className:"flex items-center justify-between px-3 py-2",children:[(0,Me.jsxs)("div",{className:"flex items-center",children:[e.avatar?(0,Me.jsx)("img",{src:e.avatar,alt:"avatar",className:"w-5 h-5 rounded-full object-cover mr-3"}):(0,Me.jsx)(Am,{className:"w-5 h-5 text-gray-400 mr-3"}),(0,Me.jsxs)("span",{className:"text-sm font-medium text-gray-900 max-w-32 truncate",children:[e.firstName," ",e.lastName]})]}),o>0&&(0,Me.jsx)("button",{onClick:e=>x(e,"/messages"),className:"relative",children:(0,Me.jsx)("span",{className:"\n                            bg-red-500 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center\n                          ",children:b(o)})})]}),(0,Me.jsx)(Ae,{to:"/dashboard",className:"block px-3 py-2 rounded-md text-base font-medium transition-colors ".concat(y("/dashboard")?"text-primary-600 bg-primary-50":"text-gray-700 hover:text-primary-600 hover:bg-gray-100"),onClick:()=>l(!1),children:"Tableau de bord"}),(0,Me.jsx)(Ae,{to:"/profile",className:"block px-3 py-2 rounded-md text-base font-medium transition-colors ".concat(y("/profile")?"text-primary-600 bg-primary-50":"text-gray-700 hover:text-primary-600 hover:bg-gray-100"),onClick:()=>l(!1),children:"Mon profil"}),(0,Me.jsxs)("button",{onClick:e=>{p(e,"/messages"),l(!1)},className:"block px-3 py-2 rounded-md text-base font-medium transition-colors flex items-center justify-between ".concat(y("/messages")?"text-primary-600 bg-primary-50":"text-gray-700 hover:text-primary-600 hover:bg-gray-100"),children:[(0,Me.jsx)("span",{children:"Messages"}),o>0&&(0,Me.jsx)("span",{className:"\n                          bg-red-500 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center\n                        ",children:b(o)})]}),"owner"===e.userType&&(0,Me.jsx)("button",{onClick:e=>{p(e,"/create-property"),l(!1)},className:"block px-3 py-2 rounded-md text-base font-medium transition-colors ".concat(y("/create-property")?"text-primary-600 bg-primary-50":"text-gray-700 hover:text-primary-600 hover:bg-gray-100"),children:"Publier un logement"}),(0,Me.jsx)("button",{onClick:()=>{v(),l(!1)},className:"block w-full text-left px-3 py-2 rounded-md text-base font-medium text-gray-700 hover:text-red-600 hover:bg-gray-100 transition-colors",children:"D\xe9connexion"})]})}):(0,Me.jsxs)("div",{className:"border-t border-gray-200 pt-4 mt-2",children:[(0,Me.jsx)(Ae,{to:"/login",className:"block px-3 py-2 rounded-md text-base font-medium transition-colors ".concat(y("/login")?"text-primary-600 bg-primary-50":"text-gray-700 hover:text-primary-600 hover:bg-gray-100"),onClick:()=>l(!1),children:"Connexion"}),(0,Me.jsx)(Ae,{to:"/register",className:"btn-primary block text-center mx-3 mt-2",onClick:()=>l(!1),children:"Inscription"})]})]})})]})})]})}),ap=()=>(0,Me.jsx)("footer",{className:"bg-gray-900 text-white",children:(0,Me.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[(0,Me.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[(0,Me.jsxs)("div",{className:"col-span-1 md:col-span-2",children:[(0,Me.jsx)("div",{className:"flex items-center mb-4",children:(0,Me.jsx)("img",{src:"/logo_colo.svg",alt:"ColocAntananarivo",className:"h-20 w-auto"})}),(0,Me.jsx)("p",{className:"text-gray-300 mb-6 max-w-md",children:"La plateforme de r\xe9f\xe9rence pour la colocation \xe9tudiante \xe0 Antananarivo. Trouvez votre colocataire id\xe9al ou votre logement parfait en quelques clics."}),(0,Me.jsxs)("div",{className:"flex space-x-4",children:[(0,Me.jsx)("a",{href:"https://facebook.com",className:"text-gray-400 hover:text-white transition-colors",children:(0,Me.jsx)("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:(0,Me.jsx)("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})})}),(0,Me.jsx)("a",{href:"https://twitter.com",className:"text-gray-400 hover:text-white transition-colors",children:(0,Me.jsx)("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:(0,Me.jsx)("path",{d:"M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"})})}),(0,Me.jsx)("a",{href:"https://instagram.com",className:"text-gray-400 hover:text-white transition-colors",children:(0,Me.jsx)("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:(0,Me.jsx)("path",{d:"M12.017 0C5.396 0 .029 5.367.029 11.987c0 6.62 5.367 11.987 11.988 11.987 6.62 0 11.987-5.367 11.987-11.987C24.014 5.367 18.637.001 12.017.001zM8.449 16.988c-1.297 0-2.448-.49-3.323-1.297C4.198 14.895 3.708 13.744 3.708 12.447s.49-2.448 1.297-3.323c.875-.807 2.026-1.297 3.323-1.297s2.448.49 3.323 1.297c.807.875 1.297 2.026 1.297 3.323s-.49 2.448-1.297 3.323c-.875.807-2.026 1.297-3.323 1.297zm7.83-9.281H7.83c-.49 0-.89.4-.89.89v8.449c0 .49.4.89.89.89h8.449c.49 0 .89-.4.89-.89V8.597c0-.49-.4-.89-.89-.89z"})})})]})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Liens rapides"}),(0,Me.jsxs)("ul",{className:"space-y-2",children:[(0,Me.jsx)("li",{children:(0,Me.jsx)(Ae,{to:"/",className:"text-gray-300 hover:text-white transition-colors",children:"Accueil"})}),(0,Me.jsx)("li",{children:(0,Me.jsx)(Ae,{to:"/logements",className:"text-gray-300 hover:text-white transition-colors",children:"Logements"})}),(0,Me.jsx)("li",{children:(0,Me.jsx)(Ae,{to:"/logements",className:"text-gray-300 hover:text-white transition-colors",children:"Recherche"})}),(0,Me.jsx)("li",{children:(0,Me.jsx)(Ae,{to:"/about",className:"text-gray-300 hover:text-white transition-colors",children:"\xc0 propos"})}),(0,Me.jsx)("li",{children:(0,Me.jsx)(Ae,{to:"/contact",className:"text-gray-300 hover:text-white transition-colors",children:"Contact"})})]})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Contact"}),(0,Me.jsxs)("div",{className:"space-y-3",children:[(0,Me.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Me.jsx)($d,{className:"w-5 h-5 text-primary-400"}),(0,Me.jsx)("span",{className:"text-gray-300",children:"Antananarivo, Madagascar"})]}),(0,Me.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Me.jsx)(hm,{className:"w-5 h-5 text-primary-400"}),(0,Me.jsx)("span",{className:"text-gray-300",children:"+261 34 71 807 09"})]}),(0,Me.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Me.jsx)(Dm,{className:"w-5 h-5 text-primary-400"}),(0,Me.jsx)("span",{className:"text-gray-300",children:"contact@colocantananarivo.mg"})]})]})]})]}),(0,Me.jsx)("div",{className:"border-t border-gray-800 mt-8 pt-8",children:(0,Me.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[(0,Me.jsxs)("p",{className:"text-gray-400 text-sm mb-4 md:mb-0",children:["\xa9 ",(new Date).getFullYear()," ColocAntananarivo. Tous droits r\xe9serv\xe9s."]}),(0,Me.jsxs)("div",{className:"flex space-x-6",children:[(0,Me.jsx)(Ae,{to:"/terms",className:"text-gray-400 hover:text-white text-sm transition-colors",children:"Conditions d'utilisation"}),(0,Me.jsx)(Ae,{to:"/privacy",className:"text-gray-400 hover:text-white text-sm transition-colors",children:"Politique de confidentialit\xe9"})]})]})})]})}),ip=e=>{let{children:t}=e;const{user:s,isLoading:r}=ys(),n=Y();return r?(0,Me.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,Me.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-600"})}):s?(0,Me.jsx)(Me.Fragment,{children:t}):(0,Me.jsx)(pe,{to:"/login",state:{from:n},replace:!0})},lp=e=>{let{children:t}=e;const{user:s,isLoading:r}=ys();return r?(0,Me.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-dark-50",children:(0,Me.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):s?"admin"!==s.userType?(0,Me.jsx)(pe,{to:"/",replace:!0}):(0,Me.jsx)(Me.Fragment,{children:t}):(0,Me.jsx)(pe,{to:"/admin/login",replace:!0})},op=()=>{const{id:e}=Q(),r=K(),{userProperties:n,fetchPropertyById:a,loading:i}=ws(),{user:l}=ys(),[o,c]=(0,t.useState)(null),[d,u]=(0,t.useState)({title:"",description:"",address:"",district:"",price:0,deposit:0,availableRooms:1,totalRooms:1,propertyType:"apartment",amenities:[],images:[],isAvailable:!0,latitude:0,longitude:0}),[m,h]=(0,t.useState)([]),[p,x]=(0,t.useState)([]),[f,g]=(0,t.useState)(!1),v=t.useRef(null);(0,t.useEffect)(()=>{(async()=>{if(e)try{let t=n.find(t=>t.id===e);if(!t){t=await a(e)||void 0}t?(c(t),u({title:t.title||"",description:t.description||"",address:t.address||"",district:t.district||"",price:t.price||0,deposit:t.deposit||0,availableRooms:t.availableRooms||1,totalRooms:t.totalRooms||1,propertyType:t.propertyType||"apartment",amenities:t.amenities||[],images:t.images||[],isAvailable:!1!==t.isAvailable,latitude:t.latitude||0,longitude:t.longitude||0}),x(t.images||[])):(ms.error("Propri\xe9t\xe9 non trouv\xe9e"),r("/dashboard"))}catch(t){console.error("Erreur lors du chargement:",t),ms.error("Erreur lors du chargement de la propri\xe9t\xe9"),r("/dashboard")}})()},[e,n,a,r]);const y=e=>{const{name:t,value:s,type:r}=e.target;u(n=>(0,Fe.A)((0,Fe.A)({},n),{},{[t]:"checkbox"===r?e.target.checked:"price"===t||"deposit"===t||"availableRooms"===t||"totalRooms"===t||"latitude"===t||"longitude"===t?Number(s):s}))};return o?(0,Me.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,Me.jsxs)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,Me.jsxs)("div",{className:"mb-8",children:[(0,Me.jsx)("div",{className:"flex items-center mb-4",children:(0,Me.jsxs)(Ae,{to:"/dashboard",className:"flex items-center text-gray-600 hover:text-gray-900 mr-4",children:[(0,Me.jsx)(lm,{className:"w-5 h-5 mr-2"}),"Retour"]})}),(0,Me.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Modifier le logement"}),(0,Me.jsx)("p",{className:"text-gray-600",children:"Modifiez les informations de votre logement"})]}),(0,Me.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),l&&o)if(d.title.trim())if(d.description.trim())if(d.address.trim())if(d.district)if(d.price<=0)ms.error("Le prix doit \xeatre sup\xe9rieur \xe0 0");else try{let e=[...p];if(m.length>0){ms.loading("Upload des nouvelles images...");const t=await(async()=>{if(0===m.length)return[];g(!0);try{const e=async e=>{const t=new FormData;t.append("image",e);try{var s,r;const e=await(0,hs.yX)("/api/upload/image",t);if(!e.success)throw new Error(e.message||"Erreur lors de l'upload");return(null===(s=e.data)||void 0===s?void 0:s.url)||(null===(r=e.data)||void 0===r?void 0:r.path)||""}catch(n){throw console.error("Erreur upload:",n),new Error(n.message||"Erreur lors de l'upload")}},t=m.map(t=>e(t.file)),s=(await Promise.all(t)).filter(e=>e&&""!==e);return s.length>0&&ms.success("".concat(s.length," image(s) upload\xe9e(s) avec succ\xe8s")),s}catch(e){throw console.error("Erreur upload:",e),ms.error("Erreur lors de l'upload des images: ".concat(e.message)),e}finally{g(!1)}})();e=[...p,...t],ms.dismiss()}const t=(0,Fe.A)((0,Fe.A)({},d),{},{images:e}),{apiJson:n}=await Promise.resolve().then(s.bind(s,4558)),a=await n("/api/properties/update/".concat(o.id),"PUT",t),i=await a.json();if(!a.ok||!i.success)throw new Error(i.message||"Erreur inconnue lors de la mise \xe0 jour");m.forEach(e=>URL.revokeObjectURL(e.preview)),ms.success("Propri\xe9t\xe9 modifi\xe9e avec succ\xe8s !"),r("/dashboard")}catch(t){console.error("Erreur lors de la modification:",t),t instanceof Error?ms.error("Erreur: ".concat(t.message)):ms.error("Erreur inconnue: ".concat(String(t)))}else ms.error("Le quartier est requis");else ms.error("L'adresse est requise");else ms.error("La description est requise");else ms.error("Le titre est requis");else ms.error("Erreur: utilisateur non connect\xe9 ou propri\xe9t\xe9 non charg\xe9e")},className:"space-y-8",children:[(0,Me.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,Me.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Informations de base"}),(0,Me.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Me.jsxs)("div",{className:"md:col-span-2",children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Titre de l'annonce *"}),(0,Me.jsx)("input",{type:"text",name:"title",value:d.title,onChange:y,className:"input-field",placeholder:"Ex: Appartement 3 chambres \xe0 Analakely",required:!0})]}),(0,Me.jsxs)("div",{className:"md:col-span-2",children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description *"}),(0,Me.jsx)("textarea",{name:"description",value:d.description,onChange:y,rows:4,className:"input-field",placeholder:"D\xe9crivez votre logement, ses avantages, le quartier...",required:!0})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Type de logement *"}),(0,Me.jsx)("select",{name:"propertyType",value:d.propertyType,onChange:y,className:"input-field",required:!0,children:[{value:"apartment",label:"Appartement"},{value:"house",label:"Maison"},{value:"studio",label:"Studio"}].map(e=>(0,Me.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Quartier *"}),(0,Me.jsxs)("select",{name:"district",value:d.district,onChange:y,className:"input-field",required:!0,children:[(0,Me.jsx)("option",{value:"",children:"S\xe9lectionnez un quartier"}),["Analakely","Ambohijatovo","Ankadifotsy","Ankatso","Antaninarenina","Behoririka","Isoraka","Mahamasina","Tsaralalana","67ha"].map(e=>(0,Me.jsx)("option",{value:e,children:e},e))]})]}),(0,Me.jsxs)("div",{className:"md:col-span-2",children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Adresse compl\xe8te *"}),(0,Me.jsx)("input",{type:"text",name:"address",value:d.address,onChange:y,className:"input-field",placeholder:"Ex: Rue de l'Ind\xe9pendance, Analakely, Antananarivo",required:!0})]}),(0,Me.jsx)("div",{className:"md:col-span-2",children:(0,Me.jsxs)("label",{className:"flex items-center",children:[(0,Me.jsx)("input",{type:"checkbox",name:"isAvailable",checked:d.isAvailable,onChange:y,className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),(0,Me.jsx)("span",{className:"ml-2 text-sm text-gray-700",children:"Logement disponible"})]})})]})]}),(0,Me.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,Me.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Tarification"}),(0,Me.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Prix mensuel (Ar) *"}),(0,Me.jsx)("input",{type:"number",name:"price",value:d.price||"",onChange:y,className:"input-field",placeholder:"200000",min:"1",required:!0})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Caution (Ar) *"}),(0,Me.jsx)("input",{type:"number",name:"deposit",value:d.deposit||"",onChange:y,className:"input-field",placeholder:"100000",min:"0",required:!0})]})]})]}),(0,Me.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,Me.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Chambres"}),(0,Me.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre total de chambres *"}),(0,Me.jsx)("input",{type:"number",name:"totalRooms",value:d.totalRooms,onChange:y,className:"input-field",min:"1",required:!0})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Chambres disponibles *"}),(0,Me.jsx)("input",{type:"number",name:"availableRooms",value:d.availableRooms,onChange:y,className:"input-field",min:"1",max:d.totalRooms,required:!0})]})]})]}),(0,Me.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,Me.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Photos"}),(0,Me.jsxs)("div",{className:"space-y-4",children:[(0,Me.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center space-y-2 sm:space-y-0 sm:space-x-2",children:[(0,Me.jsx)("input",{ref:v,type:"file",accept:"image/*",multiple:!0,onChange:e=>{const t=e.target.files;if(!t)return;const s=[];for(let r=0;r<t.length;r++){const e=t[r];if(!e.type.startsWith("image/")){ms.error("".concat(e.name," n'est pas une image valide"));continue}if(e.size>5242880){ms.error("".concat(e.name," est trop volumineux (max 5MB)"));continue}if(m.length+s.length>=10){ms.error("Maximum 10 images autoris\xe9es");break}const n={file:e,preview:URL.createObjectURL(e),id:Math.random().toString(36).substr(2,9)};s.push(n)}s.length>0&&(h(e=>[...e,...s]),ms.success("".concat(s.length," image(s) ajout\xe9e(s) avec succ\xe8s"))),v.current&&(v.current.value="")},className:"hidden"}),(0,Me.jsxs)("button",{type:"button",onClick:()=>{var e;return null===(e=v.current)||void 0===e?void 0:e.click()},className:"btn-primary flex items-center justify-center space-x-2 px-4 py-2",disabled:f||i,children:[(0,Me.jsx)(Uu,{className:"w-5 h-5"}),(0,Me.jsx)("span",{children:"Ajouter des images"})]}),(0,Me.jsx)("div",{className:"flex-1 text-sm text-gray-500",children:(0,Me.jsx)("p",{children:"Formats accept\xe9s: JPG, PNG, WebP \u2022 Max 5MB par image"})})]}),p.length>0&&(0,Me.jsxs)("div",{children:[(0,Me.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Images actuelles"}),(0,Me.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:p.map((e,t)=>(0,Me.jsxs)("div",{className:"relative group bg-gray-100 rounded-lg overflow-hidden",children:[(0,Me.jsx)("img",{src:(0,hs.VG)(e),alt:"".concat(t+1),className:"w-full h-32 object-cover"}),(0,Me.jsx)("button",{type:"button",onClick:()=>(e=>{x(t=>t.filter((t,s)=>s!==e)),u(t=>(0,Fe.A)((0,Fe.A)({},t),{},{images:t.images.filter((t,s)=>s!==e)})),ms.success("Image supprim\xe9e")})(t),className:"absolute top-2 right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600 transition-colors",title:"Supprimer l'image",children:(0,Me.jsx)(nu,{className:"w-4 h-4"})})]},t))})]}),m.length>0&&(0,Me.jsxs)("div",{children:[(0,Me.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Nouvelles images"}),(0,Me.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:m.map((e,t)=>(0,Me.jsxs)("div",{className:"relative group bg-gray-100 rounded-lg overflow-hidden",children:[(0,Me.jsx)("img",{src:e.preview,alt:"".concat(t+1),className:"w-full h-32 object-cover"}),(0,Me.jsx)("button",{type:"button",onClick:()=>(e=>{URL.revokeObjectURL(m[e].preview),h(t=>t.filter((t,s)=>s!==e)),ms.success("Image supprim\xe9e")})(t),className:"absolute top-2 right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600 transition-colors",title:"Supprimer l'image",children:(0,Me.jsx)(nu,{className:"w-4 h-4"})})]},e.id))})]})]})]}),(0,Me.jsxs)("div",{className:"flex justify-end space-x-4",children:[(0,Me.jsx)("button",{type:"button",onClick:()=>r("/dashboard"),className:"btn-secondary",disabled:i||f,children:"Annuler"}),(0,Me.jsx)("button",{type:"submit",disabled:i||f,className:"btn-primary flex items-center space-x-2",children:i||f?(0,Me.jsxs)(Me.Fragment,{children:[(0,Me.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),(0,Me.jsx)("span",{children:f?"Upload...":"Modification..."})]}):"Modifier le logement"})]})]})]})}):(0,Me.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,Me.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})})},cp=async e=>{try{var t,s;const r=new FormData;r.append("image",e);const n=await(0,hs.yX)("/api/upload/image",r);if(!n.success)throw new Error(n.message||"Erreur lors de l'upload");return(null===(t=n.data)||void 0===t?void 0:t.url)||(null===(s=n.data)||void 0===s?void 0:s.path)||""}catch(r){throw console.error("Erreur upload:",r),new Error(r.message||"Erreur lors de l'upload")}},dp=()=>{const{id:e}=Q(),{user:r}=ys(),n=K(),{userAnnouncements:a,updateAnnouncement:i,loading:l}=As(),[o,c]=(0,t.useState)(""),[d,u]=(0,t.useState)(""),[m,h]=(0,t.useState)([]),[p,x]=(0,t.useState)([]),[f,g]=(0,t.useState)(!1),v=(0,t.useRef)(null);if((0,t.useEffect)(()=>{if(!e)return;const t=parseInt(e),i=a.find(e=>Number(e.id)===t);if(i)return c(i.content),u(i.contact||""),void x(i.images||[]);(async()=>{try{var e;const{apiGet:a}=await Promise.resolve().then(s.bind(s,4558)),i=await a("/api/announcements/get_by_id/".concat(t)),l=await i.json();if(!i.ok||!l.success||!l.data)throw new Error(l.message||"Annonce non trouv\xe9e");const o=l.data;if(r&&String(null===(e=o.author)||void 0===e?void 0:e.id)!==String(r.id))return ms.error("Vous ne pouvez pas modifier cette annonce"),void n("/dashboard");c(o.content||""),u(o.contact||""),x(o.images||[])}catch(Ke){ms.error(Ke.message||"Annonce non trouv\xe9e"),n("/dashboard")}})()},[e,a,n,r]),!r)return(0,Me.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,Me.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-600"})});if("student"!==r.userType)return(0,Me.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:(0,Me.jsxs)("div",{className:"max-w-md w-full text-center",children:[(0,Me.jsx)(Ru,{className:"w-16 h-16 text-yellow-500 mx-auto mb-4"}),(0,Me.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"R\xe9serv\xe9 aux \xe9tudiants"}),(0,Me.jsx)("p",{className:"text-gray-600 mb-4",children:"Seuls les comptes \xe9tudiants peuvent modifier une annonce de colocation."}),(0,Me.jsx)("button",{onClick:()=>n("/dashboard"),className:"w-full btn-secondary",children:"Retour"})]})});if(!r.cinVerified)return(0,Me.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:(0,Me.jsxs)("div",{className:"max-w-md w-full text-center",children:[(0,Me.jsx)(Ru,{className:"w-16 h-16 text-yellow-500 mx-auto mb-4"}),(0,Me.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"V\xe9rification Requise"}),(0,Me.jsx)("p",{className:"text-gray-600 mb-4",children:"Vous devez v\xe9rifier votre CIN avant de pouvoir modifier des annonces."}),(0,Me.jsxs)("div",{className:"space-y-3",children:[(0,Me.jsxs)(Ae,{to:"/cin-verification",className:"w-full btn-primary flex items-center justify-center space-x-2",children:[(0,Me.jsx)(cu,{className:"w-5 h-5"}),(0,Me.jsx)("span",{children:"V\xe9rifier mon CIN"})]}),(0,Me.jsx)("button",{onClick:()=>n("/dashboard"),className:"w-full btn-secondary",children:"Retour au tableau de bord"})]})]})});return(0,Me.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,Me.jsxs)("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,Me.jsxs)("div",{className:"mb-8",children:[(0,Me.jsx)("div",{className:"flex items-center mb-4",children:(0,Me.jsxs)(Ae,{to:"/dashboard",className:"flex items-center text-gray-600 hover:text-gray-900 mr-4",children:[(0,Me.jsx)(lm,{className:"w-5 h-5 mr-2"}),"Retour"]})}),(0,Me.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Modifier l'annonce de colocation"}),(0,Me.jsx)("p",{className:"text-gray-600",children:"Modifiez votre recherche de colocation (quartier, budget, pr\xe9f\xe9rences) et les images."})]}),(0,Me.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),o.trim())if(e)try{ms.loading("Modification en cours...");const t=await(async()=>{if(0===m.length)return[];g(!0);try{const e=m.map(e=>e.file);return await Promise.all(e.map(cp))}finally{g(!1)}})(),s=[...p,...t],r={content:o.trim(),images:s,contact:d.trim()||void 0};await i(parseInt(e),r),ms.dismiss(),m.forEach(e=>URL.revokeObjectURL(e.preview)),n("/dashboard")}catch(s){ms.dismiss(),ms.error(s.message||"Erreur lors de la modification")}else ms.error("ID d'annonce manquant");else ms.error("Le texte de votre annonce est requis")},className:"space-y-8 bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Texte de l'annonce *"}),(0,Me.jsx)("textarea",{value:o,onChange:e=>c(e.target.value),rows:5,className:"input-field",placeholder:"Ex: \xc9tudiant en info, je cherche une colocation \xe0 Isoraka, budget 300 000 Ar, non fumeur...",required:!0})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contact (optionnel)"}),(0,Me.jsx)("input",{value:d,onChange:e=>u(e.target.value),type:"text",className:"input-field",placeholder:"T\xe9l\xe9phone, email, etc."})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Images (max 6)"}),(0,Me.jsxs)("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:[(0,Me.jsx)("input",{ref:v,type:"file",accept:"image/*",multiple:!0,onChange:e=>{const t=e.target.files;if(!t)return;const s=[];for(let r=0;r<t.length;r++){const e=t[r];if(e.type.startsWith("image/"))if(e.size>5242880)ms.error("".concat(e.name," est trop volumineux (max 5MB)"));else{if(p.length+m.length+s.length>=6){ms.error("Maximum 6 images");break}s.push({file:e,preview:URL.createObjectURL(e),id:Math.random().toString(36).slice(2)})}else ms.error("".concat(e.name," n'est pas une image valide"))}s.length>0&&(h(e=>[...e,...s]),ms.success("".concat(s.length," image(s) ajout\xe9e(s)"))),v.current&&(v.current.value="")},className:"hidden",id:"announcementImages"}),(0,Me.jsxs)("label",{htmlFor:"announcementImages",className:"cursor-pointer inline-flex items-center space-x-2 btn-secondary",children:[(0,Me.jsx)(Uu,{className:"w-5 h-5"}),(0,Me.jsx)("span",{children:"Ajouter des images"})]}),p.length>0&&(0,Me.jsxs)("div",{className:"mt-4",children:[(0,Me.jsx)("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Images actuelles"}),(0,Me.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:p.map((e,t)=>(0,Me.jsxs)("div",{className:"relative",children:[(0,Me.jsx)("img",{src:(0,hs.VG)(e),alt:"existing-".concat(t),className:"w-full h-32 object-cover rounded-lg"}),(0,Me.jsx)("button",{type:"button",onClick:()=>{return e=t,void x(t=>t.filter((t,s)=>s!==e));var e},className:"absolute top-2 right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600",children:(0,Me.jsx)(nu,{className:"w-4 h-4"})})]},t))})]}),m.length>0&&(0,Me.jsxs)("div",{className:"mt-4",children:[(0,Me.jsx)("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Nouvelles images"}),(0,Me.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:m.map((e,t)=>(0,Me.jsxs)("div",{className:"relative",children:[(0,Me.jsx)("img",{src:e.preview,alt:"preview",className:"w-full h-32 object-cover rounded-lg"}),(0,Me.jsx)("button",{type:"button",onClick:()=>{return e=t,URL.revokeObjectURL(m[e].preview),void h(t=>t.filter((t,s)=>s!==e));var e},className:"absolute top-2 right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600",children:(0,Me.jsx)(nu,{className:"w-4 h-4"})})]},e.id))})]}),(p.length>0||m.length>0)&&(0,Me.jsxs)("div",{className:"mt-3 text-sm text-gray-500",children:[p.length+m.length," / 6 images"]})]})]}),(0,Me.jsxs)("div",{className:"flex space-x-3",children:[(0,Me.jsx)("button",{type:"button",onClick:()=>n("/dashboard"),className:"btn-secondary",disabled:f||l,children:"Annuler"}),(0,Me.jsx)("button",{type:"submit",disabled:f||l||!o.trim(),className:"btn-primary",children:f||l?"Modification...":"Modifier"})]})]})]})})},up=()=>{const{user:e}=ys(),[s,r]=t.useState(!0),n=t.useMemo(()=>!!e&&(Boolean(e.isVerified)||Boolean(e.is_verified)||Boolean(e.cinVerified)||Boolean(e.cin_verified)),[e]),a=t.useMemo(()=>!(!e||n)&&(Boolean(e.cinPending)||Boolean(e.cin_verification_requested_at)),[e,n]);t.useEffect(()=>{if(!e)return;const t="banner_hidden_".concat(e.id),s=localStorage.getItem(t);if(n)return localStorage.removeItem(t),void r(!1);"true"===s&&r(!1)},[e,n]);const i=()=>{e&&localStorage.setItem("banner_hidden_".concat(e.id),"true"),r(!1)};return e&&!n&&s?a?(0,Me.jsx)("div",{className:"fixed top-16 left-0 right-0 z-40 bg-blue-50 border-l-4 border-blue-400 p-4 shadow-md",children:(0,Me.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Me.jsxs)("div",{className:"flex items-center",children:[(0,Me.jsx)(em,{className:"h-5 w-5 text-blue-400"}),(0,Me.jsxs)("p",{className:"ml-3 text-sm text-blue-700",children:[(0,Me.jsx)("strong",{children:"V\xe9rification en cours :"})," Votre demande est en attente de validation."," ",(0,Me.jsx)(Ae,{to:"/profile",className:"font-medium underline text-blue-700 hover:text-blue-600",children:"Voir mon profil \u2192"})]})]}),(0,Me.jsx)("button",{onClick:i,className:"ml-auto pl-3",children:(0,Me.jsx)(nu,{className:"h-5 w-5 text-blue-400 hover:text-blue-600"})})]})}):(0,Me.jsx)("div",{className:"fixed top-16 left-0 right-0 z-40 bg-yellow-50 border-l-4 border-yellow-400 p-4 shadow-md",children:(0,Me.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Me.jsxs)("div",{className:"flex items-center",children:[(0,Me.jsx)(cu,{className:"h-5 w-5 text-yellow-400"}),(0,Me.jsxs)("p",{className:"ml-3 text-sm text-yellow-700",children:[(0,Me.jsx)("strong",{children:"V\xe9rification requise :"})," Veuillez v\xe9rifier votre carte d\u2019identit\xe9."," ",(0,Me.jsx)(Ae,{to:"/cin-verification",className:"font-medium underline text-yellow-700 hover:text-yellow-600",children:"V\xe9rifier maintenant \u2192"})]})]}),(0,Me.jsx)("button",{onClick:i,className:"ml-auto pl-3",children:(0,Me.jsx)(nu,{className:"h-5 w-5 text-yellow-400 hover:text-yellow-600"})})]})}):null},mp=()=>{const[e,s]=t.useState(!1);t.useEffect(()=>{const e=()=>{s(window.scrollY>400)};return window.addEventListener("scroll",e,{passive:!0}),()=>window.removeEventListener("scroll",e)},[]);return e?(0,Me.jsx)("button",{onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),"aria-label":"Remonter en haut",className:"fixed bottom-6 right-6 z-50 bg-primary-600 hover:bg-primary-700 text-white rounded-full shadow-lg w-12 h-12 flex items-center justify-center transition-colors",children:"\u2191"}):null},hp=["title","titleId"];function pp(e,s){let{title:r,titleId:n}=e,a=(0,Pn.A)(e,hp);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":n},a),r?t.createElement("title",{id:n},r):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"}))}const xp=t.forwardRef(pp),fp=["title","titleId"];function gp(e,s){let{title:r,titleId:n}=e,a=(0,Pn.A)(e,fp);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":n},a),r?t.createElement("title",{id:n},r):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"}),t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const vp=t.forwardRef(gp),yp=["title","titleId"];function bp(e,s){let{title:r,titleId:n}=e,a=(0,Pn.A)(e,yp);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":n},a),r?t.createElement("title",{id:n},r):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-4.682-2.72m.94 3.198.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0 1 12 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 0 1 6 18.719m12 0a5.971 5.971 0 0 0-.941-3.197m0 0A5.995 5.995 0 0 0 12 12.75a5.995 5.995 0 0 0-5.058 2.772m0 0a3 3 0 0 0-4.681 2.72 8.986 8.986 0 0 0 3.74.477m.94-3.197a5.971 5.971 0 0 0-.94 3.197M15 6.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm6 3a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Zm-13.5 0a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Z"}))}const jp=t.forwardRef(bp),wp=["title","titleId"];function Np(e,s){let{title:r,titleId:n}=e,a=(0,Pn.A)(e,wp);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":n},a),r?t.createElement("title",{id:n},r):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18 9 11.25l4.306 4.306a11.95 11.95 0 0 1 5.814-5.518l2.74-1.22m0 0-5.94-2.281m5.94 2.28-2.28 5.941"}))}const kp=t.forwardRef(Np),Sp=["title","titleId"];function Cp(e,s){let{title:r,titleId:n}=e,a=(0,Pn.A)(e,Sp);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":n},a),r?t.createElement("title",{id:n},r):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 21v-7.5a.75.75 0 0 1 .75-.75h3a.75.75 0 0 1 .75.75V21m-4.5 0H2.36m11.14 0H18m0 0h3.64m-1.39 0V9.349M3.75 21V9.349m0 0a3.001 3.001 0 0 0 3.75-.615A2.993 2.993 0 0 0 9.75 9.75c.896 0 1.7-.393 2.25-1.016a2.993 2.993 0 0 0 2.25 1.016c.896 0 1.7-.393 2.25-1.015a3.001 3.001 0 0 0 3.75.614m-16.5 0a3.004 3.004 0 0 1-.621-4.72l1.189-1.19A1.5 1.5 0 0 1 5.378 3h13.243a1.5 1.5 0 0 1 1.06.44l1.19 1.189a3 3 0 0 1-.621 4.72M6.75 18h3.75a.75.75 0 0 0 .75-.75V13.5a.75.75 0 0 0-.75-.75H6.75a.75.75 0 0 0-.75.75v3.75c0 .414.336.75.75.75Z"}))}const Ep=t.forwardRef(Cp),Ap=["title","titleId"];function Pp(e,s){let{title:r,titleId:n}=e,a=(0,Pn.A)(e,Ap);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":n},a),r?t.createElement("title",{id:n},r):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const Tp=t.forwardRef(Pp),Mp=()=>{var e,s,r;const{user:n,logout:a}=ys(),i=K(),[l,o]=(0,t.useState)("users"),[c,d]=(0,t.useState)(!1),[u,m]=(0,t.useState)([]),[h,p]=(0,t.useState)([]),[x,f]=(0,t.useState)([]),[g,v]=(0,t.useState)([]),[y,b]=(0,t.useState)(!1),[j,w]=(0,t.useState)({open:!1,type:null,id:null,reason:""}),[N,k]=(0,t.useState)({open:!1,user:null}),[S,C]=(0,t.useState)(null),[E,A]=(0,t.useState)(null),[P,T]=(0,t.useState)({totalUsers:0,totalProperties:0,totalAnnouncements:0,pendingVerifications:0,newUsersToday:0,activeListings:0});(0,t.useEffect)(()=>{D(),R()},[l]);const[M,L]=(0,t.useState)({open:!1,userId:null,reason:""}),R=async()=>{try{T({totalUsers:u.length,totalProperties:h.length,totalAnnouncements:x.length,pendingVerifications:g.length,newUsersToday:u.filter(e=>{const t=new Date(e.createdAt||e.created_at);return(new Date).toDateString()===t.toDateString()}).length,activeListings:h.filter(e=>e.isAvailable).length})}catch(e){console.error("Erreur chargement stats:",e)}},D=async()=>{b(!0);try{const[e,t,s,r]=await Promise.all([(0,hs.apiGet)("/api/admin/users_list"),(0,hs.apiGet)("/api/admin/announcements_list"),(0,hs.apiGet)("/api/admin/properties_list"),(0,hs.apiGet)("/api/admin/cin_to_verify")]),n=await e.text(),a=await t.text(),i=await s.text(),l=await r.text(),o=JSON.parse(n||"{}");o.success?m(o.data):m([]);const c=JSON.parse(a||"{}");c.success?f(c.data):f([]);const d=JSON.parse(i||"{}");d.success?p(d.data):p([]);const u=JSON.parse(l||"{}");console.log("R\xe9ponse CIN compl\xe8te:",u),u.success?u.data&&u.data.cinToVerify&&Array.isArray(u.data.cinToVerify)?v(u.data.cinToVerify):u.data&&Array.isArray(u.data)?v(u.data):u.cinToVerify&&Array.isArray(u.cinToVerify)?v(u.cinToVerify):Array.isArray(u)?v(u):(console.warn("Structure de r\xe9ponse CIN inattendue:",u),v([])):v([])}catch(e){console.error("Erreur chargement:",e),ms.error("Erreur lors du chargement des donn\xe9es")}finally{b(!1)}},I=e=>{if(!e)return"/api/placeholder/400/300";return(0,hs.VG)(e)||"/api/placeholder/400/300"};if(!n)return(0,Me.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,Me.jsx)("div",{className:"text-gray-900",children:"Chargement..."})});if("admin"!==n.userType)return(0,Me.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,Me.jsx)("div",{className:"text-gray-900",children:"Acc\xe8s refus\xe9"})});const F=async(e,t,s)=>{try{const r={verified:t};!t&&s&&(r.reason=s);(await(0,hs.apiJson)("/api/admin/cin_verify/".concat(e),"PUT",r)).success&&(ms.success(t?"CIN v\xe9rifi\xe9e avec succ\xe8s":"CIN rejet\xe9e"),v(t=>t.filter(t=>t.id!==e)),m(s=>s.map(s=>s.id===e?(0,Fe.A)((0,Fe.A)({},s),{},{cinVerified:t,isVerified:t}):s)),L({open:!1,userId:null,reason:""}))}catch(r){ms.error(r.message||"Erreur lors de la v\xe9rification")}},z=g.length,_=u.filter(e=>{const t=new Date(e.createdAt||e.created_at);return((new Date).getTime()-t.getTime())/36e5<24}).length,V=e=>{const t=String(e.id),s=h.filter(e=>{const s=e.ownerId||e.owner_id||e.userId||e.user_id;return s&&String(s)===t}).length,r=x.filter(e=>{var s;const r=(null===(s=e.author)||void 0===s?void 0:s.id)||e.userId||e.user_id;return r&&String(r)===t}).length;return s+r};return(0,Me.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,Me.jsx)("header",{className:"bg-white shadow-sm border-b border-gray-200",children:(0,Me.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,Me.jsxs)("div",{className:"flex justify-between items-center py-4",children:[(0,Me.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Me.jsx)("button",{onClick:()=>d(!c),className:"lg:hidden p-2 rounded-lg hover:bg-gray-100",children:(0,Me.jsx)(rp,{className:"w-6 h-6 text-gray-600"})}),(0,Me.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg flex items-center justify-center",children:(0,Me.jsx)(zd,{className:"w-6 h-6 text-white"})}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Administration"}),(0,Me.jsx)("p",{className:"text-sm text-gray-600",children:"Panneau de gestion"})]})]}),(0,Me.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Me.jsxs)("button",{onClick:async()=>{try{await a(),i("/admin-login")}catch(Ke){console.error("Erreur d\xe9connexion admin:",Ke)}},className:"flex items-center space-x-2 px-3 py-2 rounded-lg border border-red-200 text-sm font-medium text-red-600 hover:bg-red-50 transition-colors",children:[(0,Me.jsx)(ep,{className:"w-4 h-4"}),(0,Me.jsx)("span",{children:"D\xe9connexion"})]}),(0,Me.jsxs)("div",{className:"text-right",children:[(0,Me.jsxs)("p",{className:"text-sm font-medium text-gray-900",children:[n.firstName," ",n.lastName]}),(0,Me.jsx)("p",{className:"text-xs text-gray-500",children:"Administrateur"})]}),(0,Me.jsx)("div",{className:"w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center",children:(0,Me.jsxs)("span",{className:"text-sm font-medium text-gray-700",children:[n.firstName[0],n.lastName[0]]})})]})]})})}),(0,Me.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,Me.jsxs)("div",{className:"flex flex-col lg:flex-row space-y-4 lg:space-y-0 lg:space-x-8",children:[c&&(0,Me.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden",onClick:()=>d(!1)}),(0,Me.jsxs)("div",{className:"".concat(c?"fixed":"hidden"," lg:block lg:relative inset-y-0 left-0 z-50 w-64 bg-white lg:bg-transparent shadow-lg lg:shadow-none flex-shrink-0"),children:[(0,Me.jsxs)("div",{className:"flex items-center justify-between p-4 lg:hidden border-b",children:[(0,Me.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Menu"}),(0,Me.jsx)("button",{onClick:()=>d(!1),className:"p-2 rounded-lg hover:bg-gray-100",children:(0,Me.jsx)(nu,{className:"w-6 h-6 text-gray-600"})})]}),(0,Me.jsxs)("nav",{className:"space-y-2 p-4 lg:p-0",children:[(0,Me.jsxs)("button",{onClick:()=>{o("dashboard"),d(!1)},className:"w-full flex items-center space-x-3 px-4 py-3 rounded-xl text-left transition-all ".concat("dashboard"===l?"bg-blue-50 border border-blue-200 text-blue-700 shadow-sm":"text-gray-600 hover:bg-gray-100 hover:text-gray-900"),children:[(0,Me.jsx)(xp,{className:"w-5 h-5"}),(0,Me.jsx)("span",{className:"font-medium",children:"Tableau de bord"})]}),(0,Me.jsxs)("button",{onClick:()=>{o("users"),d(!1)},className:"w-full flex items-center space-x-3 px-4 py-3 rounded-xl text-left transition-all ".concat("users"===l?"bg-blue-50 border border-blue-200 text-blue-700 shadow-sm":"text-gray-600 hover:bg-gray-100 hover:text-gray-900"),children:[(0,Me.jsx)(Dd,{className:"w-5 h-5"}),(0,Me.jsx)("span",{className:"font-medium",children:"Utilisateurs"}),(0,Me.jsx)("span",{className:"ml-auto bg-gray-200 text-gray-700 text-xs px-2 py-1 rounded-full",children:u.length})]}),(0,Me.jsxs)("button",{onClick:()=>{o("properties"),d(!1)},className:"w-full flex items-center space-x-3 px-4 py-3 rounded-xl text-left transition-all ".concat("properties"===l?"bg-blue-50 border border-blue-200 text-blue-700 shadow-sm":"text-gray-600 hover:bg-gray-100 hover:text-gray-900"),children:[(0,Me.jsx)(Md,{className:"w-5 h-5"}),(0,Me.jsx)("span",{className:"font-medium",children:"Logements"}),(0,Me.jsx)("span",{className:"ml-auto bg-gray-200 text-gray-700 text-xs px-2 py-1 rounded-full",children:h.length})]}),(0,Me.jsxs)("button",{onClick:()=>{o("announcements"),d(!1)},className:"w-full flex items-center space-x-3 px-4 py-3 rounded-xl text-left transition-all ".concat("announcements"===l?"bg-blue-50 border border-blue-200 text-blue-700 shadow-sm":"text-gray-600 hover:bg-gray-100 hover:text-gray-900"),children:[(0,Me.jsx)(Od,{className:"w-5 h-5"}),(0,Me.jsx)("span",{className:"font-medium",children:"Annonces"}),(0,Me.jsx)("span",{className:"ml-auto bg-gray-200 text-gray-700 text-xs px-2 py-1 rounded-full",children:x.length})]}),(0,Me.jsxs)("button",{onClick:()=>{o("cin"),d(!1)},className:"w-full flex items-center space-x-3 px-4 py-3 rounded-xl text-left transition-all ".concat("cin"===l?"bg-blue-50 border border-blue-200 text-blue-700 shadow-sm":"text-gray-600 hover:bg-gray-100 hover:text-gray-900"),children:[(0,Me.jsx)(cu,{className:"w-5 h-5"}),(0,Me.jsx)("span",{className:"font-medium",children:"V\xe9rifications CIN"}),g.length>0&&(0,Me.jsx)("span",{className:"ml-auto bg-red-500 text-white text-xs px-2 py-1 rounded-full",children:g.length})]}),(0,Me.jsxs)("button",{onClick:()=>{o("settings"),d(!1)},className:"w-full flex items-center space-x-3 px-4 py-3 rounded-xl text-left transition-all ".concat("settings"===l?"bg-blue-50 border border-blue-200 text-blue-700 shadow-sm":"text-gray-600 hover:bg-gray-100 hover:text-gray-900"),children:[(0,Me.jsx)(vp,{className:"w-5 h-5"}),(0,Me.jsx)("span",{className:"font-medium",children:"Param\xe8tres"})]})]}),(0,Me.jsxs)("div",{className:"mt-8 p-4 bg-white rounded-xl border border-gray-200 shadow-sm",children:[(0,Me.jsx)("h3",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Aper\xe7u rapide"}),(0,Me.jsxs)("div",{className:"space-y-3",children:[(0,Me.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Me.jsx)("span",{className:"text-xs text-gray-600",children:"Nouveaux utilisateurs"}),(0,Me.jsxs)("span",{className:"text-sm font-semibold text-green-600",children:["+",P.newUsersToday]})]}),(0,Me.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Me.jsx)("span",{className:"text-xs text-gray-600",children:"En attente"}),(0,Me.jsx)("span",{className:"text-sm font-semibold text-red-600",children:P.pendingVerifications})]}),(0,Me.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Me.jsx)("span",{className:"text-xs text-gray-600",children:"Actifs"}),(0,Me.jsx)("span",{className:"text-sm font-semibold text-blue-600",children:P.activeListings})]})]})]})]}),(0,Me.jsxs)("div",{className:"flex-1",children:["dashboard"===l&&(0,Me.jsxs)("div",{className:"space-y-6",children:[(0,Me.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[(0,Me.jsxs)("div",{className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm",children:[(0,Me.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Utilisateurs totaux"}),(0,Me.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:P.totalUsers})]}),(0,Me.jsx)("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:(0,Me.jsx)(jp,{className:"w-6 h-6 text-blue-600"})})]}),(0,Me.jsxs)("div",{className:"mt-4 flex items-center text-sm text-green-600",children:[(0,Me.jsx)(kp,{className:"w-4 h-4 mr-1"}),(0,Me.jsx)("span",{children:"+12% ce mois"})]})]}),(0,Me.jsxs)("div",{className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm",children:[(0,Me.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Logements actifs"}),(0,Me.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:P.totalProperties})]}),(0,Me.jsx)("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:(0,Me.jsx)(Ep,{className:"w-6 h-6 text-green-600"})})]}),(0,Me.jsxs)("div",{className:"mt-4 flex items-center text-sm text-green-600",children:[(0,Me.jsx)(kp,{className:"w-4 h-4 mr-1"}),(0,Me.jsx)("span",{children:"+8% ce mois"})]})]}),(0,Me.jsxs)("div",{className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm",children:[(0,Me.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Annonces"}),(0,Me.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:P.totalAnnouncements})]}),(0,Me.jsx)("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:(0,Me.jsx)(Tp,{className:"w-6 h-6 text-purple-600"})})]}),(0,Me.jsxs)("div",{className:"mt-4 flex items-center text-sm text-green-600",children:[(0,Me.jsx)(kp,{className:"w-4 h-4 mr-1"}),(0,Me.jsx)("span",{children:"+15% ce mois"})]})]})]}),(0,Me.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,Me.jsxs)("div",{className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm",children:[(0,Me.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center space-x-2",children:[(0,Me.jsx)(Ru,{className:"w-5 h-5 text-yellow-500"}),(0,Me.jsx)("span",{children:"Alertes en attente"})]}),(0,Me.jsxs)("div",{className:"space-y-3",children:[g.length>0&&(0,Me.jsxs)("div",{className:"flex items-center justify-between p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:[(0,Me.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Me.jsx)(cu,{className:"w-5 h-5 text-yellow-600"}),(0,Me.jsxs)("div",{children:[(0,Me.jsxs)("p",{className:"text-sm font-medium text-yellow-800",children:[g.length," CIN \xe0 v\xe9rifier"]}),(0,Me.jsx)("p",{className:"text-xs text-yellow-600",children:"Action requise"})]})]}),(0,Me.jsx)("button",{onClick:()=>o("cin"),className:"text-xs bg-yellow-100 text-yellow-700 px-3 py-1 rounded-full hover:bg-yellow-200 transition-colors",children:"V\xe9rifier"})]}),(0,Me.jsxs)("div",{className:"flex items-center justify-between p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[(0,Me.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Me.jsx)(Ju,{className:"w-5 h-5 text-blue-600"}),(0,Me.jsxs)("div",{children:[(0,Me.jsxs)("p",{className:"text-sm font-medium text-blue-800",children:[P.newUsersToday," nouveaux utilisateurs aujourd'hui"]}),(0,Me.jsx)("p",{className:"text-xs text-blue-600",children:"Derni\xe8res 24h"})]})]}),(0,Me.jsx)("button",{onClick:()=>o("users"),className:"text-xs bg-blue-100 text-blue-700 px-3 py-1 rounded-full hover:bg-blue-200 transition-colors",children:"Voir"})]})]})]}),(0,Me.jsxs)("div",{className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm",children:[(0,Me.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Actions rapides"}),(0,Me.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,Me.jsxs)("button",{onClick:()=>o("users"),className:"p-4 bg-gray-50 rounded-lg text-left hover:bg-gray-100 transition-colors",children:[(0,Me.jsx)(Dd,{className:"w-6 h-6 text-gray-600 mb-2"}),(0,Me.jsx)("p",{className:"text-sm font-medium text-gray-900",children:"G\xe9rer utilisateurs"}),(0,Me.jsx)("p",{className:"text-xs text-gray-600",children:"Voir et modifier"})]}),(0,Me.jsxs)("button",{onClick:()=>o("properties"),className:"p-4 bg-gray-50 rounded-lg text-left hover:bg-gray-100 transition-colors",children:[(0,Me.jsx)(Md,{className:"w-6 h-6 text-gray-600 mb-2"}),(0,Me.jsx)("p",{className:"text-sm font-medium text-gray-900",children:"Logements"}),(0,Me.jsxs)("p",{className:"text-xs text-gray-600",children:[h.length," publi\xe9s"]})]}),(0,Me.jsxs)("button",{onClick:()=>o("announcements"),className:"p-4 bg-gray-50 rounded-lg text-left hover:bg-gray-100 transition-colors",children:[(0,Me.jsx)(Od,{className:"w-6 h-6 text-gray-600 mb-2"}),(0,Me.jsx)("p",{className:"text-sm font-medium text-gray-900",children:"Annonces"}),(0,Me.jsxs)("p",{className:"text-xs text-gray-600",children:[x.length," actives"]})]}),(0,Me.jsxs)("button",{onClick:()=>o("cin"),className:"p-4 bg-gray-50 rounded-lg text-left hover:bg-gray-100 transition-colors",children:[(0,Me.jsx)(zd,{className:"w-6 h-6 text-gray-600 mb-2"}),(0,Me.jsx)("p",{className:"text-sm font-medium text-gray-900",children:"V\xe9rifications"}),(0,Me.jsxs)("p",{className:"text-xs text-gray-600",children:[g.length," en attente"]})]})]})]})]}),(0,Me.jsxs)("div",{className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm",children:[(0,Me.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Activit\xe9 r\xe9cente"}),(0,Me.jsx)("p",{className:"text-xs text-gray-500 mb-4",children:"Histogramme bas\xe9 sur le nombre de logements et d'annonces par utilisateur."}),(()=>{const e=u.slice(0,5),t=e.reduce((e,t)=>{const s=V(t);return s>e?s:e},0);return(0,Me.jsx)("div",{className:"space-y-3",children:e.map(e=>{const s=V(e),r=t>0?s/t*100:0;return(0,Me.jsxs)("div",{className:"py-3 border-b border-gray-100 last:border-0",children:[(0,Me.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,Me.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Me.jsx)("div",{className:"w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center",children:(0,Me.jsxs)("span",{className:"text-xs font-medium text-gray-700",children:[e.firstName[0],e.lastName[0]]})}),(0,Me.jsxs)("div",{children:[(0,Me.jsxs)("p",{className:"text-sm font-medium text-gray-900",children:[e.firstName," ",e.lastName]}),(0,Me.jsxs)("p",{className:"text-xs text-gray-500",children:["Inscrit le ",new Date(e.createdAt).toLocaleDateString("fr-FR")]})]})]}),(0,Me.jsx)("span",{className:"text-xs px-2 py-1 rounded-full ".concat("admin"===e.userType?"bg-purple-100 text-purple-800":"owner"===e.userType?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"),children:e.userType})]}),(0,Me.jsxs)("div",{className:"mt-1",children:[(0,Me.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,Me.jsx)("span",{className:"text-[11px] text-gray-500",children:"Score activit\xe9"}),(0,Me.jsx)("span",{className:"text-[11px] text-gray-600 font-medium",children:s})]}),(0,Me.jsx)("div",{className:"w-full h-2 bg-gray-100 rounded-full overflow-hidden",children:(0,Me.jsx)("div",{className:"h-2 bg-blue-500 rounded-full transition-all",style:{width:"".concat(r,"%")}})})]})]},e.id)})})})()]})]}),"users"===l&&(0,Me.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-6",children:[(0,Me.jsx)("h2",{className:"text-xl font-semibold mb-4 text-gray-900",children:"Gestion des Utilisateurs"}),(0,Me.jsx)("div",{className:"overflow-x-auto",children:(0,Me.jsxs)("table",{className:"min-w-full text-sm",children:[(0,Me.jsx)("thead",{children:(0,Me.jsxs)("tr",{className:"text-left text-gray-600 border-b border-gray-200",children:[(0,Me.jsx)("th",{className:"p-3",children:"ID"}),(0,Me.jsx)("th",{className:"p-3",children:"Email"}),(0,Me.jsx)("th",{className:"p-3",children:"Nom"}),(0,Me.jsx)("th",{className:"p-3",children:"Type"}),(0,Me.jsx)("th",{className:"p-3",children:"V\xe9rifi\xe9"}),(0,Me.jsx)("th",{className:"p-3",children:"Actions"})]})}),(0,Me.jsx)("tbody",{children:u.map(e=>(0,Me.jsxs)("tr",{className:"border-b border-gray-200 hover:bg-gray-50 cursor-pointer",onClick:()=>k({open:!0,user:e}),children:[(0,Me.jsx)("td",{className:"p-3 text-gray-900 bg-white",children:e.id}),(0,Me.jsx)("td",{className:"p-3 text-gray-900 bg-white",children:e.email}),(0,Me.jsxs)("td",{className:"p-3 text-gray-900 bg-white",children:[e.firstName," ",e.lastName]}),(0,Me.jsx)("td",{className:"p-3 bg-white",children:(0,Me.jsx)("span",{className:"badge ".concat("admin"===e.userType?"badge-primary":"owner"===e.userType?"badge-warning":"badge-success"),children:e.userType})}),(0,Me.jsx)("td",{className:"p-3",children:e.isVerified||e.is_verified||e.cinVerified||e.cin_verified?(0,Me.jsx)("span",{className:"badge badge-success",children:"\u2713 V\xe9rifi\xe9"}):(0,Me.jsx)("span",{className:"badge badge-warning",children:"Non v\xe9rifi\xe9"})}),(0,Me.jsx)("td",{className:"p-3 bg-white",onClick:e=>e.stopPropagation(),children:(0,Me.jsx)("button",{onClick:()=>w({open:!0,type:"user",id:e.id,reason:""}),className:"text-red-600 hover:text-red-700 p-2 rounded-full hover:bg-red-50 transition-colors",title:"Supprimer l'utilisateur",children:(0,Me.jsx)(nu,{className:"w-5 h-5"})})})]},e.id))})]})})]}),"announcements"===l&&(0,Me.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-6",children:[(0,Me.jsx)("h2",{className:"text-xl font-semibold mb-4 text-dark-900",children:"Annonces \xc9tudiantes"}),S?(0,Me.jsxs)("div",{className:"space-y-4",children:[(0,Me.jsxs)("button",{onClick:()=>C(null),className:"btn-secondary text-sm mb-4 flex items-center space-x-2",children:[(0,Me.jsx)(nu,{className:"w-4 h-4"}),(0,Me.jsx)("span",{children:"Retour \xe0 la liste"})]}),(0,Me.jsxs)("div",{className:"border border-gray-200 rounded-lg p-6",children:[(0,Me.jsxs)("div",{className:"mb-4",children:[(0,Me.jsxs)("span",{className:"text-xs text-gray-500",children:["ID: ",S.id]}),(0,Me.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mt-2",children:["Auteur: ",null===(e=S.author)||void 0===e?void 0:e.firstName," ",null===(s=S.author)||void 0===s?void 0:s.lastName]}),(0,Me.jsxs)("p",{className:"text-sm text-gray-500",children:["Publi\xe9e le: ",new Date(S.createdAt).toLocaleString("fr-FR")]})]}),S.images&&S.images.length>0&&(0,Me.jsxs)("div",{className:"mb-6",children:[(0,Me.jsx)("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Images de l'annonce:"}),(0,Me.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:S.images.map((e,t)=>(0,Me.jsx)("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:(0,Me.jsx)("img",{src:I(e),alt:"Annonce ".concat(t+1),className:"w-full h-32 object-cover cursor-pointer hover:opacity-90 transition-opacity",onClick:()=>window.open(I(e),"_blank")})},t))})]}),(0,Me.jsxs)("div",{className:"mt-4",children:[(0,Me.jsx)("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Contenu:"}),(0,Me.jsx)("p",{className:"text-gray-900 whitespace-pre-wrap bg-gray-50 p-4 rounded-lg",children:S.content})]}),S.budget&&(0,Me.jsxs)("div",{className:"mt-4",children:[(0,Me.jsx)("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Budget:"}),(0,Me.jsxs)("p",{className:"text-lg font-semibold text-primary-600",children:[S.budget.toLocaleString()," Ar/mois"]})]}),(0,Me.jsx)("div",{className:"mt-6 pt-4 border-t border-gray-200",children:(0,Me.jsxs)("button",{onClick:()=>w({open:!0,type:"announcement",id:S.id,reason:""}),className:"btn-danger text-sm flex items-center space-x-2",children:[(0,Me.jsx)(nu,{className:"w-4 h-4"}),(0,Me.jsx)("span",{children:"Supprimer cette annonce"})]})})]})]}):(0,Me.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[x.map(e=>{var t,s;return(0,Me.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4 hover:bg-gray-50 cursor-pointer transition-shadow hover:shadow-md",onClick:()=>C(e),children:[e.images&&e.images.length>0&&(0,Me.jsx)("div",{className:"mb-3",children:(0,Me.jsx)("img",{src:I(e.images[0]),alt:"Annonce",className:"w-full h-40 object-cover rounded-lg"})}),(0,Me.jsx)("div",{className:"mb-2",children:(0,Me.jsxs)("span",{className:"text-xs text-gray-500",children:["ID: ",e.id]})}),(0,Me.jsxs)("h3",{className:"text-sm font-semibold text-gray-900 mb-2 line-clamp-2",children:[null===(t=e.author)||void 0===t?void 0:t.firstName," ",null===(s=e.author)||void 0===s?void 0:s.lastName]}),(0,Me.jsx)("p",{className:"text-sm text-gray-700 mb-3 line-clamp-3",children:e.content}),(0,Me.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[(0,Me.jsx)("span",{children:new Date(e.createdAt).toLocaleDateString("fr-FR")}),(0,Me.jsx)("span",{children:Array.isArray(e.images)?"".concat(e.images.length," image(s)"):"0 image"})]}),(0,Me.jsxs)("div",{className:"flex items-center justify-between mt-3",children:[(0,Me.jsx)("button",{onClick:()=>C(e),className:"btn-secondary text-xs",children:"D\xe9tails"}),(0,Me.jsx)("button",{onClick:t=>{t.stopPropagation(),w({open:!0,type:"announcement",id:e.id,reason:""})},className:"btn-danger text-xs",children:"Supprimer"})]})]},e.id)}),0===x.length&&(0,Me.jsx)("p",{className:"text-gray-600 text-center py-8 col-span-full",children:"Aucune annonce"})]})]}),"properties"===l&&(0,Me.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-6",children:[(0,Me.jsx)("h2",{className:"text-xl font-semibold mb-4 text-dark-900",children:"Appartements Publi\xe9s"}),E?(0,Me.jsxs)("div",{className:"space-y-4",children:[(0,Me.jsxs)("button",{onClick:()=>A(null),className:"btn-secondary text-sm mb-4 flex items-center space-x-2",children:[(0,Me.jsx)(nu,{className:"w-4 h-4"}),(0,Me.jsx)("span",{children:"Retour \xe0 la liste"})]}),(0,Me.jsxs)("div",{className:"border border-dark-200 rounded-lg p-6",children:[(0,Me.jsxs)("div",{className:"mb-4",children:[(0,Me.jsx)("h3",{className:"text-xl font-semibold text-dark-900",children:E.title}),(0,Me.jsxs)("p",{className:"text-sm text-dark-500 mt-1",children:["ID: ",E.id]}),(0,Me.jsxs)("p",{className:"text-sm text-dark-500",children:["Propri\xe9taire ID: ",E.ownerId]})]}),E.images&&E.images.length>0&&(0,Me.jsxs)("div",{className:"mb-6",children:[(0,Me.jsx)("h4",{className:"text-sm font-medium text-dark-700 mb-3",children:"Images du logement:"}),(0,Me.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:E.images.map((e,t)=>(0,Me.jsx)("div",{className:"border border-dark-200 rounded-lg overflow-hidden",children:(0,Me.jsx)("img",{src:I(e),alt:"".concat(E.title," ").concat(t+1),className:"w-full h-32 object-cover cursor-pointer hover:opacity-90 transition-opacity",onClick:()=>window.open(I(e),"_blank")})},t))})]}),(0,Me.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-4",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("span",{className:"text-sm font-medium text-dark-700",children:"Prix:"}),(0,Me.jsxs)("p",{className:"text-dark-900 text-lg font-semibold",children:[null===(r=E.price)||void 0===r?void 0:r.toLocaleString()," Ar/mois"]})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("span",{className:"text-sm font-medium text-dark-700",children:"District:"}),(0,Me.jsx)("p",{className:"text-dark-900",children:E.district||"N/A"})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("span",{className:"text-sm font-medium text-dark-700",children:"Adresse:"}),(0,Me.jsx)("p",{className:"text-dark-900",children:E.address||"N/A"})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("span",{className:"text-sm font-medium text-dark-700",children:"Type:"}),(0,Me.jsx)("p",{className:"text-dark-900",children:"apartment"===E.propertyType?"Appartement":"house"===E.propertyType?"Maison":"Studio"})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("span",{className:"text-sm font-medium text-dark-700",children:"Chambres:"}),(0,Me.jsxs)("p",{className:"text-dark-900",children:[E.availableRooms,"/",E.totalRooms]})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("span",{className:"text-sm font-medium text-dark-700",children:"Statut:"}),(0,Me.jsx)("p",{className:E.isAvailable?"badge badge-success":"badge badge-danger",children:E.isAvailable?"Disponible":"Occup\xe9"})]})]}),E.description&&(0,Me.jsxs)("div",{className:"mb-4",children:[(0,Me.jsx)("span",{className:"text-sm font-medium text-dark-700",children:"Description:"}),(0,Me.jsx)("p",{className:"text-dark-900 mt-1 bg-dark-50 p-3 rounded-lg",children:E.description})]}),E.amenities&&E.amenities.length>0&&(0,Me.jsxs)("div",{className:"mb-4",children:[(0,Me.jsx)("span",{className:"text-sm font-medium text-dark-700",children:"\xc9quipements:"}),(0,Me.jsx)("div",{className:"flex flex-wrap gap-2 mt-2",children:E.amenities.map((e,t)=>(0,Me.jsx)("span",{className:"badge badge-primary text-xs",children:e},t))})]}),(0,Me.jsx)("div",{className:"mt-6 pt-4 border-t border-dark-200",children:(0,Me.jsxs)("button",{onClick:()=>w({open:!0,type:"property",id:E.id,reason:""}),className:"btn-danger text-sm flex items-center space-x-2",children:[(0,Me.jsx)(nu,{className:"w-4 h-4"}),(0,Me.jsx)("span",{children:"Supprimer ce logement"})]})})]})]}):(0,Me.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[h.map(e=>{var t;return(0,Me.jsxs)("div",{className:"border border-dark-200 rounded-lg p-4 hover:bg-dark-50 cursor-pointer transition-shadow hover:shadow-md",onClick:async()=>{try{const t=await(0,hs.apiGet)("/api/properties/get_by_id/".concat(e.id));t.success&&A(t.data)}catch(t){ms.error("Erreur lors du chargement du logement")}},children:[e.images&&e.images.length>0&&(0,Me.jsxs)("div",{className:"mb-3 relative",children:[(0,Me.jsx)("img",{src:I(e.images[0]),alt:e.title,className:"w-full h-40 object-cover rounded-lg"}),(0,Me.jsx)("div",{className:"absolute top-2 left-2 bg-black/70 text-white px-2 py-1 rounded text-xs",children:"apartment"===e.propertyType?"\ud83c\udfe2":"house"===e.propertyType?"\ud83c\udfe0":"\ud83c\udfe1"})]}),(0,Me.jsx)("div",{className:"mb-2",children:(0,Me.jsxs)("span",{className:"text-xs text-dark-500",children:["ID: ",e.id]})}),(0,Me.jsx)("h3",{className:"text-sm font-semibold text-dark-900 mb-2 line-clamp-2",children:e.title||"Sans titre"}),(0,Me.jsxs)("div",{className:"flex items-center text-dark-600 mb-2 text-xs",children:[(0,Me.jsx)($d,{className:"w-3 h-3 mr-1"}),(0,Me.jsx)("span",{className:"line-clamp-1",children:e.address||e.district||"Adresse non sp\xe9cifi\xe9e"})]}),(0,Me.jsxs)("p",{className:"text-lg font-bold text-primary-600 mb-3",children:[null===(t=e.price)||void 0===t?void 0:t.toLocaleString()," Ar/mois"]}),(0,Me.jsxs)("div",{className:"flex items-center justify-between text-xs text-dark-500",children:[(0,Me.jsxs)("span",{children:[e.availableRooms,"/",e.totalRooms," ch."]}),(0,Me.jsx)("span",{className:"badge ".concat(e.isAvailable?"badge-success":"badge-danger"),children:e.isAvailable?"Disponible":"Occup\xe9"})]}),(0,Me.jsxs)("div",{className:"flex items-center justify-between mt-3",children:[(0,Me.jsx)("button",{className:"btn-secondary text-xs",onClick:async t=>{t.stopPropagation();try{const t=await(0,hs.apiGet)("/api/properties/get_by_id/".concat(e.id));t.success&&A(t.data)}catch(s){ms.error("Erreur lors du chargement du logement")}},children:"D\xe9tails"}),(0,Me.jsx)("button",{className:"btn-danger text-xs",onClick:t=>{t.stopPropagation(),w({open:!0,type:"property",id:e.id,reason:""})},children:"Supprimer"})]})]},e.id)}),0===h.length&&(0,Me.jsx)("p",{className:"text-dark-600 text-center py-8 col-span-full",children:"Aucun appartement publi\xe9"})]})]}),"cin"===l&&(0,Me.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-6",children:[(0,Me.jsx)("h2",{className:"text-xl font-semibold mb-4 text-dark-900",children:"CIN \xe0 V\xe9rifier"}),0===g.length?(0,Me.jsx)("p",{className:"text-dark-600 text-center py-8",children:"Aucune CIN en attente de v\xe9rification"}):(0,Me.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:g.map(e=>(0,Me.jsxs)("div",{className:"border rounded-lg p-6 ".concat(e.isExpired?"border-red-500 bg-red-50":"border-dark-200"),children:[(0,Me.jsx)("div",{className:"mb-4",children:(0,Me.jsx)("div",{className:"flex items-start justify-between mb-3",children:(0,Me.jsxs)("div",{className:"flex-1",children:[(0,Me.jsxs)("h3",{className:"text-lg font-semibold text-dark-900 mb-1",children:[e.firstName," ",e.lastName]}),(0,Me.jsx)("p",{className:"text-sm text-dark-600 mb-1",children:e.email}),(0,Me.jsx)("div",{className:"bg-dark-100 rounded p-2 mt-2",children:(0,Me.jsxs)("p",{className:"text-sm font-medium text-dark-700",children:["Num\xe9ro CIN: ",(0,Me.jsx)("span",{className:"font-bold text-dark-900",children:e.cinNumber||"Non renseign\xe9"})]})}),e.isExpired&&(0,Me.jsx)("p",{className:"text-xs text-red-600 mt-2 font-medium bg-red-100 p-2 rounded",children:"\u26a0\ufe0f D\xe9lai de 24h d\xe9pass\xe9 - Compte \xe9ligible \xe0 suppression"})]})})}),(0,Me.jsxs)("div",{className:"space-y-4 mb-4",children:[e.cinRectoImagePath?(0,Me.jsxs)("div",{children:[(0,Me.jsx)("p",{className:"text-sm font-medium text-dark-700 mb-2",children:"Recto de la CIN"}),(0,Me.jsx)("div",{className:"relative",children:(0,Me.jsx)("img",{src:I(e.cinRectoImagePath),alt:"CIN Recto",className:"w-full h-64 object-contain bg-dark-50 rounded border-2 border-dark-200 hover:border-primary-400 transition-colors cursor-zoom-in",onError:t=>{console.error("Erreur chargement image CIN recto:",e.cinRectoImagePath);const s=t.target;s.onerror=null,s.src="/api/placeholder/300/200"},onClick:()=>{const t=I(e.cinRectoImagePath);t&&window.open(t,"_blank")}})})]}):(0,Me.jsx)("div",{className:"bg-gray-100 rounded p-4 text-center",children:(0,Me.jsx)("p",{className:"text-sm text-gray-600",children:"Image recto non disponible"})}),e.cinVersoImagePath?(0,Me.jsxs)("div",{children:[(0,Me.jsx)("p",{className:"text-sm font-medium text-dark-700 mb-2",children:"Verso de la CIN"}),(0,Me.jsx)("div",{className:"relative",children:(0,Me.jsx)("img",{src:I(e.cinVersoImagePath),alt:"CIN Verso",className:"w-full h-64 object-contain bg-dark-50 rounded border-2 border-dark-200 hover:border-primary-400 transition-colors cursor-zoom-in",onError:t=>{console.error("Erreur chargement image CIN verso:",e.cinVersoImagePath);const s=t.target;s.onerror=null,s.src="/api/placeholder/300/200"},onClick:()=>{const t=I(e.cinVersoImagePath);t&&window.open(t,"_blank")}})})]}):(0,Me.jsx)("div",{className:"bg-gray-100 rounded p-4 text-center",children:(0,Me.jsx)("p",{className:"text-sm text-gray-600",children:"Image verso non disponible"})})]}),(0,Me.jsxs)("div",{className:"flex space-x-3 pt-4 border-t border-dark-200",children:[(0,Me.jsxs)("button",{onClick:()=>F(e.id,!0),className:"flex-1 btn-primary text-sm flex items-center justify-center space-x-2",children:[(0,Me.jsx)(qm,{className:"w-5 h-5"}),(0,Me.jsx)("span",{children:"Approuver"})]}),(0,Me.jsxs)("button",{onClick:()=>{return t=e.id,void L({open:!0,userId:t,reason:""});var t},className:"flex-1 btn-secondary text-sm flex items-center justify-center space-x-2",children:[(0,Me.jsx)(nu,{className:"w-5 h-5"}),(0,Me.jsx)("span",{children:"Rejeter"})]})]})]},e.id))})]}),"notifications"===l&&(0,Me.jsx)("div",{className:"space-y-6",children:(0,Me.jsxs)("div",{className:"card",children:[(0,Me.jsxs)("h2",{className:"text-xl font-semibold mb-4 text-dark-900 flex items-center space-x-2",children:[(0,Me.jsx)(Ju,{className:"w-6 h-6"}),(0,Me.jsx)("span",{children:"Notifications"})]}),(0,Me.jsxs)("div",{className:"space-y-4",children:[z>0&&(0,Me.jsxs)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[(0,Me.jsxs)("h3",{className:"font-semibold text-yellow-900 mb-2",children:[z," CIN en attente de v\xe9rification"]}),(0,Me.jsx)("button",{onClick:()=>o("cin"),className:"text-sm text-yellow-700 hover:text-yellow-900 underline",children:"Voir les CIN \xe0 v\xe9rifier"})]}),_>0&&(0,Me.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,Me.jsxs)("h3",{className:"font-semibold text-blue-900 mb-2",children:[_," nouveau(x) utilisateur(s) dans les derni\xe8res 24h"]}),(0,Me.jsx)("button",{onClick:()=>o("users"),className:"text-sm text-blue-700 hover:text-blue-900 underline",children:"Voir les utilisateurs"})]}),0===z&&0===_&&(0,Me.jsx)("p",{className:"text-dark-600 text-center py-8",children:"Aucune notification"})]})]})}),"settings"===l&&(0,Me.jsx)("div",{className:"space-y-6",children:(0,Me.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-6",children:[(0,Me.jsxs)("h2",{className:"text-xl font-semibold mb-6 text-gray-900 flex items-center space-x-2",children:[(0,Me.jsx)(vp,{className:"w-6 h-6"}),(0,Me.jsx)("span",{children:"Param\xe8tres de la plateforme"})]}),(0,Me.jsxs)("div",{className:"space-y-6",children:[(0,Me.jsxs)("section",{className:"border-b border-gray-200 pb-6",children:[(0,Me.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Conditions d'utilisation"}),(0,Me.jsx)("p",{className:"text-gray-700 mb-4",children:"G\xe9rez les conditions d'utilisation de la plateforme. Les utilisateurs doivent accepter ces conditions lors de l'inscription."}),(0,Me.jsxs)("div",{className:"flex space-x-3",children:[(0,Me.jsxs)("a",{href:"/terms",target:"_blank",rel:"noopener noreferrer",className:"btn-secondary",children:[(0,Me.jsx)(Tp,{className:"w-5 h-5 inline mr-2"}),"Voir les conditions"]}),(0,Me.jsx)("button",{onClick:()=>window.open("/terms","_blank"),className:"btn-primary",children:"Modifier"})]})]}),(0,Me.jsxs)("section",{className:"border-b border-gray-200 pb-6",children:[(0,Me.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Politique de confidentialit\xe9"}),(0,Me.jsx)("p",{className:"text-gray-700 mb-4",children:"G\xe9rez la politique de confidentialit\xe9 de la plateforme. Cette politique explique comment nous collectons et utilisons les donn\xe9es."}),(0,Me.jsxs)("div",{className:"flex space-x-3",children:[(0,Me.jsxs)("a",{href:"/privacy",target:"_blank",rel:"noopener noreferrer",className:"btn-secondary",children:[(0,Me.jsx)(Tp,{className:"w-5 h-5 inline mr-2"}),"Voir la politique"]}),(0,Me.jsx)("button",{onClick:()=>window.open("/privacy","_blank"),className:"btn-primary",children:"Modifier"})]})]}),(0,Me.jsxs)("section",{className:"border-b border-gray-200 pb-6",children:[(0,Me.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Param\xe8tres g\xe9n\xe9raux"}),(0,Me.jsxs)("div",{className:"space-y-4",children:[(0,Me.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("p",{className:"font-medium text-gray-900",children:"V\xe9rification CIN obligatoire"}),(0,Me.jsx)("p",{className:"text-sm text-gray-600",children:"Les propri\xe9taires doivent v\xe9rifier leur CIN pour publier"})]}),(0,Me.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,Me.jsx)("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),(0,Me.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),(0,Me.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("p",{className:"font-medium text-gray-900",children:"Notifications par email"}),(0,Me.jsx)("p",{className:"text-sm text-gray-600",children:"Envoyer des notifications par email aux utilisateurs"})]}),(0,Me.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,Me.jsx)("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),(0,Me.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),(0,Me.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("p",{className:"font-medium text-gray-900",children:"Messages automatiques"}),(0,Me.jsx)("p",{className:"text-sm text-gray-600",children:"Envoyer des messages automatiques pour les actions admin"})]}),(0,Me.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,Me.jsx)("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),(0,Me.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})]})]}),(0,Me.jsxs)("section",{className:"border-b border-gray-200 pb-6",children:[(0,Me.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Mode maintenance"}),(0,Me.jsx)("p",{className:"text-gray-700 mb-4",children:"Activez le mode maintenance pour effectuer des mises \xe0 jour sans que les utilisateurs puissent acc\xe9der \xe0 la plateforme."}),(0,Me.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("p",{className:"font-medium text-gray-900",children:"Activer le mode maintenance"}),(0,Me.jsx)("p",{className:"text-sm text-gray-600",children:"La plateforme sera inaccessible aux utilisateurs non administrateurs"})]}),(0,Me.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,Me.jsx)("input",{type:"checkbox",className:"sr-only peer"}),(0,Me.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),!1]}),(0,Me.jsxs)("section",{className:"border-b border-gray-200 pb-6",children:[(0,Me.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Configuration email"}),(0,Me.jsxs)("div",{className:"space-y-4",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Serveur SMTP"}),(0,Me.jsx)("input",{type:"text",className:"input-field",placeholder:"smtp.example.com",defaultValue:"smtp.gmail.com"})]}),(0,Me.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Port"}),(0,Me.jsx)("input",{type:"number",className:"input-field",placeholder:"587",defaultValue:"587"})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email exp\xe9diteur"}),(0,Me.jsx)("input",{type:"email",className:"input-field",placeholder:"noreply@example.com"})]})]}),(0,Me.jsx)("button",{className:"btn-primary",children:"Tester la configuration email"})]})]}),(0,Me.jsxs)("section",{className:"border-b border-gray-200 pb-6",children:[(0,Me.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Param\xe8tres de s\xe9curit\xe9"}),(0,Me.jsxs)("div",{className:"space-y-4",children:[(0,Me.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("p",{className:"font-medium text-gray-900",children:"Authentification \xe0 deux facteurs (2FA)"}),(0,Me.jsx)("p",{className:"text-sm text-gray-600",children:"Recommand\xe9 pour les comptes administrateurs"})]}),(0,Me.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,Me.jsx)("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),(0,Me.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),(0,Me.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("p",{className:"font-medium text-gray-900",children:"Limite de tentatives de connexion"}),(0,Me.jsx)("p",{className:"text-sm text-gray-600",children:"Bloquer apr\xe8s 5 tentatives \xe9chou\xe9es"})]}),(0,Me.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,Me.jsx)("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),(0,Me.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),(0,Me.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("p",{className:"font-medium text-gray-900",children:"Journalisation des actions admin"}),(0,Me.jsx)("p",{className:"text-sm text-gray-600",children:"Enregistrer toutes les actions administratives"})]}),(0,Me.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,Me.jsx)("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),(0,Me.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})]})]}),(0,Me.jsxs)("section",{className:"border-b border-gray-200 pb-6",children:[(0,Me.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Sauvegarde et restauration"}),(0,Me.jsxs)("div",{className:"space-y-4",children:[(0,Me.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:(0,Me.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,Me.jsx)("div",{className:"flex-shrink-0",children:(0,Me.jsx)("svg",{className:"w-5 h-5 text-blue-600",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Me.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("p",{className:"text-sm font-medium text-blue-900",children:"Derni\xe8re sauvegarde"}),(0,Me.jsx)("p",{className:"text-sm text-blue-700",children:"Il y a 2 heures - Taille: 45.2 MB"})]})]})}),(0,Me.jsxs)("div",{className:"flex space-x-3",children:[(0,Me.jsx)("button",{className:"btn-primary",children:"Cr\xe9er une sauvegarde maintenant"}),(0,Me.jsx)("button",{className:"btn-secondary",children:"Restaurer depuis une sauvegarde"})]}),(0,Me.jsxs)("div",{className:"flex items-center justify-between pt-2",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("p",{className:"font-medium text-gray-900",children:"Sauvegarde automatique"}),(0,Me.jsx)("p",{className:"text-sm text-gray-600",children:"Sauvegarder la base de donn\xe9es quotidiennement"})]}),(0,Me.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,Me.jsx)("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),(0,Me.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})]})]}),(0,Me.jsxs)("section",{className:"border-b border-gray-200 pb-6",children:[(0,Me.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"API et int\xe9grations"}),(0,Me.jsxs)("div",{className:"space-y-4",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cl\xe9 API Cloudinary"}),(0,Me.jsxs)("div",{className:"flex space-x-2",children:[(0,Me.jsx)("input",{type:"password",className:"input-field flex-1",placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",defaultValue:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022"}),(0,Me.jsx)("button",{className:"btn-secondary",children:"Afficher"})]}),(0,Me.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Utilis\xe9e pour l'upload d'images"})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Webhook URL (optionnel)"}),(0,Me.jsx)("input",{type:"url",className:"input-field",placeholder:"https://example.com/webhook"}),(0,Me.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"URL pour recevoir les notifications d'\xe9v\xe9nements"})]})]})]}),(0,Me.jsxs)("section",{children:[(0,Me.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Statistiques de la plateforme"}),(0,Me.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Me.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,Me.jsx)("p",{className:"text-sm text-gray-600",children:"Utilisateurs totaux"}),(0,Me.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:P.totalUsers})]}),(0,Me.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,Me.jsx)("p",{className:"text-sm text-gray-600",children:"Logements actifs"}),(0,Me.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:P.totalProperties})]}),(0,Me.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,Me.jsx)("p",{className:"text-sm text-gray-600",children:"Annonces actives"}),(0,Me.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:P.totalAnnouncements})]}),(0,Me.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,Me.jsx)("p",{className:"text-sm text-gray-600",children:"V\xe9rifications en attente"}),(0,Me.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:P.pendingVerifications})]})]})]})]})]})}),N.open&&N.user&&(0,Me.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Me.jsxs)("div",{className:"bg-dark-100 rounded-lg max-w-2xl w-full p-6 max-h-[90vh] overflow-y-auto",children:[(0,Me.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Me.jsx)("h3",{className:"text-xl font-semibold text-dark-900",children:"Informations de l'utilisateur"}),(0,Me.jsx)("button",{onClick:()=>k({open:!1,user:null}),className:"text-dark-600 hover:text-dark-900",children:(0,Me.jsx)(nu,{className:"w-6 h-6"})})]}),(0,Me.jsx)("div",{className:"space-y-4"})]})}),j.open&&(0,Me.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Me.jsxs)("div",{className:"bg-dark-100 rounded-lg max-w-md w-full p-6",children:[(0,Me.jsxs)("h3",{className:"text-lg font-semibold text-dark-900 mb-4",children:["Supprimer ","user"===j.type?"l'utilisateur":"announcement"===j.type?"l'annonce":"le logement"]}),(0,Me.jsxs)("p",{className:"text-sm text-dark-700 mb-4",children:["Veuillez saisir la raison de la suppression ","user"===j.type||"announcement"===j.type?"(sera envoy\xe9e par email):":":"]}),(0,Me.jsx)("textarea",{value:j.reason,onChange:e=>w((0,Fe.A)((0,Fe.A)({},j),{},{reason:e.target.value})),className:"input-field w-full mb-4",rows:4,placeholder:"Raison de la suppression..."}),(0,Me.jsxs)("div",{className:"flex space-x-3 justify-end",children:[(0,Me.jsx)("button",{onClick:()=>w({open:!1,type:null,id:null,reason:""}),className:"btn-secondary",children:"Annuler"}),(0,Me.jsx)("button",{onClick:()=>{"user"===j.type?(async()=>{if(j.id&&j.reason)try{(await(0,hs.apiJson)("/api/admin/user_delete/".concat(j.id),"DELETE")).success&&(ms.success("Utilisateur supprim\xe9 avec succ\xe8s"),m(e=>e.filter(e=>e.id!==j.id)),w({open:!1,type:null,id:null,reason:""}))}catch(e){ms.error("Erreur lors de la suppression")}else ms.error("Veuillez saisir une raison")})():"announcement"===j.type?(async()=>{if(j.id&&j.reason)try{(await(0,hs.apiJson)("/api/admin/announcement_delete_with_reason/".concat(j.id),"DELETE",{reason:j.reason})).success&&(ms.success("Annonce supprim\xe9e avec succ\xe8s"),f(e=>e.filter(e=>e.id!==j.id)),w({open:!1,type:null,id:null,reason:""}))}catch(e){ms.error("Erreur lors de la suppression")}else ms.error("Veuillez saisir une raison")})():"property"===j.type&&(async()=>{if(j.id&&j.reason)try{const e=await(0,hs.apiJson)("/api/properties/delete/".concat(j.id),"DELETE");e.success?(ms.success("Logement supprim\xe9 avec succ\xe8s"),p(e=>e.filter(e=>e.id!==j.id)),w({open:!1,type:null,id:null,reason:""}),A(null)):ms.error(e.message||"Suppression impossible")}catch(e){ms.error("Erreur lors de la suppression")}else ms.error("Veuillez saisir une raison")})()},className:"btn-danger",children:"Supprimer"})]})]})}),M.open&&M.userId&&(0,Me.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Me.jsxs)("div",{className:"bg-white rounded-lg max-w-md w-full p-6",children:[(0,Me.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Rejeter la v\xe9rification CIN"}),(0,Me.jsx)("p",{className:"text-sm text-gray-700 mb-4",children:"Veuillez saisir la raison du rejet (sera envoy\xe9e \xe0 l'utilisateur) :"}),(0,Me.jsx)("textarea",{value:M.reason,onChange:e=>L((0,Fe.A)((0,Fe.A)({},M),{},{reason:e.target.value})),className:"input-field w-full mb-4",rows:4,placeholder:"Raison du rejet...",required:!0}),(0,Me.jsxs)("div",{className:"flex space-x-3 justify-end",children:[(0,Me.jsx)("button",{onClick:()=>L({open:!1,userId:null,reason:""}),className:"btn-secondary",children:"Annuler"}),(0,Me.jsx)("button",{onClick:()=>{M.reason.trim()?F(M.userId,!1,M.reason):ms.error("Veuillez saisir une raison")},className:"btn-danger",children:"Rejeter"})]})]})})]})]})})]})},Lp=()=>{const[e,s]=(0,t.useState)(""),[r,n]=(0,t.useState)(""),[a,i]=(0,t.useState)(!1),[l,o]=(0,t.useState)(!1),[c,d]=(0,t.useState)(!1),{login:u,user:m}=ys(),h=K();(0,t.useEffect)(()=>{m?"admin"===m.userType?(o(!1),h("/admin",{replace:!0})):(o(!1),h("/",{replace:!0}),ms.error("Acc\xe8s refus\xe9. Vous devez \xeatre administrateur.")):o(!1)},[m,h]);return(0,Me.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-dark-50 via-dark-100 to-dark-200 py-12 px-4 sm:px-6 lg:px-8",children:(0,Me.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("div",{className:"flex justify-center",children:(0,Me.jsx)("img",{src:"/logo_colo.svg",alt:"ColocAntananarivo",className:"h-20 w-auto"})}),(0,Me.jsx)("h2",{className:"mt-6 text-center text-3xl font-extrabold text-dark-900",children:"Connexion Administrateur"}),(0,Me.jsx)("p",{className:"mt-2 text-center text-sm text-dark-600",children:"Acc\xe8s r\xe9serv\xe9 aux administrateurs"})]}),(0,Me.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:async t=>{if(t.preventDefault(),c){o(!0);try{await u(e,r)}catch(s){ms.error(s.message||"Erreur lors de la connexion"),o(!1)}}else ms.error("Veuillez compl\xe9ter le CAPTCHA")},children:[(0,Me.jsxs)("div",{className:"space-y-4",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-dark-900",children:"Adresse email administrateur"}),(0,Me.jsx)("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:e,onChange:e=>s(e.target.value),className:"input-field mt-1",placeholder:"admin@coloc.tana"})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-dark-900",children:"Mot de passe"}),(0,Me.jsxs)("div",{className:"mt-1 relative",children:[(0,Me.jsx)("input",{id:"password",name:"password",type:a?"text":"password",autoComplete:"current-password",required:!0,value:r,onChange:e=>n(e.target.value),className:"input-field pr-10",placeholder:"Votre mot de passe"}),(0,Me.jsx)("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>i(!a),children:a?(0,Me.jsx)(yu,{className:"h-5 w-5 text-dark-400"}):(0,Me.jsx)(wu,{className:"h-5 w-5 text-dark-400"})})]})]})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-dark-900 mb-2",children:"V\xe9rification CAPTCHA *"}),(0,Me.jsx)(Nu,{onVerify:d})]}),(0,Me.jsx)("div",{children:(0,Me.jsx)("button",{type:"submit",disabled:l||!c,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed",children:l?(0,Me.jsxs)("div",{className:"flex items-center",children:[(0,Me.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Connexion..."]}):"Se connecter"})})]}),(0,Me.jsx)("div",{className:"mt-6 text-center",children:(0,Me.jsxs)("p",{className:"text-xs text-dark-500",children:["Vous n'\xeates pas administrateur ?"," ",(0,Me.jsx)(Ae,{to:"/login",className:"text-primary-600 hover:text-primary-500 font-medium",children:"Aller \xe0 la connexion utilisateur"})]})})]})})},Rp=()=>{const[e,s]=(0,t.useState)({email:"",password:"",confirmPassword:"",firstName:"",lastName:"",phone:""}),[r,n]=(0,t.useState)(!1),[a,i]=(0,t.useState)(!1),[l,o]=(0,t.useState)(!1),[c,d]=(0,t.useState)(!1),u=K(),m=t=>{s((0,Fe.A)((0,Fe.A)({},e),{},{[t.target.name]:t.target.value}))};return(0,Me.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-dark-50 via-dark-100 to-dark-200 py-12 px-4 sm:px-6 lg:px-8",children:(0,Me.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("div",{className:"flex justify-center",children:(0,Me.jsx)("img",{src:"/logo_colo.svg",alt:"ColocAntananarivo",className:"h-20 w-auto"})}),(0,Me.jsx)("h2",{className:"mt-6 text-center text-3xl font-extrabold text-dark-900",children:"Cr\xe9er un compte Administrateur"}),(0,Me.jsx)("p",{className:"mt-2 text-center text-sm text-dark-600",children:"Acc\xe8s r\xe9serv\xe9 - Cr\xe9ation du premier administrateur"})]}),(0,Me.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:async t=>{if(t.preventDefault(),c)if(await(async e=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e))(e.email))if(e.password===e.confirmPassword)if(e.password.length<8)ms.error("Le mot de passe doit contenir au moins 8 caract\xe8res");else{o(!0);try{const t=await(0,hs.apiJson)("/api/admin/seed_admin","POST",{email:e.email,password:e.password,firstName:e.firstName,lastName:e.lastName,phone:e.phone});!1===t.success&&t.message?(ms.error(t.message),u("/admin/login")):t.success||t.created?(ms.success(t.message||"Compte administrateur cr\xe9\xe9 avec succ\xe8s !"),u("/admin/login")):ms.error(t.message||"Erreur lors de la cr\xe9ation")}catch(s){ms.error(s.message||"Erreur lors de la cr\xe9ation du compte admin")}finally{o(!1)}}else ms.error("Les mots de passe ne correspondent pas");else ms.error("Veuillez saisir une adresse email valide");else ms.error("Veuillez compl\xe9ter le CAPTCHA")},children:[(0,Me.jsxs)("div",{className:"space-y-4",children:[(0,Me.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{htmlFor:"firstName",className:"block text-sm font-medium text-dark-900",children:"Pr\xe9nom"}),(0,Me.jsx)("input",{id:"firstName",name:"firstName",type:"text",required:!0,value:e.firstName,onChange:m,className:"input-field mt-1",placeholder:"Votre pr\xe9nom"})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{htmlFor:"lastName",className:"block text-sm font-medium text-dark-900",children:"Nom"}),(0,Me.jsx)("input",{id:"lastName",name:"lastName",type:"text",required:!0,value:e.lastName,onChange:m,className:"input-field mt-1",placeholder:"Votre nom"})]})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-dark-900",children:"Adresse email"}),(0,Me.jsx)("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:e.email,onChange:m,className:"input-field mt-1",placeholder:"admin@coloc.tana"})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{htmlFor:"phone",className:"block text-sm font-medium text-dark-900",children:"Num\xe9ro de t\xe9l\xe9phone"}),(0,Me.jsx)("input",{id:"phone",name:"phone",type:"tel",required:!0,value:e.phone,onChange:m,className:"input-field mt-1",placeholder:"+261 34 12 345 67"})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-dark-900",children:"Mot de passe"}),(0,Me.jsxs)("div",{className:"mt-1 relative",children:[(0,Me.jsx)("input",{id:"password",name:"password",type:r?"text":"password",autoComplete:"new-password",required:!0,value:e.password,onChange:m,className:"input-field pr-10",placeholder:"Minimum 8 caract\xe8res"}),(0,Me.jsx)("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>n(!r),children:r?(0,Me.jsx)(yu,{className:"h-5 w-5 text-dark-400"}):(0,Me.jsx)(wu,{className:"h-5 w-5 text-dark-400"})})]})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-dark-900",children:"Confirmer le mot de passe"}),(0,Me.jsxs)("div",{className:"mt-1 relative",children:[(0,Me.jsx)("input",{id:"confirmPassword",name:"confirmPassword",type:a?"text":"password",autoComplete:"new-password",required:!0,value:e.confirmPassword,onChange:m,className:"input-field pr-10",placeholder:"Confirmez votre mot de passe"}),(0,Me.jsx)("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>i(!a),children:a?(0,Me.jsx)(yu,{className:"h-5 w-5 text-dark-400"}):(0,Me.jsx)(wu,{className:"h-5 w-5 text-dark-400"})})]})]})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-dark-900 mb-2",children:"V\xe9rification CAPTCHA *"}),(0,Me.jsx)(Nu,{onVerify:d})]}),(0,Me.jsx)("div",{children:(0,Me.jsx)("button",{type:"submit",disabled:l||!c,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed",children:l?(0,Me.jsxs)("div",{className:"flex items-center",children:[(0,Me.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Cr\xe9ation du compte..."]}):"Cr\xe9er le compte administrateur"})})]}),(0,Me.jsxs)("div",{className:"mt-6 text-center",children:[(0,Me.jsxs)("p",{className:"text-xs text-dark-500",children:["D\xe9j\xe0 un compte ?"," ",(0,Me.jsx)(Ae,{to:"/admin/login",className:"text-primary-600 hover:text-primary-500 font-medium",children:"Se connecter"})]}),(0,Me.jsx)("p",{className:"text-xs text-dark-500 mt-2",children:(0,Me.jsx)("a",{href:"/register",className:"text-dark-600 hover:text-dark-900",children:"Retour \xe0 l'inscription utilisateur"})})]})]})})},Dp=()=>{const{user:e}=ys(),[s,r]=(0,t.useState)([]),[n,a]=(0,t.useState)(!1),[i,l]=(0,t.useState)(null),[o,c]=(0,t.useState)(!1),[d,u]=(0,t.useState)(!1),[m,h]=(0,t.useState)(""),[p,x]=(0,t.useState)(null),f=(0,t.useCallback)(async()=>{if(e){a(!0);try{const e=await(0,hs.apiGet)("/api/appointments/get_all");if(e.success){const t=e.data||[];r(t.filter(e=>"cancelled"!==e.status))}}catch(t){ms.error("Erreur lors du chargement des rendez-vous")}finally{a(!1)}}},[e]);(0,t.useEffect)(()=>{e&&f()},[e,f]);const g=async(e,t,s)=>{try{const n={status:t};s&&(n.cancellationReason=s);(await(0,hs.apiJson)("/api/appointments/update_status/".concat(e),"PUT",n)).success&&(ms.success("Statut mis \xe0 jour"),r(s=>s.map(s=>s.id===e?(0,Fe.A)((0,Fe.A)({},s),{},{status:t}):s)),"cancelled"===t&&r(t=>t.filter(t=>t.id!==e)))}catch(n){ms.error(n.message||"Erreur lors de la mise \xe0 jour")}},v=e=>{x(e),u(!0),h("")};if(!e)return(0,Me.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:"Veuillez vous connecter"});const y=e=>({pending:"En attente",confirmed:"Confirm\xe9",cancelled:"Annul\xe9",completed:"Termin\xe9"}[e]||e),b=e=>{const t=new Date(e.appointmentDate),s=new Date;return(t.getTime()-s.getTime())/36e5>2&&"cancelled"!==e.status&&"completed"!==e.status};return(0,Me.jsxs)("div",{className:"min-h-screen bg-gradient-to-b from-slate-50 to-slate-100 py-8",children:[(0,Me.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,Me.jsxs)("div",{className:"mb-8",children:[(0,Me.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Mes Rendez-vous"}),(0,Me.jsx)("p",{className:"text-gray-600",children:"student"===e.userType?"G\xe9rez vos rendez-vous avec les propri\xe9taires":"G\xe9rez les rendez-vous pour vos propri\xe9t\xe9s"})]}),n?(0,Me.jsx)("div",{className:"flex justify-center py-12",children:(0,Me.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):0===s.length?(0,Me.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 text-center py-12",children:[(0,Me.jsx)(Kd,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,Me.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucun rendez-vous"}),(0,Me.jsx)("p",{className:"text-gray-600",children:"student"===e.userType?"Vous n'avez pas encore de rendez-vous planifi\xe9":"Aucun \xe9tudiant n'a demand\xe9 de rendez-vous"})]}):(0,Me.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map(t=>{return(0,Me.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden hover:shadow-md transition-shadow",children:[(0,Me.jsx)("div",{className:"bg-gray-50 px-4 py-3 border-b border-gray-200",children:(0,Me.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Me.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border ".concat((n=t.status,{pending:"bg-yellow-100 text-yellow-800 border-yellow-200",confirmed:"bg-green-100 text-green-800 border-green-200",cancelled:"bg-red-100 text-red-800 border-red-200",completed:"bg-blue-100 text-blue-800 border-blue-200"}[n]||"bg-gray-100 text-gray-800")),children:y(t.status)}),(0,Me.jsxs)("div",{className:"flex items-center space-x-1",children:[b(t)&&(0,Me.jsx)("button",{onClick:()=>(e=>{l(e),c(!0)})(t),className:"text-gray-400 hover:text-primary-600 transition-colors p-1",title:"Modifier",children:(0,Me.jsx)(Vu,{className:"w-4 h-4"})}),(0,Me.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("\xcates-vous s\xfbr de vouloir supprimer ce rendez-vous ?"))try{(await(0,hs.apiJson)("/api/appointments/update_status/".concat(e),"PUT",{status:"cancelled"})).success&&(ms.success("Rendez-vous annul\xe9"),r(t=>t.filter(t=>t.id!==e)))}catch(t){ms.error("Erreur lors de la suppression")}})(t.id),className:"text-gray-400 hover:text-red-600 transition-colors p-1",title:"Supprimer",children:(0,Me.jsx)(Tu,{className:"w-4 h-4"})})]})]})}),(0,Me.jsxs)("div",{className:"p-4",children:[(0,Me.jsx)("h3",{className:"font-semibold text-gray-900 mb-2 line-clamp-2",children:t.propertyTitle}),t.address&&(0,Me.jsxs)("div",{className:"flex items-center text-sm text-gray-600 mb-3",children:[(0,Me.jsx)($d,{className:"w-4 h-4 mr-1 flex-shrink-0"}),(0,Me.jsx)("span",{className:"truncate",children:t.address})]}),(0,Me.jsxs)("div",{className:"flex items-center text-sm text-gray-600 mb-3",children:[(0,Me.jsx)(Kd,{className:"w-4 h-4 mr-2 flex-shrink-0"}),(0,Me.jsx)("span",{children:(s=t.appointmentDate,new Date(s).toLocaleString("fr-FR",{weekday:"short",year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}))})]}),(0,Me.jsxs)("div",{className:"text-sm text-gray-600 space-y-1 mb-4",children:["owner"===e.userType&&(0,Me.jsxs)(Me.Fragment,{children:[(0,Me.jsxs)("p",{children:[(0,Me.jsx)("strong",{children:"\xc9tudiant:"})," ",t.studentFirstName," ",t.studentLastName]}),(0,Me.jsxs)("p",{children:[(0,Me.jsx)("strong",{children:"T\xe9l:"})," ",t.studentPhone]})]}),"student"===e.userType&&(0,Me.jsxs)(Me.Fragment,{children:[(0,Me.jsxs)("p",{children:[(0,Me.jsx)("strong",{children:"Propri\xe9taire:"})," ",t.ownerFirstName," ",t.ownerLastName]}),(0,Me.jsxs)("p",{children:[(0,Me.jsx)("strong",{children:"T\xe9l:"})," ",t.ownerPhone]})]})]}),t.message&&(0,Me.jsx)("div",{className:"mt-3 p-3 bg-gray-50 rounded-lg",children:(0,Me.jsx)("p",{className:"text-sm text-gray-700 line-clamp-3",children:t.message})}),(0,Me.jsx)("div",{className:"mt-4 pt-4 border-t border-gray-200",children:(0,Me.jsxs)("div",{className:"flex space-x-2",children:["pending"===t.status&&"owner"===e.userType&&(0,Me.jsxs)(Me.Fragment,{children:[(0,Me.jsxs)("button",{onClick:()=>g(t.id,"confirmed"),className:"flex-1 btn-primary text-sm flex items-center justify-center space-x-1 py-2",children:[(0,Me.jsx)(qm,{className:"w-4 h-4"}),(0,Me.jsx)("span",{children:"Confirmer"})]}),(0,Me.jsxs)("button",{onClick:()=>v(t),className:"flex-1 btn-secondary text-sm flex items-center justify-center space-x-1 py-2",children:[(0,Me.jsx)(nu,{className:"w-4 h-4"}),(0,Me.jsx)("span",{children:"Refuser"})]})]}),"confirmed"===t.status&&"student"===e.userType&&(0,Me.jsxs)("button",{onClick:()=>g(t.id,"cancelled"),className:"flex-1 btn-secondary text-sm flex items-center justify-center space-x-1 py-2",children:[(0,Me.jsx)(nu,{className:"w-4 h-4"}),(0,Me.jsx)("span",{children:"Annuler"})]}),"confirmed"===t.status&&"owner"===e.userType&&(0,Me.jsxs)(Me.Fragment,{children:[(0,Me.jsxs)("button",{onClick:()=>g(t.id,"completed"),className:"flex-1 btn-primary text-sm flex items-center justify-center space-x-1 py-2",children:[(0,Me.jsx)(qm,{className:"w-4 h-4"}),(0,Me.jsx)("span",{children:"Termin\xe9"})]}),(0,Me.jsxs)("button",{onClick:()=>v(t),className:"flex-1 btn-secondary text-sm flex items-center justify-center space-x-1 py-2",children:[(0,Me.jsx)(nu,{className:"w-4 h-4"}),(0,Me.jsx)("span",{children:"Annuler"})]})]})]})})]})]},t.id);var s,n})})]}),i&&(0,Me.jsx)(pm,{isOpen:o,onClose:()=>{c(!1),l(null)},propertyId:i.propertyId,ownerId:i.ownerId||"",propertyTitle:i.propertyTitle,appointment:i,onUpdate:async e=>{try{(await(0,hs.apiJson)("/api/appointments/update_status/".concat(null===i||void 0===i?void 0:i.id),"PUT",{status:e.status||(null===i||void 0===i?void 0:i.status),message:e.message||(null===i||void 0===i?void 0:i.message)})).success&&(ms.success("Rendez-vous modifi\xe9"),c(!1),l(null),f())}catch(t){ms.error("Erreur lors de la modification")}}}),d&&p&&(0,Me.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Me.jsxs)("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[(0,Me.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Annuler le rendez-vous"}),(0,Me.jsxs)("p",{className:"text-gray-600 mb-4",children:["Vous \xeates sur le point d'annuler le rendez-vous pour \"",p.propertyTitle,'". Veuillez indiquer la raison de cette annulation :']}),(0,Me.jsx)("textarea",{value:m,onChange:e=>h(e.target.value),placeholder:"Ex: Indisponibilit\xe9, changement de planning, etc.",className:"w-full p-3 border border-gray-300 rounded-lg mb-4 min-h-[100px]",required:!0}),(0,Me.jsxs)("div",{className:"flex space-x-3",children:[(0,Me.jsx)("button",{onClick:async()=>{p&&(m.trim()?(await g(p.id,"cancelled",m),u(!1),x(null),h("")):ms.error("Veuillez saisir une raison d'annulation"))},className:"flex-1 btn-primary",children:"Confirmer l'annulation"}),(0,Me.jsx)("button",{onClick:()=>{u(!1),x(null),h("")},className:"flex-1 btn-secondary",children:"Annuler"})]})]})})]})},Ip=()=>(0,Me.jsx)("div",{className:"min-h-screen bg-gray-50 py-12",children:(0,Me.jsx)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,Me.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-8",children:[(0,Me.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Conditions d'utilisation"}),(0,Me.jsxs)("div",{className:"prose prose-lg max-w-none",children:[(0,Me.jsxs)("section",{className:"mb-8",children:[(0,Me.jsx)("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"1. Acceptation des conditions"}),(0,Me.jsx)("p",{className:"text-gray-700 mb-4",children:"En acc\xe9dant et en utilisant la plateforme ColocAntananarivo, vous acceptez d'\xeatre li\xe9 par ces conditions d'utilisation. Si vous n'acceptez pas ces conditions, veuillez ne pas utiliser notre service."})]}),(0,Me.jsxs)("section",{className:"mb-8",children:[(0,Me.jsx)("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"2. Description du service"}),(0,Me.jsx)("p",{className:"text-gray-700 mb-4",children:"ColocAntananarivo est une plateforme de mise en relation entre propri\xe9taires et \xe9tudiants cherchant un logement \xe0 Antananarivo, Madagascar. Nous facilitons la recherche de colocation et la publication d'annonces."})]}),(0,Me.jsxs)("section",{className:"mb-8",children:[(0,Me.jsx)("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"3. Inscription et compte utilisateur"}),(0,Me.jsxs)("ul",{className:"list-disc pl-6 text-gray-700 space-y-2 mb-4",children:[(0,Me.jsx)("li",{children:"Vous devez \xeatre \xe2g\xe9 d'au moins 18 ans pour cr\xe9er un compte"}),(0,Me.jsx)("li",{children:"Vous \xeates responsable de maintenir la confidentialit\xe9 de vos identifiants"}),(0,Me.jsx)("li",{children:"Vous devez fournir des informations exactes et \xe0 jour"}),(0,Me.jsx)("li",{children:"Les propri\xe9taires doivent v\xe9rifier leur identit\xe9 via la CIN"})]})]}),(0,Me.jsxs)("section",{className:"mb-8",children:[(0,Me.jsx)("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"4. Obligations des utilisateurs"}),(0,Me.jsx)("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"4.1 Propri\xe9taires"}),(0,Me.jsxs)("ul",{className:"list-disc pl-6 text-gray-700 space-y-2 mb-4",children:[(0,Me.jsx)("li",{children:"Publier uniquement des annonces exactes et v\xe9ridiques"}),(0,Me.jsx)("li",{children:"Respecter les rendez-vous convenus avec les \xe9tudiants"}),(0,Me.jsx)("li",{children:"Maintenir les logements dans un \xe9tat d\xe9cent"}),(0,Me.jsx)("li",{children:"Respecter les lois locales sur la location"})]}),(0,Me.jsx)("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"4.2 \xc9tudiants"}),(0,Me.jsxs)("ul",{className:"list-disc pl-6 text-gray-700 space-y-2 mb-4",children:[(0,Me.jsx)("li",{children:"Utiliser la plateforme de mani\xe8re respectueuse"}),(0,Me.jsx)("li",{children:"Respecter les rendez-vous convenus"}),(0,Me.jsx)("li",{children:"Fournir des informations exactes dans vos recherches"}),(0,Me.jsx)("li",{children:"Respecter la vie priv\xe9e des autres utilisateurs"})]})]}),(0,Me.jsxs)("section",{className:"mb-8",children:[(0,Me.jsx)("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"5. Contenu et publications"}),(0,Me.jsx)("p",{className:"text-gray-700 mb-4",children:"Vous \xeates responsable de tout contenu que vous publiez sur la plateforme. Vous acceptez de ne pas publier :"}),(0,Me.jsxs)("ul",{className:"list-disc pl-6 text-gray-700 space-y-2 mb-4",children:[(0,Me.jsx)("li",{children:"Du contenu ill\xe9gal, offensant ou discriminatoire"}),(0,Me.jsx)("li",{children:"Des informations fausses ou trompeuses"}),(0,Me.jsx)("li",{children:"Du contenu prot\xe9g\xe9 par des droits d'auteur sans autorisation"}),(0,Me.jsx)("li",{children:"Des images inappropri\xe9es ou non pertinentes"})]})]}),(0,Me.jsxs)("section",{className:"mb-8",children:[(0,Me.jsx)("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"6. Transactions et paiements"}),(0,Me.jsx)("p",{className:"text-gray-700 mb-4",children:"ColocAntananarivo n'intervient pas dans les transactions financi\xe8res entre propri\xe9taires et \xe9tudiants. Tous les accords financiers sont conclus directement entre les parties concern\xe9es."})]}),(0,Me.jsxs)("section",{className:"mb-8",children:[(0,Me.jsx)("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"7. Limitation de responsabilit\xe9"}),(0,Me.jsx)("p",{className:"text-gray-700 mb-4",children:"ColocAntananarivo agit uniquement comme une plateforme de mise en relation. Nous ne garantissons pas :"}),(0,Me.jsxs)("ul",{className:"list-disc pl-6 text-gray-700 space-y-2 mb-4",children:[(0,Me.jsx)("li",{children:"L'exactitude des informations publi\xe9es par les utilisateurs"}),(0,Me.jsx)("li",{children:"La disponibilit\xe9 ou la qualit\xe9 des logements"}),(0,Me.jsx)("li",{children:"Le succ\xe8s des transactions entre utilisateurs"}),(0,Me.jsx)("li",{children:"La r\xe9solution des litiges entre parties"})]})]}),(0,Me.jsxs)("section",{className:"mb-8",children:[(0,Me.jsx)("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"8. Suspension et r\xe9siliation"}),(0,Me.jsx)("p",{className:"text-gray-700 mb-4",children:"Nous nous r\xe9servons le droit de suspendre ou de r\xe9silier votre compte en cas de :"}),(0,Me.jsxs)("ul",{className:"list-disc pl-6 text-gray-700 space-y-2 mb-4",children:[(0,Me.jsx)("li",{children:"Violation de ces conditions d'utilisation"}),(0,Me.jsx)("li",{children:"Comportement frauduleux ou abusif"}),(0,Me.jsx)("li",{children:"Publication de contenu inappropri\xe9"}),(0,Me.jsx)("li",{children:"Non-respect des lois applicables"})]})]}),(0,Me.jsxs)("section",{className:"mb-8",children:[(0,Me.jsx)("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"9. Modifications des conditions"}),(0,Me.jsx)("p",{className:"text-gray-700 mb-4",children:"Nous nous r\xe9servons le droit de modifier ces conditions d'utilisation \xe0 tout moment. Les modifications seront publi\xe9es sur cette page avec une date de mise \xe0 jour."})]}),(0,Me.jsxs)("section",{className:"mb-8",children:[(0,Me.jsx)("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"10. Contact"}),(0,Me.jsx)("p",{className:"text-gray-700 mb-4",children:"Pour toute question concernant ces conditions d'utilisation, veuillez nous contacter via la page de contact."})]}),(0,Me.jsx)("div",{className:"mt-8 pt-6 border-t border-gray-200",children:(0,Me.jsxs)("p",{className:"text-sm text-gray-500",children:["Derni\xe8re mise \xe0 jour : ",(new Date).toLocaleDateString("fr-FR")]})})]})]})})}),Fp=()=>(0,Me.jsx)("div",{className:"min-h-screen bg-gray-50 py-12",children:(0,Me.jsx)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,Me.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-8",children:[(0,Me.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Politique de confidentialit\xe9"}),(0,Me.jsxs)("div",{className:"prose prose-lg max-w-none",children:[(0,Me.jsxs)("section",{className:"mb-8",children:[(0,Me.jsx)("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"1. Introduction"}),(0,Me.jsx)("p",{className:"text-gray-700 mb-4",children:"ColocAntananarivo s'engage \xe0 prot\xe9ger votre vie priv\xe9e. Cette politique de confidentialit\xe9 explique comment nous collectons, utilisons, stockons et prot\xe9geons vos informations personnelles."})]}),(0,Me.jsxs)("section",{className:"mb-8",children:[(0,Me.jsx)("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"2. Informations collect\xe9es"}),(0,Me.jsx)("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"2.1 Informations que vous nous fournissez"}),(0,Me.jsxs)("ul",{className:"list-disc pl-6 text-gray-700 space-y-2 mb-4",children:[(0,Me.jsx)("li",{children:"Nom, pr\xe9nom, adresse email, num\xe9ro de t\xe9l\xe9phone"}),(0,Me.jsx)("li",{children:"Informations acad\xe9miques (universit\xe9, niveau d'\xe9tudes)"}),(0,Me.jsx)("li",{children:"Informations de v\xe9rification (CIN, photos d'identit\xe9)"}),(0,Me.jsx)("li",{children:"Contenu des annonces et messages"}),(0,Me.jsx)("li",{children:"Photos et images upload\xe9es"})]}),(0,Me.jsx)("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"2.2 Informations collect\xe9es automatiquement"}),(0,Me.jsxs)("ul",{className:"list-disc pl-6 text-gray-700 space-y-2 mb-4",children:[(0,Me.jsx)("li",{children:"Adresse IP et donn\xe9es de connexion"}),(0,Me.jsx)("li",{children:"Type de navigateur et appareil"}),(0,Me.jsx)("li",{children:"Pages visit\xe9es et interactions"}),(0,Me.jsx)("li",{children:"Donn\xe9es de g\xe9olocalisation (si autoris\xe9es)"})]})]}),(0,Me.jsxs)("section",{className:"mb-8",children:[(0,Me.jsx)("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"3. Utilisation des informations"}),(0,Me.jsx)("p",{className:"text-gray-700 mb-4",children:"Nous utilisons vos informations pour :"}),(0,Me.jsxs)("ul",{className:"list-disc pl-6 text-gray-700 space-y-2 mb-4",children:[(0,Me.jsx)("li",{children:"Fournir et am\xe9liorer nos services"}),(0,Me.jsx)("li",{children:"Faciliter la mise en relation entre propri\xe9taires et \xe9tudiants"}),(0,Me.jsx)("li",{children:"V\xe9rifier l'identit\xe9 des utilisateurs"}),(0,Me.jsx)("li",{children:"Communiquer avec vous concernant votre compte"}),(0,Me.jsx)("li",{children:"Assurer la s\xe9curit\xe9 de la plateforme"}),(0,Me.jsx)("li",{children:"Respecter nos obligations l\xe9gales"})]})]}),(0,Me.jsxs)("section",{className:"mb-8",children:[(0,Me.jsx)("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"4. Partage des informations"}),(0,Me.jsx)("p",{className:"text-gray-700 mb-4",children:"Nous ne vendons pas vos informations personnelles. Nous pouvons partager vos informations uniquement dans les cas suivants :"}),(0,Me.jsxs)("ul",{className:"list-disc pl-6 text-gray-700 space-y-2 mb-4",children:[(0,Me.jsx)("li",{children:"Avec d'autres utilisateurs (propri\xe9taires/\xe9tudiants) dans le cadre de la mise en relation"}),(0,Me.jsx)("li",{children:"Avec des prestataires de services tiers (h\xe9bergement, paiement) sous contrat de confidentialit\xe9"}),(0,Me.jsx)("li",{children:"Lorsque requis par la loi ou pour prot\xe9ger nos droits"}),(0,Me.jsx)("li",{children:"Avec votre consentement explicite"})]})]}),(0,Me.jsxs)("section",{className:"mb-8",children:[(0,Me.jsx)("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"5. S\xe9curit\xe9 des donn\xe9es"}),(0,Me.jsx)("p",{className:"text-gray-700 mb-4",children:"Nous mettons en \u0153uvre des mesures de s\xe9curit\xe9 techniques et organisationnelles pour prot\xe9ger vos donn\xe9es :"}),(0,Me.jsxs)("ul",{className:"list-disc pl-6 text-gray-700 space-y-2 mb-4",children:[(0,Me.jsx)("li",{children:"Chiffrement des donn\xe9es sensibles"}),(0,Me.jsx)("li",{children:"Authentification s\xe9curis\xe9e"}),(0,Me.jsx)("li",{children:"Acc\xe8s restreint aux donn\xe9es personnelles"}),(0,Me.jsx)("li",{children:"Surveillance r\xe9guli\xe8re des syst\xe8mes"}),(0,Me.jsx)("li",{children:"Sauvegardes r\xe9guli\xe8res"})]})]}),(0,Me.jsxs)("section",{className:"mb-8",children:[(0,Me.jsx)("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"6. Conservation des donn\xe9es"}),(0,Me.jsx)("p",{className:"text-gray-700 mb-4",children:"Nous conservons vos donn\xe9es personnelles aussi longtemps que n\xe9cessaire pour :"}),(0,Me.jsxs)("ul",{className:"list-disc pl-6 text-gray-700 space-y-2 mb-4",children:[(0,Me.jsx)("li",{children:"Fournir nos services"}),(0,Me.jsx)("li",{children:"Respecter nos obligations l\xe9gales"}),(0,Me.jsx)("li",{children:"R\xe9soudre les litiges"}),(0,Me.jsx)("li",{children:"Faire respecter nos accords"})]}),(0,Me.jsx)("p",{className:"text-gray-700 mb-4",children:"Vous pouvez demander la suppression de vos donn\xe9es \xe0 tout moment, sous r\xe9serve des obligations l\xe9gales."})]}),(0,Me.jsxs)("section",{className:"mb-8",children:[(0,Me.jsx)("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"7. Vos droits"}),(0,Me.jsx)("p",{className:"text-gray-700 mb-4",children:"Conform\xe9ment \xe0 la r\xe9glementation en vigueur, vous avez le droit de :"}),(0,Me.jsxs)("ul",{className:"list-disc pl-6 text-gray-700 space-y-2 mb-4",children:[(0,Me.jsx)("li",{children:"Acc\xe9der \xe0 vos donn\xe9es personnelles"}),(0,Me.jsx)("li",{children:"Corriger des informations inexactes"}),(0,Me.jsx)("li",{children:"Demander la suppression de vos donn\xe9es"}),(0,Me.jsx)("li",{children:"S'opposer au traitement de vos donn\xe9es"}),(0,Me.jsx)("li",{children:"Demander la portabilit\xe9 de vos donn\xe9es"}),(0,Me.jsx)("li",{children:"Retirer votre consentement \xe0 tout moment"})]})]}),(0,Me.jsxs)("section",{className:"mb-8",children:[(0,Me.jsx)("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"8. Cookies et technologies similaires"}),(0,Me.jsx)("p",{className:"text-gray-700 mb-4",children:"Nous utilisons des cookies et technologies similaires pour am\xe9liorer votre exp\xe9rience, analyser l'utilisation du site et personnaliser le contenu. Vous pouvez g\xe9rer vos pr\xe9f\xe9rences de cookies dans les param\xe8tres de votre navigateur."})]}),(0,Me.jsxs)("section",{className:"mb-8",children:[(0,Me.jsx)("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"9. Modifications de la politique"}),(0,Me.jsx)("p",{className:"text-gray-700 mb-4",children:"Nous pouvons modifier cette politique de confidentialit\xe9 \xe0 tout moment. Les modifications seront publi\xe9es sur cette page avec une date de mise \xe0 jour. Nous vous encourageons \xe0 consulter r\xe9guli\xe8rement cette page."})]}),(0,Me.jsxs)("section",{className:"mb-8",children:[(0,Me.jsx)("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"10. Contact"}),(0,Me.jsx)("p",{className:"text-gray-700 mb-4",children:"Pour toute question concernant cette politique de confidentialit\xe9 ou pour exercer vos droits, veuillez nous contacter via la page de contact ou \xe0 l'adresse email : contact@colocantananarivo.mg"})]}),(0,Me.jsx)("div",{className:"mt-8 pt-6 border-t border-gray-200",children:(0,Me.jsxs)("p",{className:"text-sm text-gray-500",children:["Derni\xe8re mise \xe0 jour : ",(new Date).toLocaleDateString("fr-FR")]})})]})]})})});function zp(){const e=Y(),s=e.pathname.startsWith("/admin/login")||e.pathname.startsWith("/admin/register");return t.useEffect(()=>{document.documentElement.style.setProperty("--navbar-height","64px")},[]),t.useEffect(()=>{try{window.scrollTo({top:0,behavior:"smooth"})}catch(Ke){window.scrollTo(0,0)}},[e.pathname]),(0,Me.jsxs)("div",{className:"min-h-screen flex flex-col w-full overflow-x-hidden",children:[!s&&(0,Me.jsx)(np,{}),!s&&(0,Me.jsx)(up,{}),(0,Me.jsx)("main",{className:"flex-grow w-full overflow-x-hidden pt-16",children:(0,Me.jsx)("div",{className:"w-full max-w-full overflow-x-hidden",children:(0,Me.jsx)(Ye,{mode:"wait",initial:!1,children:(0,Me.jsxs)(ge,{location:e,children:[(0,Me.jsx)(xe,{path:"/admin/login",element:(0,Me.jsx)(Ad,{children:(0,Me.jsx)("div",{className:"w-full overflow-x-hidden",children:(0,Me.jsx)(Lp,{})})})}),(0,Me.jsx)(xe,{path:"/admin/register",element:(0,Me.jsx)(Ad,{children:(0,Me.jsx)("div",{className:"w-full overflow-x-hidden",children:(0,Me.jsx)(Rp,{})})})}),(0,Me.jsx)(xe,{path:"/",element:(0,Me.jsx)(Ad,{children:(0,Me.jsx)("div",{className:"w-full overflow-x-hidden",children:(0,Me.jsx)(fu,{})})})}),(0,Me.jsx)(xe,{path:"/login",element:(0,Me.jsx)(Ad,{children:(0,Me.jsx)("div",{className:"w-full overflow-x-hidden",children:(0,Me.jsx)(ku,{})})})}),(0,Me.jsx)(xe,{path:"/register",element:(0,Me.jsx)(Ad,{children:(0,Me.jsx)("div",{className:"w-full overflow-x-hidden",children:(0,Me.jsx)(Eu,{})})})}),(0,Me.jsx)(xe,{path:"/about",element:(0,Me.jsx)(Ad,{children:(0,Me.jsx)("div",{className:"w-full overflow-x-hidden",children:(0,Me.jsx)($h,{})})})}),(0,Me.jsx)(xe,{path:"/contact",element:(0,Me.jsx)(Ad,{children:(0,Me.jsx)("div",{className:"w-full overflow-x-hidden",children:(0,Me.jsx)(Zh,{})})})}),(0,Me.jsx)(xe,{path:"/terms",element:(0,Me.jsx)(Ad,{children:(0,Me.jsx)("div",{className:"w-full overflow-x-hidden",children:(0,Me.jsx)(Ip,{})})})}),(0,Me.jsx)(xe,{path:"/privacy",element:(0,Me.jsx)(Ad,{children:(0,Me.jsx)("div",{className:"w-full overflow-x-hidden",children:(0,Me.jsx)(Fp,{})})})}),(0,Me.jsx)(xe,{path:"/logements",element:(0,Me.jsx)(Ad,{children:(0,Me.jsx)("div",{className:"w-full overflow-x-hidden",children:(0,Me.jsx)(Hh,{})})})}),(0,Me.jsx)(xe,{path:"/properties/:id",element:(0,Me.jsx)(Ad,{children:(0,Me.jsx)("div",{className:"w-full overflow-x-hidden",children:(0,Me.jsx)(xm,{})})})}),(0,Me.jsx)(xe,{path:"/properties",element:(0,Me.jsx)(Ad,{children:(0,Me.jsx)("div",{className:"w-full overflow-x-hidden",children:(0,Me.jsx)(ym,{})})})}),(0,Me.jsx)(xe,{path:"/edit-property/:id",element:(0,Me.jsx)(Ad,{children:(0,Me.jsx)("div",{className:"w-full overflow-x-hidden",children:(0,Me.jsx)(op,{})})})}),(0,Me.jsx)(xe,{path:"/edit-announcement/:id",element:(0,Me.jsx)(Ad,{children:(0,Me.jsx)("div",{className:"w-full overflow-x-hidden",children:(0,Me.jsx)(dp,{})})})}),(0,Me.jsx)(xe,{path:"/cin-verification",element:(0,Me.jsx)(Ad,{children:(0,Me.jsx)("div",{className:"w-full overflow-x-hidden",children:(0,Me.jsx)(Xh,{})})})}),(0,Me.jsx)(xe,{path:"/appointments",element:(0,Me.jsx)(Ad,{children:(0,Me.jsx)("div",{className:"w-full overflow-x-hidden",children:(0,Me.jsx)(Dp,{})})})}),(0,Me.jsx)(xe,{path:"/admin",element:(0,Me.jsx)(Ad,{children:(0,Me.jsx)("div",{className:"w-full overflow-x-hidden",children:(0,Me.jsx)(lp,{children:(0,Me.jsx)(Mp,{})})})})}),(0,Me.jsx)(xe,{path:"/announcements",element:(0,Me.jsx)(Ad,{children:(0,Me.jsx)("div",{className:"w-full overflow-x-hidden",children:(0,Me.jsx)(Lh,{})})})}),(0,Me.jsx)(xe,{path:"/announcements/:id",element:(0,Me.jsx)(Ad,{children:(0,Me.jsx)("div",{className:"w-full overflow-x-hidden",children:(0,Me.jsx)(Uh,{})})})}),(0,Me.jsx)(xe,{path:"/create-announcement",element:(0,Me.jsx)(Ad,{children:(0,Me.jsx)("div",{className:"w-full overflow-x-hidden",children:(0,Me.jsx)(ip,{children:(0,Me.jsx)(qh,{})})})})}),(0,Me.jsx)(xe,{path:"/dashboard",element:(0,Me.jsx)(Ad,{children:(0,Me.jsx)("div",{className:"w-full overflow-x-hidden",children:(0,Me.jsx)(ip,{children:(0,Me.jsx)(nm,{})})})})}),(0,Me.jsx)(xe,{path:"/create-property",element:(0,Me.jsx)(Ad,{children:(0,Me.jsx)("div",{className:"w-full overflow-x-hidden",children:(0,Me.jsx)(ip,{children:(0,Me.jsx)(Sm,{})})})})}),(0,Me.jsx)(xe,{path:"/profile",element:(0,Me.jsx)(Ad,{children:(0,Me.jsx)("div",{className:"w-full overflow-x-hidden",children:(0,Me.jsx)(ip,{children:(0,Me.jsx)(_m,{})})})})}),(0,Me.jsx)(xe,{path:"/messages",element:(0,Me.jsx)(Ad,{children:(0,Me.jsx)("div",{className:"w-full overflow-x-hidden",children:(0,Me.jsx)(ip,{children:(0,Me.jsx)(Mh,{})})})})})]},e.pathname)})})}),!s&&(0,Me.jsx)("div",{className:"w-full overflow-x-hidden",children:(0,Me.jsx)(ap,{})}),!s&&(0,Me.jsx)(mp,{}),(0,Me.jsx)(us,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#363636",color:"#fff"}}})]})}const _p=function(){return(0,Me.jsx)(bs,{children:(0,Me.jsx)(Ns,{children:(0,Me.jsx)(Cs,{children:(0,Me.jsx)(Ps,{children:(0,Me.jsx)(Se,{children:(0,Me.jsx)("div",{className:"w-full overflow-x-hidden",children:(0,Me.jsx)(zp,{})})})})})})})};var Vp=s(4705);function Op(e,t,s){return Math.max(e,Math.min(t,s))}class Bp{advance(e){var t;if(!this.isRunning)return;let s=!1;if(this.lerp)this.value=(r=this.value,n=this.to,a=60*this.lerp,i=e,function(e,t,s){return(1-s)*e+s*t}(r,n,1-Math.exp(-a*i))),Math.round(this.value)===this.to&&(this.value=this.to,s=!0);else{this.currentTime+=e;const t=Op(0,this.currentTime/this.duration,1);s=t>=1;const r=s?1:this.easing(t);this.value=this.from+(this.to-this.from)*r}var r,n,a,i;null!==(t=this.onUpdate)&&void 0!==t&&t.call(this,this.value,s),s&&this.stop()}stop(){this.isRunning=!1}fromTo(e,t,s){let{lerp:r=.1,duration:n=1,easing:a=e=>e,onStart:i,onUpdate:l}=s;this.from=this.value=e,this.to=t,this.lerp=r,this.duration=n,this.easing=a,this.currentTime=0,this.isRunning=!0,null!==i&&void 0!==i&&i(),this.onUpdate=l}}class Up{constructor(){let{wrapper:e,content:t,autoResize:s=!0,debounce:r=250}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,Vp.A)(this,"resize",()=>{this.onWrapperResize(),this.onContentResize()}),(0,Vp.A)(this,"onWrapperResize",()=>{this.wrapper===window?(this.width=window.innerWidth,this.height=window.innerHeight):(this.width=this.wrapper.clientWidth,this.height=this.wrapper.clientHeight)}),(0,Vp.A)(this,"onContentResize",()=>{this.wrapper===window?(this.scrollHeight=this.content.scrollHeight,this.scrollWidth=this.content.scrollWidth):(this.scrollHeight=this.wrapper.scrollHeight,this.scrollWidth=this.wrapper.scrollWidth)}),this.wrapper=e,this.content=t,s&&(this.debouncedResize=function(e,t){let s;return function(){let r=arguments,n=this;clearTimeout(s),s=setTimeout(function(){e.apply(n,r)},t)}}(this.resize,r),this.wrapper===window?window.addEventListener("resize",this.debouncedResize,!1):(this.wrapperResizeObserver=new ResizeObserver(this.debouncedResize),this.wrapperResizeObserver.observe(this.wrapper)),this.contentResizeObserver=new ResizeObserver(this.debouncedResize),this.contentResizeObserver.observe(this.content)),this.resize()}destroy(){var e,t;null!==(e=this.wrapperResizeObserver)&&void 0!==e&&e.disconnect(),null!==(t=this.contentResizeObserver)&&void 0!==t&&t.disconnect(),window.removeEventListener("resize",this.debouncedResize,!1)}get limit(){return{x:this.scrollWidth-this.width,y:this.scrollHeight-this.height}}}class Wp{constructor(){this.events={}}emit(e){let t=this.events[e]||[];for(var s=arguments.length,r=new Array(s>1?s-1:0),n=1;n<s;n++)r[n-1]=arguments[n];for(let a=0,i=t.length;a<i;a++)t[a](...r)}on(e,t){var s;return null!==(s=this.events[e])&&void 0!==s&&s.push(t)||(this.events[e]=[t]),()=>{var s;this.events[e]=null===(s=this.events[e])||void 0===s?void 0:s.filter(e=>t!==e)}}off(e,t){var s;this.events[e]=null===(s=this.events[e])||void 0===s?void 0:s.filter(e=>t!==e)}destroy(){this.events={}}}const qp=100/6;class Hp{constructor(e,t){let{wheelMultiplier:s=1,touchMultiplier:r=1}=t;(0,Vp.A)(this,"onTouchStart",e=>{const{clientX:t,clientY:s}=e.targetTouches?e.targetTouches[0]:e;this.touchStart.x=t,this.touchStart.y=s,this.lastDelta={x:0,y:0},this.emitter.emit("scroll",{deltaX:0,deltaY:0,event:e})}),(0,Vp.A)(this,"onTouchMove",e=>{const{clientX:t,clientY:s}=e.targetTouches?e.targetTouches[0]:e,r=-(t-this.touchStart.x)*this.touchMultiplier,n=-(s-this.touchStart.y)*this.touchMultiplier;this.touchStart.x=t,this.touchStart.y=s,this.lastDelta={x:r,y:n},this.emitter.emit("scroll",{deltaX:r,deltaY:n,event:e})}),(0,Vp.A)(this,"onTouchEnd",e=>{this.emitter.emit("scroll",{deltaX:this.lastDelta.x,deltaY:this.lastDelta.y,event:e})}),(0,Vp.A)(this,"onWheel",e=>{let{deltaX:t,deltaY:s,deltaMode:r}=e;t*=1===r?qp:2===r?this.windowWidth:1,s*=1===r?qp:2===r?this.windowHeight:1,t*=this.wheelMultiplier,s*=this.wheelMultiplier,this.emitter.emit("scroll",{deltaX:t,deltaY:s,event:e})}),(0,Vp.A)(this,"onWindowResize",()=>{this.windowWidth=window.innerWidth,this.windowHeight=window.innerHeight}),this.element=e,this.wheelMultiplier=s,this.touchMultiplier=r,this.touchStart={x:null,y:null},this.emitter=new Wp,window.addEventListener("resize",this.onWindowResize,!1),this.onWindowResize(),this.element.addEventListener("wheel",this.onWheel,{passive:!1}),this.element.addEventListener("touchstart",this.onTouchStart,{passive:!1}),this.element.addEventListener("touchmove",this.onTouchMove,{passive:!1}),this.element.addEventListener("touchend",this.onTouchEnd,{passive:!1})}on(e,t){return this.emitter.on(e,t)}destroy(){this.emitter.destroy(),window.removeEventListener("resize",this.onWindowResize,!1),this.element.removeEventListener("wheel",this.onWheel,{passive:!1}),this.element.removeEventListener("touchstart",this.onTouchStart,{passive:!1}),this.element.removeEventListener("touchmove",this.onTouchMove,{passive:!1}),this.element.removeEventListener("touchend",this.onTouchEnd,{passive:!1})}}class $p{constructor(){let{wrapper:e=window,content:t=document.documentElement,wheelEventsTarget:s=e,eventsTarget:r=s,smoothWheel:n=!0,syncTouch:a=!1,syncTouchLerp:i=.075,touchInertiaMultiplier:l=35,duration:o,easing:c=e=>Math.min(1,1.001-Math.pow(2,-10*e)),lerp:d=!o&&.1,infinite:u=!1,orientation:m="vertical",gestureOrientation:h="vertical",touchMultiplier:p=1,wheelMultiplier:x=1,autoResize:f=!0,__experimental__naiveDimensions:g=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.__isSmooth=!1,this.__isScrolling=!1,this.__isStopped=!1,this.__isLocked=!1,this.onVirtualScroll=e=>{let{deltaX:t,deltaY:s,event:r}=e;if(r.ctrlKey)return;const n=r.type.includes("touch"),a=r.type.includes("wheel");if(this.options.syncTouch&&n&&"touchstart"===r.type&&!this.isStopped&&!this.isLocked)return void this.reset();const i=0===t&&0===s,l="vertical"===this.options.gestureOrientation&&0===s||"horizontal"===this.options.gestureOrientation&&0===t;if(i||l)return;let o=r.composedPath();if(o=o.slice(0,o.indexOf(this.rootElement)),o.find(e=>{var t,s,r,i,l;return(null===(t=e.hasAttribute)||void 0===t?void 0:t.call(e,"data-lenis-prevent"))||n&&(null===(s=e.hasAttribute)||void 0===s?void 0:s.call(e,"data-lenis-prevent-touch"))||a&&(null===(r=e.hasAttribute)||void 0===r?void 0:r.call(e,"data-lenis-prevent-wheel"))||(null===(i=e.classList)||void 0===i?void 0:i.contains("lenis"))&&!(null===(l=e.classList)||void 0===l?void 0:l.contains("lenis-stopped"))}))return;if(this.isStopped||this.isLocked)return void r.preventDefault();if(this.isSmooth=this.options.syncTouch&&n||this.options.smoothWheel&&a,!this.isSmooth)return this.isScrolling=!1,void this.animate.stop();r.preventDefault();let c=s;"both"===this.options.gestureOrientation?c=Math.abs(s)>Math.abs(t)?s:t:"horizontal"===this.options.gestureOrientation&&(c=t);const d=n&&this.options.syncTouch,u=n&&"touchend"===r.type&&Math.abs(c)>5;u&&(c=this.velocity*this.options.touchInertiaMultiplier),this.scrollTo(this.targetScroll+c,Object.assign({programmatic:!1},d?{lerp:u?this.options.syncTouchLerp:1}:{lerp:this.options.lerp,duration:this.options.duration,easing:this.options.easing}))},this.onNativeScroll=()=>{if(!this.__preventNextScrollEvent&&!this.isScrolling){const e=this.animatedScroll;this.animatedScroll=this.targetScroll=this.actualScroll,this.velocity=0,this.direction=Math.sign(this.animatedScroll-e),this.emit()}},window.lenisVersion="1.0.42",e!==document.documentElement&&e!==document.body||(e=window),this.options={wrapper:e,content:t,wheelEventsTarget:s,eventsTarget:r,smoothWheel:n,syncTouch:a,syncTouchLerp:i,touchInertiaMultiplier:l,duration:o,easing:c,lerp:d,infinite:u,gestureOrientation:h,orientation:m,touchMultiplier:p,wheelMultiplier:x,autoResize:f,__experimental__naiveDimensions:g},this.animate=new Bp,this.emitter=new Wp,this.dimensions=new Up({wrapper:e,content:t,autoResize:f}),this.toggleClassName("lenis",!0),this.velocity=0,this.isLocked=!1,this.isStopped=!1,this.isSmooth=a||n,this.isScrolling=!1,this.targetScroll=this.animatedScroll=this.actualScroll,this.options.wrapper.addEventListener("scroll",this.onNativeScroll,!1),this.virtualScroll=new Hp(r,{touchMultiplier:p,wheelMultiplier:x}),this.virtualScroll.on("scroll",this.onVirtualScroll)}destroy(){this.emitter.destroy(),this.options.wrapper.removeEventListener("scroll",this.onNativeScroll,!1),this.virtualScroll.destroy(),this.dimensions.destroy(),this.toggleClassName("lenis",!1),this.toggleClassName("lenis-smooth",!1),this.toggleClassName("lenis-scrolling",!1),this.toggleClassName("lenis-stopped",!1),this.toggleClassName("lenis-locked",!1)}on(e,t){return this.emitter.on(e,t)}off(e,t){return this.emitter.off(e,t)}setScroll(e){this.isHorizontal?this.rootElement.scrollLeft=e:this.rootElement.scrollTop=e}resize(){this.dimensions.resize()}emit(){this.emitter.emit("scroll",this)}reset(){this.isLocked=!1,this.isScrolling=!1,this.animatedScroll=this.targetScroll=this.actualScroll,this.velocity=0,this.animate.stop()}start(){this.isStopped&&(this.isStopped=!1,this.reset())}stop(){this.isStopped||(this.isStopped=!0,this.animate.stop(),this.reset())}raf(e){const t=e-(this.time||e);this.time=e,this.animate.advance(.001*t)}scrollTo(e){let{offset:t=0,immediate:s=!1,lock:r=!1,duration:n=this.options.duration,easing:a=this.options.easing,lerp:i=!n&&this.options.lerp,onComplete:l,force:o=!1,programmatic:c=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isStopped&&!this.isLocked||o){if(["top","left","start"].includes(e))e=0;else if(["bottom","right","end"].includes(e))e=this.limit;else{let s;if("string"==typeof e?s=document.querySelector(e):(null==e?void 0:e.nodeType)&&(s=e),s){if(this.options.wrapper!==window){const e=this.options.wrapper.getBoundingClientRect();t-=this.isHorizontal?e.left:e.top}const r=s.getBoundingClientRect();e=(this.isHorizontal?r.left:r.top)+this.animatedScroll}}if("number"==typeof e){if(e+=t,e=Math.round(e),this.options.infinite?c&&(this.targetScroll=this.animatedScroll=this.scroll):e=Op(0,e,this.limit),s)return this.animatedScroll=this.targetScroll=e,this.setScroll(this.scroll),this.reset(),void(null==l||l(this));if(!c){if(e===this.targetScroll)return;this.targetScroll=e}this.animate.fromTo(this.animatedScroll,e,{duration:n,easing:a,lerp:i,onStart:()=>{r&&(this.isLocked=!0),this.isScrolling=!0},onUpdate:(e,t)=>{this.isScrolling=!0,this.velocity=e-this.animatedScroll,this.direction=Math.sign(this.velocity),this.animatedScroll=e,this.setScroll(this.scroll),c&&(this.targetScroll=e),t||this.emit(),t&&(this.reset(),this.emit(),null==l||l(this),this.__preventNextScrollEvent=!0,requestAnimationFrame(()=>{delete this.__preventNextScrollEvent}))}})}}}get rootElement(){return this.options.wrapper===window?document.documentElement:this.options.wrapper}get limit(){return this.options.__experimental__naiveDimensions?this.isHorizontal?this.rootElement.scrollWidth-this.rootElement.clientWidth:this.rootElement.scrollHeight-this.rootElement.clientHeight:this.dimensions.limit[this.isHorizontal?"x":"y"]}get isHorizontal(){return"horizontal"===this.options.orientation}get actualScroll(){return this.isHorizontal?this.rootElement.scrollLeft:this.rootElement.scrollTop}get scroll(){return this.options.infinite?(this.animatedScroll%(e=this.limit)+e)%e:this.animatedScroll;var e}get progress(){return 0===this.limit?1:this.scroll/this.limit}get isSmooth(){return this.__isSmooth}set isSmooth(e){this.__isSmooth!==e&&(this.__isSmooth=e,this.toggleClassName("lenis-smooth",e))}get isScrolling(){return this.__isScrolling}set isScrolling(e){this.__isScrolling!==e&&(this.__isScrolling=e,this.toggleClassName("lenis-scrolling",e))}get isStopped(){return this.__isStopped}set isStopped(e){this.__isStopped!==e&&(this.__isStopped=e,this.toggleClassName("lenis-stopped",e))}get isLocked(){return this.__isLocked}set isLocked(e){this.__isLocked!==e&&(this.__isLocked=e,this.toggleClassName("lenis-locked",e))}get className(){let e="lenis";return this.isStopped&&(e+=" lenis-stopped"),this.isLocked&&(e+=" lenis-locked"),this.isScrolling&&(e+=" lenis-scrolling"),this.isSmooth&&(e+=" lenis-smooth"),e}toggleClassName(e,t){this.rootElement.classList.toggle(e,t),this.emitter.emit("className change",this)}}n.createRoot(document.getElementById("root")).render((0,Me.jsx)(t.StrictMode,{children:(0,Me.jsx)(_p,{})}));try{const Gp=new $p({smoothWheel:!0,smoothTouch:!1});function Yp(e){Gp.raf(e),requestAnimationFrame(Yp)}requestAnimationFrame(Yp)}catch(Ke){}})()})();
//# sourceMappingURL=main.ea326846.js.map