/*! For license information please see main.c88c6ff7.js.LICENSE.txt */
(()=>{var e={579:(e,t,r)=>{"use strict";e.exports=r(1153)},1153:(e,t,r)=>{"use strict";var n=r(5043),s=Symbol.for("react.element"),a=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,r){var n,a={},c=null,d=null;for(n in void 0!==r&&(c=""+r),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(d=t.ref),t)i.call(t,n)&&!l.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===a[n]&&(a[n]=t[n]);return{$$typeof:s,type:e,key:c,ref:d,props:a,_owner:o.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},1246:e=>{"use strict";const t=e=>new Promise((t,r)=>{const n=new FileReader;n.onload=()=>{t(n.result)},n.onerror=e=>{let{target:{error:{code:t}}}=e;r(Error("File could not be read! Code=".concat(t)))},n.readAsArrayBuffer(e)}),r=async e=>{let n=e;if("undefined"===typeof e)return"undefined";if("string"===typeof e)if(/data:image\/([a-zA-Z]*);base64,([^"]*)/.test(e))n=atob(e.split(",")[1]).split("").map(e=>e.charCodeAt(0));else{const t=await fetch(e);n=await t.arrayBuffer()}else if("undefined"!==typeof HTMLElement&&e instanceof HTMLElement)"IMG"===e.tagName&&(n=await r(e.src)),"VIDEO"===e.tagName&&(n=await r(e.poster)),"CANVAS"===e.tagName&&await new Promise(r=>{e.toBlob(async e=>{n=await t(e),r()})});else if("undefined"!==typeof OffscreenCanvas&&e instanceof OffscreenCanvas){const r=await e.convertToBlob();n=await t(r)}else(e instanceof File||e instanceof Blob)&&(n=await t(e));return new Uint8Array(n)};e.exports=r},1257:(e,t,r)=>{"use strict";var n=r(2897).default;const s=r(1432),a=r(9343),i=r(2163),o=r(7092),l=r(1600),c=r(5783),{setLogging:d}=r(5597);e.exports=n({languages:o,OEM:l,PSM:c,createScheduler:s,createWorker:a,setLogging:d},i)},1432:function(e,t,r){"use strict";const n=r(5362),{log:s}=r(5597),a=r(1674);let i=0;e.exports=()=>{const e=a("Scheduler",i),t={},r={};let o=[];i+=1;const l=()=>Object.keys(t).length,c=()=>{if(0!==o.length){const e=Object.keys(t);for(let n=0;n<e.length;n+=1)if("undefined"===typeof r[e[n]]){o[0](t[e[n]]);break}}},d=(t,a)=>new Promise((i,l)=>{const d=n({action:t,payload:a});o.push(async e=>{o.shift(),r[e.id]=d;try{i(await e[t].apply(this,[...a,d.id]))}catch(n){l(n)}finally{delete r[e.id],c()}}),s("[".concat(e,"]: Add ").concat(d.id," to JobQueue")),s("[".concat(e,"]: JobQueue length=").concat(o.length)),c()});return{addWorker:r=>(t[r.id]=r,s("[".concat(e,"]: Add ").concat(r.id)),s("[".concat(e,"]: Number of workers=").concat(l())),c(),r.id),addJob:async function(t){if(0===l())throw Error("[".concat(e,"]: You need to have at least one worker before adding jobs"));for(var r=arguments.length,n=new Array(r>1?r-1:0),s=1;s<r;s++)n[s-1]=arguments[s];return d(t,n)},terminate:async()=>{Object.keys(t).forEach(async e=>{await t[e].terminate()}),o=[]},getQueueLen:()=>o.length,getNumWorkers:l}}},1600:e=>{"use strict";e.exports={TESSERACT_ONLY:0,LSTM_ONLY:1,TESSERACT_LSTM_COMBINED:2,DEFAULT:3}},1674:e=>{"use strict";e.exports=(e,t)=>"".concat(e,"-").concat(t,"-").concat(Math.random().toString(16).slice(3,8))},1734:e=>{"use strict";e.exports=e=>{const t={};return"undefined"!==typeof WorkerGlobalScope?t.type="webworker":"object"===typeof document?t.type="browser":"object"===typeof process&&(t.type="node"),"undefined"===typeof e?t:t[e]}},1847:(e,t,r)=>{var n=r(4893);e.exports=function(e,t){if(null==e)return{};var r,s,a=n(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a},e.exports.__esModule=!0,e.exports.default=e.exports},2163:(e,t,r)=>{"use strict";const n=r(9343);e.exports={recognize:async(e,t,r)=>{const s=await n(t,1,r);return s.recognize(e).finally(async()=>{await s.terminate()})},detect:async(e,t)=>{const r=await n("osd",0,t);return r.detect(e).finally(async()=>{await r.terminate()})}}},2730:(e,t,r)=>{"use strict";var n=r(5043),s=r(7067);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(o[e]=t,e=0;e<t.length;e++)i.add(t[e])}var d=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),u=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},p={};function f(e,t,r,n,s,a,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=i}var x={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){x[e]=new f(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];x[t]=new f(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){x[e]=new f(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){x[e]=new f(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){x[e]=new f(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){x[e]=new f(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){x[e]=new f(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){x[e]=new f(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){x[e]=new f(e,5,!1,e.toLowerCase(),null,!1,!1)});var g=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function y(e,t,r,n){var s=x.hasOwnProperty(t)?x[t]:null;(null!==s?0!==s.type:n||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,r,n){if(null===t||"undefined"===typeof t||function(e,t,r,n){if(null!==r&&0===r.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!n&&(null!==r?!r.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,r,n))return!0;if(n)return!1;if(null!==r)switch(r.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,r,s,n)&&(r=null),n||null===s?function(e){return!!u.call(p,e)||!u.call(h,e)&&(m.test(e)?p[e]=!0:(h[e]=!0,!1))}(t)&&(null===r?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=null===r?3!==s.type&&"":r:(t=s.attributeName,n=s.attributeNamespace,null===r?e.removeAttribute(t):(r=3===(s=s.type)||4===s&&!0===r?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(g,v);x[t]=new f(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(g,v);x[t]=new f(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(g,v);x[t]=new f(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){x[e]=new f(e,1,!1,e.toLowerCase(),null,!1,!1)}),x.xlinkHref=new f("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){x[e]=new f(e,1,!1,e.toLowerCase(),null,!0,!0)});var b=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,j=Symbol.for("react.element"),w=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),E=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),L=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function F(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var I,_=Object.assign;function z(e){if(void 0===I)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);I=t&&t[1]||""}return"\n"+I+e}var O=!1;function V(e,t){if(!e||O)return"";O=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&"string"===typeof c.stack){for(var s=c.stack.split("\n"),a=n.stack.split("\n"),i=s.length-1,o=a.length-1;1<=i&&0<=o&&s[i]!==a[o];)o--;for(;1<=i&&0<=o;i--,o--)if(s[i]!==a[o]){if(1!==i||1!==o)do{if(i--,0>--o||s[i]!==a[o]){var l="\n"+s[i].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=i&&0<=o);break}}}finally{O=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?z(e):""}function B(e){switch(e.tag){case 5:return z(e.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function U(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case N:return"Fragment";case w:return"Portal";case S:return"Profiler";case k:return"StrictMode";case P:return"Suspense";case T:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case E:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case A:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case M:return null!==(t=e.displayName||null)?t:U(e.type)||"Memo";case L:t=e._payload,e=e._init;try{return U(e(t))}catch(r){}}return null}function W(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return U(t);case 8:return t===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function q(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function $(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof r&&"function"===typeof r.get&&"function"===typeof r.set){var s=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(e){n=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Z(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=H(e)?e.checked?"true":"false":e.value),(e=n)!==r&&(t.setValue(e),!0)}function Y(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function X(e,t){var r=t.checked;return _({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=r?r:e._wrapperState.initialChecked})}function J(e,t){var r=null==t.defaultValue?"":t.defaultValue,n=null!=t.checked?t.checked:t.defaultChecked;r=q(null!=t.value?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function G(e,t){null!=(t=t.checked)&&y(e,"checked",t,!1)}function K(e,t){G(e,t);var r=q(t.value),n=t.type;if(null!=r)"number"===n?(0===r&&""===e.value||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if("submit"===n||"reset"===n)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,r):t.hasOwnProperty("defaultValue")&&ee(e,t.type,q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Q(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!("submit"!==n&&"reset"!==n||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}""!==(r=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==r&&(e.name=r)}function ee(e,t,r){"number"===t&&Y(e.ownerDocument)===e||(null==r?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var te=Array.isArray;function re(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+q(r),t=null,s=0;s<e.length;s++){if(e[s].value===r)return e[s].selected=!0,void(n&&(e[s].defaultSelected=!0));null!==t||e[s].disabled||(t=e[s])}null!==t&&(t.selected=!0)}}function ne(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return _({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function se(e,t){var r=t.value;if(null==r){if(r=t.children,t=t.defaultValue,null!=r){if(null!=t)throw Error(a(92));if(te(r)){if(1<r.length)throw Error(a(93));r=r[0]}t=r}null==t&&(t=""),r=t}e._wrapperState={initialValue:q(r)}}function ae(e,t){var r=q(t.value),n=q(t.defaultValue);null!=r&&((r=""+r)!==e.value&&(e.value=r),null==t.defaultValue&&e.defaultValue!==r&&(e.defaultValue=r)),null!=n&&(e.defaultValue=""+n)}function ie(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,de,ue=(de=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,r,n){MSApp.execUnsafeLocalFunction(function(){return de(e,t)})}:de);function me(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&3===r.nodeType)return void(r.nodeValue=t)}e.textContent=t}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function fe(e,t,r){return null==t||"boolean"===typeof t||""===t?"":r||"number"!==typeof t||0===t||he.hasOwnProperty(e)&&he[e]?(""+t).trim():t+"px"}function xe(e,t){for(var r in e=e.style,t)if(t.hasOwnProperty(r)){var n=0===r.indexOf("--"),s=fe(r,t[r],n);"float"===r&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}Object.keys(he).forEach(function(e){pe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]})});var ge=_({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ye(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function je(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var we=null,Ne=null,ke=null;function Se(e){if(e=ys(e)){if("function"!==typeof we)throw Error(a(280));var t=e.stateNode;t&&(t=js(t),we(e.stateNode,e.type,t))}}function Ce(e){Ne?ke?ke.push(e):ke=[e]:Ne=e}function Ee(){if(Ne){var e=Ne,t=ke;if(ke=Ne=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Ae(e,t){return e(t)}function Pe(){}var Te=!1;function Me(e,t,r){if(Te)return e(t,r);Te=!0;try{return Ae(e,t,r)}finally{Te=!1,(null!==Ne||null!==ke)&&(Pe(),Ee())}}function Le(e,t){var r=e.stateNode;if(null===r)return null;var n=js(r);if(null===n)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(n=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!n;break e;default:e=!1}if(e)return null;if(r&&"function"!==typeof r)throw Error(a(231,t,typeof r));return r}var Re=!1;if(d)try{var De={};Object.defineProperty(De,"passive",{get:function(){Re=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(de){Re=!1}function Fe(e,t,r,n,s,a,i,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(d){this.onError(d)}}var Ie=!1,_e=null,ze=!1,Oe=null,Ve={onError:function(e){Ie=!0,_e=e}};function Be(e,t,r,n,s,a,i,o,l){Ie=!1,_e=null,Fe.apply(Ve,arguments)}function Ue(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(r=t.return),e=t.return}while(e)}return 3===t.tag?r:null}function We(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function qe(e){if(Ue(e)!==e)throw Error(a(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ue(e)))throw Error(a(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(null===s)break;var i=s.alternate;if(null===i){if(null!==(n=s.return)){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return qe(s),e;if(i===n)return qe(s),t;i=i.sibling}throw Error(a(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,l=s.child;l;){if(l===r){o=!0,r=s,n=i;break}if(l===n){o=!0,n=s,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=s;break}if(l===n){o=!0,n=i,r=s;break}l=l.sibling}if(!o)throw Error(a(189))}}if(r.alternate!==n)throw Error(a(190))}if(3!==r.tag)throw Error(a(188));return r.stateNode.current===r?e:t}(e))?$e(e):null}function $e(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=$e(e);if(null!==t)return t;e=e.sibling}return null}var Ze=s.unstable_scheduleCallback,Ye=s.unstable_cancelCallback,Xe=s.unstable_shouldYield,Je=s.unstable_requestPaint,Ge=s.unstable_now,Ke=s.unstable_getCurrentPriorityLevel,Qe=s.unstable_ImmediatePriority,et=s.unstable_UserBlockingPriority,tt=s.unstable_NormalPriority,rt=s.unstable_LowPriority,nt=s.unstable_IdlePriority,st=null,at=null;var it=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ot(e)/lt|0)|0},ot=Math.log,lt=Math.LN2;var ct=64,dt=4194304;function ut(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function mt(e,t){var r=e.pendingLanes;if(0===r)return 0;var n=0,s=e.suspendedLanes,a=e.pingedLanes,i=268435455&r;if(0!==i){var o=i&~s;0!==o?n=ut(o):0!==(a&=i)&&(n=ut(a))}else 0!==(i=r&~s)?n=ut(i):0!==a&&(n=ut(a));if(0===n)return 0;if(0!==t&&t!==n&&0===(t&s)&&((s=n&-n)>=(a=t&-t)||16===s&&0!==(4194240&a)))return t;if(0!==(4&n)&&(n|=16&r),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=n;0<t;)s=1<<(r=31-it(t)),n|=e[r],t&=~s;return n}function ht(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function ft(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function xt(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function gt(e,t,r){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-it(t)]=r}function vt(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-it(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var yt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var jt,wt,Nt,kt,St,Ct=!1,Et=[],At=null,Pt=null,Tt=null,Mt=new Map,Lt=new Map,Rt=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ft(e,t){switch(e){case"focusin":case"focusout":At=null;break;case"dragenter":case"dragleave":Pt=null;break;case"mouseover":case"mouseout":Tt=null;break;case"pointerover":case"pointerout":Mt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Lt.delete(t.pointerId)}}function It(e,t,r,n,s,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[s]},null!==t&&(null!==(t=ys(t))&&wt(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,null!==s&&-1===t.indexOf(s)&&t.push(s),e)}function _t(e){var t=vs(e.target);if(null!==t){var r=Ue(t);if(null!==r)if(13===(t=r.tag)){if(null!==(t=We(r)))return e.blockedOn=t,void St(e.priority,function(){Nt(r)})}else if(3===t&&r.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===r.tag?r.stateNode.containerInfo:null)}e.blockedOn=null}function zt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var r=Xt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==r)return null!==(t=ys(r))&&wt(t),e.blockedOn=r,!1;var n=new(r=e.nativeEvent).constructor(r.type,r);be=n,r.target.dispatchEvent(n),be=null,t.shift()}return!0}function Ot(e,t,r){zt(e)&&r.delete(t)}function Vt(){Ct=!1,null!==At&&zt(At)&&(At=null),null!==Pt&&zt(Pt)&&(Pt=null),null!==Tt&&zt(Tt)&&(Tt=null),Mt.forEach(Ot),Lt.forEach(Ot)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,Ct||(Ct=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Vt)))}function Ut(e){function t(t){return Bt(t,e)}if(0<Et.length){Bt(Et[0],e);for(var r=1;r<Et.length;r++){var n=Et[r];n.blockedOn===e&&(n.blockedOn=null)}}for(null!==At&&Bt(At,e),null!==Pt&&Bt(Pt,e),null!==Tt&&Bt(Tt,e),Mt.forEach(t),Lt.forEach(t),r=0;r<Rt.length;r++)(n=Rt[r]).blockedOn===e&&(n.blockedOn=null);for(;0<Rt.length&&null===(r=Rt[0]).blockedOn;)_t(r),null===r.blockedOn&&Rt.shift()}var Wt=b.ReactCurrentBatchConfig,qt=!0;function Ht(e,t,r,n){var s=yt,a=Wt.transition;Wt.transition=null;try{yt=1,Zt(e,t,r,n)}finally{yt=s,Wt.transition=a}}function $t(e,t,r,n){var s=yt,a=Wt.transition;Wt.transition=null;try{yt=4,Zt(e,t,r,n)}finally{yt=s,Wt.transition=a}}function Zt(e,t,r,n){if(qt){var s=Xt(e,t,r,n);if(null===s)qn(e,t,n,Yt,r),Ft(e,n);else if(function(e,t,r,n,s){switch(t){case"focusin":return At=It(At,e,t,r,n,s),!0;case"dragenter":return Pt=It(Pt,e,t,r,n,s),!0;case"mouseover":return Tt=It(Tt,e,t,r,n,s),!0;case"pointerover":var a=s.pointerId;return Mt.set(a,It(Mt.get(a)||null,e,t,r,n,s)),!0;case"gotpointercapture":return a=s.pointerId,Lt.set(a,It(Lt.get(a)||null,e,t,r,n,s)),!0}return!1}(s,e,t,r,n))n.stopPropagation();else if(Ft(e,n),4&t&&-1<Dt.indexOf(e)){for(;null!==s;){var a=ys(s);if(null!==a&&jt(a),null===(a=Xt(e,t,r,n))&&qn(e,t,n,Yt,r),a===s)break;s=a}null!==s&&n.stopPropagation()}else qn(e,t,n,null,r)}}var Yt=null;function Xt(e,t,r,n){if(Yt=null,null!==(e=vs(e=je(n))))if(null===(t=Ue(e)))e=null;else if(13===(r=t.tag)){if(null!==(e=We(t)))return e;e=null}else if(3===r){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Yt=e,null}function Jt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ke()){case Qe:return 1;case et:return 4;case tt:case rt:return 16;case nt:return 536870912;default:return 16}default:return 16}}var Gt=null,Kt=null,Qt=null;function er(){if(Qt)return Qt;var e,t,r=Kt,n=r.length,s="value"in Gt?Gt.value:Gt.textContent,a=s.length;for(e=0;e<n&&r[e]===s[e];e++);var i=n-e;for(t=1;t<=i&&r[n-t]===s[a-t];t++);return Qt=s.slice(e,1<t?1-t:void 0)}function tr(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function rr(){return!0}function nr(){return!1}function sr(e){function t(t,r,n,s,a){for(var i in this._reactName=t,this._targetInst=n,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(s):s[i]);return this.isDefaultPrevented=(null!=s.defaultPrevented?s.defaultPrevented:!1===s.returnValue)?rr:nr,this.isPropagationStopped=nr,this}return _(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=rr)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=rr)},persist:function(){},isPersistent:rr}),t}var ar,ir,or,lr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cr=sr(lr),dr=_({},lr,{view:0,detail:0}),ur=sr(dr),mr=_({},dr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kr,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==or&&(or&&"mousemove"===e.type?(ar=e.screenX-or.screenX,ir=e.screenY-or.screenY):ir=ar=0,or=e),ar)},movementY:function(e){return"movementY"in e?e.movementY:ir}}),hr=sr(mr),pr=sr(_({},mr,{dataTransfer:0})),fr=sr(_({},dr,{relatedTarget:0})),xr=sr(_({},lr,{animationName:0,elapsedTime:0,pseudoElement:0})),gr=_({},lr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),vr=sr(gr),yr=sr(_({},lr,{data:0})),br={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nr(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=wr[e])&&!!t[e]}function kr(){return Nr}var Sr=_({},dr,{key:function(e){if(e.key){var t=br[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tr(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?jr[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kr,charCode:function(e){return"keypress"===e.type?tr(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tr(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Cr=sr(Sr),Er=sr(_({},mr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Ar=sr(_({},dr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kr})),Pr=sr(_({},lr,{propertyName:0,elapsedTime:0,pseudoElement:0})),Tr=_({},mr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Mr=sr(Tr),Lr=[9,13,27,32],Rr=d&&"CompositionEvent"in window,Dr=null;d&&"documentMode"in document&&(Dr=document.documentMode);var Fr=d&&"TextEvent"in window&&!Dr,Ir=d&&(!Rr||Dr&&8<Dr&&11>=Dr),_r=String.fromCharCode(32),zr=!1;function Or(e,t){switch(e){case"keyup":return-1!==Lr.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vr(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Br=!1;var Ur={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Ur[e.type]:"textarea"===t}function qr(e,t,r,n){Ce(n),0<(t=$n(t,"onChange")).length&&(r=new cr("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Hr=null,$r=null;function Zr(e){zn(e,0)}function Yr(e){if(Z(bs(e)))return e}function Xr(e,t){if("change"===e)return t}var Jr=!1;if(d){var Gr;if(d){var Kr="oninput"in document;if(!Kr){var Qr=document.createElement("div");Qr.setAttribute("oninput","return;"),Kr="function"===typeof Qr.oninput}Gr=Kr}else Gr=!1;Jr=Gr&&(!document.documentMode||9<document.documentMode)}function en(){Hr&&(Hr.detachEvent("onpropertychange",tn),$r=Hr=null)}function tn(e){if("value"===e.propertyName&&Yr($r)){var t=[];qr(t,$r,e,je(e)),Me(Zr,t)}}function rn(e,t,r){"focusin"===e?(en(),$r=r,(Hr=t).attachEvent("onpropertychange",tn)):"focusout"===e&&en()}function nn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yr($r)}function sn(e,t){if("click"===e)return Yr(t)}function an(e,t){if("input"===e||"change"===e)return Yr(t)}var on="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ln(e,t){if(on(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!u.call(t,s)||!on(e[s],t[s]))return!1}return!0}function cn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dn(e,t){var r,n=cn(e);for(e=0;n;){if(3===n.nodeType){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=cn(n)}}function un(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?un(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function mn(){for(var e=window,t=Y();t instanceof e.HTMLIFrameElement;){try{var r="string"===typeof t.contentWindow.location.href}catch(n){r=!1}if(!r)break;t=Y((e=t.contentWindow).document)}return t}function hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pn(e){var t=mn(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&un(r.ownerDocument.documentElement,r)){if(null!==n&&hn(r))if(t=n.start,void 0===(e=n.end)&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if((e=(t=r.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var s=r.textContent.length,a=Math.min(n.start,s);n=void 0===n.end?a:Math.min(n.end,s),!e.extend&&a>n&&(s=n,n=a,a=s),s=dn(r,a);var i=dn(r,n);s&&i&&(1!==e.rangeCount||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&((t=t.createRange()).setStart(s.node,s.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}for(t=[],e=r;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof r.focus&&r.focus(),r=0;r<t.length;r++)(e=t[r]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var fn=d&&"documentMode"in document&&11>=document.documentMode,xn=null,gn=null,vn=null,yn=!1;function bn(e,t,r){var n=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;yn||null==xn||xn!==Y(n)||("selectionStart"in(n=xn)&&hn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},vn&&ln(vn,n)||(vn=n,0<(n=$n(gn,"onSelect")).length&&(t=new cr("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=xn)))}function jn(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var wn={animationend:jn("Animation","AnimationEnd"),animationiteration:jn("Animation","AnimationIteration"),animationstart:jn("Animation","AnimationStart"),transitionend:jn("Transition","TransitionEnd")},Nn={},kn={};function Sn(e){if(Nn[e])return Nn[e];if(!wn[e])return e;var t,r=wn[e];for(t in r)if(r.hasOwnProperty(t)&&t in kn)return Nn[e]=r[t];return e}d&&(kn=document.createElement("div").style,"AnimationEvent"in window||(delete wn.animationend.animation,delete wn.animationiteration.animation,delete wn.animationstart.animation),"TransitionEvent"in window||delete wn.transitionend.transition);var Cn=Sn("animationend"),En=Sn("animationiteration"),An=Sn("animationstart"),Pn=Sn("transitionend"),Tn=new Map,Mn="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ln(e,t){Tn.set(e,t),l(t,[e])}for(var Rn=0;Rn<Mn.length;Rn++){var Dn=Mn[Rn];Ln(Dn.toLowerCase(),"on"+(Dn[0].toUpperCase()+Dn.slice(1)))}Ln(Cn,"onAnimationEnd"),Ln(En,"onAnimationIteration"),Ln(An,"onAnimationStart"),Ln("dblclick","onDoubleClick"),Ln("focusin","onFocus"),Ln("focusout","onBlur"),Ln(Pn,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),In=new Set("cancel close invalid load scroll toggle".split(" ").concat(Fn));function _n(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,function(e,t,r,n,s,i,o,l,c){if(Be.apply(this,arguments),Ie){if(!Ie)throw Error(a(198));var d=_e;Ie=!1,_e=null,ze||(ze=!0,Oe=d)}}(n,t,void 0,e),e.currentTarget=null}function zn(e,t){t=0!==(4&t);for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var i=n.length-1;0<=i;i--){var o=n[i],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==a&&s.isPropagationStopped())break e;_n(s,o,c),a=l}else for(i=0;i<n.length;i++){if(l=(o=n[i]).instance,c=o.currentTarget,o=o.listener,l!==a&&s.isPropagationStopped())break e;_n(s,o,c),a=l}}}if(ze)throw e=Oe,ze=!1,Oe=null,e}function On(e,t){var r=t[fs];void 0===r&&(r=t[fs]=new Set);var n=e+"__bubble";r.has(n)||(Wn(t,e,2,!1),r.add(n))}function Vn(e,t,r){var n=0;t&&(n|=4),Wn(r,e,n,t)}var Bn="_reactListening"+Math.random().toString(36).slice(2);function Un(e){if(!e[Bn]){e[Bn]=!0,i.forEach(function(t){"selectionchange"!==t&&(In.has(t)||Vn(t,!1,e),Vn(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Bn]||(t[Bn]=!0,Vn("selectionchange",!1,t))}}function Wn(e,t,r,n){switch(Jt(t)){case 1:var s=Ht;break;case 4:s=$t;break;default:s=Zt}r=s.bind(null,t,r,e),s=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(s=!0),n?void 0!==s?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):void 0!==s?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function qn(e,t,r,n,s){var a=n;if(0===(1&t)&&0===(2&t)&&null!==n)e:for(;;){if(null===n)return;var i=n.tag;if(3===i||4===i){var o=n.stateNode.containerInfo;if(o===s||8===o.nodeType&&o.parentNode===s)break;if(4===i)for(i=n.return;null!==i;){var l=i.tag;if((3===l||4===l)&&((l=i.stateNode.containerInfo)===s||8===l.nodeType&&l.parentNode===s))return;i=i.return}for(;null!==o;){if(null===(i=vs(o)))return;if(5===(l=i.tag)||6===l){n=a=i;continue e}o=o.parentNode}}n=n.return}Me(function(){var n=a,s=je(r),i=[];e:{var o=Tn.get(e);if(void 0!==o){var l=cr,c=e;switch(e){case"keypress":if(0===tr(r))break e;case"keydown":case"keyup":l=Cr;break;case"focusin":c="focus",l=fr;break;case"focusout":c="blur",l=fr;break;case"beforeblur":case"afterblur":l=fr;break;case"click":if(2===r.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=hr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=pr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Ar;break;case Cn:case En:case An:l=xr;break;case Pn:l=Pr;break;case"scroll":l=ur;break;case"wheel":l=Mr;break;case"copy":case"cut":case"paste":l=vr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Er}var d=0!==(4&t),u=!d&&"scroll"===e,m=d?null!==o?o+"Capture":null:o;d=[];for(var h,p=n;null!==p;){var f=(h=p).stateNode;if(5===h.tag&&null!==f&&(h=f,null!==m&&(null!=(f=Le(p,m))&&d.push(Hn(p,f,h)))),u)break;p=p.return}0<d.length&&(o=new l(o,c,null,r,s),i.push({event:o,listeners:d}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||r===be||!(c=r.relatedTarget||r.fromElement)||!vs(c)&&!c[ps])&&(l||o)&&(o=s.window===s?s:(o=s.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=n,null!==(c=(c=r.relatedTarget||r.toElement)?vs(c):null)&&(c!==(u=Ue(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=n),l!==c)){if(d=hr,f="onMouseLeave",m="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(d=Er,f="onPointerLeave",m="onPointerEnter",p="pointer"),u=null==l?o:bs(l),h=null==c?o:bs(c),(o=new d(f,p+"leave",l,r,s)).target=u,o.relatedTarget=h,f=null,vs(s)===n&&((d=new d(m,p+"enter",c,r,s)).target=h,d.relatedTarget=u,f=d),u=f,l&&c)e:{for(m=c,p=0,h=d=l;h;h=Zn(h))p++;for(h=0,f=m;f;f=Zn(f))h++;for(;0<p-h;)d=Zn(d),p--;for(;0<h-p;)m=Zn(m),h--;for(;p--;){if(d===m||null!==m&&d===m.alternate)break e;d=Zn(d),m=Zn(m)}d=null}else d=null;null!==l&&Yn(i,o,l,d,!1),null!==c&&null!==u&&Yn(i,u,c,d,!0)}if("select"===(l=(o=n?bs(n):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var x=Xr;else if(Wr(o))if(Jr)x=an;else{x=nn;var g=rn}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(x=sn);switch(x&&(x=x(e,n))?qr(i,x,r,s):(g&&g(e,o,n),"focusout"===e&&(g=o._wrapperState)&&g.controlled&&"number"===o.type&&ee(o,"number",o.value)),g=n?bs(n):window,e){case"focusin":(Wr(g)||"true"===g.contentEditable)&&(xn=g,gn=n,vn=null);break;case"focusout":vn=gn=xn=null;break;case"mousedown":yn=!0;break;case"contextmenu":case"mouseup":case"dragend":yn=!1,bn(i,r,s);break;case"selectionchange":if(fn)break;case"keydown":case"keyup":bn(i,r,s)}var v;if(Rr)e:{switch(e){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else Br?Or(e,r)&&(y="onCompositionEnd"):"keydown"===e&&229===r.keyCode&&(y="onCompositionStart");y&&(Ir&&"ko"!==r.locale&&(Br||"onCompositionStart"!==y?"onCompositionEnd"===y&&Br&&(v=er()):(Kt="value"in(Gt=s)?Gt.value:Gt.textContent,Br=!0)),0<(g=$n(n,y)).length&&(y=new yr(y,e,null,r,s),i.push({event:y,listeners:g}),v?y.data=v:null!==(v=Vr(r))&&(y.data=v))),(v=Fr?function(e,t){switch(e){case"compositionend":return Vr(t);case"keypress":return 32!==t.which?null:(zr=!0,_r);case"textInput":return(e=t.data)===_r&&zr?null:e;default:return null}}(e,r):function(e,t){if(Br)return"compositionend"===e||!Rr&&Or(e,t)?(e=er(),Qt=Kt=Gt=null,Br=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ir&&"ko"!==t.locale?null:t.data}}(e,r))&&(0<(n=$n(n,"onBeforeInput")).length&&(s=new yr("onBeforeInput","beforeinput",null,r,s),i.push({event:s,listeners:n}),s.data=v))}zn(i,t)})}function Hn(e,t,r){return{instance:e,listener:t,currentTarget:r}}function $n(e,t){for(var r=t+"Capture",n=[];null!==e;){var s=e,a=s.stateNode;5===s.tag&&null!==a&&(s=a,null!=(a=Le(e,r))&&n.unshift(Hn(e,a,s)),null!=(a=Le(e,t))&&n.push(Hn(e,a,s))),e=e.return}return n}function Zn(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Yn(e,t,r,n,s){for(var a=t._reactName,i=[];null!==r&&r!==n;){var o=r,l=o.alternate,c=o.stateNode;if(null!==l&&l===n)break;5===o.tag&&null!==c&&(o=c,s?null!=(l=Le(r,a))&&i.unshift(Hn(r,l,o)):s||null!=(l=Le(r,a))&&i.push(Hn(r,l,o))),r=r.return}0!==i.length&&e.push({event:t,listeners:i})}var Xn=/\r\n?/g,Jn=/\u0000|\uFFFD/g;function Gn(e){return("string"===typeof e?e:""+e).replace(Xn,"\n").replace(Jn,"")}function Kn(e,t,r){if(t=Gn(t),Gn(e)!==t&&r)throw Error(a(425))}function Qn(){}var es=null,ts=null;function rs(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ns="function"===typeof setTimeout?setTimeout:void 0,ss="function"===typeof clearTimeout?clearTimeout:void 0,as="function"===typeof Promise?Promise:void 0,is="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof as?function(e){return as.resolve(null).then(e).catch(os)}:ns;function os(e){setTimeout(function(){throw e})}function ls(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&8===s.nodeType)if("/$"===(r=s.data)){if(0===n)return e.removeChild(s),void Ut(t);n--}else"$"!==r&&"$?"!==r&&"$!"!==r||n++;r=s}while(r);Ut(t)}function cs(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ds(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var r=e.data;if("$"===r||"$!"===r||"$?"===r){if(0===t)return e;t--}else"/$"===r&&t++}e=e.previousSibling}return null}var us=Math.random().toString(36).slice(2),ms="__reactFiber$"+us,hs="__reactProps$"+us,ps="__reactContainer$"+us,fs="__reactEvents$"+us,xs="__reactListeners$"+us,gs="__reactHandles$"+us;function vs(e){var t=e[ms];if(t)return t;for(var r=e.parentNode;r;){if(t=r[ps]||r[ms]){if(r=t.alternate,null!==t.child||null!==r&&null!==r.child)for(e=ds(e);null!==e;){if(r=e[ms])return r;e=ds(e)}return t}r=(e=r).parentNode}return null}function ys(e){return!(e=e[ms]||e[ps])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bs(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function js(e){return e[hs]||null}var ws=[],Ns=-1;function ks(e){return{current:e}}function Ss(e){0>Ns||(e.current=ws[Ns],ws[Ns]=null,Ns--)}function Cs(e,t){Ns++,ws[Ns]=e.current,e.current=t}var Es={},As=ks(Es),Ps=ks(!1),Ts=Es;function Ms(e,t){var r=e.type.contextTypes;if(!r)return Es;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s,a={};for(s in r)a[s]=t[s];return n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ls(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Rs(){Ss(Ps),Ss(As)}function Ds(e,t,r){if(As.current!==Es)throw Error(a(168));Cs(As,t),Cs(Ps,r)}function Fs(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,"function"!==typeof n.getChildContext)return r;for(var s in n=n.getChildContext())if(!(s in t))throw Error(a(108,W(e)||"Unknown",s));return _({},r,n)}function Is(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Es,Ts=As.current,Cs(As,e),Cs(Ps,Ps.current),!0}function _s(e,t,r){var n=e.stateNode;if(!n)throw Error(a(169));r?(e=Fs(e,t,Ts),n.__reactInternalMemoizedMergedChildContext=e,Ss(Ps),Ss(As),Cs(As,e)):Ss(Ps),Cs(Ps,r)}var zs=null,Os=!1,Vs=!1;function Bs(e){null===zs?zs=[e]:zs.push(e)}function Us(){if(!Vs&&null!==zs){Vs=!0;var e=0,t=yt;try{var r=zs;for(yt=1;e<r.length;e++){var n=r[e];do{n=n(!0)}while(null!==n)}zs=null,Os=!1}catch(s){throw null!==zs&&(zs=zs.slice(e+1)),Ze(Qe,Us),s}finally{yt=t,Vs=!1}}return null}var Ws=[],qs=0,Hs=null,$s=0,Zs=[],Ys=0,Xs=null,Js=1,Gs="";function Ks(e,t){Ws[qs++]=$s,Ws[qs++]=Hs,Hs=e,$s=t}function Qs(e,t,r){Zs[Ys++]=Js,Zs[Ys++]=Gs,Zs[Ys++]=Xs,Xs=e;var n=Js;e=Gs;var s=32-it(n)-1;n&=~(1<<s),r+=1;var a=32-it(t)+s;if(30<a){var i=s-s%5;a=(n&(1<<i)-1).toString(32),n>>=i,s-=i,Js=1<<32-it(t)+s|r<<s|n,Gs=a+e}else Js=1<<a|r<<s|n,Gs=e}function ea(e){null!==e.return&&(Ks(e,1),Qs(e,1,0))}function ta(e){for(;e===Hs;)Hs=Ws[--qs],Ws[qs]=null,$s=Ws[--qs],Ws[qs]=null;for(;e===Xs;)Xs=Zs[--Ys],Zs[Ys]=null,Gs=Zs[--Ys],Zs[Ys]=null,Js=Zs[--Ys],Zs[Ys]=null}var ra=null,na=null,sa=!1,aa=null;function ia(e,t){var r=Mc(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,null===(t=e.deletions)?(e.deletions=[r],e.flags|=16):t.push(r)}function oa(e,t){switch(e.tag){case 5:var r=e.type;return null!==(t=1!==t.nodeType||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ra=e,na=cs(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ra=e,na=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(r=null!==Xs?{id:Js,overflow:Gs}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},(r=Mc(18,null,null,0)).stateNode=t,r.return=e,e.child=r,ra=e,na=null,!0);default:return!1}}function la(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(sa){var t=na;if(t){var r=t;if(!oa(e,t)){if(la(e))throw Error(a(418));t=cs(r.nextSibling);var n=ra;t&&oa(e,t)?ia(n,r):(e.flags=-4097&e.flags|2,sa=!1,ra=e)}}else{if(la(e))throw Error(a(418));e.flags=-4097&e.flags|2,sa=!1,ra=e}}}function da(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ra=e}function ua(e){if(e!==ra)return!1;if(!sa)return da(e),sa=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!rs(e.type,e.memoizedProps)),t&&(t=na)){if(la(e))throw ma(),Error(a(418));for(;t;)ia(e,t),t=cs(t.nextSibling)}if(da(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var r=e.data;if("/$"===r){if(0===t){na=cs(e.nextSibling);break e}t--}else"$"!==r&&"$!"!==r&&"$?"!==r||t++}e=e.nextSibling}na=null}}else na=ra?cs(e.stateNode.nextSibling):null;return!0}function ma(){for(var e=na;e;)e=cs(e.nextSibling)}function ha(){na=ra=null,sa=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var fa=b.ReactCurrentBatchConfig;function xa(e,t,r){if(null!==(e=r.ref)&&"function"!==typeof e&&"object"!==typeof e){if(r._owner){if(r=r._owner){if(1!==r.tag)throw Error(a(309));var n=r.stateNode}if(!n)throw Error(a(147,e));var s=n,i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=s.refs;null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(a(284));if(!r._owner)throw Error(a(290,e))}return e}function ga(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function va(e){return(0,e._init)(e._payload)}function ya(e){function t(t,r){if(e){var n=t.deletions;null===n?(t.deletions=[r],t.flags|=16):n.push(r)}}function r(r,n){if(!e)return null;for(;null!==n;)t(r,n),n=n.sibling;return null}function n(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function s(e,t){return(e=Rc(e,t)).index=0,e.sibling=null,e}function i(t,r,n){return t.index=n,e?null!==(n=t.alternate)?(n=n.index)<r?(t.flags|=2,r):n:(t.flags|=2,r):(t.flags|=1048576,r)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,r,n){return null===t||6!==t.tag?((t=_c(r,e.mode,n)).return=e,t):((t=s(t,r)).return=e,t)}function c(e,t,r,n){var a=r.type;return a===N?u(e,t,r.props.children,n,r.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===L&&va(a)===t.type)?((n=s(t,r.props)).ref=xa(e,t,r),n.return=e,n):((n=Dc(r.type,r.key,r.props,null,e.mode,n)).ref=xa(e,t,r),n.return=e,n)}function d(e,t,r,n){return null===t||4!==t.tag||t.stateNode.containerInfo!==r.containerInfo||t.stateNode.implementation!==r.implementation?((t=zc(r,e.mode,n)).return=e,t):((t=s(t,r.children||[])).return=e,t)}function u(e,t,r,n,a){return null===t||7!==t.tag?((t=Fc(r,e.mode,n,a)).return=e,t):((t=s(t,r)).return=e,t)}function m(e,t,r){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=_c(""+t,e.mode,r)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case j:return(r=Dc(t.type,t.key,t.props,null,e.mode,r)).ref=xa(e,null,t),r.return=e,r;case w:return(t=zc(t,e.mode,r)).return=e,t;case L:return m(e,(0,t._init)(t._payload),r)}if(te(t)||F(t))return(t=Fc(t,e.mode,r,null)).return=e,t;ga(e,t)}return null}function h(e,t,r,n){var s=null!==t?t.key:null;if("string"===typeof r&&""!==r||"number"===typeof r)return null!==s?null:l(e,t,""+r,n);if("object"===typeof r&&null!==r){switch(r.$$typeof){case j:return r.key===s?c(e,t,r,n):null;case w:return r.key===s?d(e,t,r,n):null;case L:return h(e,t,(s=r._init)(r._payload),n)}if(te(r)||F(r))return null!==s?null:u(e,t,r,n,null);ga(e,r)}return null}function p(e,t,r,n,s){if("string"===typeof n&&""!==n||"number"===typeof n)return l(t,e=e.get(r)||null,""+n,s);if("object"===typeof n&&null!==n){switch(n.$$typeof){case j:return c(t,e=e.get(null===n.key?r:n.key)||null,n,s);case w:return d(t,e=e.get(null===n.key?r:n.key)||null,n,s);case L:return p(e,t,r,(0,n._init)(n._payload),s)}if(te(n)||F(n))return u(t,e=e.get(r)||null,n,s,null);ga(t,n)}return null}function f(s,a,o,l){for(var c=null,d=null,u=a,f=a=0,x=null;null!==u&&f<o.length;f++){u.index>f?(x=u,u=null):x=u.sibling;var g=h(s,u,o[f],l);if(null===g){null===u&&(u=x);break}e&&u&&null===g.alternate&&t(s,u),a=i(g,a,f),null===d?c=g:d.sibling=g,d=g,u=x}if(f===o.length)return r(s,u),sa&&Ks(s,f),c;if(null===u){for(;f<o.length;f++)null!==(u=m(s,o[f],l))&&(a=i(u,a,f),null===d?c=u:d.sibling=u,d=u);return sa&&Ks(s,f),c}for(u=n(s,u);f<o.length;f++)null!==(x=p(u,s,f,o[f],l))&&(e&&null!==x.alternate&&u.delete(null===x.key?f:x.key),a=i(x,a,f),null===d?c=x:d.sibling=x,d=x);return e&&u.forEach(function(e){return t(s,e)}),sa&&Ks(s,f),c}function x(s,o,l,c){var d=F(l);if("function"!==typeof d)throw Error(a(150));if(null==(l=d.call(l)))throw Error(a(151));for(var u=d=null,f=o,x=o=0,g=null,v=l.next();null!==f&&!v.done;x++,v=l.next()){f.index>x?(g=f,f=null):g=f.sibling;var y=h(s,f,v.value,c);if(null===y){null===f&&(f=g);break}e&&f&&null===y.alternate&&t(s,f),o=i(y,o,x),null===u?d=y:u.sibling=y,u=y,f=g}if(v.done)return r(s,f),sa&&Ks(s,x),d;if(null===f){for(;!v.done;x++,v=l.next())null!==(v=m(s,v.value,c))&&(o=i(v,o,x),null===u?d=v:u.sibling=v,u=v);return sa&&Ks(s,x),d}for(f=n(s,f);!v.done;x++,v=l.next())null!==(v=p(f,s,x,v.value,c))&&(e&&null!==v.alternate&&f.delete(null===v.key?x:v.key),o=i(v,o,x),null===u?d=v:u.sibling=v,u=v);return e&&f.forEach(function(e){return t(s,e)}),sa&&Ks(s,x),d}return function e(n,a,i,l){if("object"===typeof i&&null!==i&&i.type===N&&null===i.key&&(i=i.props.children),"object"===typeof i&&null!==i){switch(i.$$typeof){case j:e:{for(var c=i.key,d=a;null!==d;){if(d.key===c){if((c=i.type)===N){if(7===d.tag){r(n,d.sibling),(a=s(d,i.props.children)).return=n,n=a;break e}}else if(d.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===L&&va(c)===d.type){r(n,d.sibling),(a=s(d,i.props)).ref=xa(n,d,i),a.return=n,n=a;break e}r(n,d);break}t(n,d),d=d.sibling}i.type===N?((a=Fc(i.props.children,n.mode,l,i.key)).return=n,n=a):((l=Dc(i.type,i.key,i.props,null,n.mode,l)).ref=xa(n,a,i),l.return=n,n=l)}return o(n);case w:e:{for(d=i.key;null!==a;){if(a.key===d){if(4===a.tag&&a.stateNode.containerInfo===i.containerInfo&&a.stateNode.implementation===i.implementation){r(n,a.sibling),(a=s(a,i.children||[])).return=n,n=a;break e}r(n,a);break}t(n,a),a=a.sibling}(a=zc(i,n.mode,l)).return=n,n=a}return o(n);case L:return e(n,a,(d=i._init)(i._payload),l)}if(te(i))return f(n,a,i,l);if(F(i))return x(n,a,i,l);ga(n,i)}return"string"===typeof i&&""!==i||"number"===typeof i?(i=""+i,null!==a&&6===a.tag?(r(n,a.sibling),(a=s(a,i)).return=n,n=a):(r(n,a),(a=_c(i,n.mode,l)).return=n,n=a),o(n)):r(n,a)}}var ba=ya(!0),ja=ya(!1),wa=ks(null),Na=null,ka=null,Sa=null;function Ca(){Sa=ka=Na=null}function Ea(e){var t=wa.current;Ss(wa),e._currentValue=t}function Aa(e,t,r){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==n&&(n.childLanes|=t)):null!==n&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Pa(e,t){Na=e,Sa=ka=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(yo=!0),e.firstContext=null)}function Ta(e){var t=e._currentValue;if(Sa!==e)if(e={context:e,memoizedValue:t,next:null},null===ka){if(null===Na)throw Error(a(308));ka=e,Na.dependencies={lanes:0,firstContext:e}}else ka=ka.next=e;return t}var Ma=null;function La(e){null===Ma?Ma=[e]:Ma.push(e)}function Ra(e,t,r,n){var s=t.interleaved;return null===s?(r.next=r,La(t)):(r.next=s.next,s.next=r),t.interleaved=r,Da(e,n)}function Da(e,t){e.lanes|=t;var r=e.alternate;for(null!==r&&(r.lanes|=t),r=e,e=e.return;null!==e;)e.childLanes|=t,null!==(r=e.alternate)&&(r.childLanes|=t),r=e,e=e.return;return 3===r.tag?r.stateNode:null}var Fa=!1;function Ia(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _a(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function za(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Oa(e,t,r){var n=e.updateQueue;if(null===n)return null;if(n=n.shared,0!==(2&Al)){var s=n.pending;return null===s?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Da(e,r)}return null===(s=n.interleaved)?(t.next=t,La(n)):(t.next=s.next,s.next=t),n.interleaved=t,Da(e,r)}function Va(e,t,r){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&r))){var n=t.lanes;r|=n&=e.pendingLanes,t.lanes=r,vt(e,r)}}function Ba(e,t){var r=e.updateQueue,n=e.alternate;if(null!==n&&r===(n=n.updateQueue)){var s=null,a=null;if(null!==(r=r.firstBaseUpdate)){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};null===a?s=a=i:a=a.next=i,r=r.next}while(null!==r);null===a?s=a=t:a=a.next=t}else s=a=t;return r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:n.shared,effects:n.effects},void(e.updateQueue=r)}null===(e=r.lastBaseUpdate)?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Ua(e,t,r,n){var s=e.updateQueue;Fa=!1;var a=s.firstBaseUpdate,i=s.lastBaseUpdate,o=s.shared.pending;if(null!==o){s.shared.pending=null;var l=o,c=l.next;l.next=null,null===i?a=c:i.next=c,i=l;var d=e.alternate;null!==d&&((o=(d=d.updateQueue).lastBaseUpdate)!==i&&(null===o?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=l))}if(null!==a){var u=s.baseState;for(i=0,d=c=l=null,o=a;;){var m=o.lane,h=o.eventTime;if((n&m)===m){null!==d&&(d=d.next={eventTime:h,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,f=o;switch(m=t,h=r,f.tag){case 1:if("function"===typeof(p=f.payload)){u=p.call(h,u,m);break e}u=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(m="function"===typeof(p=f.payload)?p.call(h,u,m):p)||void 0===m)break e;u=_({},u,m);break e;case 2:Fa=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(m=s.effects)?s.effects=[o]:m.push(o))}else h={eventTime:h,lane:m,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===d?(c=d=h,l=u):d=d.next=h,i|=m;if(null===(o=o.next)){if(null===(o=s.shared.pending))break;o=(m=o).next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}if(null===d&&(l=u),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=d,null!==(t=s.shared.interleaved)){s=t;do{i|=s.lane,s=s.next}while(s!==t)}else null===a&&(s.shared.lanes=0);Il|=i,e.lanes=i,e.memoizedState=u}}function Wa(e,t,r){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(null!==s){if(n.callback=null,n=r,"function"!==typeof s)throw Error(a(191,s));s.call(n)}}}var qa={},Ha=ks(qa),$a=ks(qa),Za=ks(qa);function Ya(e){if(e===qa)throw Error(a(174));return e}function Xa(e,t){switch(Cs(Za,t),Cs($a,e),Cs(Ha,qa),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ss(Ha),Cs(Ha,t)}function Ja(){Ss(Ha),Ss($a),Ss(Za)}function Ga(e){Ya(Za.current);var t=Ya(Ha.current),r=le(t,e.type);t!==r&&(Cs($a,e),Cs(Ha,r))}function Ka(e){$a.current===e&&(Ss(Ha),Ss($a))}var Qa=ks(0);function ei(e){for(var t=e;null!==t;){if(13===t.tag){var r=t.memoizedState;if(null!==r&&(null===(r=r.dehydrated)||"$?"===r.data||"$!"===r.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ti=[];function ri(){for(var e=0;e<ti.length;e++)ti[e]._workInProgressVersionPrimary=null;ti.length=0}var ni=b.ReactCurrentDispatcher,si=b.ReactCurrentBatchConfig,ai=0,ii=null,oi=null,li=null,ci=!1,di=!1,ui=0,mi=0;function hi(){throw Error(a(321))}function pi(e,t){if(null===t)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!on(e[r],t[r]))return!1;return!0}function fi(e,t,r,n,s,i){if(ai=i,ii=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ni.current=null===e||null===e.memoizedState?Ki:Qi,e=r(n,s),di){i=0;do{if(di=!1,ui=0,25<=i)throw Error(a(301));i+=1,li=oi=null,t.updateQueue=null,ni.current=eo,e=r(n,s)}while(di)}if(ni.current=Gi,t=null!==oi&&null!==oi.next,ai=0,li=oi=ii=null,ci=!1,t)throw Error(a(300));return e}function xi(){var e=0!==ui;return ui=0,e}function gi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===li?ii.memoizedState=li=e:li=li.next=e,li}function vi(){if(null===oi){var e=ii.alternate;e=null!==e?e.memoizedState:null}else e=oi.next;var t=null===li?ii.memoizedState:li.next;if(null!==t)li=t,oi=e;else{if(null===e)throw Error(a(310));e={memoizedState:(oi=e).memoizedState,baseState:oi.baseState,baseQueue:oi.baseQueue,queue:oi.queue,next:null},null===li?ii.memoizedState=li=e:li=li.next=e}return li}function yi(e,t){return"function"===typeof t?t(e):t}function bi(e){var t=vi(),r=t.queue;if(null===r)throw Error(a(311));r.lastRenderedReducer=e;var n=oi,s=n.baseQueue,i=r.pending;if(null!==i){if(null!==s){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(null!==s){i=s.next,n=n.baseState;var l=o=null,c=null,d=i;do{var u=d.lane;if((ai&u)===u)null!==c&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:e(n,d.action);else{var m={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};null===c?(l=c=m,o=n):c=c.next=m,ii.lanes|=u,Il|=u}d=d.next}while(null!==d&&d!==i);null===c?o=n:c.next=l,on(n,t.memoizedState)||(yo=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(null!==(e=r.interleaved)){s=e;do{i=s.lane,ii.lanes|=i,Il|=i,s=s.next}while(s!==e)}else null===s&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function ji(e){var t=vi(),r=t.queue;if(null===r)throw Error(a(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(null!==s){r.pending=null;var o=s=s.next;do{i=e(i,o.action),o=o.next}while(o!==s);on(i,t.memoizedState)||(yo=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function wi(){}function Ni(e,t){var r=ii,n=vi(),s=t(),i=!on(n.memoizedState,s);if(i&&(n.memoizedState=s,yo=!0),n=n.queue,Fi(Ci.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||null!==li&&1&li.memoizedState.tag){if(r.flags|=2048,Ti(9,Si.bind(null,r,n,s,t),void 0,null),null===Pl)throw Error(a(349));0!==(30&ai)||ki(r,t,s)}return s}function ki(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},null===(t=ii.updateQueue)?(t={lastEffect:null,stores:null},ii.updateQueue=t,t.stores=[e]):null===(r=t.stores)?t.stores=[e]:r.push(e)}function Si(e,t,r,n){t.value=r,t.getSnapshot=n,Ei(t)&&Ai(e)}function Ci(e,t,r){return r(function(){Ei(t)&&Ai(e)})}function Ei(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!on(e,r)}catch(n){return!0}}function Ai(e){var t=Da(e,1);null!==t&&rc(t,e,1,-1)}function Pi(e){var t=gi();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:yi,lastRenderedState:e},t.queue=e,e=e.dispatch=Zi.bind(null,ii,e),[t.memoizedState,e]}function Ti(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},null===(t=ii.updateQueue)?(t={lastEffect:null,stores:null},ii.updateQueue=t,t.lastEffect=e.next=e):null===(r=t.lastEffect)?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e),e}function Mi(){return vi().memoizedState}function Li(e,t,r,n){var s=gi();ii.flags|=e,s.memoizedState=Ti(1|t,r,void 0,void 0===n?null:n)}function Ri(e,t,r,n){var s=vi();n=void 0===n?null:n;var a=void 0;if(null!==oi){var i=oi.memoizedState;if(a=i.destroy,null!==n&&pi(n,i.deps))return void(s.memoizedState=Ti(t,r,a,n))}ii.flags|=e,s.memoizedState=Ti(1|t,r,a,n)}function Di(e,t){return Li(8390656,8,e,t)}function Fi(e,t){return Ri(2048,8,e,t)}function Ii(e,t){return Ri(4,2,e,t)}function _i(e,t){return Ri(4,4,e,t)}function zi(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Oi(e,t,r){return r=null!==r&&void 0!==r?r.concat([e]):null,Ri(4,4,zi.bind(null,t,e),r)}function Vi(){}function Bi(e,t){var r=vi();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&pi(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Ui(e,t){var r=vi();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&pi(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Wi(e,t,r){return 0===(21&ai)?(e.baseState&&(e.baseState=!1,yo=!0),e.memoizedState=r):(on(r,t)||(r=ft(),ii.lanes|=r,Il|=r,e.baseState=!0),t)}function qi(e,t){var r=yt;yt=0!==r&&4>r?r:4,e(!0);var n=si.transition;si.transition={};try{e(!1),t()}finally{yt=r,si.transition=n}}function Hi(){return vi().memoizedState}function $i(e,t,r){var n=tc(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Yi(e))Xi(t,r);else if(null!==(r=Ra(e,t,r,n))){rc(r,e,n,ec()),Ji(r,t,n)}}function Zi(e,t,r){var n=tc(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Yi(e))Xi(t,s);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var i=t.lastRenderedState,o=a(i,r);if(s.hasEagerState=!0,s.eagerState=o,on(o,i)){var l=t.interleaved;return null===l?(s.next=s,La(t)):(s.next=l.next,l.next=s),void(t.interleaved=s)}}catch(c){}null!==(r=Ra(e,t,s,n))&&(rc(r,e,n,s=ec()),Ji(r,t,n))}}function Yi(e){var t=e.alternate;return e===ii||null!==t&&t===ii}function Xi(e,t){di=ci=!0;var r=e.pending;null===r?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Ji(e,t,r){if(0!==(4194240&r)){var n=t.lanes;r|=n&=e.pendingLanes,t.lanes=r,vt(e,r)}}var Gi={readContext:Ta,useCallback:hi,useContext:hi,useEffect:hi,useImperativeHandle:hi,useInsertionEffect:hi,useLayoutEffect:hi,useMemo:hi,useReducer:hi,useRef:hi,useState:hi,useDebugValue:hi,useDeferredValue:hi,useTransition:hi,useMutableSource:hi,useSyncExternalStore:hi,useId:hi,unstable_isNewReconciler:!1},Ki={readContext:Ta,useCallback:function(e,t){return gi().memoizedState=[e,void 0===t?null:t],e},useContext:Ta,useEffect:Di,useImperativeHandle:function(e,t,r){return r=null!==r&&void 0!==r?r.concat([e]):null,Li(4194308,4,zi.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Li(4194308,4,e,t)},useInsertionEffect:function(e,t){return Li(4,2,e,t)},useMemo:function(e,t){var r=gi();return t=void 0===t?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=gi();return t=void 0!==r?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=$i.bind(null,ii,e),[n.memoizedState,e]},useRef:function(e){return e={current:e},gi().memoizedState=e},useState:Pi,useDebugValue:Vi,useDeferredValue:function(e){return gi().memoizedState=e},useTransition:function(){var e=Pi(!1),t=e[0];return e=qi.bind(null,e[1]),gi().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=ii,s=gi();if(sa){if(void 0===r)throw Error(a(407));r=r()}else{if(r=t(),null===Pl)throw Error(a(349));0!==(30&ai)||ki(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,Di(Ci.bind(null,n,i,e),[e]),n.flags|=2048,Ti(9,Si.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=gi(),t=Pl.identifierPrefix;if(sa){var r=Gs;t=":"+t+"R"+(r=(Js&~(1<<32-it(Js)-1)).toString(32)+r),0<(r=ui++)&&(t+="H"+r.toString(32)),t+=":"}else t=":"+t+"r"+(r=mi++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Qi={readContext:Ta,useCallback:Bi,useContext:Ta,useEffect:Fi,useImperativeHandle:Oi,useInsertionEffect:Ii,useLayoutEffect:_i,useMemo:Ui,useReducer:bi,useRef:Mi,useState:function(){return bi(yi)},useDebugValue:Vi,useDeferredValue:function(e){return Wi(vi(),oi.memoizedState,e)},useTransition:function(){return[bi(yi)[0],vi().memoizedState]},useMutableSource:wi,useSyncExternalStore:Ni,useId:Hi,unstable_isNewReconciler:!1},eo={readContext:Ta,useCallback:Bi,useContext:Ta,useEffect:Fi,useImperativeHandle:Oi,useInsertionEffect:Ii,useLayoutEffect:_i,useMemo:Ui,useReducer:ji,useRef:Mi,useState:function(){return ji(yi)},useDebugValue:Vi,useDeferredValue:function(e){var t=vi();return null===oi?t.memoizedState=e:Wi(t,oi.memoizedState,e)},useTransition:function(){return[ji(yi)[0],vi().memoizedState]},useMutableSource:wi,useSyncExternalStore:Ni,useId:Hi,unstable_isNewReconciler:!1};function to(e,t){if(e&&e.defaultProps){for(var r in t=_({},t),e=e.defaultProps)void 0===t[r]&&(t[r]=e[r]);return t}return t}function ro(e,t,r,n){r=null===(r=r(n,t=e.memoizedState))||void 0===r?t:_({},t,r),e.memoizedState=r,0===e.lanes&&(e.updateQueue.baseState=r)}var no={isMounted:function(e){return!!(e=e._reactInternals)&&Ue(e)===e},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=ec(),s=tc(e),a=za(n,s);a.payload=t,void 0!==r&&null!==r&&(a.callback=r),null!==(t=Oa(e,a,s))&&(rc(t,e,s,n),Va(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=ec(),s=tc(e),a=za(n,s);a.tag=1,a.payload=t,void 0!==r&&null!==r&&(a.callback=r),null!==(t=Oa(e,a,s))&&(rc(t,e,s,n),Va(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=ec(),n=tc(e),s=za(r,n);s.tag=2,void 0!==t&&null!==t&&(s.callback=t),null!==(t=Oa(e,s,n))&&(rc(t,e,n,r),Va(t,e,n))}};function so(e,t,r,n,s,a,i){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(n,a,i):!t.prototype||!t.prototype.isPureReactComponent||(!ln(r,n)||!ln(s,a))}function ao(e,t,r){var n=!1,s=Es,a=t.contextType;return"object"===typeof a&&null!==a?a=Ta(a):(s=Ls(t)?Ts:As.current,a=(n=null!==(n=t.contextTypes)&&void 0!==n)?Ms(e,s):Es),t=new t(r,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=no,e.stateNode=t,t._reactInternals=e,n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=a),t}function io(e,t,r,n){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(r,n),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&no.enqueueReplaceState(t,t.state,null)}function oo(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},Ia(e);var a=t.contextType;"object"===typeof a&&null!==a?s.context=Ta(a):(a=Ls(t)?Ts:As.current,s.context=Ms(e,a)),s.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(ro(e,t,a,r),s.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof s.getSnapshotBeforeUpdate||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||(t=s.state,"function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount(),t!==s.state&&no.enqueueReplaceState(s,s.state,null),Ua(e,r,s,n),s.state=e.memoizedState),"function"===typeof s.componentDidMount&&(e.flags|=4194308)}function lo(e,t){try{var r="",n=t;do{r+=B(n),n=n.return}while(n);var s=r}catch(a){s="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:s,digest:null}}function co(e,t,r){return{value:e,source:null,stack:null!=r?r:null,digest:null!=t?t:null}}function uo(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var mo="function"===typeof WeakMap?WeakMap:Map;function ho(e,t,r){(r=za(-1,r)).tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){ql||(ql=!0,Hl=n),uo(0,t)},r}function po(e,t,r){(r=za(-1,r)).tag=3;var n=e.type.getDerivedStateFromError;if("function"===typeof n){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){uo(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(r.callback=function(){uo(0,t),"function"!==typeof n&&(null===$l?$l=new Set([this]):$l.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),r}function fo(e,t,r){var n=e.pingCache;if(null===n){n=e.pingCache=new mo;var s=new Set;n.set(t,s)}else void 0===(s=n.get(t))&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=Sc.bind(null,e,t,r),t.then(e,e))}function xo(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function go(e,t,r,n,s){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,1===r.tag&&(null===r.alternate?r.tag=17:((t=za(-1,1)).tag=2,Oa(r,t,1))),r.lanes|=1),e):(e.flags|=65536,e.lanes=s,e)}var vo=b.ReactCurrentOwner,yo=!1;function bo(e,t,r,n){t.child=null===e?ja(t,null,r,n):ba(t,e.child,r,n)}function jo(e,t,r,n,s){r=r.render;var a=t.ref;return Pa(t,s),n=fi(e,t,r,n,a,s),r=xi(),null===e||yo?(sa&&r&&ea(t),t.flags|=1,bo(e,t,n,s),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,qo(e,t,s))}function wo(e,t,r,n,s){if(null===e){var a=r.type;return"function"!==typeof a||Lc(a)||void 0!==a.defaultProps||null!==r.compare||void 0!==r.defaultProps?((e=Dc(r.type,null,n,t,t.mode,s)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,No(e,t,a,n,s))}if(a=e.child,0===(e.lanes&s)){var i=a.memoizedProps;if((r=null!==(r=r.compare)?r:ln)(i,n)&&e.ref===t.ref)return qo(e,t,s)}return t.flags|=1,(e=Rc(a,n)).ref=t.ref,e.return=t,t.child=e}function No(e,t,r,n,s){if(null!==e){var a=e.memoizedProps;if(ln(a,n)&&e.ref===t.ref){if(yo=!1,t.pendingProps=n=a,0===(e.lanes&s))return t.lanes=e.lanes,qo(e,t,s);0!==(131072&e.flags)&&(yo=!0)}}return Co(e,t,r,n,s)}function ko(e,t,r){var n=t.pendingProps,s=n.children,a=null!==e?e.memoizedState:null;if("hidden"===n.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Cs(Rl,Ll),Ll|=r;else{if(0===(1073741824&r))return e=null!==a?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Cs(Rl,Ll),Ll|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=null!==a?a.baseLanes:r,Cs(Rl,Ll),Ll|=n}else null!==a?(n=a.baseLanes|r,t.memoizedState=null):n=r,Cs(Rl,Ll),Ll|=n;return bo(e,t,s,r),t.child}function So(e,t){var r=t.ref;(null===e&&null!==r||null!==e&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Co(e,t,r,n,s){var a=Ls(r)?Ts:As.current;return a=Ms(t,a),Pa(t,s),r=fi(e,t,r,n,a,s),n=xi(),null===e||yo?(sa&&n&&ea(t),t.flags|=1,bo(e,t,r,s),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,qo(e,t,s))}function Eo(e,t,r,n,s){if(Ls(r)){var a=!0;Is(t)}else a=!1;if(Pa(t,s),null===t.stateNode)Wo(e,t),ao(t,r,n),oo(t,r,n,s),n=!0;else if(null===e){var i=t.stateNode,o=t.memoizedProps;i.props=o;var l=i.context,c=r.contextType;"object"===typeof c&&null!==c?c=Ta(c):c=Ms(t,c=Ls(r)?Ts:As.current);var d=r.getDerivedStateFromProps,u="function"===typeof d||"function"===typeof i.getSnapshotBeforeUpdate;u||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(o!==n||l!==c)&&io(t,i,n,c),Fa=!1;var m=t.memoizedState;i.state=m,Ua(t,n,i,s),l=t.memoizedState,o!==n||m!==l||Ps.current||Fa?("function"===typeof d&&(ro(t,r,d,n),l=t.memoizedState),(o=Fa||so(t,r,o,n,m,l,c))?(u||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||("function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"===typeof i.componentDidMount&&(t.flags|=4194308)):("function"===typeof i.componentDidMount&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),i.props=n,i.state=l,i.context=c,n=o):("function"===typeof i.componentDidMount&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,_a(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:to(t.type,o),i.props=c,u=t.pendingProps,m=i.context,"object"===typeof(l=r.contextType)&&null!==l?l=Ta(l):l=Ms(t,l=Ls(r)?Ts:As.current);var h=r.getDerivedStateFromProps;(d="function"===typeof h||"function"===typeof i.getSnapshotBeforeUpdate)||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(o!==u||m!==l)&&io(t,i,n,l),Fa=!1,m=t.memoizedState,i.state=m,Ua(t,n,i,s);var p=t.memoizedState;o!==u||m!==p||Ps.current||Fa?("function"===typeof h&&(ro(t,r,h,n),p=t.memoizedState),(c=Fa||so(t,r,c,n,m,p,l)||!1)?(d||"function"!==typeof i.UNSAFE_componentWillUpdate&&"function"!==typeof i.componentWillUpdate||("function"===typeof i.componentWillUpdate&&i.componentWillUpdate(n,p,l),"function"===typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(n,p,l)),"function"===typeof i.componentDidUpdate&&(t.flags|=4),"function"===typeof i.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof i.componentDidUpdate||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=p),i.props=n,i.state=p,i.context=l,n=c):("function"!==typeof i.componentDidUpdate||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),n=!1)}return Ao(e,t,r,n,a,s)}function Ao(e,t,r,n,s,a){So(e,t);var i=0!==(128&t.flags);if(!n&&!i)return s&&_s(t,r,!1),qo(e,t,a);n=t.stateNode,vo.current=t;var o=i&&"function"!==typeof r.getDerivedStateFromError?null:n.render();return t.flags|=1,null!==e&&i?(t.child=ba(t,e.child,null,a),t.child=ba(t,null,o,a)):bo(e,t,o,a),t.memoizedState=n.state,s&&_s(t,r,!0),t.child}function Po(e){var t=e.stateNode;t.pendingContext?Ds(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ds(0,t.context,!1),Xa(e,t.containerInfo)}function To(e,t,r,n,s){return ha(),pa(s),t.flags|=256,bo(e,t,r,n),t.child}var Mo,Lo,Ro,Do,Fo={dehydrated:null,treeContext:null,retryLane:0};function Io(e){return{baseLanes:e,cachePool:null,transitions:null}}function _o(e,t,r){var n,s=t.pendingProps,i=Qa.current,o=!1,l=0!==(128&t.flags);if((n=l)||(n=(null===e||null!==e.memoizedState)&&0!==(2&i)),n?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(i|=1),Cs(Qa,1&i),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=s.children,e=s.fallback,o?(s=t.mode,o=t.child,l={mode:"hidden",children:l},0===(1&s)&&null!==o?(o.childLanes=0,o.pendingProps=l):o=Ic(l,s,0,null),e=Fc(e,s,r,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Io(r),t.memoizedState=Fo,e):zo(t,l));if(null!==(i=e.memoizedState)&&null!==(n=i.dehydrated))return function(e,t,r,n,s,i,o){if(r)return 256&t.flags?(t.flags&=-257,Oo(e,t,o,n=co(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=Ic({mode:"visible",children:n.children},s,0,null),(i=Fc(i,s,o,null)).flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,0!==(1&t.mode)&&ba(t,e.child,null,o),t.child.memoizedState=Io(o),t.memoizedState=Fo,i);if(0===(1&t.mode))return Oo(e,t,o,null);if("$!"===s.data){if(n=s.nextSibling&&s.nextSibling.dataset)var l=n.dgst;return n=l,Oo(e,t,o,n=co(i=Error(a(419)),n,void 0))}if(l=0!==(o&e.childLanes),yo||l){if(null!==(n=Pl)){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}0!==(s=0!==(s&(n.suspendedLanes|o))?0:s)&&s!==i.retryLane&&(i.retryLane=s,Da(e,s),rc(n,e,s,-1))}return fc(),Oo(e,t,o,n=co(Error(a(421))))}return"$?"===s.data?(t.flags|=128,t.child=e.child,t=Ec.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,na=cs(s.nextSibling),ra=t,sa=!0,aa=null,null!==e&&(Zs[Ys++]=Js,Zs[Ys++]=Gs,Zs[Ys++]=Xs,Js=e.id,Gs=e.overflow,Xs=t),t=zo(t,n.children),t.flags|=4096,t)}(e,t,l,s,n,i,r);if(o){o=s.fallback,l=t.mode,n=(i=e.child).sibling;var c={mode:"hidden",children:s.children};return 0===(1&l)&&t.child!==i?((s=t.child).childLanes=0,s.pendingProps=c,t.deletions=null):(s=Rc(i,c)).subtreeFlags=14680064&i.subtreeFlags,null!==n?o=Rc(n,o):(o=Fc(o,l,r,null)).flags|=2,o.return=t,s.return=t,s.sibling=o,t.child=s,s=o,o=t.child,l=null===(l=e.child.memoizedState)?Io(r):{baseLanes:l.baseLanes|r,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~r,t.memoizedState=Fo,s}return e=(o=e.child).sibling,s=Rc(o,{mode:"visible",children:s.children}),0===(1&t.mode)&&(s.lanes=r),s.return=t,s.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=s,t.memoizedState=null,s}function zo(e,t){return(t=Ic({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Oo(e,t,r,n){return null!==n&&pa(n),ba(t,e.child,null,r),(e=zo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Vo(e,t,r){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),Aa(e.return,t,r)}function Bo(e,t,r,n,s){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=s)}function Uo(e,t,r){var n=t.pendingProps,s=n.revealOrder,a=n.tail;if(bo(e,t,n.children,r),0!==(2&(n=Qa.current)))n=1&n|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Vo(e,r,t);else if(19===e.tag)Vo(e,r,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Cs(Qa,n),0===(1&t.mode))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;null!==r;)null!==(e=r.alternate)&&null===ei(e)&&(s=r),r=r.sibling;null===(r=s)?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),Bo(t,!1,s,r,a);break;case"backwards":for(r=null,s=t.child,t.child=null;null!==s;){if(null!==(e=s.alternate)&&null===ei(e)){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}Bo(t,!0,r,null,a);break;case"together":Bo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Wo(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function qo(e,t,r){if(null!==e&&(t.dependencies=e.dependencies),Il|=t.lanes,0===(r&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(r=Rc(e=t.child,e.pendingProps),t.child=r,r.return=t;null!==e.sibling;)e=e.sibling,(r=r.sibling=Rc(e,e.pendingProps)).return=t;r.sibling=null}return t.child}function Ho(e,t){if(!sa)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;null!==t;)null!==t.alternate&&(r=t),t=t.sibling;null===r?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;null!==r;)null!==r.alternate&&(n=r),r=r.sibling;null===n?t||null===e.tail?e.tail=null:e.tail.sibling=null:n.sibling=null}}function $o(e){var t=null!==e.alternate&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;null!==s;)r|=s.lanes|s.childLanes,n|=14680064&s.subtreeFlags,n|=14680064&s.flags,s.return=e,s=s.sibling;else for(s=e.child;null!==s;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Zo(e,t,r){var n=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $o(t),null;case 1:case 17:return Ls(t.type)&&Rs(),$o(t),null;case 3:return n=t.stateNode,Ja(),Ss(Ps),Ss(As),ri(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(ua(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(ic(aa),aa=null))),Lo(e,t),$o(t),null;case 5:Ka(t);var s=Ya(Za.current);if(r=t.type,null!==e&&null!=t.stateNode)Ro(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(null===t.stateNode)throw Error(a(166));return $o(t),null}if(e=Ya(Ha.current),ua(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[ms]=t,n[hs]=i,e=0!==(1&t.mode),r){case"dialog":On("cancel",n),On("close",n);break;case"iframe":case"object":case"embed":On("load",n);break;case"video":case"audio":for(s=0;s<Fn.length;s++)On(Fn[s],n);break;case"source":On("error",n);break;case"img":case"image":case"link":On("error",n),On("load",n);break;case"details":On("toggle",n);break;case"input":J(n,i),On("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},On("invalid",n);break;case"textarea":se(n,i),On("invalid",n)}for(var l in ve(r,i),s=null,i)if(i.hasOwnProperty(l)){var c=i[l];"children"===l?"string"===typeof c?n.textContent!==c&&(!0!==i.suppressHydrationWarning&&Kn(n.textContent,c,e),s=["children",c]):"number"===typeof c&&n.textContent!==""+c&&(!0!==i.suppressHydrationWarning&&Kn(n.textContent,c,e),s=["children",""+c]):o.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&On("scroll",n)}switch(r){case"input":$(n),Q(n,i,!0);break;case"textarea":$(n),ie(n);break;case"select":case"option":break;default:"function"===typeof i.onClick&&(n.onclick=Qn)}n=s,t.updateQueue=n,null!==n&&(t.flags|=4)}else{l=9===s.nodeType?s:s.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(r)),"http://www.w3.org/1999/xhtml"===e?"script"===r?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof n.is?e=l.createElement(r,{is:n.is}):(e=l.createElement(r),"select"===r&&(l=e,n.multiple?l.multiple=!0:n.size&&(l.size=n.size))):e=l.createElementNS(e,r),e[ms]=t,e[hs]=n,Mo(e,t,!1,!1),t.stateNode=e;e:{switch(l=ye(r,n),r){case"dialog":On("cancel",e),On("close",e),s=n;break;case"iframe":case"object":case"embed":On("load",e),s=n;break;case"video":case"audio":for(s=0;s<Fn.length;s++)On(Fn[s],e);s=n;break;case"source":On("error",e),s=n;break;case"img":case"image":case"link":On("error",e),On("load",e),s=n;break;case"details":On("toggle",e),s=n;break;case"input":J(e,n),s=X(e,n),On("invalid",e);break;case"option":default:s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=_({},n,{value:void 0}),On("invalid",e);break;case"textarea":se(e,n),s=ne(e,n),On("invalid",e)}for(i in ve(r,s),c=s)if(c.hasOwnProperty(i)){var d=c[i];"style"===i?xe(e,d):"dangerouslySetInnerHTML"===i?null!=(d=d?d.__html:void 0)&&ue(e,d):"children"===i?"string"===typeof d?("textarea"!==r||""!==d)&&me(e,d):"number"===typeof d&&me(e,""+d):"suppressContentEditableWarning"!==i&&"suppressHydrationWarning"!==i&&"autoFocus"!==i&&(o.hasOwnProperty(i)?null!=d&&"onScroll"===i&&On("scroll",e):null!=d&&y(e,i,d,l))}switch(r){case"input":$(e),Q(e,n,!1);break;case"textarea":$(e),ie(e);break;case"option":null!=n.value&&e.setAttribute("value",""+q(n.value));break;case"select":e.multiple=!!n.multiple,null!=(i=n.value)?re(e,!!n.multiple,i,!1):null!=n.defaultValue&&re(e,!!n.multiple,n.defaultValue,!0);break;default:"function"===typeof s.onClick&&(e.onclick=Qn)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return $o(t),null;case 6:if(e&&null!=t.stateNode)Do(e,t,e.memoizedProps,n);else{if("string"!==typeof n&&null===t.stateNode)throw Error(a(166));if(r=Ya(Za.current),Ya(Ha.current),ua(t)){if(n=t.stateNode,r=t.memoizedProps,n[ms]=t,(i=n.nodeValue!==r)&&null!==(e=ra))switch(e.tag){case 3:Kn(n.nodeValue,r,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Kn(n.nodeValue,r,0!==(1&e.mode))}i&&(t.flags|=4)}else(n=(9===r.nodeType?r:r.ownerDocument).createTextNode(n))[ms]=t,t.stateNode=n}return $o(t),null;case 13:if(Ss(Qa),n=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(sa&&null!==na&&0!==(1&t.mode)&&0===(128&t.flags))ma(),ha(),t.flags|=98560,i=!1;else if(i=ua(t),null!==n&&null!==n.dehydrated){if(null===e){if(!i)throw Error(a(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(a(317));i[ms]=t}else ha(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;$o(t),i=!1}else null!==aa&&(ic(aa),aa=null),i=!0;if(!i)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=r,t):((n=null!==n)!==(null!==e&&null!==e.memoizedState)&&n&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Qa.current)?0===Dl&&(Dl=3):fc())),null!==t.updateQueue&&(t.flags|=4),$o(t),null);case 4:return Ja(),Lo(e,t),null===e&&Un(t.stateNode.containerInfo),$o(t),null;case 10:return Ea(t.type._context),$o(t),null;case 19:if(Ss(Qa),null===(i=t.memoizedState))return $o(t),null;if(n=0!==(128&t.flags),null===(l=i.rendering))if(n)Ho(i,!1);else{if(0!==Dl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ei(e))){for(t.flags|=128,Ho(i,!1),null!==(n=l.updateQueue)&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;null!==r;)e=n,(i=r).flags&=14680066,null===(l=i.alternate)?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,e=l.dependencies,i.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Cs(Qa,1&Qa.current|2),t.child}e=e.sibling}null!==i.tail&&Ge()>Ul&&(t.flags|=128,n=!0,Ho(i,!1),t.lanes=4194304)}else{if(!n)if(null!==(e=ei(l))){if(t.flags|=128,n=!0,null!==(r=e.updateQueue)&&(t.updateQueue=r,t.flags|=4),Ho(i,!0),null===i.tail&&"hidden"===i.tailMode&&!l.alternate&&!sa)return $o(t),null}else 2*Ge()-i.renderingStartTime>Ul&&1073741824!==r&&(t.flags|=128,n=!0,Ho(i,!1),t.lanes=4194304);i.isBackwards?(l.sibling=t.child,t.child=l):(null!==(r=i.last)?r.sibling=l:t.child=l,i.last=l)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Ge(),t.sibling=null,r=Qa.current,Cs(Qa,n?1&r|2:1&r),t):($o(t),null);case 22:case 23:return uc(),n=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==n&&(t.flags|=8192),n&&0!==(1&t.mode)?0!==(1073741824&Ll)&&($o(t),6&t.subtreeFlags&&(t.flags|=8192)):$o(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Yo(e,t){switch(ta(t),t.tag){case 1:return Ls(t.type)&&Rs(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Ja(),Ss(Ps),Ss(As),ri(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Ka(t),null;case 13:if(Ss(Qa),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));ha()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ss(Qa),null;case 4:return Ja(),null;case 10:return Ea(t.type._context),null;case 22:case 23:return uc(),null;default:return null}}Mo=function(e,t){for(var r=t.child;null!==r;){if(5===r.tag||6===r.tag)e.appendChild(r.stateNode);else if(4!==r.tag&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},Lo=function(){},Ro=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,Ya(Ha.current);var a,i=null;switch(r){case"input":s=X(e,s),n=X(e,n),i=[];break;case"select":s=_({},s,{value:void 0}),n=_({},n,{value:void 0}),i=[];break;case"textarea":s=ne(e,s),n=ne(e,n),i=[];break;default:"function"!==typeof s.onClick&&"function"===typeof n.onClick&&(e.onclick=Qn)}for(d in ve(r,n),r=null,s)if(!n.hasOwnProperty(d)&&s.hasOwnProperty(d)&&null!=s[d])if("style"===d){var l=s[d];for(a in l)l.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(o.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in n){var c=n[d];if(l=null!=s?s[d]:void 0,n.hasOwnProperty(d)&&c!==l&&(null!=c||null!=l))if("style"===d)if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(r||(r={}),r[a]=c[a])}else r||(i||(i=[]),i.push(d,r)),r=c;else"dangerouslySetInnerHTML"===d?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(i=i||[]).push(d,c)):"children"===d?"string"!==typeof c&&"number"!==typeof c||(i=i||[]).push(d,""+c):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(o.hasOwnProperty(d)?(null!=c&&"onScroll"===d&&On("scroll",e),i||l===c||(i=[])):(i=i||[]).push(d,c))}r&&(i=i||[]).push("style",r);var d=i;(t.updateQueue=d)&&(t.flags|=4)}},Do=function(e,t,r,n){r!==n&&(t.flags|=4)};var Xo=!1,Jo=!1,Go="function"===typeof WeakSet?WeakSet:Set,Ko=null;function Qo(e,t){var r=e.ref;if(null!==r)if("function"===typeof r)try{r(null)}catch(n){kc(e,t,n)}else r.current=null}function el(e,t,r){try{r()}catch(n){kc(e,t,n)}}var tl=!1;function rl(e,t,r){var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var s=n=n.next;do{if((s.tag&e)===e){var a=s.destroy;s.destroy=void 0,void 0!==a&&el(t,r,a)}s=s.next}while(s!==n)}}function nl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function sl(e){var t=e.ref;if(null!==t){var r=e.stateNode;e.tag,e=r,"function"===typeof t?t(e):t.current=e}}function al(e){var t=e.alternate;null!==t&&(e.alternate=null,al(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[ms],delete t[hs],delete t[fs],delete t[xs],delete t[gs])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function il(e){return 5===e.tag||3===e.tag||4===e.tag}function ol(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||il(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,r){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?8===r.nodeType?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(8===r.nodeType?(t=r.parentNode).insertBefore(e,r):(t=r).appendChild(e),null!==(r=r._reactRootContainer)&&void 0!==r||null!==t.onclick||(t.onclick=Qn));else if(4!==n&&null!==(e=e.child))for(ll(e,t,r),e=e.sibling;null!==e;)ll(e,t,r),e=e.sibling}function cl(e,t,r){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(4!==n&&null!==(e=e.child))for(cl(e,t,r),e=e.sibling;null!==e;)cl(e,t,r),e=e.sibling}var dl=null,ul=!1;function ml(e,t,r){for(r=r.child;null!==r;)hl(e,t,r),r=r.sibling}function hl(e,t,r){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(st,r)}catch(o){}switch(r.tag){case 5:Jo||Qo(r,t);case 6:var n=dl,s=ul;dl=null,ml(e,t,r),ul=s,null!==(dl=n)&&(ul?(e=dl,r=r.stateNode,8===e.nodeType?e.parentNode.removeChild(r):e.removeChild(r)):dl.removeChild(r.stateNode));break;case 18:null!==dl&&(ul?(e=dl,r=r.stateNode,8===e.nodeType?ls(e.parentNode,r):1===e.nodeType&&ls(e,r),Ut(e)):ls(dl,r.stateNode));break;case 4:n=dl,s=ul,dl=r.stateNode.containerInfo,ul=!0,ml(e,t,r),dl=n,ul=s;break;case 0:case 11:case 14:case 15:if(!Jo&&(null!==(n=r.updateQueue)&&null!==(n=n.lastEffect))){s=n=n.next;do{var a=s,i=a.destroy;a=a.tag,void 0!==i&&(0!==(2&a)||0!==(4&a))&&el(r,t,i),s=s.next}while(s!==n)}ml(e,t,r);break;case 1:if(!Jo&&(Qo(r,t),"function"===typeof(n=r.stateNode).componentWillUnmount))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){kc(r,t,o)}ml(e,t,r);break;case 21:ml(e,t,r);break;case 22:1&r.mode?(Jo=(n=Jo)||null!==r.memoizedState,ml(e,t,r),Jo=n):ml(e,t,r);break;default:ml(e,t,r)}}function pl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var r=e.stateNode;null===r&&(r=e.stateNode=new Go),t.forEach(function(t){var n=Ac.bind(null,e,t);r.has(t)||(r.add(t),t.then(n,n))})}}function fl(e,t){var r=t.deletions;if(null!==r)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 5:dl=l.stateNode,ul=!1;break e;case 3:case 4:dl=l.stateNode.containerInfo,ul=!0;break e}l=l.return}if(null===dl)throw Error(a(160));hl(i,o,s),dl=null,ul=!1;var c=s.alternate;null!==c&&(c.return=null),s.return=null}catch(d){kc(s,t,d)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)xl(t,e),t=t.sibling}function xl(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(fl(t,e),gl(e),4&n){try{rl(3,e,e.return),nl(3,e)}catch(x){kc(e,e.return,x)}try{rl(5,e,e.return)}catch(x){kc(e,e.return,x)}}break;case 1:fl(t,e),gl(e),512&n&&null!==r&&Qo(r,r.return);break;case 5:if(fl(t,e),gl(e),512&n&&null!==r&&Qo(r,r.return),32&e.flags){var s=e.stateNode;try{me(s,"")}catch(x){kc(e,e.return,x)}}if(4&n&&null!=(s=e.stateNode)){var i=e.memoizedProps,o=null!==r?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===i.type&&null!=i.name&&G(s,i),ye(l,o);var d=ye(l,i);for(o=0;o<c.length;o+=2){var u=c[o],m=c[o+1];"style"===u?xe(s,m):"dangerouslySetInnerHTML"===u?ue(s,m):"children"===u?me(s,m):y(s,u,m,d)}switch(l){case"input":K(s,i);break;case"textarea":ae(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;null!=p?re(s,!!i.multiple,p,!1):h!==!!i.multiple&&(null!=i.defaultValue?re(s,!!i.multiple,i.defaultValue,!0):re(s,!!i.multiple,i.multiple?[]:"",!1))}s[hs]=i}catch(x){kc(e,e.return,x)}}break;case 6:if(fl(t,e),gl(e),4&n){if(null===e.stateNode)throw Error(a(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(x){kc(e,e.return,x)}}break;case 3:if(fl(t,e),gl(e),4&n&&null!==r&&r.memoizedState.isDehydrated)try{Ut(t.containerInfo)}catch(x){kc(e,e.return,x)}break;case 4:default:fl(t,e),gl(e);break;case 13:fl(t,e),gl(e),8192&(s=e.child).flags&&(i=null!==s.memoizedState,s.stateNode.isHidden=i,!i||null!==s.alternate&&null!==s.alternate.memoizedState||(Bl=Ge())),4&n&&pl(e);break;case 22:if(u=null!==r&&null!==r.memoizedState,1&e.mode?(Jo=(d=Jo)||u,fl(t,e),Jo=d):fl(t,e),gl(e),8192&n){if(d=null!==e.memoizedState,(e.stateNode.isHidden=d)&&!u&&0!==(1&e.mode))for(Ko=e,u=e.child;null!==u;){for(m=Ko=u;null!==Ko;){switch(p=(h=Ko).child,h.tag){case 0:case 11:case 14:case 15:rl(4,h,h.return);break;case 1:Qo(h,h.return);var f=h.stateNode;if("function"===typeof f.componentWillUnmount){n=h,r=h.return;try{t=n,f.props=t.memoizedProps,f.state=t.memoizedState,f.componentWillUnmount()}catch(x){kc(n,r,x)}}break;case 5:Qo(h,h.return);break;case 22:if(null!==h.memoizedState){jl(m);continue}}null!==p?(p.return=h,Ko=p):jl(m)}u=u.sibling}e:for(u=null,m=e;;){if(5===m.tag){if(null===u){u=m;try{s=m.stateNode,d?"function"===typeof(i=s.style).setProperty?i.setProperty("display","none","important"):i.display="none":(l=m.stateNode,o=void 0!==(c=m.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=fe("display",o))}catch(x){kc(e,e.return,x)}}}else if(6===m.tag){if(null===u)try{m.stateNode.nodeValue=d?"":m.memoizedProps}catch(x){kc(e,e.return,x)}}else if((22!==m.tag&&23!==m.tag||null===m.memoizedState||m===e)&&null!==m.child){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;null===m.sibling;){if(null===m.return||m.return===e)break e;u===m&&(u=null),m=m.return}u===m&&(u=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:fl(t,e),gl(e),4&n&&pl(e);case 21:}}function gl(e){var t=e.flags;if(2&t){try{e:{for(var r=e.return;null!==r;){if(il(r)){var n=r;break e}r=r.return}throw Error(a(160))}switch(n.tag){case 5:var s=n.stateNode;32&n.flags&&(me(s,""),n.flags&=-33),cl(e,ol(e),s);break;case 3:case 4:var i=n.stateNode.containerInfo;ll(e,ol(e),i);break;default:throw Error(a(161))}}catch(o){kc(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function vl(e,t,r){Ko=e,yl(e,t,r)}function yl(e,t,r){for(var n=0!==(1&e.mode);null!==Ko;){var s=Ko,a=s.child;if(22===s.tag&&n){var i=null!==s.memoizedState||Xo;if(!i){var o=s.alternate,l=null!==o&&null!==o.memoizedState||Jo;o=Xo;var c=Jo;if(Xo=i,(Jo=l)&&!c)for(Ko=s;null!==Ko;)l=(i=Ko).child,22===i.tag&&null!==i.memoizedState?wl(s):null!==l?(l.return=i,Ko=l):wl(s);for(;null!==a;)Ko=a,yl(a,t,r),a=a.sibling;Ko=s,Xo=o,Jo=c}bl(e)}else 0!==(8772&s.subtreeFlags)&&null!==a?(a.return=s,Ko=a):bl(e)}}function bl(e){for(;null!==Ko;){var t=Ko;if(0!==(8772&t.flags)){var r=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Jo||nl(5,t);break;case 1:var n=t.stateNode;if(4&t.flags&&!Jo)if(null===r)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:to(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;null!==i&&Wa(t,i,n);break;case 3:var o=t.updateQueue;if(null!==o){if(r=null,null!==t.child)switch(t.child.tag){case 5:case 1:r=t.child.stateNode}Wa(t,o,r)}break;case 5:var l=t.stateNode;if(null===r&&4&t.flags){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var d=t.alternate;if(null!==d){var u=d.memoizedState;if(null!==u){var m=u.dehydrated;null!==m&&Ut(m)}}}break;default:throw Error(a(163))}Jo||512&t.flags&&sl(t)}catch(h){kc(t,t.return,h)}}if(t===e){Ko=null;break}if(null!==(r=t.sibling)){r.return=t.return,Ko=r;break}Ko=t.return}}function jl(e){for(;null!==Ko;){var t=Ko;if(t===e){Ko=null;break}var r=t.sibling;if(null!==r){r.return=t.return,Ko=r;break}Ko=t.return}}function wl(e){for(;null!==Ko;){var t=Ko;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{nl(4,t)}catch(l){kc(t,r,l)}break;case 1:var n=t.stateNode;if("function"===typeof n.componentDidMount){var s=t.return;try{n.componentDidMount()}catch(l){kc(t,s,l)}}var a=t.return;try{sl(t)}catch(l){kc(t,a,l)}break;case 5:var i=t.return;try{sl(t)}catch(l){kc(t,i,l)}}}catch(l){kc(t,t.return,l)}if(t===e){Ko=null;break}var o=t.sibling;if(null!==o){o.return=t.return,Ko=o;break}Ko=t.return}}var Nl,kl=Math.ceil,Sl=b.ReactCurrentDispatcher,Cl=b.ReactCurrentOwner,El=b.ReactCurrentBatchConfig,Al=0,Pl=null,Tl=null,Ml=0,Ll=0,Rl=ks(0),Dl=0,Fl=null,Il=0,_l=0,zl=0,Ol=null,Vl=null,Bl=0,Ul=1/0,Wl=null,ql=!1,Hl=null,$l=null,Zl=!1,Yl=null,Xl=0,Jl=0,Gl=null,Kl=-1,Ql=0;function ec(){return 0!==(6&Al)?Ge():-1!==Kl?Kl:Kl=Ge()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Al)&&0!==Ml?Ml&-Ml:null!==fa.transition?(0===Ql&&(Ql=ft()),Ql):0!==(e=yt)?e:e=void 0===(e=window.event)?16:Jt(e.type)}function rc(e,t,r,n){if(50<Jl)throw Jl=0,Gl=null,Error(a(185));gt(e,r,n),0!==(2&Al)&&e===Pl||(e===Pl&&(0===(2&Al)&&(_l|=r),4===Dl&&oc(e,Ml)),nc(e,n),1===r&&0===Al&&0===(1&t.mode)&&(Ul=Ge()+500,Os&&Us()))}function nc(e,t){var r=e.callbackNode;!function(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var i=31-it(a),o=1<<i,l=s[i];-1===l?0!==(o&r)&&0===(o&n)||(s[i]=ht(o,t)):l<=t&&(e.expiredLanes|=o),a&=~o}}(e,t);var n=mt(e,e===Pl?Ml:0);if(0===n)null!==r&&Ye(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(null!=r&&Ye(r),1===t)0===e.tag?function(e){Os=!0,Bs(e)}(lc.bind(null,e)):Bs(lc.bind(null,e)),is(function(){0===(6&Al)&&Us()}),r=null;else{switch(bt(n)){case 1:r=Qe;break;case 4:r=et;break;case 16:default:r=tt;break;case 536870912:r=nt}r=Pc(r,sc.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function sc(e,t){if(Kl=-1,Ql=0,0!==(6&Al))throw Error(a(327));var r=e.callbackNode;if(wc()&&e.callbackNode!==r)return null;var n=mt(e,e===Pl?Ml:0);if(0===n)return null;if(0!==(30&n)||0!==(n&e.expiredLanes)||t)t=xc(e,n);else{t=n;var s=Al;Al|=2;var i=pc();for(Pl===e&&Ml===t||(Wl=null,Ul=Ge()+500,mc(e,t));;)try{vc();break}catch(l){hc(e,l)}Ca(),Sl.current=i,Al=s,null!==Tl?t=0:(Pl=null,Ml=0,t=Dl)}if(0!==t){if(2===t&&(0!==(s=pt(e))&&(n=s,t=ac(e,s))),1===t)throw r=Fl,mc(e,0),oc(e,n),nc(e,Ge()),r;if(6===t)oc(e,n);else{if(s=e.current.alternate,0===(30&n)&&!function(e){for(var t=e;;){if(16384&t.flags){var r=t.updateQueue;if(null!==r&&null!==(r=r.stores))for(var n=0;n<r.length;n++){var s=r[n],a=s.getSnapshot;s=s.value;try{if(!on(a(),s))return!1}catch(o){return!1}}}if(r=t.child,16384&t.subtreeFlags&&null!==r)r.return=t,t=r;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(s)&&(2===(t=xc(e,n))&&(0!==(i=pt(e))&&(n=i,t=ac(e,i))),1===t))throw r=Fl,mc(e,0),oc(e,n),nc(e,Ge()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(a(345));case 2:case 5:jc(e,Vl,Wl);break;case 3:if(oc(e,n),(130023424&n)===n&&10<(t=Bl+500-Ge())){if(0!==mt(e,0))break;if(((s=e.suspendedLanes)&n)!==n){ec(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=ns(jc.bind(null,e,Vl,Wl),t);break}jc(e,Vl,Wl);break;case 4:if(oc(e,n),(4194240&n)===n)break;for(t=e.eventTimes,s=-1;0<n;){var o=31-it(n);i=1<<o,(o=t[o])>s&&(s=o),n&=~i}if(n=s,10<(n=(120>(n=Ge()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*kl(n/1960))-n)){e.timeoutHandle=ns(jc.bind(null,e,Vl,Wl),n);break}jc(e,Vl,Wl);break;default:throw Error(a(329))}}}return nc(e,Ge()),e.callbackNode===r?sc.bind(null,e):null}function ac(e,t){var r=Ol;return e.current.memoizedState.isDehydrated&&(mc(e,t).flags|=256),2!==(e=xc(e,t))&&(t=Vl,Vl=r,null!==t&&ic(t)),e}function ic(e){null===Vl?Vl=e:Vl.push.apply(Vl,e)}function oc(e,t){for(t&=~zl,t&=~_l,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-it(t),n=1<<r;e[r]=-1,t&=~n}}function lc(e){if(0!==(6&Al))throw Error(a(327));wc();var t=mt(e,0);if(0===(1&t))return nc(e,Ge()),null;var r=xc(e,t);if(0!==e.tag&&2===r){var n=pt(e);0!==n&&(t=n,r=ac(e,n))}if(1===r)throw r=Fl,mc(e,0),oc(e,t),nc(e,Ge()),r;if(6===r)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,jc(e,Vl,Wl),nc(e,Ge()),null}function cc(e,t){var r=Al;Al|=1;try{return e(t)}finally{0===(Al=r)&&(Ul=Ge()+500,Os&&Us())}}function dc(e){null!==Yl&&0===Yl.tag&&0===(6&Al)&&wc();var t=Al;Al|=1;var r=El.transition,n=yt;try{if(El.transition=null,yt=1,e)return e()}finally{yt=n,El.transition=r,0===(6&(Al=t))&&Us()}}function uc(){Ll=Rl.current,Ss(Rl)}function mc(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(-1!==r&&(e.timeoutHandle=-1,ss(r)),null!==Tl)for(r=Tl.return;null!==r;){var n=r;switch(ta(n),n.tag){case 1:null!==(n=n.type.childContextTypes)&&void 0!==n&&Rs();break;case 3:Ja(),Ss(Ps),Ss(As),ri();break;case 5:Ka(n);break;case 4:Ja();break;case 13:case 19:Ss(Qa);break;case 10:Ea(n.type._context);break;case 22:case 23:uc()}r=r.return}if(Pl=e,Tl=e=Rc(e.current,null),Ml=Ll=t,Dl=0,Fl=null,zl=_l=Il=0,Vl=Ol=null,null!==Ma){for(t=0;t<Ma.length;t++)if(null!==(n=(r=Ma[t]).interleaved)){r.interleaved=null;var s=n.next,a=r.pending;if(null!==a){var i=a.next;a.next=s,n.next=i}r.pending=n}Ma=null}return e}function hc(e,t){for(;;){var r=Tl;try{if(Ca(),ni.current=Gi,ci){for(var n=ii.memoizedState;null!==n;){var s=n.queue;null!==s&&(s.pending=null),n=n.next}ci=!1}if(ai=0,li=oi=ii=null,di=!1,ui=0,Cl.current=null,null===r||null===r.return){Dl=1,Fl=t,Tl=null;break}e:{var i=e,o=r.return,l=r,c=t;if(t=Ml,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var d=c,u=l,m=u.tag;if(0===(1&u.mode)&&(0===m||11===m||15===m)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=xo(o);if(null!==p){p.flags&=-257,go(p,o,l,0,t),1&p.mode&&fo(i,d,t),c=d;var f=(t=p).updateQueue;if(null===f){var x=new Set;x.add(c),t.updateQueue=x}else f.add(c);break e}if(0===(1&t)){fo(i,d,t),fc();break e}c=Error(a(426))}else if(sa&&1&l.mode){var g=xo(o);if(null!==g){0===(65536&g.flags)&&(g.flags|=256),go(g,o,l,0,t),pa(lo(c,l));break e}}i=c=lo(c,l),4!==Dl&&(Dl=2),null===Ol?Ol=[i]:Ol.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t,Ba(i,ho(0,c,t));break e;case 1:l=c;var v=i.type,y=i.stateNode;if(0===(128&i.flags)&&("function"===typeof v.getDerivedStateFromError||null!==y&&"function"===typeof y.componentDidCatch&&(null===$l||!$l.has(y)))){i.flags|=65536,t&=-t,i.lanes|=t,Ba(i,po(i,l,t));break e}}i=i.return}while(null!==i)}bc(r)}catch(b){t=b,Tl===r&&null!==r&&(Tl=r=r.return);continue}break}}function pc(){var e=Sl.current;return Sl.current=Gi,null===e?Gi:e}function fc(){0!==Dl&&3!==Dl&&2!==Dl||(Dl=4),null===Pl||0===(268435455&Il)&&0===(268435455&_l)||oc(Pl,Ml)}function xc(e,t){var r=Al;Al|=2;var n=pc();for(Pl===e&&Ml===t||(Wl=null,mc(e,t));;)try{gc();break}catch(s){hc(e,s)}if(Ca(),Al=r,Sl.current=n,null!==Tl)throw Error(a(261));return Pl=null,Ml=0,Dl}function gc(){for(;null!==Tl;)yc(Tl)}function vc(){for(;null!==Tl&&!Xe();)yc(Tl)}function yc(e){var t=Nl(e.alternate,e,Ll);e.memoizedProps=e.pendingProps,null===t?bc(e):Tl=t,Cl.current=null}function bc(e){var t=e;do{var r=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(r=Zo(r,t,Ll)))return void(Tl=r)}else{if(null!==(r=Yo(r,t)))return r.flags&=32767,void(Tl=r);if(null===e)return Dl=6,void(Tl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Tl=t);Tl=t=e}while(null!==t);0===Dl&&(Dl=5)}function jc(e,t,r){var n=yt,s=El.transition;try{El.transition=null,yt=1,function(e,t,r,n){do{wc()}while(null!==Yl);if(0!==(6&Al))throw Error(a(327));r=e.finishedWork;var s=e.finishedLanes;if(null===r)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(function(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-it(r),a=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~a}}(e,i),e===Pl&&(Tl=Pl=null,Ml=0),0===(2064&r.subtreeFlags)&&0===(2064&r.flags)||Zl||(Zl=!0,Pc(tt,function(){return wc(),null})),i=0!==(15990&r.flags),0!==(15990&r.subtreeFlags)||i){i=El.transition,El.transition=null;var o=yt;yt=1;var l=Al;Al|=4,Cl.current=null,function(e,t){if(es=qt,hn(e=mn())){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{var n=(r=(r=e.ownerDocument)&&r.defaultView||window).getSelection&&r.getSelection();if(n&&0!==n.rangeCount){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch(j){r=null;break e}var o=0,l=-1,c=-1,d=0,u=0,m=e,h=null;t:for(;;){for(var p;m!==r||0!==s&&3!==m.nodeType||(l=o+s),m!==i||0!==n&&3!==m.nodeType||(c=o+n),3===m.nodeType&&(o+=m.nodeValue.length),null!==(p=m.firstChild);)h=m,m=p;for(;;){if(m===e)break t;if(h===r&&++d===s&&(l=o),h===i&&++u===n&&(c=o),null!==(p=m.nextSibling))break;h=(m=h).parentNode}m=p}r=-1===l||-1===c?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(ts={focusedElem:e,selectionRange:r},qt=!1,Ko=t;null!==Ko;)if(e=(t=Ko).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Ko=e;else for(;null!==Ko;){t=Ko;try{var f=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==f){var x=f.memoizedProps,g=f.memoizedState,v=t.stateNode,y=v.getSnapshotBeforeUpdate(t.elementType===t.type?x:to(t.type,x),g);v.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(a(163))}}catch(j){kc(t,t.return,j)}if(null!==(e=t.sibling)){e.return=t.return,Ko=e;break}Ko=t.return}f=tl,tl=!1}(e,r),xl(r,e),pn(ts),qt=!!es,ts=es=null,e.current=r,vl(r,e,s),Je(),Al=l,yt=o,El.transition=i}else e.current=r;if(Zl&&(Zl=!1,Yl=e,Xl=s),i=e.pendingLanes,0===i&&($l=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(st,e,void 0,128===(128&e.current.flags))}catch(t){}}(r.stateNode),nc(e,Ge()),null!==t)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(ql)throw ql=!1,e=Hl,Hl=null,e;0!==(1&Xl)&&0!==e.tag&&wc(),i=e.pendingLanes,0!==(1&i)?e===Gl?Jl++:(Jl=0,Gl=e):Jl=0,Us()}(e,t,r,n)}finally{El.transition=s,yt=n}return null}function wc(){if(null!==Yl){var e=bt(Xl),t=El.transition,r=yt;try{if(El.transition=null,yt=16>e?16:e,null===Yl)var n=!1;else{if(e=Yl,Yl=null,Xl=0,0!==(6&Al))throw Error(a(331));var s=Al;for(Al|=4,Ko=e.current;null!==Ko;){var i=Ko,o=i.child;if(0!==(16&Ko.flags)){var l=i.deletions;if(null!==l){for(var c=0;c<l.length;c++){var d=l[c];for(Ko=d;null!==Ko;){var u=Ko;switch(u.tag){case 0:case 11:case 15:rl(8,u,i)}var m=u.child;if(null!==m)m.return=u,Ko=m;else for(;null!==Ko;){var h=(u=Ko).sibling,p=u.return;if(al(u),u===d){Ko=null;break}if(null!==h){h.return=p,Ko=h;break}Ko=p}}}var f=i.alternate;if(null!==f){var x=f.child;if(null!==x){f.child=null;do{var g=x.sibling;x.sibling=null,x=g}while(null!==x)}}Ko=i}}if(0!==(2064&i.subtreeFlags)&&null!==o)o.return=i,Ko=o;else e:for(;null!==Ko;){if(0!==(2048&(i=Ko).flags))switch(i.tag){case 0:case 11:case 15:rl(9,i,i.return)}var v=i.sibling;if(null!==v){v.return=i.return,Ko=v;break e}Ko=i.return}}var y=e.current;for(Ko=y;null!==Ko;){var b=(o=Ko).child;if(0!==(2064&o.subtreeFlags)&&null!==b)b.return=o,Ko=b;else e:for(o=y;null!==Ko;){if(0!==(2048&(l=Ko).flags))try{switch(l.tag){case 0:case 11:case 15:nl(9,l)}}catch(w){kc(l,l.return,w)}if(l===o){Ko=null;break e}var j=l.sibling;if(null!==j){j.return=l.return,Ko=j;break e}Ko=l.return}}if(Al=s,Us(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(st,e)}catch(w){}n=!0}return n}finally{yt=r,El.transition=t}}return!1}function Nc(e,t,r){e=Oa(e,t=ho(0,t=lo(r,t),1),1),t=ec(),null!==e&&(gt(e,1,t),nc(e,t))}function kc(e,t,r){if(3===e.tag)Nc(e,e,r);else for(;null!==t;){if(3===t.tag){Nc(t,e,r);break}if(1===t.tag){var n=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof n.componentDidCatch&&(null===$l||!$l.has(n))){t=Oa(t,e=po(t,e=lo(r,e),1),1),e=ec(),null!==t&&(gt(t,1,e),nc(t,e));break}}t=t.return}}function Sc(e,t,r){var n=e.pingCache;null!==n&&n.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&r,Pl===e&&(Ml&r)===r&&(4===Dl||3===Dl&&(130023424&Ml)===Ml&&500>Ge()-Bl?mc(e,0):zl|=r),nc(e,t)}function Cc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=dt,0===(130023424&(dt<<=1))&&(dt=4194304)));var r=ec();null!==(e=Da(e,t))&&(gt(e,t,r),nc(e,r))}function Ec(e){var t=e.memoizedState,r=0;null!==t&&(r=t.retryLane),Cc(e,r)}function Ac(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;null!==s&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(a(314))}null!==n&&n.delete(t),Cc(e,r)}function Pc(e,t){return Ze(e,t)}function Tc(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mc(e,t,r,n){return new Tc(e,t,r,n)}function Lc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Rc(e,t){var r=e.alternate;return null===r?((r=Mc(e.tag,t,e.key,e.mode)).elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=14680064&e.flags,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Dc(e,t,r,n,s,i){var o=2;if(n=e,"function"===typeof e)Lc(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case N:return Fc(r.children,s,i,t);case k:o=8,s|=8;break;case S:return(e=Mc(12,r,t,2|s)).elementType=S,e.lanes=i,e;case P:return(e=Mc(13,r,t,s)).elementType=P,e.lanes=i,e;case T:return(e=Mc(19,r,t,s)).elementType=T,e.lanes=i,e;case R:return Ic(r,s,i,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:o=10;break e;case E:o=9;break e;case A:o=11;break e;case M:o=14;break e;case L:o=16,n=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Mc(o,r,t,s)).elementType=e,t.type=n,t.lanes=i,t}function Fc(e,t,r,n){return(e=Mc(7,e,n,t)).lanes=r,e}function Ic(e,t,r,n){return(e=Mc(22,e,n,t)).elementType=R,e.lanes=r,e.stateNode={isHidden:!1},e}function _c(e,t,r){return(e=Mc(6,e,null,t)).lanes=r,e}function zc(e,t,r){return(t=Mc(4,null!==e.children?e.children:[],e.key,t)).lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Oc(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=xt(0),this.expirationTimes=xt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xt(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Vc(e,t,r,n,s,a,i,o,l){return e=new Oc(e,t,r,o,l),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Mc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ia(a),e}function Bc(e){if(!e)return Es;e:{if(Ue(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ls(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var r=e.type;if(Ls(r))return Fs(e,r,t)}return t}function Uc(e,t,r,n,s,a,i,o,l){return(e=Vc(r,n,!0,e,0,a,0,o,l)).context=Bc(null),r=e.current,(a=za(n=ec(),s=tc(r))).callback=void 0!==t&&null!==t?t:null,Oa(r,a,s),e.current.lanes=s,gt(e,s,n),nc(e,n),e}function Wc(e,t,r,n){var s=t.current,a=ec(),i=tc(s);return r=Bc(r),null===t.context?t.context=r:t.pendingContext=r,(t=za(a,i)).payload={element:e},null!==(n=void 0===n?null:n)&&(t.callback=n),null!==(e=Oa(s,t,i))&&(rc(e,s,i,a),Va(e,s,i)),i}function qc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Hc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var r=e.retryLane;e.retryLane=0!==r&&r<t?r:t}}function $c(e,t){Hc(e,t),(e=e.alternate)&&Hc(e,t)}Nl=function(e,t,r){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ps.current)yo=!0;else{if(0===(e.lanes&r)&&0===(128&t.flags))return yo=!1,function(e,t,r){switch(t.tag){case 3:Po(t),ha();break;case 5:Ga(t);break;case 1:Ls(t.type)&&Is(t);break;case 4:Xa(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;Cs(wa,n._currentValue),n._currentValue=s;break;case 13:if(null!==(n=t.memoizedState))return null!==n.dehydrated?(Cs(Qa,1&Qa.current),t.flags|=128,null):0!==(r&t.child.childLanes)?_o(e,t,r):(Cs(Qa,1&Qa.current),null!==(e=qo(e,t,r))?e.sibling:null);Cs(Qa,1&Qa.current);break;case 19:if(n=0!==(r&t.childLanes),0!==(128&e.flags)){if(n)return Uo(e,t,r);t.flags|=128}if(null!==(s=t.memoizedState)&&(s.rendering=null,s.tail=null,s.lastEffect=null),Cs(Qa,Qa.current),n)break;return null;case 22:case 23:return t.lanes=0,ko(e,t,r)}return qo(e,t,r)}(e,t,r);yo=0!==(131072&e.flags)}else yo=!1,sa&&0!==(1048576&t.flags)&&Qs(t,$s,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Wo(e,t),e=t.pendingProps;var s=Ms(t,As.current);Pa(t,r),s=fi(null,t,n,e,s,r);var i=xi();return t.flags|=1,"object"===typeof s&&null!==s&&"function"===typeof s.render&&void 0===s.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ls(n)?(i=!0,Is(t)):i=!1,t.memoizedState=null!==s.state&&void 0!==s.state?s.state:null,Ia(t),s.updater=no,t.stateNode=s,s._reactInternals=t,oo(t,n,e,r),t=Ao(null,t,n,!0,i,r)):(t.tag=0,sa&&i&&ea(t),bo(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Wo(e,t),e=t.pendingProps,n=(s=n._init)(n._payload),t.type=n,s=t.tag=function(e){if("function"===typeof e)return Lc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===A)return 11;if(e===M)return 14}return 2}(n),e=to(n,e),s){case 0:t=Co(null,t,n,e,r);break e;case 1:t=Eo(null,t,n,e,r);break e;case 11:t=jo(null,t,n,e,r);break e;case 14:t=wo(null,t,n,to(n.type,e),r);break e}throw Error(a(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,Co(e,t,n,s=t.elementType===n?s:to(n,s),r);case 1:return n=t.type,s=t.pendingProps,Eo(e,t,n,s=t.elementType===n?s:to(n,s),r);case 3:e:{if(Po(t),null===e)throw Error(a(387));n=t.pendingProps,s=(i=t.memoizedState).element,_a(e,t),Ua(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated){if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=To(e,t,n,r,s=lo(Error(a(423)),t));break e}if(n!==s){t=To(e,t,n,r,s=lo(Error(a(424)),t));break e}for(na=cs(t.stateNode.containerInfo.firstChild),ra=t,sa=!0,aa=null,r=ja(t,null,n,r),t.child=r;r;)r.flags=-3&r.flags|4096,r=r.sibling}else{if(ha(),n===s){t=qo(e,t,r);break e}bo(e,t,n,r)}t=t.child}return t;case 5:return Ga(t),null===e&&ca(t),n=t.type,s=t.pendingProps,i=null!==e?e.memoizedProps:null,o=s.children,rs(n,s)?o=null:null!==i&&rs(n,i)&&(t.flags|=32),So(e,t),bo(e,t,o,r),t.child;case 6:return null===e&&ca(t),null;case 13:return _o(e,t,r);case 4:return Xa(t,t.stateNode.containerInfo),n=t.pendingProps,null===e?t.child=ba(t,null,n,r):bo(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,jo(e,t,n,s=t.elementType===n?s:to(n,s),r);case 7:return bo(e,t,t.pendingProps,r),t.child;case 8:case 12:return bo(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,Cs(wa,n._currentValue),n._currentValue=o,null!==i)if(on(i.value,o)){if(i.children===s.children&&!Ps.current){t=qo(e,t,r);break e}}else for(null!==(i=t.child)&&(i.return=t);null!==i;){var l=i.dependencies;if(null!==l){o=i.child;for(var c=l.firstContext;null!==c;){if(c.context===n){if(1===i.tag){(c=za(-1,r&-r)).tag=2;var d=i.updateQueue;if(null!==d){var u=(d=d.shared).pending;null===u?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}i.lanes|=r,null!==(c=i.alternate)&&(c.lanes|=r),Aa(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(10===i.tag)o=i.type===t.type?null:i.child;else if(18===i.tag){if(null===(o=i.return))throw Error(a(341));o.lanes|=r,null!==(l=o.alternate)&&(l.lanes|=r),Aa(o,r,t),o=i.sibling}else o=i.child;if(null!==o)o.return=i;else for(o=i;null!==o;){if(o===t){o=null;break}if(null!==(i=o.sibling)){i.return=o.return,o=i;break}o=o.return}i=o}bo(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,Pa(t,r),n=n(s=Ta(s)),t.flags|=1,bo(e,t,n,r),t.child;case 14:return s=to(n=t.type,t.pendingProps),wo(e,t,n,s=to(n.type,s),r);case 15:return No(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:to(n,s),Wo(e,t),t.tag=1,Ls(n)?(e=!0,Is(t)):e=!1,Pa(t,r),ao(t,n,s),oo(t,n,s,r),Ao(null,t,n,!0,e,r);case 19:return Uo(e,t,r);case 22:return ko(e,t,r)}throw Error(a(156,t.tag))};var Zc="function"===typeof reportError?reportError:function(e){console.error(e)};function Yc(e){this._internalRoot=e}function Xc(e){this._internalRoot=e}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Gc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Kc(){}function Qc(e,t,r,n,s){var a=r._reactRootContainer;if(a){var i=a;if("function"===typeof s){var o=s;s=function(){var e=qc(i);o.call(e)}}Wc(t,i,e,s)}else i=function(e,t,r,n,s){if(s){if("function"===typeof n){var a=n;n=function(){var e=qc(i);a.call(e)}}var i=Uc(t,n,e,0,null,!1,0,"",Kc);return e._reactRootContainer=i,e[ps]=i.current,Un(8===e.nodeType?e.parentNode:e),dc(),i}for(;s=e.lastChild;)e.removeChild(s);if("function"===typeof n){var o=n;n=function(){var e=qc(l);o.call(e)}}var l=Vc(e,0,!1,null,0,!1,0,"",Kc);return e._reactRootContainer=l,e[ps]=l.current,Un(8===e.nodeType?e.parentNode:e),dc(function(){Wc(t,l,r,n)}),l}(r,t,e,s,n);return qc(i)}Xc.prototype.render=Yc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Wc(e,t,null,null)},Xc.prototype.unmount=Yc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;dc(function(){Wc(null,e,null,null)}),t[ps]=null}},Xc.prototype.unstable_scheduleHydration=function(e){if(e){var t=kt();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Rt.length&&0!==t&&t<Rt[r].priority;r++);Rt.splice(r,0,e),0===r&&_t(e)}},jt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=ut(t.pendingLanes);0!==r&&(vt(t,1|r),nc(t,Ge()),0===(6&Al)&&(Ul=Ge()+500,Us()))}break;case 13:dc(function(){var t=Da(e,1);if(null!==t){var r=ec();rc(t,e,1,r)}}),$c(e,1)}},wt=function(e){if(13===e.tag){var t=Da(e,134217728);if(null!==t)rc(t,e,134217728,ec());$c(e,134217728)}},Nt=function(e){if(13===e.tag){var t=tc(e),r=Da(e,t);if(null!==r)rc(r,e,t,ec());$c(e,t)}},kt=function(){return yt},St=function(e,t){var r=yt;try{return yt=e,t()}finally{yt=r}},we=function(e,t,r){switch(t){case"input":if(K(e,r),t=r.name,"radio"===r.type&&null!=t){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=js(n);if(!s)throw Error(a(90));Z(n),K(n,s)}}}break;case"textarea":ae(e,r);break;case"select":null!=(t=r.value)&&re(e,!!r.multiple,t,!1)}},Ae=cc,Pe=dc;var ed={usingClientEntryPoint:!1,Events:[ys,bs,js,Ce,Ee,cc]},td={findFiberByHostInstance:vs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},rd={bundleType:td.bundleType,version:td.version,rendererPackageName:td.rendererPackageName,rendererConfig:td.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:td.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var nd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nd.isDisabled&&nd.supportsFiber)try{st=nd.inject(rd),at=nd}catch(de){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ed,t.createPortal=function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Jc(t))throw Error(a(200));return function(e,t,r){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:w,key:null==n?null:""+n,children:e,containerInfo:t,implementation:r}}(e,t,null,r)},t.createRoot=function(e,t){if(!Jc(e))throw Error(a(299));var r=!1,n="",s=Zc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(r=!0),void 0!==t.identifierPrefix&&(n=t.identifierPrefix),void 0!==t.onRecoverableError&&(s=t.onRecoverableError)),t=Vc(e,1,!1,null,0,r,0,n,s),e[ps]=t.current,Un(8===e.nodeType?e.parentNode:e),new Yc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return dc(e)},t.hydrate=function(e,t,r){if(!Gc(t))throw Error(a(200));return Qc(null,e,t,!0,r)},t.hydrateRoot=function(e,t,r){if(!Jc(e))throw Error(a(405));var n=null!=r&&r.hydratedSources||null,s=!1,i="",o=Zc;if(null!==r&&void 0!==r&&(!0===r.unstable_strictMode&&(s=!0),void 0!==r.identifierPrefix&&(i=r.identifierPrefix),void 0!==r.onRecoverableError&&(o=r.onRecoverableError)),t=Uc(t,null,e,1,null!=r?r:null,s,0,i,o),e[ps]=t.current,Un(e),n)for(e=0;e<n.length;e++)s=(s=(r=n[e])._getVersion)(r._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new Xc(t)},t.render=function(e,t,r){if(!Gc(t))throw Error(a(200));return Qc(null,e,t,!1,r)},t.unmountComponentAtNode=function(e){if(!Gc(e))throw Error(a(40));return!!e._reactRootContainer&&(dc(function(){Qc(null,null,e,!1,function(){e._reactRootContainer=null,e[ps]=null})}),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Gc(r))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return Qc(e,t,r,!1,n)},t.version="18.3.1-next-f1338f8080-20240426"},2897:(e,t,r)=>{var n=r(3693);function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}e.exports=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach(function(t){n(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e},e.exports.__esModule=!0,e.exports.default=e.exports},3146:(e,t,r)=>{"use strict";var n=r(2897).default;const s=r(6125).rE,a=r(6706);e.exports=n(n({},a),{},{workerPath:"https://cdn.jsdelivr.net/npm/tesseract.js@v".concat(s,"/dist/worker.min.js")})},3693:(e,t,r)=>{var n=r(7736);e.exports=function(e,t,r){return(t=n(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e},e.exports.__esModule=!0,e.exports.default=e.exports},3738:e=>{function t(r){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},3919:(e,t,r)=>{"use strict";const n=r(3146),s=r(4282),a=r(4826),i=r(6171),o=r(6677),l=r(1246);e.exports={defaultOptions:n,spawnWorker:s,terminateWorker:a,onMessage:i,send:o,loadImage:l}},3986:(e,t,r)=>{"use strict";function n(e,t){if(null==e)return{};var r,n,s=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}r.d(t,{A:()=>n})},4202:(e,t)=>{"use strict";var r=Symbol.for("react.element"),n=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),h=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},f=Object.assign,x={};function g(e,t,r){this.props=e,this.context=t,this.refs=x,this.updater=r||p}function v(){}function y(e,t,r){this.props=e,this.context=t,this.refs=x,this.updater=r||p}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=g.prototype;var b=y.prototype=new v;b.constructor=y,f(b,g.prototype),b.isPureReactComponent=!0;var j=Array.isArray,w=Object.prototype.hasOwnProperty,N={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,n){var s,a={},i=null,o=null;if(null!=t)for(s in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(i=""+t.key),t)w.call(t,s)&&!k.hasOwnProperty(s)&&(a[s]=t[s]);var l=arguments.length-2;if(1===l)a.children=n;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];a.children=c}if(e&&e.defaultProps)for(s in l=e.defaultProps)void 0===a[s]&&(a[s]=l[s]);return{$$typeof:r,type:e,key:i,ref:o,props:a,_owner:N.current}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===r}var E=/\/+/g;function A(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function P(e,t,s,a,i){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case r:case n:l=!0}}if(l)return i=i(l=e),e=""===a?"."+A(l,0):a,j(i)?(s="",null!=e&&(s=e.replace(E,"$&/")+"/"),P(i,t,s,"",function(e){return e})):null!=i&&(C(i)&&(i=function(e,t){return{$$typeof:r,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(i,s+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(E,"$&/")+"/")+e)),t.push(i)),1;if(l=0,a=""===a?".":a+":",j(e))for(var c=0;c<e.length;c++){var d=a+A(o=e[c],c);l+=P(o,t,s,d,i)}else if(d=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof d)for(e=d.call(e),c=0;!(o=e.next()).done;)l+=P(o=o.value,t,s,d=a+A(o,c++),i);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function T(e,t,r){if(null==e)return e;var n=[],s=0;return P(e,n,"","",function(e){return t.call(r,e,s++)}),n}function M(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var L={current:null},R={transition:null},D={ReactCurrentDispatcher:L,ReactCurrentBatchConfig:R,ReactCurrentOwner:N};function F(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:T,forEach:function(e,t,r){T(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return T(e,function(){t++}),t},toArray:function(e){return T(e,function(e){return e})||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=s,t.Profiler=i,t.PureComponent=y,t.StrictMode=a,t.Suspense=d,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.act=F,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=f({},e.props),a=e.key,i=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(i=t.ref,o=N.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)w.call(t,c)&&!k.hasOwnProperty(c)&&(s[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)s.children=n;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];s.children=l}return{$$typeof:r,type:e.type,key:a,ref:i,props:s,_owner:o}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:m,_payload:{_status:-1,_result:e},_init:M}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=F,t.useCallback=function(e,t){return L.current.useCallback(e,t)},t.useContext=function(e){return L.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return L.current.useDeferredValue(e)},t.useEffect=function(e,t){return L.current.useEffect(e,t)},t.useId=function(){return L.current.useId()},t.useImperativeHandle=function(e,t,r){return L.current.useImperativeHandle(e,t,r)},t.useInsertionEffect=function(e,t){return L.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return L.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return L.current.useMemo(e,t)},t.useReducer=function(e,t,r){return L.current.useReducer(e,t,r)},t.useRef=function(e){return L.current.useRef(e)},t.useState=function(e){return L.current.useState(e)},t.useSyncExternalStore=function(e,t,r){return L.current.useSyncExternalStore(e,t,r)},t.useTransition=function(){return L.current.useTransition()},t.version="18.3.1"},4282:e=>{"use strict";e.exports=e=>{let t,{workerPath:r,workerBlobURL:n}=e;if(Blob&&URL&&n){const e=new Blob(['importScripts("'.concat(r,'");')],{type:"application/javascript"});t=new Worker(URL.createObjectURL(e))}else t=new Worker(r);return t}},4391:(e,t,r)=>{"use strict";var n=r(7950);t.createRoot=n.createRoot,t.hydrateRoot=n.hydrateRoot},4558:(e,t,r)=>{"use strict";r.d(t,{O5:()=>c,VG:()=>d,apiGet:()=>i,apiJson:()=>l,yX:()=>o});var n=r(7915);const s=({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL||"https://projet-stage-backend.vercel.app").replace(/\/+$/,"");console.log("\ud83d\udd17 Configuration API:",s);const a=e=>{const t=e.replace(/^\/+|\/+$/g,""),r=s.replace(/\/+$/,"");let n="".concat(r,"/").concat(t);return n=n.replace(/([^:])\/\//g,"$1/"),n=n.replace(/(https?:)\/+/g,"$1//"),console.log("URL construite:",n),n},i=async e=>{const t=a(e),r=(0,n.c7)("auth_token"),s={"Content-Type":"application/json",Accept:"application/json"};r&&(s.Authorization="Bearer ".concat(r));try{const e=await fetch(t,{method:"GET",headers:s});if(!e.ok){const t=await e.text();throw console.error("\u274c Server Error Response:",t),new Error("Erreur serveur: ".concat(e.status))}const r=await e.text();try{return JSON.parse(r)}catch(i){throw console.error("\u274c Invalid JSON received:",r.substring(0,100)),new Error("Le serveur a renvoy\xe9 un format invalide (HTML au lieu de JSON)")}}catch(o){throw console.error("\ud83d\udca5 Fetch error:",o),o}},o=async(e,t)=>{const r=a(e),s=(0,n.c7)("auth_token"),i={Accept:"application/json"};s&&(i.Authorization="Bearer ".concat(s));try{const e=await fetch(r,{method:"POST",headers:i,body:t});if(!e.ok){const t=await e.text();throw console.error("\u274c Server Error Response:",t),new Error("Erreur serveur: ".concat(e.status))}const n=await e.text();try{return JSON.parse(n)}catch(o){throw console.error("\u274c Invalid JSON received:",n.substring(0,100)),new Error("Le serveur a renvoy\xe9 un format invalide")}}catch(l){throw console.error("\ud83d\udca5 Upload error:",l),l}},l=async(e,t,r)=>{const s=a(e),i=(0,n.c7)("auth_token"),o={"Content-Type":"application/json",Accept:"application/json"};i&&(o.Authorization="Bearer ".concat(i));try{const e=await fetch(s,{method:t,headers:o,body:r?JSON.stringify(r):void 0});if(!e.ok){const t=await e.text();throw console.error("\u274c Server Error Response:",t),new Error("Erreur serveur: ".concat(e.status))}const n=await e.text();try{return JSON.parse(n)}catch(l){throw console.error("\u274c Invalid JSON received:",n.substring(0,100)),new Error("Le serveur a renvoy\xe9 un format invalide")}}catch(c){throw console.error("\ud83d\udca5 Fetch error:",c),c}},c=e=>{e?(0,n.cT)("auth_token",e):(0,n.Od)("auth_token")},d=e=>e?e.startsWith("http://")||e.startsWith("https://")||e.startsWith("data:")?e:e.startsWith("/")?"".concat(s).concat(e):"".concat(s,"/").concat(e):""},4612:(e,t)=>{"use strict";function r(e,t){var r=e.length;e.push(t);e:for(;0<r;){var n=r-1>>>1,s=e[n];if(!(0<a(s,t)))break e;e[n]=t,e[r]=s,r=n}}function n(e){return 0===e.length?null:e[0]}function s(e){if(0===e.length)return null;var t=e[0],r=e.pop();if(r!==t){e[0]=r;e:for(var n=0,s=e.length,i=s>>>1;n<i;){var o=2*(n+1)-1,l=e[o],c=o+1,d=e[c];if(0>a(l,r))c<s&&0>a(d,l)?(e[n]=d,e[c]=r,n=c):(e[n]=l,e[o]=r,n=o);else{if(!(c<s&&0>a(d,r)))break e;e[n]=d,e[c]=r,n=c}}}return t}function a(e,t){var r=e.sortIndex-t.sortIndex;return 0!==r?r:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,m=null,h=3,p=!1,f=!1,x=!1,g="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,y="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=n(d);null!==t;){if(null===t.callback)s(d);else{if(!(t.startTime<=e))break;s(d),t.sortIndex=t.expirationTime,r(c,t)}t=n(d)}}function j(e){if(x=!1,b(e),!f)if(null!==n(c))f=!0,R(w);else{var t=n(d);null!==t&&D(j,t.startTime-e)}}function w(e,r){f=!1,x&&(x=!1,v(C),C=-1),p=!0;var a=h;try{for(b(r),m=n(c);null!==m&&(!(m.expirationTime>r)||e&&!P());){var i=m.callback;if("function"===typeof i){m.callback=null,h=m.priorityLevel;var o=i(m.expirationTime<=r);r=t.unstable_now(),"function"===typeof o?m.callback=o:m===n(c)&&s(c),b(r)}else s(c);m=n(c)}if(null!==m)var l=!0;else{var u=n(d);null!==u&&D(j,u.startTime-r),l=!1}return l}finally{m=null,h=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var N,k=!1,S=null,C=-1,E=5,A=-1;function P(){return!(t.unstable_now()-A<E)}function T(){if(null!==S){var e=t.unstable_now();A=e;var r=!0;try{r=S(!0,e)}finally{r?N():(k=!1,S=null)}}else k=!1}if("function"===typeof y)N=function(){y(T)};else if("undefined"!==typeof MessageChannel){var M=new MessageChannel,L=M.port2;M.port1.onmessage=T,N=function(){L.postMessage(null)}}else N=function(){g(T,0)};function R(e){S=e,k||(k=!0,N())}function D(e,r){C=g(function(){e(t.unstable_now())},r)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){f||p||(f=!0,R(w))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var r=h;h=t;try{return e()}finally{h=r}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=h;h=e;try{return t()}finally{h=r}},t.unstable_scheduleCallback=function(e,s,a){var i=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?i+a:i:a=i,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:u++,callback:s,priorityLevel:e,startTime:a,expirationTime:o=a+o,sortIndex:-1},a>i?(e.sortIndex=a,r(d,e),null===n(c)&&e===n(d)&&(x?(v(C),C=-1):x=!0,D(j,a-i))):(e.sortIndex=o,r(c,e),f||p||(f=!0,R(w))),e},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(e){var t=h;return function(){var r=h;h=t;try{return e.apply(this,arguments)}finally{h=r}}}},4705:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function s(e){var t=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var s=r.call(e,t||"default");if("object"!=n(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==n(t)?t:t+""}function a(e,t,r){return(t=s(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,{A:()=>a})},4826:e=>{"use strict";e.exports=e=>{e.terminate()}},4893:e=>{e.exports=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r},e.exports.__esModule=!0,e.exports.default=e.exports},5043:(e,t,r)=>{"use strict";e.exports=r(4202)},5362:(e,t,r)=>{"use strict";const n=r(1674);let s=0;e.exports=e=>{let{id:t,action:r,payload:a={}}=e,i=t;return"undefined"===typeof i&&(i=n("Job",s),s+=1),{id:i,action:r,payload:a}}},5597:function(e,t){"use strict";var r=this;let n=!1;t.logging=n,t.setLogging=e=>{n=e},t.log=function(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return n?console.log.apply(r,t):null}},5783:e=>{"use strict";e.exports={OSD_ONLY:"0",AUTO_OSD:"1",AUTO_ONLY:"2",AUTO:"3",SINGLE_COLUMN:"4",SINGLE_BLOCK_VERT_TEXT:"5",SINGLE_BLOCK:"6",SINGLE_LINE:"7",SINGLE_WORD:"8",CIRCLE_WORD:"9",SINGLE_CHAR:"10",SPARSE_TEXT:"11",SPARSE_TEXT_OSD:"12",RAW_LINE:"13"}},6125:e=>{"use strict";e.exports={rE:"6.0.1"}},6171:e=>{"use strict";e.exports=(e,t)=>{e.onmessage=e=>{let{data:r}=e;t(r)}}},6677:e=>{"use strict";e.exports=async(e,t)=>{e.postMessage(t)}},6706:e=>{"use strict";e.exports={workerBlobURL:!0,logger:()=>{}}},7067:(e,t,r)=>{"use strict";e.exports=r(4612)},7092:e=>{"use strict";e.exports={AFR:"afr",AMH:"amh",ARA:"ara",ASM:"asm",AZE:"aze",AZE_CYRL:"aze_cyrl",BEL:"bel",BEN:"ben",BOD:"bod",BOS:"bos",BUL:"bul",CAT:"cat",CEB:"ceb",CES:"ces",CHI_SIM:"chi_sim",CHI_TRA:"chi_tra",CHR:"chr",CYM:"cym",DAN:"dan",DEU:"deu",DZO:"dzo",ELL:"ell",ENG:"eng",ENM:"enm",EPO:"epo",EST:"est",EUS:"eus",FAS:"fas",FIN:"fin",FRA:"fra",FRK:"frk",FRM:"frm",GLE:"gle",GLG:"glg",GRC:"grc",GUJ:"guj",HAT:"hat",HEB:"heb",HIN:"hin",HRV:"hrv",HUN:"hun",IKU:"iku",IND:"ind",ISL:"isl",ITA:"ita",ITA_OLD:"ita_old",JAV:"jav",JPN:"jpn",KAN:"kan",KAT:"kat",KAT_OLD:"kat_old",KAZ:"kaz",KHM:"khm",KIR:"kir",KOR:"kor",KUR:"kur",LAO:"lao",LAT:"lat",LAV:"lav",LIT:"lit",MAL:"mal",MAR:"mar",MKD:"mkd",MLT:"mlt",MSA:"msa",MYA:"mya",NEP:"nep",NLD:"nld",NOR:"nor",ORI:"ori",PAN:"pan",POL:"pol",POR:"por",PUS:"pus",RON:"ron",RUS:"rus",SAN:"san",SIN:"sin",SLK:"slk",SLV:"slv",SPA:"spa",SPA_OLD:"spa_old",SQI:"sqi",SRP:"srp",SRP_LATN:"srp_latn",SWA:"swa",SWE:"swe",SYR:"syr",TAM:"tam",TEL:"tel",TGK:"tgk",TGL:"tgl",THA:"tha",TIR:"tir",TUR:"tur",UIG:"uig",UKR:"ukr",URD:"urd",UZB:"uzb",UZB_CYRL:"uzb_cyrl",VIE:"vie",YID:"yid"}},7599:(e,t,r)=>{"use strict";var n=r(2897).default;const s="browser"===r(1734)("type")?e=>new URL(e,window.location.href).href:e=>e;e.exports=e=>{const t=n({},e);return["corePath","workerPath","langPath"].forEach(r=>{e[r]&&(t[r]=s(t[r]))}),t}},7736:(e,t,r)=>{var n=r(3738).default,s=r(9045);e.exports=function(e){var t=s(e,"string");return"symbol"==n(t)?t:t+""},e.exports.__esModule=!0,e.exports.default=e.exports},7915:(e,t,r)=>{"use strict";r.d(t,{N1:()=>o,Od:()=>i,c7:()=>a,cT:()=>s});const n=e=>{const{hostname:t,port:r}=window.location,n=r?"".concat(t,":").concat(r):t||"default";return"".concat(e,"_").concat(n)},s=(e,t)=>{const r=n(e);localStorage.setItem(r,JSON.stringify(t))},a=e=>{const t=n(e),r=localStorage.getItem(t);return r?JSON.parse(r):null},i=e=>{const t=n(e);localStorage.removeItem(t)},o=()=>{const e=window.location.port||"3000";Object.keys(localStorage).forEach(t=>{t.endsWith("_".concat(e))&&localStorage.removeItem(t)})}},7950:(e,t,r)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=r(2730)},9045:(e,t,r)=>{var n=r(3738).default;e.exports=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var s=r.call(e,t||"default");if("object"!=n(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},9343:(e,t,r)=>{"use strict";var n=r(2897).default,s=r(1847).default;const a=["logger","errorHandler"],i=r(7599),o=r(5362),{log:l}=r(5597),c=r(1674),d=r(1600),{defaultOptions:u,spawnWorker:m,terminateWorker:h,onMessage:p,loadImage:f,send:x}=r(3919);let g=0;e.exports=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"eng",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d.LSTM_ONLY,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},v=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const y=c("Worker",g),b=i(n(n({},u),r)),{logger:j,errorHandler:w}=b,N=s(b,a),k={},S="string"===typeof e?e.split("+"):e;let C=t,E=v;const A=[d.DEFAULT,d.LSTM_ONLY].includes(t)&&!N.legacyCore;let P,T;const M=new Promise((e,t)=>{T=e,P=t});let L=m(N);L.onerror=e=>{P(e.message)},g+=1;const R=e=>{let{id:t,action:r,payload:n}=e;return new Promise((e,s)=>{l("[".concat(y,"]: Start ").concat(t,", action=").concat(r));const a="".concat(r,"-").concat(t);k[a]={resolve:e,reject:s},x(L,{workerId:y,jobId:t,action:r,payload:n})})},D=(e,t)=>R(o({id:t,action:"loadLanguage",payload:{langs:e,options:{langPath:N.langPath,dataPath:N.dataPath,cachePath:N.cachePath,cacheMethod:N.cacheMethod,gzip:N.gzip,lstmOnly:[d.DEFAULT,d.LSTM_ONLY].includes(C)&&!N.legacyLang}}})),F=(e,t,r,n)=>R(o({id:n,action:"initialize",payload:{langs:e,oem:t,config:r}}));p(L,e=>{let{workerId:t,jobId:r,status:s,action:a,data:i}=e;const o="".concat(a,"-").concat(r);if("resolve"===s)l("[".concat(t,"]: Complete ").concat(r)),k[o].resolve({jobId:r,data:i}),delete k[o];else if("reject"===s){if(k[o].reject(i),delete k[o],"load"===a&&P(i),!w)throw Error(i);w(i)}else"progress"===s&&j(n(n({},i),{},{userJobId:r}))});const I={id:y,worker:L,load:()=>console.warn("`load` is depreciated and should be removed from code (workers now come pre-loaded)"),writeText:(e,t,r)=>R(o({id:r,action:"FS",payload:{method:"writeFile",args:[e,t]}})),readText:(e,t)=>R(o({id:t,action:"FS",payload:{method:"readFile",args:[e,{encoding:"utf8"}]}})),removeFile:(e,t)=>R(o({id:t,action:"FS",payload:{method:"unlink",args:[e]}})),FS:(e,t,r)=>R(o({id:r,action:"FS",payload:{method:e,args:t}})),reinitialize:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"eng",t=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0;if(A&&[d.TESSERACT_ONLY,d.TESSERACT_LSTM_COMBINED].includes(t))throw Error("Legacy model requested but code missing.");const s=t||C;C=s;const a=r||E;E=a;const i=("string"===typeof e?e.split("+"):e).filter(e=>!S.includes(e));return S.push(...i),i.length>0?D(i,n).then(()=>F(e,s,a,n)):F(e,s,a,n)},setParameters:function(){return R(o({id:arguments.length>1?arguments[1]:void 0,action:"setParameters",payload:{params:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}}}))},recognize:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{text:!0};return R(o({id:arguments.length>3?arguments[3]:void 0,action:"recognize",payload:{image:await f(e),options:t,output:r}}))},detect:async(e,t)=>{if(A)throw Error("`worker.detect` requires Legacy model, which was not loaded.");return R(o({id:t,action:"detect",payload:{image:await f(e)}}))},terminate:async()=>(null!==L&&(h(L),L=null),Promise.resolve())};var _;return R(o({id:_,action:"load",payload:{options:{lstmOnly:A,corePath:N.corePath,logging:N.logging}}})).then(()=>D(e)).then(()=>F(e,t,v)).then(()=>T(I)).catch(()=>{}),M}},9379:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(4705);function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach(function(t){(0,n.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}}},t={};function r(n){var s=t[n];if(void 0!==s)return s.exports;var a=t[n]={exports:{}};return e[n].call(a.exports,a,a.exports,r),a.exports}r.m=e,r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;r.t=function(n,s){if(1&s&&(n=this(n)),8&s)return n;if("object"===typeof n&&n){if(4&s&&n.__esModule)return n;if(16&s&&"function"===typeof n.then)return n}var a=Object.create(null);r.r(a);var i={};e=e||[null,t({}),t([]),t(t)];for(var o=2&s&&n;("object"==typeof o||"function"==typeof o)&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach(e=>i[e]=()=>n[e]);return i.default=()=>n,r.d(a,i),a}})(),r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.f={},r.e=e=>Promise.all(Object.keys(r.f).reduce((t,n)=>(r.f[n](e,t),t),[])),r.u=e=>"static/js/"+e+"."+{842:"226b2b90",985:"e5a82133"}[e]+".chunk.js",r.miniCssF=e=>{},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="colocation-antananarivo:";r.l=(n,s,a,i)=>{if(e[n])e[n].push(s);else{var o,l;if(void 0!==a)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var u=c[d];if(u.getAttribute("src")==n||u.getAttribute("data-webpack")==t+a){o=u;break}}o||(l=!0,(o=document.createElement("script")).charset="utf-8",r.nc&&o.setAttribute("nonce",r.nc),o.setAttribute("data-webpack",t+a),o.src=n),e[n]=[s];var m=(t,r)=>{o.onerror=o.onload=null,clearTimeout(h);var s=e[n];if(delete e[n],o.parentNode&&o.parentNode.removeChild(o),s&&s.forEach(e=>e(r)),t)return t(r)},h=setTimeout(m.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=m.bind(null,o.onerror),o.onload=m.bind(null,o.onload),l&&document.head.appendChild(o)}}})(),r.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.p="/",(()=>{var e={792:0};r.f.j=(t,n)=>{var s=r.o(e,t)?e[t]:void 0;if(0!==s)if(s)n.push(s[2]);else{var a=new Promise((r,n)=>s=e[t]=[r,n]);n.push(s[2]=a);var i=r.p+r.u(t),o=new Error;r.l(i,n=>{if(r.o(e,t)&&(0!==(s=e[t])&&(e[t]=void 0),s)){var a=n&&("load"===n.type?"missing":n.type),i=n&&n.target&&n.target.src;o.message="Loading chunk "+t+" failed.\n("+a+": "+i+")",o.name="ChunkLoadError",o.type=a,o.request=i,s[1](o)}},"chunk-"+t,t)}};var t=(t,n)=>{var s,a,[i,o,l]=n,c=0;if(i.some(t=>0!==e[t])){for(s in o)r.o(o,s)&&(r.m[s]=o[s]);if(l)l(r)}for(t&&t(n);c<i.length;c++)a=i[c],r.o(e,a)&&e[a]&&e[a][0](),e[a]=0},n=self.webpackChunkcolocation_antananarivo=self.webpackChunkcolocation_antananarivo||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),(()=>{"use strict";var e,t=r(5043),n=r.t(t,2),s=r(4391);function a(){return a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(e||(e={}));const i="popstate";function o(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function l(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(Ke){}}}function c(e,t){return{usr:e.state,key:e.key,idx:t}}function d(e,t,r,n){return void 0===r&&(r=null),a({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?m(t):t,{state:r,key:t&&t.key||n||Math.random().toString(36).substr(2,8)})}function u(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&"?"!==r&&(t+="?"===r.charAt(0)?r:"?"+r),n&&"#"!==n&&(t+="#"===n.charAt(0)?n:"#"+n),t}function m(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function h(t,r,n,s){void 0===s&&(s={});let{window:l=document.defaultView,v5Compat:m=!1}=s,h=l.history,p=e.Pop,f=null,x=g();function g(){return(h.state||{idx:null}).idx}function v(){p=e.Pop;let t=g(),r=null==t?null:t-x;x=t,f&&f({action:p,location:b.location,delta:r})}function y(e){let t="null"!==l.location.origin?l.location.origin:l.location.href,r="string"===typeof e?e:u(e);return r=r.replace(/ $/,"%20"),o(t,"No window.location.(origin|href) available to create URL for href: "+r),new URL(r,t)}null==x&&(x=0,h.replaceState(a({},h.state,{idx:x}),""));let b={get action(){return p},get location(){return t(l,h)},listen(e){if(f)throw new Error("A history only accepts one active listener");return l.addEventListener(i,v),f=e,()=>{l.removeEventListener(i,v),f=null}},createHref:e=>r(l,e),createURL:y,encodeLocation(e){let t=y(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(t,r){p=e.Push;let s=d(b.location,t,r);n&&n(s,t),x=g()+1;let a=c(s,x),i=b.createHref(s);try{h.pushState(a,"",i)}catch(o){if(o instanceof DOMException&&"DataCloneError"===o.name)throw o;l.location.assign(i)}m&&f&&f({action:p,location:b.location,delta:1})},replace:function(t,r){p=e.Replace;let s=d(b.location,t,r);n&&n(s,t),x=g();let a=c(s,x),i=b.createHref(s);h.replaceState(a,"",i),m&&f&&f({action:p,location:b.location,delta:0})},go:e=>h.go(e)};return b}var p;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(p||(p={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function f(e,t,r){return void 0===r&&(r="/"),x(e,t,r,!1)}function x(e,t,r,n){let s=T(("string"===typeof t?m(t):t).pathname||"/",r);if(null==s)return null;let a=g(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let r=e.length===t.length&&e.slice(0,-1).every((e,r)=>e===t[r]);return r?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(a);let i=null;for(let o=0;null==i&&o<a.length;++o){let e=P(s);i=E(a[o],e,n)}return i}function g(e,t,r,n){void 0===t&&(t=[]),void 0===r&&(r=[]),void 0===n&&(n="");let s=(e,s,a)=>{let i={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:s,route:e};i.relativePath.startsWith("/")&&(o(i.relativePath.startsWith(n),'Absolute route path "'+i.relativePath+'" nested under path "'+n+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),i.relativePath=i.relativePath.slice(n.length));let l=F([n,i.relativePath]),c=r.concat(i);e.children&&e.children.length>0&&(o(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+l+'".'),g(e.children,t,c,l)),(null!=e.path||e.index)&&t.push({path:l,score:C(l,e.index),routesMeta:c})};return e.forEach((e,t)=>{var r;if(""!==e.path&&null!=(r=e.path)&&r.includes("?"))for(let n of v(e.path))s(e,t,n);else s(e,t)}),t}function v(e){let t=e.split("/");if(0===t.length)return[];let[r,...n]=t,s=r.endsWith("?"),a=r.replace(/\?$/,"");if(0===n.length)return s?[a,""]:[a];let i=v(n.join("/")),o=[];return o.push(...i.map(e=>""===e?a:[a,e].join("/"))),s&&o.push(...i),o.map(t=>e.startsWith("/")&&""===t?"/":t)}const y=/^:[\w-]+$/,b=3,j=2,w=1,N=10,k=-2,S=e=>"*"===e;function C(e,t){let r=e.split("/"),n=r.length;return r.some(S)&&(n+=k),t&&(n+=j),r.filter(e=>!S(e)).reduce((e,t)=>e+(y.test(t)?b:""===t?w:N),n)}function E(e,t,r){void 0===r&&(r=!1);let{routesMeta:n}=e,s={},a="/",i=[];for(let o=0;o<n.length;++o){let e=n[o],l=o===n.length-1,c="/"===a?t:t.slice(a.length)||"/",d=A({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),u=e.route;if(!d&&l&&r&&!n[n.length-1].route.index&&(d=A({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!d)return null;Object.assign(s,d.params),i.push({params:s,pathname:F([a,d.pathname]),pathnameBase:I(F([a,d.pathnameBase])),route:u}),"/"!==d.pathnameBase&&(a=F([a,d.pathnameBase]))}return i}function A(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=function(e,t,r){void 0===t&&(t=!1);void 0===r&&(r=!0);l("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,r)=>(n.push({paramName:t,isOptional:null!=r}),r?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(n.push({paramName:"*"}),s+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":""!==e&&"/"!==e&&(s+="(?:(?=\\/|$))");let a=new RegExp(s,t?void 0:"i");return[a,n]}(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let a=s[0],i=a.replace(/(.)\/+$/,"$1"),o=s.slice(1),c=n.reduce((e,t,r)=>{let{paramName:n,isOptional:s}=t;if("*"===n){let e=o[r]||"";i=a.slice(0,a.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[r];return e[n]=s&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{});return{params:c,pathname:a,pathnameBase:i,pattern:e}}function P(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return l(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function T(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&"/"!==n?null:e.slice(r)||"/"}function M(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the `to."+r+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function L(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function R(e,t){let r=L(e);return t?r.map((e,t)=>t===r.length-1?e.pathname:e.pathnameBase):r.map(e=>e.pathnameBase)}function D(e,t,r,n){let s;void 0===n&&(n=!1),"string"===typeof e?s=m(e):(s=a({},e),o(!s.pathname||!s.pathname.includes("?"),M("?","pathname","search",s)),o(!s.pathname||!s.pathname.includes("#"),M("#","pathname","hash",s)),o(!s.search||!s.search.includes("#"),M("#","search","hash",s)));let i,l=""===e||""===s.pathname,c=l?"/":s.pathname;if(null==c)i=r;else{let e=t.length-1;if(!n&&c.startsWith("..")){let t=c.split("/");for(;".."===t[0];)t.shift(),e-=1;s.pathname=t.join("/")}i=e>=0?t[e]:"/"}let d=function(e,t){void 0===t&&(t="/");let{pathname:r,search:n="",hash:s=""}="string"===typeof e?m(e):e,a=r?r.startsWith("/")?r:function(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?r.length>1&&r.pop():"."!==e&&r.push(e)}),r.length>1?r.join("/"):"/"}(r,t):t;return{pathname:a,search:_(n),hash:z(s)}}(s,i),u=c&&"/"!==c&&c.endsWith("/"),h=(l||"."===c)&&r.endsWith("/");return d.pathname.endsWith("/")||!u&&!h||(d.pathname+="/"),d}const F=e=>e.join("/").replace(/\/\/+/g,"/"),I=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),_=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",z=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function O(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const V=["post","put","patch","delete"],B=(new Set(V),["get",...V]);new Set(B),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function U(){return U=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},U.apply(this,arguments)}const W=t.createContext(null);const q=t.createContext(null);const H=t.createContext(null);const $=t.createContext(null);const Z=t.createContext({outlet:null,matches:[],isDataRoute:!1});const Y=t.createContext(null);function X(){return null!=t.useContext($)}function J(){return X()||o(!1),t.useContext($).location}function G(e){t.useContext(H).static||t.useLayoutEffect(e)}function K(){let{isDataRoute:e}=t.useContext(Z);return e?function(){let{router:e}=ce(oe.UseNavigateStable),r=ue(le.UseNavigateStable),n=t.useRef(!1);G(()=>{n.current=!0});let s=t.useCallback(function(t,s){void 0===s&&(s={}),n.current&&("number"===typeof t?e.navigate(t):e.navigate(t,U({fromRouteId:r},s)))},[e,r]);return s}():function(){X()||o(!1);let e=t.useContext(W),{basename:r,future:n,navigator:s}=t.useContext(H),{matches:a}=t.useContext(Z),{pathname:i}=J(),l=JSON.stringify(R(a,n.v7_relativeSplatPath)),c=t.useRef(!1);return G(()=>{c.current=!0}),t.useCallback(function(t,n){if(void 0===n&&(n={}),!c.current)return;if("number"===typeof t)return void s.go(t);let a=D(t,JSON.parse(l),i,"path"===n.relative);null==e&&"/"!==r&&(a.pathname="/"===a.pathname?r:F([r,a.pathname])),(n.replace?s.replace:s.push)(a,n.state,n)},[r,s,l,i,e])}()}function Q(){let{matches:e}=t.useContext(Z),r=e[e.length-1];return r?r.params:{}}function ee(e,r){let{relative:n}=void 0===r?{}:r,{future:s}=t.useContext(H),{matches:a}=t.useContext(Z),{pathname:i}=J(),o=JSON.stringify(R(a,s.v7_relativeSplatPath));return t.useMemo(()=>D(e,JSON.parse(o),i,"path"===n),[e,o,i,n])}function te(r,n,s,a){X()||o(!1);let{navigator:i}=t.useContext(H),{matches:l}=t.useContext(Z),c=l[l.length-1],d=c?c.params:{},u=(c&&c.pathname,c?c.pathnameBase:"/");c&&c.route;let h,p=J();if(n){var x;let e="string"===typeof n?m(n):n;"/"===u||(null==(x=e.pathname)?void 0:x.startsWith(u))||o(!1),h=e}else h=p;let g=h.pathname||"/",v=g;if("/"!==u){let e=u.replace(/^\//,"").split("/");v="/"+g.replace(/^\//,"").split("/").slice(e.length).join("/")}let y=f(r,{pathname:v});let b=ie(y&&y.map(e=>Object.assign({},e,{params:Object.assign({},d,e.params),pathname:F([u,i.encodeLocation?i.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?u:F([u,i.encodeLocation?i.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),l,s,a);return n&&b?t.createElement($.Provider,{value:{location:U({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:e.Pop}},b):b}function re(){let e=function(){var e;let r=t.useContext(Y),n=de(le.UseRouteError),s=ue(le.UseRouteError);if(void 0!==r)return r;return null==(e=n.errors)?void 0:e[s]}(),r=O(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s};return t.createElement(t.Fragment,null,t.createElement("h2",null,"Unexpected Application Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},r),n?t.createElement("pre",{style:a},n):null,null)}const ne=t.createElement(re,null);class se extends t.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?t.createElement(Z.Provider,{value:this.props.routeContext},t.createElement(Y.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ae(e){let{routeContext:r,match:n,children:s}=e,a=t.useContext(W);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),t.createElement(Z.Provider,{value:r},s)}function ie(e,r,n,s){var a;if(void 0===r&&(r=[]),void 0===n&&(n=null),void 0===s&&(s=null),null==e){var i;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(i=s)&&i.v7_partialHydration&&0===r.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let l=e,c=null==(a=n)?void 0:a.errors;if(null!=c){let e=l.findIndex(e=>e.route.id&&void 0!==(null==c?void 0:c[e.route.id]));e>=0||o(!1),l=l.slice(0,Math.min(l.length,e+1))}let d=!1,u=-1;if(n&&s&&s.v7_partialHydration)for(let t=0;t<l.length;t++){let e=l[t];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(u=t),e.route.id){let{loaderData:t,errors:r}=n,s=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||s){d=!0,l=u>=0?l.slice(0,u+1):[l[0]];break}}}return l.reduceRight((e,s,a)=>{let i,o=!1,m=null,h=null;var p;n&&(i=c&&s.route.id?c[s.route.id]:void 0,m=s.route.errorElement||ne,d&&(u<0&&0===a?(p="route-fallback",!1||me[p]||(me[p]=!0),o=!0,h=null):u===a&&(o=!0,h=s.route.hydrateFallbackElement||null)));let f=r.concat(l.slice(0,a+1)),x=()=>{let r;return r=i?m:o?h:s.route.Component?t.createElement(s.route.Component,null):s.route.element?s.route.element:e,t.createElement(ae,{match:s,routeContext:{outlet:e,matches:f,isDataRoute:null!=n},children:r})};return n&&(s.route.ErrorBoundary||s.route.errorElement||0===a)?t.createElement(se,{location:n.location,revalidation:n.revalidation,component:m,error:i,children:x(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):x()},null)}var oe=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(oe||{}),le=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(le||{});function ce(e){let r=t.useContext(W);return r||o(!1),r}function de(e){let r=t.useContext(q);return r||o(!1),r}function ue(e){let r=function(){let e=t.useContext(Z);return e||o(!1),e}(),n=r.matches[r.matches.length-1];return n.route.id||o(!1),n.route.id}const me={};function he(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}n.startTransition;function pe(e){let{to:r,replace:n,state:s,relative:a}=e;X()||o(!1);let{future:i,static:l}=t.useContext(H),{matches:c}=t.useContext(Z),{pathname:d}=J(),u=K(),m=D(r,R(c,i.v7_relativeSplatPath),d,"path"===a),h=JSON.stringify(m);return t.useEffect(()=>u(JSON.parse(h),{replace:n,state:s,relative:a}),[u,h,a,n,s]),null}function fe(e){o(!1)}function xe(r){let{basename:n="/",children:s=null,location:a,navigationType:i=e.Pop,navigator:l,static:c=!1,future:d}=r;X()&&o(!1);let u=n.replace(/^\/*/,"/"),h=t.useMemo(()=>({basename:u,navigator:l,static:c,future:U({v7_relativeSplatPath:!1},d)}),[u,d,l,c]);"string"===typeof a&&(a=m(a));let{pathname:p="/",search:f="",hash:x="",state:g=null,key:v="default"}=a,y=t.useMemo(()=>{let e=T(p,u);return null==e?null:{location:{pathname:e,search:f,hash:x,state:g,key:v},navigationType:i}},[u,p,f,x,g,v,i]);return null==y?null:t.createElement(H.Provider,{value:h},t.createElement($.Provider,{children:s,value:y}))}function ge(e){let{children:t,location:r}=e;return te(ve(t),r)}new Promise(()=>{});t.Component;function ve(e,r){void 0===r&&(r=[]);let n=[];return t.Children.forEach(e,(e,s)=>{if(!t.isValidElement(e))return;let a=[...r,s];if(e.type===t.Fragment)return void n.push.apply(n,ve(e.props.children,a));e.type!==fe&&o(!1),e.props.index&&e.props.children&&o(!1);let i={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(i.children=ve(e.props.children,a)),n.push(i)}),n}var ye=r(7950),be=r.t(ye,2);function je(){return je=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},je.apply(this,arguments)}function we(e,t){if(null==e)return{};var r,n,s={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(s[r]=e[r]);return s}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const Ne=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(Ke){}new Map;const ke=n.startTransition;be.flushSync,n.useId;function Se(e){let{basename:r,children:n,future:s,window:a}=e,i=t.useRef();var o;null==i.current&&(i.current=(void 0===(o={window:a,v5Compat:!0})&&(o={}),h(function(e,t){let{pathname:r,search:n,hash:s}=e.location;return d("",{pathname:r,search:n,hash:s},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:u(t)},null,o)));let l=i.current,[c,m]=t.useState({action:l.action,location:l.location}),{v7_startTransition:p}=s||{},f=t.useCallback(e=>{p&&ke?ke(()=>m(e)):m(e)},[m,p]);return t.useLayoutEffect(()=>l.listen(f),[l,f]),t.useEffect(()=>he(s),[s]),t.createElement(xe,{basename:r,children:n,location:c.location,navigationType:c.action,navigator:l,future:s})}const Ce="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Ee=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ae=t.forwardRef(function(e,r){let n,{onClick:s,relative:a,reloadDocument:i,replace:l,state:c,target:d,to:m,preventScrollReset:h,viewTransition:p}=e,f=we(e,Ne),{basename:x}=t.useContext(H),g=!1;if("string"===typeof m&&Ee.test(m)&&(n=m,Ce))try{let e=new URL(window.location.href),t=m.startsWith("//")?new URL(e.protocol+m):new URL(m),r=T(t.pathname,x);t.origin===e.origin&&null!=r?m=r+t.search+t.hash:g=!0}catch(Ke){}let v=function(e,r){let{relative:n}=void 0===r?{}:r;X()||o(!1);let{basename:s,navigator:a}=t.useContext(H),{hash:i,pathname:l,search:c}=ee(e,{relative:n}),d=l;return"/"!==s&&(d="/"===l?s:F([s,l])),a.createHref({pathname:d,search:c,hash:i})}(m,{relative:a}),y=function(e,r){let{target:n,replace:s,state:a,preventScrollReset:i,relative:o,viewTransition:l}=void 0===r?{}:r,c=K(),d=J(),m=ee(e,{relative:o});return t.useCallback(t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let r=void 0!==s?s:u(d)===u(m);c(e,{replace:r,state:a,preventScrollReset:i,relative:o,viewTransition:l})}},[d,c,m,s,a,n,e,i,o,l])}(m,{replace:l,state:c,target:d,preventScrollReset:h,relative:a,viewTransition:p});return t.createElement("a",je({},f,{href:n||v,onClick:g||i?s:function(e){s&&s(e),e.defaultPrevented||y(e)},ref:r,target:d}))});var Pe,Te;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Pe||(Pe={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Te||(Te={}));var Me=r(579);const Le=(0,t.createContext)({});function Re(e){const r=(0,t.useRef)(null);return null===r.current&&(r.current=e()),r.current}const De="undefined"!==typeof window,Fe=De?t.useLayoutEffect:t.useEffect;var Ie=r(9379);const _e=(0,t.createContext)(null);function ze(e){return"object"===typeof e&&null!==e}function Oe(e){return ze(e)&&"offsetHeight"in e}const Ve=(0,t.createContext)({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function Be(e,t){if("function"===typeof e)return e(t);null!==e&&void 0!==e&&(e.current=t)}function Ue(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return t.useCallback(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return e=>{let r=!1;const n=t.map(t=>{const n=Be(t,e);return r||"function"!==typeof n||(r=!0),n});if(r)return()=>{for(let e=0;e<n.length;e++){const r=n[e];"function"===typeof r?r():Be(t[e],null)}}}}(...r),r)}class We extends t.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const e=t.offsetParent,r=Oe(e)&&e.offsetWidth||0,n=this.props.sizeRef.current;n.height=t.offsetHeight||0,n.width=t.offsetWidth||0,n.top=t.offsetTop,n.left=t.offsetLeft,n.right=r-n.width-n.left}return null}componentDidUpdate(){}render(){return this.props.children}}function qe(e){let{children:r,isPresent:n,anchorX:s,root:a}=e;const i=(0,t.useId)(),o=(0,t.useRef)(null),l=(0,t.useRef)({width:0,height:0,top:0,left:0,right:0}),{nonce:c}=(0,t.useContext)(Ve),d=Ue(o,null===r||void 0===r?void 0:r.ref);return(0,t.useInsertionEffect)(()=>{const{width:e,height:t,top:r,left:d,right:u}=l.current;if(n||!o.current||!e||!t)return;const m="left"===s?"left: ".concat(d):"right: ".concat(u);o.current.dataset.motionPopId=i;const h=document.createElement("style");c&&(h.nonce=c);const p=null!==a&&void 0!==a?a:document.head;return p.appendChild(h),h.sheet&&h.sheet.insertRule('\n          [data-motion-pop-id="'.concat(i,'"] {\n            position: absolute !important;\n            width: ').concat(e,"px !important;\n            height: ").concat(t,"px !important;\n            ").concat(m,"px !important;\n            top: ").concat(r,"px !important;\n          }\n        ")),()=>{p.contains(h)&&p.removeChild(h)}},[n]),(0,Me.jsx)(We,{isPresent:n,childRef:o,sizeRef:l,children:t.cloneElement(r,{ref:d})})}const He=e=>{let{children:r,initial:n,isPresent:s,onExitComplete:a,custom:i,presenceAffectsLayout:o,mode:l,anchorX:c,root:d}=e;const u=Re($e),m=(0,t.useId)();let h=!0,p=(0,t.useMemo)(()=>(h=!1,{id:m,initial:n,isPresent:s,custom:i,onExitComplete:e=>{u.set(e,!0);for(const t of u.values())if(!t)return;a&&a()},register:e=>(u.set(e,!1),()=>u.delete(e))}),[s,u,a]);return o&&h&&(p=(0,Ie.A)({},p)),(0,t.useMemo)(()=>{u.forEach((e,t)=>u.set(t,!1))},[s]),t.useEffect(()=>{!s&&!u.size&&a&&a()},[s]),"popLayout"===l&&(r=(0,Me.jsx)(qe,{isPresent:s,anchorX:c,root:d,children:r})),(0,Me.jsx)(_e.Provider,{value:p,children:r})};function $e(){return new Map}function Ze(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const r=(0,t.useContext)(_e);if(null===r)return[!0,null];const{isPresent:n,onExitComplete:s,register:a}=r,i=(0,t.useId)();(0,t.useEffect)(()=>{if(e)return a(i)},[e]);const o=(0,t.useCallback)(()=>e&&s&&s(i),[i,s,e]);return!n&&s?[!1,o]:[!0]}const Ye=e=>e.key||"";function Xe(e){const r=[];return t.Children.forEach(e,e=>{(0,t.isValidElement)(e)&&r.push(e)}),r}const Je=e=>{let{children:r,custom:n,initial:s=!0,onExitComplete:a,presenceAffectsLayout:i=!0,mode:o="sync",propagate:l=!1,anchorX:c="left",root:d}=e;const[u,m]=Ze(l),h=(0,t.useMemo)(()=>Xe(r),[r]),p=l&&!u?[]:h.map(Ye),f=(0,t.useRef)(!0),x=(0,t.useRef)(h),g=Re(()=>new Map),[v,y]=(0,t.useState)(h),[b,j]=(0,t.useState)(h);Fe(()=>{f.current=!1,x.current=h;for(let e=0;e<b.length;e++){const t=Ye(b[e]);p.includes(t)?g.delete(t):!0!==g.get(t)&&g.set(t,!1)}},[b,p.length,p.join("-")]);const w=[];if(h!==v){let e=[...h];for(let t=0;t<b.length;t++){const r=b[t],n=Ye(r);p.includes(n)||(e.splice(t,0,r),w.push(r))}return"wait"===o&&w.length&&(e=w),j(Xe(e)),y(h),null}const{forceRender:N}=(0,t.useContext)(Le);return(0,Me.jsx)(Me.Fragment,{children:b.map(e=>{const t=Ye(e),r=!(l&&!u)&&(h===b||p.includes(t));return(0,Me.jsx)(He,{isPresent:r,initial:!(f.current&&!s)&&void 0,custom:n,presenceAffectsLayout:i,mode:o,root:d,onExitComplete:r?void 0:()=>{if(!g.has(t))return;g.set(t,!0);let e=!0;g.forEach(t=>{t||(e=!1)}),e&&(null===N||void 0===N||N(),j(x.current),l&&(null===m||void 0===m||m()),a&&a())},anchorX:c,children:e},t)})})};function Ge(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}let Ke={data:""},Qe=e=>{if("object"==typeof window){let t=(e?e.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return t.nonce=window.__nonce__,t.parentNode||(e||document.head).appendChild(t),t.firstChild}return e||Ke},et=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,tt=/\/\*[^]*?\*\/|  +/g,rt=/\n+/g,nt=(e,t)=>{let r="",n="",s="";for(let a in e){let i=e[a];"@"==a[0]?"i"==a[1]?r=a+" "+i+";":n+="f"==a[1]?nt(i,a):a+"{"+nt(i,"k"==a[1]?"":t)+"}":"object"==typeof i?n+=nt(i,t?t.replace(/([^,])+/g,e=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,t=>/&/.test(t)?t.replace(/&/g,e):e?e+" "+t:t)):a):null!=i&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=nt.p?nt.p(a,i):a+":"+i+";")}return r+(t&&s?t+"{"+s+"}":s)+n},st={},at=e=>{if("object"==typeof e){let t="";for(let r in e)t+=r+at(e[r]);return t}return e},it=(e,t,r,n,s)=>{let a=at(e),i=st[a]||(st[a]=(e=>{let t=0,r=11;for(;t<e.length;)r=101*r+e.charCodeAt(t++)>>>0;return"go"+r})(a));if(!st[i]){let t=a!==e?e:(e=>{let t,r,n=[{}];for(;t=et.exec(e.replace(tt,""));)t[4]?n.shift():t[3]?(r=t[3].replace(rt," ").trim(),n.unshift(n[0][r]=n[0][r]||{})):n[0][t[1]]=t[2].replace(rt," ").trim();return n[0]})(e);st[i]=nt(s?{["@keyframes "+i]:t}:t,r?"":"."+i)}let o=r&&st.g?st.g:null;return r&&(st.g=st[i]),((e,t,r,n)=>{n?t.data=t.data.replace(n,e):-1===t.data.indexOf(e)&&(t.data=r?e+t.data:t.data+e)})(st[i],t,n,o),i};function ot(e){let t=this||{},r=e.call?e(t.p):e;return it(r.unshift?r.raw?((e,t,r)=>e.reduce((e,n,s)=>{let a=t[s];if(a&&a.call){let e=a(r),t=e&&e.props&&e.props.className||/^go/.test(e)&&e;a=t?"."+t:e&&"object"==typeof e?e.props?"":nt(e,""):!1===e?"":e}return e+n+(null==a?"":a)},""))(r,[].slice.call(arguments,1),t.p):r.reduce((e,r)=>Object.assign(e,r&&r.call?r(t.p):r),{}):r,Qe(t.target),t.g,t.o,t.k)}ot.bind({g:1});let lt,ct,dt,ut=ot.bind({k:1});function mt(e,t){let r=this||{};return function(){let n=arguments;function s(a,i){let o=Object.assign({},a),l=o.className||s.className;r.p=Object.assign({theme:ct&&ct()},o),r.o=/ *go\d+/.test(l),o.className=ot.apply(r,n)+(l?" "+l:""),t&&(o.ref=i);let c=e;return e[0]&&(c=o.as||e,delete o.as),dt&&c[0]&&dt(o),lt(c,o)}return t?t(s):s}}var ht,pt,ft,xt,gt,vt,yt,bt,jt,wt,Nt,kt,St,Ct,Et,At,Pt=(e,t)=>(e=>"function"==typeof e)(e)?e(t):e,Tt=(()=>{let e=0;return()=>(++e).toString()})(),Mt=(()=>{let e;return()=>{if(void 0===e&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),Lt="default",Rt=(e,t)=>{let{toastLimit:r}=e.settings;switch(t.type){case 0:return(0,Ie.A)((0,Ie.A)({},e),{},{toasts:[t.toast,...e.toasts].slice(0,r)});case 1:return(0,Ie.A)((0,Ie.A)({},e),{},{toasts:e.toasts.map(e=>e.id===t.toast.id?(0,Ie.A)((0,Ie.A)({},e),t.toast):e)});case 2:let{toast:n}=t;return Rt(e,{type:e.toasts.find(e=>e.id===n.id)?1:0,toast:n});case 3:let{toastId:s}=t;return(0,Ie.A)((0,Ie.A)({},e),{},{toasts:e.toasts.map(e=>e.id===s||void 0===s?(0,Ie.A)((0,Ie.A)({},e),{},{dismissed:!0,visible:!1}):e)});case 4:return void 0===t.toastId?(0,Ie.A)((0,Ie.A)({},e),{},{toasts:[]}):(0,Ie.A)((0,Ie.A)({},e),{},{toasts:e.toasts.filter(e=>e.id!==t.toastId)});case 5:return(0,Ie.A)((0,Ie.A)({},e),{},{pausedAt:t.time});case 6:let a=t.time-(e.pausedAt||0);return(0,Ie.A)((0,Ie.A)({},e),{},{pausedAt:void 0,toasts:e.toasts.map(e=>(0,Ie.A)((0,Ie.A)({},e),{},{pauseDuration:e.pauseDuration+a}))})}},Dt=[],Ft={toasts:[],pausedAt:void 0,settings:{toastLimit:20}},It={},_t=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Lt;It[t]=Rt(It[t]||Ft,e),Dt.forEach(e=>{let[r,n]=e;r===t&&n(It[t])})},zt=e=>Object.keys(It).forEach(t=>_t(e,t)),Ot=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lt;return t=>{_t(t,e)}},Vt={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Bt=e=>(t,r)=>{let n=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"blank",r=arguments.length>2?arguments[2]:void 0;return(0,Ie.A)((0,Ie.A)({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0},r),{},{id:(null==r?void 0:r.id)||Tt()})}(t,e,r);return Ot(n.toasterId||(e=>Object.keys(It).find(t=>It[t].toasts.some(t=>t.id===e)))(n.id))({type:2,toast:n}),n.id},Ut=(e,t)=>Bt("blank")(e,t);Ut.error=Bt("error"),Ut.success=Bt("success"),Ut.loading=Bt("loading"),Ut.custom=Bt("custom"),Ut.dismiss=(e,t)=>{let r={type:3,toastId:e};t?Ot(t)(r):zt(r)},Ut.dismissAll=e=>Ut.dismiss(void 0,e),Ut.remove=(e,t)=>{let r={type:4,toastId:e};t?Ot(t)(r):zt(r)},Ut.removeAll=e=>Ut.remove(void 0,e),Ut.promise=(e,t,r)=>{let n=Ut.loading(t.loading,(0,Ie.A)((0,Ie.A)({},r),null==r?void 0:r.loading));return"function"==typeof e&&(e=e()),e.then(e=>{let s=t.success?Pt(t.success,e):void 0;return s?Ut.success(s,(0,Ie.A)((0,Ie.A)({id:n},r),null==r?void 0:r.success)):Ut.dismiss(n),e}).catch(e=>{let s=t.error?Pt(t.error,e):void 0;s?Ut.error(s,(0,Ie.A)((0,Ie.A)({id:n},r),null==r?void 0:r.error)):Ut.dismiss(n)}),e};var Wt=function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",{toasts:n,pausedAt:s}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Lt,[n,s]=(0,t.useState)(It[r]||Ft),a=(0,t.useRef)(It[r]);(0,t.useEffect)(()=>(a.current!==It[r]&&s(It[r]),Dt.push([r,s]),()=>{let e=Dt.findIndex(e=>{let[t]=e;return t===r});e>-1&&Dt.splice(e,1)}),[r]);let i=n.toasts.map(t=>{var r,n,s;return(0,Ie.A)((0,Ie.A)((0,Ie.A)((0,Ie.A)({},e),e[t.type]),t),{},{removeDelay:t.removeDelay||(null==(r=e[t.type])?void 0:r.removeDelay)||(null==e?void 0:e.removeDelay),duration:t.duration||(null==(n=e[t.type])?void 0:n.duration)||(null==e?void 0:e.duration)||Vt[t.type],style:(0,Ie.A)((0,Ie.A)((0,Ie.A)({},e.style),null==(s=e[t.type])?void 0:s.style),t.style)})});return(0,Ie.A)((0,Ie.A)({},n),{},{toasts:i})}(e,r),a=(0,t.useRef)(new Map).current,i=(0,t.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;if(a.has(e))return;let r=setTimeout(()=>{a.delete(e),o({type:4,toastId:e})},t);a.set(e,r)},[]);(0,t.useEffect)(()=>{if(s)return;let e=Date.now(),t=n.map(t=>{if(t.duration===1/0)return;let n=(t.duration||0)+t.pauseDuration-(e-t.createdAt);if(!(n<0))return setTimeout(()=>Ut.dismiss(t.id,r),n);t.visible&&Ut.dismiss(t.id)});return()=>{t.forEach(e=>e&&clearTimeout(e))}},[n,s,r]);let o=(0,t.useCallback)(Ot(r),[r]),l=(0,t.useCallback)(()=>{o({type:5,time:Date.now()})},[o]),c=(0,t.useCallback)((e,t)=>{o({type:1,toast:{id:e,height:t}})},[o]),d=(0,t.useCallback)(()=>{s&&o({type:6,time:Date.now()})},[s,o]),u=(0,t.useCallback)((e,t)=>{let{reverseOrder:r=!1,gutter:s=8,defaultPosition:a}=t||{},i=n.filter(t=>(t.position||a)===(e.position||a)&&t.height),o=i.findIndex(t=>t.id===e.id),l=i.filter((e,t)=>t<o&&e.visible).length;return i.filter(e=>e.visible).slice(...r?[l+1]:[0,l]).reduce((e,t)=>e+(t.height||0)+s,0)},[n]);return(0,t.useEffect)(()=>{n.forEach(e=>{if(e.dismissed)i(e.id,e.removeDelay);else{let t=a.get(e.id);t&&(clearTimeout(t),a.delete(e.id))}})},[n,i]),{toasts:n,handlers:{updateHeight:c,startPause:l,endPause:d,calculateOffset:u}}},qt=ut(ht||(ht=Ge(["\nfrom {\n  transform: scale(0) rotate(45deg);\n\topacity: 0;\n}\nto {\n transform: scale(1) rotate(45deg);\n  opacity: 1;\n}"]))),Ht=ut(pt||(pt=Ge(["\nfrom {\n  transform: scale(0);\n  opacity: 0;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}"]))),$t=ut(ft||(ft=Ge(["\nfrom {\n  transform: scale(0) rotate(90deg);\n\topacity: 0;\n}\nto {\n  transform: scale(1) rotate(90deg);\n\topacity: 1;\n}"]))),Zt=mt("div")(xt||(xt=Ge(["\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ",";\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: "," 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n\n  &:after,\n  &:before {\n    content: '';\n    animation: "," 0.15s ease-out forwards;\n    animation-delay: 150ms;\n    position: absolute;\n    border-radius: 3px;\n    opacity: 0;\n    background: ",";\n    bottom: 9px;\n    left: 4px;\n    height: 2px;\n    width: 12px;\n  }\n\n  &:before {\n    animation: "," 0.15s ease-out forwards;\n    animation-delay: 180ms;\n    transform: rotate(90deg);\n  }\n"])),e=>e.primary||"#ff4b4b",qt,Ht,e=>e.secondary||"#fff",$t),Yt=ut(gt||(gt=Ge(["\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n"]))),Xt=mt("div")(vt||(vt=Ge(["\n  width: 12px;\n  height: 12px;\n  box-sizing: border-box;\n  border: 2px solid;\n  border-radius: 100%;\n  border-color: ",";\n  border-right-color: ",";\n  animation: "," 1s linear infinite;\n"])),e=>e.secondary||"#e0e0e0",e=>e.primary||"#616161",Yt),Jt=ut(yt||(yt=Ge(["\nfrom {\n  transform: scale(0) rotate(45deg);\n\topacity: 0;\n}\nto {\n  transform: scale(1) rotate(45deg);\n\topacity: 1;\n}"]))),Gt=ut(bt||(bt=Ge(["\n0% {\n\theight: 0;\n\twidth: 0;\n\topacity: 0;\n}\n40% {\n  height: 0;\n\twidth: 6px;\n\topacity: 1;\n}\n100% {\n  opacity: 1;\n  height: 10px;\n}"]))),Kt=mt("div")(jt||(jt=Ge(["\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ",";\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: "," 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n  &:after {\n    content: '';\n    box-sizing: border-box;\n    animation: "," 0.2s ease-out forwards;\n    opacity: 0;\n    animation-delay: 200ms;\n    position: absolute;\n    border-right: 2px solid;\n    border-bottom: 2px solid;\n    border-color: ",";\n    bottom: 6px;\n    left: 6px;\n    height: 10px;\n    width: 6px;\n  }\n"])),e=>e.primary||"#61d345",Jt,Gt,e=>e.secondary||"#fff"),Qt=mt("div")(wt||(wt=Ge(["\n  position: absolute;\n"]))),er=mt("div")(Nt||(Nt=Ge(["\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-width: 20px;\n  min-height: 20px;\n"]))),tr=ut(kt||(kt=Ge(["\nfrom {\n  transform: scale(0.6);\n  opacity: 0.4;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}"]))),rr=mt("div")(St||(St=Ge(["\n  position: relative;\n  transform: scale(0.6);\n  opacity: 0.4;\n  min-width: 20px;\n  animation: "," 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n"])),tr),nr=e=>{let{toast:r}=e,{icon:n,type:s,iconTheme:a}=r;return void 0!==n?"string"==typeof n?t.createElement(rr,null,n):n:"blank"===s?null:t.createElement(er,null,t.createElement(Xt,(0,Ie.A)({},a)),"loading"!==s&&t.createElement(Qt,null,"error"===s?t.createElement(Zt,(0,Ie.A)({},a)):t.createElement(Kt,(0,Ie.A)({},a))))},sr=e=>"\n0% {transform: translate3d(0,".concat(-200*e,"%,0) scale(.6); opacity:.5;}\n100% {transform: translate3d(0,0,0) scale(1); opacity:1;}\n"),ar=e=>"\n0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}\n100% {transform: translate3d(0,".concat(-150*e,"%,-1px) scale(.6); opacity:0;}\n"),ir=mt("div")(Ct||(Ct=Ge(["\n  display: flex;\n  align-items: center;\n  background: #fff;\n  color: #363636;\n  line-height: 1.3;\n  will-change: transform;\n  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);\n  max-width: 350px;\n  pointer-events: auto;\n  padding: 8px 10px;\n  border-radius: 8px;\n"]))),or=mt("div")(Et||(Et=Ge(["\n  display: flex;\n  justify-content: center;\n  margin: 4px 10px;\n  color: inherit;\n  flex: 1 1 auto;\n  white-space: pre-line;\n"]))),lr=t.memo(e=>{let{toast:r,position:n,style:s,children:a}=e,i=r.height?((e,t)=>{let r=e.includes("top")?1:-1,[n,s]=Mt()?["0%{opacity:0;} 100%{opacity:1;}","0%{opacity:1;} 100%{opacity:0;}"]:[sr(r),ar(r)];return{animation:t?"".concat(ut(n)," 0.35s cubic-bezier(.21,1.02,.73,1) forwards"):"".concat(ut(s)," 0.4s forwards cubic-bezier(.06,.71,.55,1)")}})(r.position||n||"top-center",r.visible):{opacity:0},o=t.createElement(nr,{toast:r}),l=t.createElement(or,(0,Ie.A)({},r.ariaProps),Pt(r.message,r));return t.createElement(ir,{className:r.className,style:(0,Ie.A)((0,Ie.A)((0,Ie.A)({},i),s),r.style)},"function"==typeof a?a({icon:o,message:l}):t.createElement(t.Fragment,null,o,l))});!function(e,t,r,n){nt.p=t,lt=e,ct=r,dt=n}(t.createElement);var cr=e=>{let{id:r,className:n,style:s,onHeightUpdate:a,children:i}=e,o=t.useCallback(e=>{if(e){let t=()=>{let t=e.getBoundingClientRect().height;a(r,t)};t(),new MutationObserver(t).observe(e,{subtree:!0,childList:!0,characterData:!0})}},[r,a]);return t.createElement("div",{ref:o,className:n,style:s},i)},dr=ot(At||(At=Ge(["\n  z-index: 9999;\n  > * {\n    pointer-events: auto;\n  }\n"]))),ur=e=>{let{reverseOrder:r,position:n="top-center",toastOptions:s,gutter:a,children:i,toasterId:o,containerStyle:l,containerClassName:c}=e,{toasts:d,handlers:u}=Wt(s,o);return t.createElement("div",{"data-rht-toaster":o||"",style:(0,Ie.A)({position:"fixed",zIndex:9999,top:16,left:16,right:16,bottom:16,pointerEvents:"none"},l),className:c,onMouseEnter:u.startPause,onMouseLeave:u.endPause},d.map(e=>{let s=e.position||n,o=((e,t)=>{let r=e.includes("top"),n=r?{top:0}:{bottom:0},s=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return(0,Ie.A)((0,Ie.A)({left:0,right:0,display:"flex",position:"absolute",transition:Mt()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:"translateY(".concat(t*(r?1:-1),"px)")},n),s)})(s,u.calculateOffset(e,{reverseOrder:r,gutter:a,defaultPosition:n}));return t.createElement(cr,{id:e.id,key:e.id,onHeightUpdate:u.updateHeight,className:e.visible?dr:"",style:o},"custom"===e.type?Pt(e.message,e):i?i(e):t.createElement(lr,{toast:e,position:s}))}))},mr=Ut,hr=r(4558),pr=r(1257),fr=r.n(pr);const xr=new class{async extractTextFromImage(e){try{console.log("\ud83d\udd0d D\xe9but de l'extraction OCR...");const t=await fr().createWorker("fra+eng",1,{logger:e=>{"recognizing text"===e.status&&console.log("OCR Progress: ".concat((100*e.progress).toFixed(1),"%"))}});await t.setParameters({tessedit_char_whitelist:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz\xc0\xc2\xc7\xc9\xc8\xca\xcb\xce\xcf\xd4\xd9\xdb\xdc\xe0\xe2\xe7\xe9\xe8\xea\xeb\xee\xef\xf4\xf9\xfb\xfc -.,'/",tessedit_ocr_engine_mode:1});const r=await t.recognize(URL.createObjectURL(e));return await t.terminate(),console.log("\u2705 Extraction OCR termin\xe9e"),r.data.text}catch(t){throw console.error("\u274c Erreur OCR:",t),new Error("\xc9chec de l'extraction du texte de la CIN")}}parseCINData(e,t,r){console.log("\ud83d\udcdd Parsing du texte OCR (".concat(r,")..."));const n=e.replace(/\n/g," ").replace(/\s+/g," ").replace(/[^\w\s\xc0-\xff.,/-]/g," ").trim();console.log("\ud83d\udcc4 Texte OCR ".concat(r," nettoy\xe9:"),n);const s={};s.numeroCIN=t,console.log("\u2705 Num\xe9ro CIN (saisi):",s.numeroCIN);return Object.entries({nom:[/nom[:\s]*([a-zA-Z\xc0-\xff\s-]{2,})/i,/anarana[:\s]*([a-zA-Z\xc0-\xff\s-]{2,})/i,/([A-Z][a-zA-Z\xc0-\xff\s-]{2,})(?=\s*pr\xe9nom)/i],prenoms:[/pr[\xe9e]noms?[:\s]*([a-zA-Z\xc0-\xff\s-]{2,})/i,/fanampin['\s]anarana[:\s]*([a-zA-Z\xc0-\xff\s-]{2,})/i,/(?:pr\xe9nom|prenoms)[\s:]+([a-zA-Z\xc0-\xff\s-]{2,})/i],dateNaissance:[/n[\xe9e][e]?\s*(le)?[:\s]*([0-9]{2}[/.-][0-9]{2}[/.-][0-9]{4})/i,/teraka[:\s]*([0-9]{2}[/.-][0-9]{2}[/.-][0-9]{4})/i,/naissance[:\s]*([0-9]{2}[/.-][0-9]{2}[/.-][0-9]{4})/i,/(\d{2}[/.-]\d{2}[/.-]\d{4})/],lieuNaissance:[/[\xe0a]\s*[:\s]*([a-zA-Z\xc0-\xff\s-,]{2,})/i,/tao[:\s]*([a-zA-Z\xc0-\xff\s-,]{2,})/i,/lieu[:\s]*naissance[:\s]*([a-zA-Z\xc0-\xff\s-,]{2,})/i],adresse:[/domicile[:\s]*([a-zA-Z\xc0-\xff0-9\s-,]{5,})/i,/fenenana[:\s]*([a-zA-Z\xc0-\xff0-9\s-,]{5,})/i,/adresse[:\s]*([a-zA-Z\xc0-\xff0-9\s-,]{5,})/i],profession:[/profession[:\s]*([a-zA-Z\xc0-\xff\s-]{2,})/i,/asa[:\s]*([a-zA-Z\xc0-\xff\s-]{2,})/i,/m[\xe9e]tier[:\s]*([a-zA-Z\xc0-\xff\s-]{2,})/i],pere:[/p[\xe8e]re[:\s]*([a-zA-Z\xc0-\xff\s-]{2,})/i,/ray[:\s]*([a-zA-Z\xc0-\xff\s-]{2,})/i,/p\xe8re[:\s]*([a-zA-Z\xc0-\xff\s-]{2,})/i],mere:[/m[\xe8e]re[:\s]*([a-zA-Z\xc0-\xff\s-]{2,})/i,/reny[:\s]*([a-zA-Z\xc0-\xff\s-]{2,})/i,/m\xe8re[:\s]*([a-zA-Z\xc0-\xff\s-]{2,})/i],dateDelivrance:[/d[\xe9e]livr[\xe9e]e?[:\s]*(le)?[:\s]*([0-9]{2}[/.-][0-9]{2}[/.-][0-9]{4})/i,/tamin['\s]ny[:\s]*([0-9]{2}[/.-][0-9]{2}[/.-][0-9]{4})/i,/d\xe9livrance[:\s]*([0-9]{2}[/.-][0-9]{2}[/.-][0-9]{4})/i],lieuDelivrance:[/[\xe0a]\s*[:\s]*([a-zA-Z\xc0-\xff\s-,]{2,})(?=.*d[\xe9e]livr)/i,/faita[:\s]*([a-zA-Z\xc0-\xff\s-,]{2,})/i,/lieu[:\s]*d\xe9livrance[:\s]*([a-zA-Z\xc0-\xff\s-,]{2,})/i]}).forEach(e=>{let[t,r]=e;for(const a of r){const e=n.match(a);if(e){const r=(e[1]||e[0]).trim();if(r&&r.length>1&&!s[t]){s[t]=r,console.log("\u2705 ".concat(t," trouv\xe9:"),r);break}}}}),s}validateCINData(e,t){const r=[];return e.numeroCIN&&/^\d{12}$/.test(e.numeroCIN)||r.push("Num\xe9ro CIN invalide ou manquant"),(!e.nom||e.nom.length<2)&&console.warn("\u26a0\ufe0f Nom manquant ou trop court"),(!e.prenoms||e.prenoms.length<2)&&console.warn("\u26a0\ufe0f Pr\xe9noms manquants ou trop courts"),{isValid:0===r.length,errors:r}}async verifyImageQuality(e){return new Promise(t=>{const r=new Image;r.onload=()=>{let n=70;e.size>5e5&&(n+=10),e.size>1e6&&(n+=10),r.width>1e3&&r.height>800&&(n+=10),t(Math.min(n,95))},r.onerror=()=>t(60),r.src=URL.createObjectURL(e)})}verifyRectoVersoConsistency(e,t){return!0}validateCINNumber(e){return/^\d{12}$/.test(e)}validateImages(e,t){const r=[];return e&&t?(e.type.startsWith("image/")||r.push("Le recto doit \xeatre une image valide"),t.type.startsWith("image/")||r.push("Le verso doit \xeatre une image valide"),e.size>5242880&&r.push("Le recto ne doit pas d\xe9passer 5MB"),t.size>5242880&&r.push("Le verso ne doit pas d\xe9passer 5MB"),r):(r.push("Les deux images (recto et verso) sont requises"),r)}async verifyCIN(e,t,r){try{if(console.log("\ud83d\udd0d D\xe9but de la v\xe9rification CIN simple..."),!this.validateCINNumber(e))return{success:!1,message:"Num\xe9ro CIN invalide",validationErrors:["Le num\xe9ro CIN doit contenir exactement 12 chiffres"]};const n=this.validateImages(t,r);return n.length>0?{success:!1,message:"Probl\xe8mes avec les images",validationErrors:n}:(console.log("\u2705 V\xe9rification CIN r\xe9ussie"),{success:!0,message:"V\xe9rification CIN r\xe9ussie !",validationErrors:[]})}catch(n){return console.error("\u274c Erreur lors de la v\xe9rification CIN:",n),{success:!1,message:"Erreur technique lors de la v\xe9rification",validationErrors:["Erreur syst\xe8me"]}}}};var gr=r(7915);const vr=(0,t.createContext)(void 0),yr=()=>{const e=(0,t.useContext)(vr);if(void 0===e)throw new Error("useAuth must be used within an AuthProvider");return e},br=e=>{let{children:r}=e;const[n,s]=(0,t.useState)(null),[a,i]=(0,t.useState)(!0);(0,t.useEffect)(()=>{const e=(0,gr.c7)("auth_token");console.log("\ud83d\udd10 Token r\xe9cup\xe9r\xe9 pour le port",window.location.port,":",e),e?((0,hr.O5)(e),(async()=>{try{console.log("\ud83d\udd04 Tentative de r\xe9cup\xe9ration du profil...");const e=await(0,hr.apiGet)("/api/auth/me");console.log("\ud83d\udce1 R\xe9ponse me:",e),e.success&&e.data?(console.log("\u2705 Profil r\xe9cup\xe9r\xe9 avec succ\xe8s:",e.data),s(o(e.data))):(console.error("\u274c Erreur dans la r\xe9ponse me:",null===e||void 0===e?void 0:e.message),(0,hr.O5)(null),(0,gr.Od)("auth_token"))}catch(e){console.error("\u274c Erreur lors du chargement du profil:",e),(0,hr.O5)(null),(0,gr.Od)("auth_token"),s(null)}finally{i(!1)}})()):i(!1)},[]);const o=e=>{let t=!1;void 0!==e.cinVerified?t=Boolean(e.cinVerified):void 0!==e.cin_verified?t=Boolean(e.cin_verified):e.cin_verified_at&&(t=!0);const r=!(!e.cin_recto_image_path&&!e.cin_verso_image_path),n=void 0!==e.cinPending&&Boolean(e.cinPending),s=r&&!t||n;return{id:String(e.id),email:e.email,firstName:e.firstName||e.first_name||"",lastName:e.lastName||e.last_name||"",phone:e.phone||"",userType:e.userType||e.user_type,university:e.university||void 0,studyLevel:e.studyLevel||e.study_level||void 0,budget:null!==e.budget&&void 0!==e.budget?Number(e.budget):void 0,preferences:Array.isArray(e.preferences)?e.preferences:[],bio:e.bio||"",avatar:e.avatar||void 0,isVerified:Boolean(e.isVerified||e.is_verified||!1),cinVerified:t,cinPending:s,cinNumber:e.cinNumber||e.cin_number||void 0,cinData:e.cinData?"string"===typeof e.cinData?JSON.parse(e.cinData):e.cinData:void 0,cin_verification_requested_at:e.cin_verification_requested_at||void 0,cin_verified_at:e.cin_verified_at||void 0,accountActivationDeadline:e.account_activation_deadline?new Date(e.account_activation_deadline):void 0,createdAt:e.createdAt?new Date(e.createdAt):e.created_at?new Date(e.created_at):new Date,updatedAt:e.updatedAt?new Date(e.updatedAt):e.updated_at?new Date(e.updated_at):new Date}},l={user:n,setUser:s,login:async(e,t)=>{i(!0);try{var r,n;const i=await(0,hr.apiJson)("/api/auth/login","POST",{email:e,password:t});if(!i.success)throw new Error(i.message||"Erreur de connexion");let l=null;if(null!==(r=i.data)&&void 0!==r&&r.token?l=i.data.token:i.token?l=i.token:(l="demo-token",console.log("\ud83e\uddea Token de d\xe9mo enregistr\xe9 (fallback)")),l&&((0,hr.O5)(l),console.log("\u2705 Token enregistr\xe9 pour le port",window.location.port)),null!==(n=i.data)&&void 0!==n&&n.user)s(o(i.data.user));else if(i.user)s(o(i.user));else if(i.data)s(o(i.data));else try{const e=await(0,hr.apiGet)("/api/auth/me");e.success&&(s(o(e.data)),console.log("\ud83d\udc64 Utilisateur connect\xe9 via me:",e.data))}catch(a){console.warn("\u26a0\ufe0f Impossible de charger le profil via me:",a)}mr.success("Connexion r\xe9ussie !")}catch(l){throw(0,hr.O5)(null),(0,gr.Od)("auth_token"),mr.error(l.message||"Erreur lors de la connexion"),l}finally{i(!1)}},register:async e=>{i(!0);try{var t,r;let i=null;const c=e.profileImage;if(c)try{const e=new FormData;e.append("image",c);const t=await(0,hr.yX)("/api/upload/image",e);var n,a;if(t.success)i=(null===(n=t.data)||void 0===n?void 0:n.url)||(null===(a=t.data)||void 0===a?void 0:a.path),i&&i.length>1e3&&console.warn("URL de l'avatar tr\xe8s longue:",i.length,"caract\xe8res");else console.warn("\xc9chec de l'upload de l'image de profil, continuation sans image")}catch(l){console.error("Erreur lors de l'upload de l'image de profil:",l)}const d=await(0,hr.apiJson)("/api/auth/register","POST",{email:e.email,password:e.password,firstName:e.firstName,lastName:e.lastName,phone:e.phone,userType:e.userType,university:e.university,studyLevel:e.studyLevel,budget:"number"===typeof e.budget?e.budget:Number(e.budget)||null,avatar:i});if(!d.success)throw new Error(d.message||"Erreur lors de l'inscription");const u=(null===d||void 0===d||null===(t=d.data)||void 0===t?void 0:t.token)||(null===d||void 0===d?void 0:d.token);u&&(0,hr.O5)(u);const m=(null===d||void 0===d||null===(r=d.data)||void 0===r?void 0:r.user)||(null===d||void 0===d?void 0:d.user);m&&s(o(m)),mr.success("Inscription r\xe9ussie !")}catch(c){throw console.error("Erreur lors de l'inscription:",c),mr.error(c.message||"Erreur lors de l'inscription"),c}finally{i(!1)}},logout:async()=>{try{await(0,hr.apiJson)("/api/auth/logout","POST")}catch(e){console.error("Erreur lors de la d\xe9connexion:",e)}finally{s(null),(0,hr.O5)(null),(0,gr.N1)(),mr.success("D\xe9connexion r\xe9ussie")}},updateProfile:async e=>{try{const t=await(0,hr.apiJson)("/api/users/me","PUT",e);if(!t.success)throw new Error(t.message||"Erreur lors de la mise \xe0 jour");s(e=>e?(0,Ie.A)((0,Ie.A)({},e),o(t.data)):o(t.data)),mr.success("Profil mis \xe0 jour avec succ\xe8s !")}catch(t){throw mr.error(t.message||"Erreur lors de la mise \xe0 jour du profil"),t}},isLoading:a,verifyCIN:async e=>{i(!0);try{console.log("\ud83d\udd0d D\xe9but de la v\xe9rification CIN simple...");const r=await xr.verifyCIN(e.cinNumber,e.cinRectoImage,e.cinVersoImage);if(console.log("\ud83d\udcca R\xe9sultat v\xe9rification:",r),!r.success){const e=r.message||"Validation CIN locale \xe9chou\xe9e";throw new Error(e)}let a=null;if(e.cinRectoImage){const t=new FormData;t.append("image",e.cinRectoImage);const r=await(0,hr.yX)("/api/upload/image",t);if(!r.success)throw new Error(r.message||"Upload recto \xe9chou\xe9");a=r.data.path}let i=null;if(e.cinVersoImage){const t=new FormData;t.append("image",e.cinVersoImage);const r=await(0,hr.yX)("/api/upload/image",t);if(!r.success)throw new Error(r.message||"Upload verso \xe9chou\xe9");i=r.data.path}const l=await(0,hr.apiJson)("/api/auth/verify_cin","POST",{cinNumber:e.cinNumber,cinRectoImagePath:a,cinVersoImagePath:i,cinData:r.cinData||null});if(!l.success)throw new Error(l.message||"Erreur lors de la v\xe9rification CIN");try{const e=await(0,hr.apiGet)("/api/auth/me");e.success&&e.data&&(s(o(e.data)),console.log("\ud83d\udc64 Utilisateur recharg\xe9 apr\xe8s v\xe9rification CIN:",e.data))}catch(t){if(console.warn("\u26a0\ufe0f Impossible de recharger le profil:",t),n){const t=(0,Ie.A)((0,Ie.A)({},n),{},{isVerified:!1,cinVerified:!1,cinPending:!0,cinNumber:e.cinNumber});s(t)}}mr.success("V\xe9rification CIN soumise avec succ\xe8s ! En attente de validation par un administrateur.")}catch(r){throw console.error("\u274c Erreur v\xe9rification CIN:",r),mr.error(r.message||"Erreur lors de la v\xe9rification CIN"),r}finally{i(!1)}}};return(0,Me.jsx)(vr.Provider,{value:l,children:r})},jr=(0,t.createContext)(void 0),wr=()=>{const e=(0,t.useContext)(jr);if(void 0===e)throw new Error("useProperty must be used within a PropertyProvider");return e},Nr=e=>{let{children:r}=e;const[n,s]=(0,t.useState)([]),[a,i]=(0,t.useState)([]),[o,l]=(0,t.useState)(!1),{user:c}=yr(),d=(0,t.useCallback)(async()=>{l(!0);try{const e=await(0,hr.apiGet)("/api/properties/get_all");if(e.success&&e.data){const t=Array.isArray(e.data)?e.data:[];s(t)}else s([])}catch(e){console.error("Erreur fetchProperties:",e),mr.error("Erreur lors du chargement des propri\xe9t\xe9s"),s([])}finally{l(!1)}},[]),u=(0,t.useCallback)(async()=>{if(c){l(!0);try{const e=await(0,hr.apiGet)("/api/properties/get_by_user");if(e.success&&e.data){const t=Array.isArray(e.data)?e.data:[];i(t)}else i([])}catch(e){console.error("Erreur fetchUserProperties:",e),mr.error("Erreur lors du chargement de vos propri\xe9t\xe9s"),i([])}finally{l(!1)}}else i([])},[c]);(0,t.useEffect)(()=>{d()},[d]),(0,t.useEffect)(()=>{u()},[u]);const m={properties:n,userProperties:a,loading:o,createProperty:async e=>{l(!0);try{if(!c)throw new Error("Vous devez \xeatre connect\xe9 pour cr\xe9er une propri\xe9t\xe9");console.log("Donn\xe9es envoy\xe9es \xe0 l'API:",(0,Ie.A)((0,Ie.A)({},e),{},{ownerId:c.id}));const t=await(0,hr.apiJson)("/api/properties/create","POST",e);if(!t.success)throw new Error(t.message||"Erreur lors de la cr\xe9ation");const r=t.data;s(e=>[r,...e]),i(e=>[r,...e]),mr.success("Propri\xe9t\xe9 cr\xe9\xe9e avec succ\xe8s !")}catch(t){throw console.error("Erreur createProperty:",t),mr.error(t instanceof Error?t.message:"Erreur lors de la cr\xe9ation de la propri\xe9t\xe9"),t}finally{l(!1)}},searchProperties:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};l(!0);try{const t=new URLSearchParams;Object.entries(e).forEach(e=>{let[r,n]=e;void 0!==n&&null!==n&&""!==n&&(Array.isArray(n)?n.forEach(e=>t.append(r,e)):t.append(r,n.toString()))});const r="/api/properties/search?".concat(t.toString()),n=await(0,hr.apiGet)(r);return n.success&&n.data&&Array.isArray(n.data)?n.data:[]}catch(t){return console.error("Erreur searchProperties:",t),mr.error("Erreur lors de la recherche des propri\xe9t\xe9s"),[]}finally{l(!1)}},fetchProperties:d,fetchPropertyById:async e=>{try{const t=await(0,hr.apiGet)("/api/properties/get_by_id/".concat(e));return t.success&&t.data?t.data:null}catch(t){return console.error("Erreur fetchPropertyById:",t),mr.error("Erreur lors du chargement de la propri\xe9t\xe9"),null}},deleteProperty:async e=>{l(!0);try{const t=await(0,hr.apiJson)("/api/properties/delete/".concat(e),"DELETE");if(!t.success)throw new Error(t.message||"Erreur lors de la suppression");s(t=>t.filter(t=>t.id!==e)),i(t=>t.filter(t=>t.id!==e)),mr.success("Propri\xe9t\xe9 supprim\xe9e avec succ\xe8s")}catch(t){throw mr.error("Erreur lors de la suppression de la propri\xe9t\xe9"),t}finally{l(!1)}},updateProperty:async(e,t)=>{l(!0);try{const r=await(0,hr.apiJson)("/api/properties/update/".concat(e),"PUT",t);if(!r.success)throw new Error(r.message||"Erreur lors de la mise \xe0 jour");const n=r.data;return s(t=>t.map(t=>t.id===e?n:t)),i(t=>t.map(t=>t.id===e?n:t)),mr.success("Propri\xe9t\xe9 modifi\xe9e avec succ\xe8s"),n}catch(r){throw mr.error("Erreur lors de la modification de la propri\xe9t\xe9"),r}finally{l(!1)}},fetchUserProperties:u};return(0,Me.jsx)(jr.Provider,{value:m,children:r})},kr=(0,t.createContext)(void 0),Sr=()=>{const e=(0,t.useContext)(kr);if(void 0===e)throw new Error("useMessage must be used within a MessageProvider");return e},Cr=e=>{let{children:r}=e;const[n,s]=(0,t.useState)([]),[a,i]=(0,t.useState)([]),[o,l]=(0,t.useState)(!1),{user:c}=yr(),d=(0,t.useCallback)(async()=>{if(c)try{l(!0);const e=await(0,hr.apiGet)("/api/messages/conversations");if(!e.success)throw new Error(e.message||"Erreur lors du chargement des conversations");const t=(e.data||[]).map(e=>({id:e.id,participants:e.participants,lastMessage:e.lastMessage,unreadCount:e.unreadCount,createdAt:new Date(e.createdAt),updatedAt:new Date(e.updatedAt)}));s(t)}catch(e){console.error("Erreur chargement conversations:",e),mr.error(e.message||"Erreur lors du chargement des conversations")}finally{l(!1)}},[c]),u=(0,t.useCallback)(async e=>{try{const t=await(0,hr.apiGet)("/api/messages/conversation/".concat(e));if(!t.success)throw new Error(t.message||"Erreur lors du chargement des messages");const r=(t.data||[]).map(e=>({id:e.id,conversationId:e.conversationId,senderId:e.senderId,receiverId:e.receiverId,content:e.content,isRead:e.isRead,createdAt:new Date(e.createdAt),sender:e.sender,receiver:e.receiver}));i(e=>{const t=new Set(e.map(e=>e.id)),n=r.filter(e=>!t.has(e.id));return[...e,...n]})}catch(t){console.error("Erreur chargement messages:",t),mr.error(t.message||"Erreur lors du chargement des messages")}},[]);(0,t.useEffect)(()=>{c?d():(s([]),i([]))},[c,d]),(0,t.useEffect)(()=>{if(!c)return;const e=setInterval(()=>{d()},3e3);return()=>clearInterval(e)},[c,d]);const m={conversations:n,messages:a,sendMessage:async(e,t)=>{if(c)if(t.trim()){l(!0);try{const r=await(0,hr.apiJson)("/api/messages/send","POST",{receiverId:e,content:t.trim()});if(!r.success)throw new Error(r.message||"Erreur lors de l'envoi du message");const n={id:r.data.id,conversationId:r.data.conversationId,senderId:r.data.senderId,receiverId:r.data.receiverId,content:r.data.content,isRead:r.data.isRead,createdAt:new Date(r.data.createdAt),sender:r.data.sender,receiver:r.data.receiver};i(e=>[...e,n]),s(e=>e.map(e=>e.id===n.conversationId?(0,Ie.A)((0,Ie.A)({},e),{},{lastMessage:n,updatedAt:new Date(n.createdAt),unreadCount:0}):e)),await d(),mr.success("Message envoy\xe9 !")}catch(r){throw console.error("Erreur envoi message:",r),mr.error(r.message||"Erreur lors de l'envoi du message"),r}finally{l(!1)}}else mr.error("Le message ne peut pas \xeatre vide");else mr.error("Vous devez \xeatre connect\xe9 pour envoyer un message")},markAsRead:async e=>{try{const t=await(0,hr.apiJson)("/api/messages/markAsRead/".concat(e),"PUT");if(!t.success)throw new Error(t.message||"Erreur lors du marquage comme lu");i(t=>t.map(t=>t.id===e?(0,Ie.A)((0,Ie.A)({},t),{},{isRead:!0}):t)),await d()}catch(t){throw console.error("Erreur marquage comme lu:",t),t}},getConversationMessages:async e=>{try{const t=await(0,hr.apiGet)("/api/messages/conversation/".concat(e));if(!t.success)return[];const r=(t.data||[]).map(e=>({id:e.id,conversationId:e.conversationId,senderId:e.senderId,receiverId:e.receiverId,content:e.content,isRead:e.isRead,createdAt:new Date(e.createdAt),sender:e.sender,receiver:e.receiver})).slice(-50);return i(e=>{const t=new Set(e.map(e=>e.id)),n=r.filter(e=>!t.has(e.id));return[...e,...n]}),r}catch(r){var t;return null!==(t=r.message)&&void 0!==t&&t.includes("404")||console.error("Erreur lors du chargement des messages:",r),[]}},refreshConversations:async()=>{await d()},refreshMessages:async()=>{const e=n.map(e=>u(e.id));await Promise.all(e)},loading:o,editMessage:async(e,t)=>{try{const r=await(0,hr.apiJson)("/api/messages/message/".concat(e),"PUT",{content:t});if(!r.success)throw new Error(r.message||"Erreur lors de la modification");i(t=>t.map(t=>t.id===e?(0,Ie.A)((0,Ie.A)({},t),{},{content:r.data.content}):t)),s(t=>t.map(t=>t.lastMessage&&t.lastMessage.id===e?(0,Ie.A)((0,Ie.A)({},t),{},{lastMessage:(0,Ie.A)((0,Ie.A)({},t.lastMessage),{},{content:r.data.content})}):t)),mr.success("Message modifi\xe9")}catch(r){throw mr.error(r.message||"Erreur lors de la modification du message"),r}},deleteMessage:async e=>{try{const t=await(0,hr.apiJson)("/api/messages/message/".concat(e),"DELETE");if(!t.success)throw new Error(t.message||"Erreur lors de la suppression");i(t=>t.filter(t=>t.id!==e)),await d(),mr.success("Message supprim\xe9")}catch(t){throw mr.error(t.message||"Erreur lors de la suppression du message"),t}},deleteConversation:async e=>{try{const t=await(0,hr.apiJson)("/api/messages/conversation/".concat(e),"DELETE");if(!t.success)throw new Error(t.message||"Erreur lors de la suppression");s(t=>t.filter(t=>t.id!==e)),i(t=>t.filter(t=>t.conversationId!==e)),mr.success("Conversation supprim\xe9e")}catch(t){throw mr.error(t.message||"Erreur lors de la suppression de la conversation"),t}}};return(0,Me.jsx)(kr.Provider,{value:m,children:r})},Er=(0,t.createContext)(void 0),Ar=()=>{const e=(0,t.useContext)(Er);if(!e)throw new Error("useAnnouncement must be used within AnnouncementProvider");return e},Pr=e=>{let{children:r}=e;const[n,s]=(0,t.useState)([]),[a,i]=(0,t.useState)([]),[o,l]=(0,t.useState)(!1),{user:c}=yr(),d=(0,t.useCallback)(async()=>{l(!0);try{const e=await(0,hr.apiGet)("/api/announcements/get_all");e.success&&e.data?s(Array.isArray(e.data)?e.data:[]):s([])}catch(e){console.error(e),mr.error("Impossible de charger les annonces"),s([])}finally{l(!1)}},[]),u=(0,t.useCallback)(async()=>{if(c){l(!0);try{const e=await(0,hr.apiGet)("/api/announcements/get_by_user");e.success&&e.data?i(Array.isArray(e.data)?e.data:[]):i([])}catch(e){console.error(e),mr.error("Impossible de charger vos annonces"),i([])}finally{l(!1)}}else i([])},[c]);return(0,t.useEffect)(()=>{d()},[d]),(0,t.useEffect)(()=>{u()},[u]),(0,Me.jsx)(Er.Provider,{value:{announcements:n,userAnnouncements:a,loading:o,fetchAnnouncements:d,fetchUserAnnouncements:u,createAnnouncement:async e=>{if(!c)throw new Error("Non connect\xe9");l(!0);try{const t=await(0,hr.apiJson)("/api/announcements/create","POST",e);if(!t.success)throw new Error(t.message||"Erreur lors de la cr\xe9ation");const r=t.data;s(e=>[r,...e]),Number(r.authorId)===Number(c.id)&&i(e=>[r,...e]),mr.success("Annonce publi\xe9e !")}catch(t){throw mr.error(t.message||"Erreur lors de la publication"),t}finally{l(!1)}},updateAnnouncement:async(e,t)=>{l(!0);try{const r=await(0,hr.apiJson)("/api/announcements/update/".concat(e),"PUT",t);if(!r.success)throw new Error(r.message||"Erreur lors de la mise \xe0 jour");const n=r.data;s(t=>t.map(t=>t.id===e?(0,Ie.A)((0,Ie.A)({},t),n):t)),i(t=>t.map(t=>t.id===e?(0,Ie.A)((0,Ie.A)({},t),n):t)),mr.success("Annonce mise \xe0 jour")}catch(r){throw mr.error(r.message||"Mise \xe0 jour impossible"),r}finally{l(!1)}},deleteAnnouncement:async e=>{l(!0);try{const t=await(0,hr.apiJson)("/api/announcements/delete/".concat(e),"DELETE");if(!t.success)throw new Error(t.message||"Erreur lors de la suppression");s(t=>t.filter(t=>t.id!==e)),i(t=>t.filter(t=>t.id!==e)),mr.success("Annonce supprim\xe9e")}catch(t){throw mr.error("Suppression impossible"),t}finally{l(!1)}}},children:r})},Tr=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Mr=(()=>new Set(Tr))(),Lr=e=>180*e/Math.PI,Rr=e=>{const t=Lr(Math.atan2(e[1],e[0]));return Fr(t)},Dr={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Rr,rotateZ:Rr,skewX:e=>Lr(Math.atan(e[1])),skewY:e=>Lr(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Fr=e=>((e%=360)<0&&(e+=360),e),Ir=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),_r=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),zr={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Ir,scaleY:_r,scale:e=>(Ir(e)+_r(e))/2,rotateX:e=>Fr(Lr(Math.atan2(e[6],e[5]))),rotateY:e=>Fr(Lr(Math.atan2(-e[2],e[0]))),rotateZ:Rr,rotate:Rr,skewX:e=>Lr(Math.atan(e[4])),skewY:e=>Lr(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Or(e){return e.includes("scale")?1:0}function Vr(e,t){if(!e||"none"===e)return Or(t);const r=e.match(/^matrix3d\(([\t-\r ,-\.0-9e\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+)\)$/);let n,s;if(r)n=zr,s=r;else{const t=e.match(/^matrix\(([\t-\r ,-\.0-9e\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+)\)$/);n=Dr,s=t}if(!s)return Or(t);const a=n[t],i=s[1].split(",").map(Br);return"function"===typeof a?a(i):i[a]}function Br(e){return parseFloat(e.trim())}const Ur=e=>t=>"string"===typeof t&&t.startsWith(e),Wr=Ur("--"),qr=Ur("var(--"),Hr=e=>!!qr(e)&&$r.test(e.split("/*")[0].trim()),$r=/var\(--(?:[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*|[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*,(?:[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:(?![\t-\r \(\)\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uD800-\uDFFF\uFEFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])|[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\((?:(?:(?![\(\)\uD800-\uDFFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])|\((?:(?![\(\)\uD800-\uDFFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])*\))*\))+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)\)$/i;function Zr(e){let{top:t,left:r,right:n,bottom:s}=e;return{x:{min:r,max:n},y:{min:t,max:s}}}const Yr=(e,t,r)=>e+(t-e)*r;function Xr(e){return void 0===e||1===e}function Jr(e){let{scale:t,scaleX:r,scaleY:n}=e;return!Xr(t)||!Xr(r)||!Xr(n)}function Gr(e){return Jr(e)||Kr(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function Kr(e){return Qr(e.x)||Qr(e.y)}function Qr(e){return e&&"0%"!==e}function en(e,t,r){return r+t*(e-r)}function tn(e,t,r,n,s){return void 0!==s&&(e=en(e,s,n)),en(e,r,n)+t}function rn(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0;e.min=tn(e.min,t,r,n,s),e.max=tn(e.max,t,r,n,s)}function nn(e,t){let{x:r,y:n}=t;rn(e.x,r.translate,r.scale,r.originPoint),rn(e.y,n.translate,n.scale,n.originPoint)}const sn=.999999999999,an=1.0000000000001;function on(e,t){e.min=e.min+t,e.max=e.max+t}function ln(e,t,r,n){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.5;rn(e,t,r,Yr(e.min,e.max,s),n)}function cn(e,t){ln(e.x,t.x,t.scaleX,t.scale,t.originX),ln(e.y,t.y,t.scaleY,t.scale,t.originY)}function dn(e,t){return Zr(function(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}(e.getBoundingClientRect(),t))}const un=new Set(["width","height","top","left","right","bottom",...Tr]),mn=(e,t,r)=>r>t?t:r<e?e:r,hn={test:e=>"number"===typeof e,parse:parseFloat,transform:e=>e},pn=(0,Ie.A)((0,Ie.A)({},hn),{},{transform:e=>mn(0,1,e)}),fn=(0,Ie.A)((0,Ie.A)({},hn),{},{default:1}),xn=e=>({test:t=>"string"===typeof t&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>"".concat(t).concat(e)}),gn=xn("deg"),vn=xn("%"),yn=xn("px"),bn=xn("vh"),jn=xn("vw"),wn=(()=>(0,Ie.A)((0,Ie.A)({},vn),{},{parse:e=>vn.parse(e)/100,transform:e=>vn.transform(100*e)}))(),Nn=e=>t=>t.test(e),kn=[hn,yn,vn,gn,jn,bn,{test:e=>"auto"===e,parse:e=>e}],Sn=e=>kn.find(Nn(e));const Cn=e=>/^-?(?:[0-9]+(?:\.[0-9]+)?|\.[0-9]+)$/.test(e),En=/^var\(--(?:([\x2D0-9A-Z_a-z]+)|([\x2D0-9A-Z_a-z]+), ?([ #%\(\),-\.0-9A-Za-z]+))\)/;function An(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;'Max CSS variable fallback depth detected in property "'.concat(e,'". This may indicate a circular fallback dependency.');const[n,s]=function(e){const t=En.exec(e);if(!t)return[,];const[,r,n,s]=t;return["--".concat(null!==r&&void 0!==r?r:n),s]}(e);if(!n)return;const a=window.getComputedStyle(t).getPropertyValue(n);if(a){const e=a.trim();return Cn(e)?parseFloat(e):e}return Hr(s)?An(s,t,r+1):s}const Pn=e=>e===hn||e===yn,Tn=new Set(["x","y","z"]),Mn=Tr.filter(e=>!Tn.has(e));const Ln={width:(e,t)=>{let{x:r}=e,{paddingLeft:n="0",paddingRight:s="0"}=t;return r.max-r.min-parseFloat(n)-parseFloat(s)},height:(e,t)=>{let{y:r}=e,{paddingTop:n="0",paddingBottom:s="0"}=t;return r.max-r.min-parseFloat(n)-parseFloat(s)},top:(e,t)=>{let{top:r}=t;return parseFloat(r)},left:(e,t)=>{let{left:r}=t;return parseFloat(r)},bottom:(e,t)=>{let{y:r}=e,{top:n}=t;return parseFloat(n)+(r.max-r.min)},right:(e,t)=>{let{x:r}=e,{left:n}=t;return parseFloat(n)+(r.max-r.min)},x:(e,t)=>{let{transform:r}=t;return Vr(r,"x")},y:(e,t)=>{let{transform:r}=t;return Vr(r,"y")}};Ln.translateX=Ln.x,Ln.translateY=Ln.y;const Rn=e=>e,Dn={},Fn=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],In={value:null,addProjectionMetrics:null};function _n(e,t){let r=!1,n=!0;const s={delta:0,timestamp:0,isProcessing:!1},a=()=>r=!0,i=Fn.reduce((e,r)=>(e[r]=function(e,t){let r=new Set,n=new Set,s=!1,a=!1;const i=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1},l=0;function c(t){i.has(t)&&(d.schedule(t),e()),l++,t(o)}const d={schedule:function(e){const t=arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&s?r:n;return arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&i.add(e),t.has(e)||t.add(e),e},cancel:e=>{n.delete(e),i.delete(e)},process:e=>{o=e,s?a=!0:(s=!0,[r,n]=[n,r],r.forEach(c),t&&In.value&&In.value.frameloop[t].push(l),l=0,r.clear(),s=!1,a&&(a=!1,d.process(e)))}};return d}(a,t?r:void 0),e),{}),{setup:o,read:l,resolveKeyframes:c,preUpdate:d,update:u,preRender:m,render:h,postRender:p}=i,f=()=>{const a=Dn.useManualTiming?s.timestamp:performance.now();r=!1,Dn.useManualTiming||(s.delta=n?1e3/60:Math.max(Math.min(a-s.timestamp,40),1)),s.timestamp=a,s.isProcessing=!0,o.process(s),l.process(s),c.process(s),d.process(s),u.process(s),m.process(s),h.process(s),p.process(s),s.isProcessing=!1,r&&t&&(n=!1,e(f))},x=Fn.reduce((t,a)=>{const o=i[a];return t[a]=function(t){let a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return r||(r=!0,n=!0,s.isProcessing||e(f)),o.schedule(t,a,i)},t},{});return{schedule:x,cancel:e=>{for(let t=0;t<Fn.length;t++)i[Fn[t]].cancel(e)},state:s,steps:i}}const{schedule:zn,cancel:On,state:Vn,steps:Bn}=_n("undefined"!==typeof requestAnimationFrame?requestAnimationFrame:Rn,!0),Un=new Set;let Wn=!1,qn=!1,Hn=!1;function $n(){if(qn){const e=Array.from(Un).filter(e=>e.needsMeasurement),t=new Set(e.map(e=>e.element)),r=new Map;t.forEach(e=>{const t=function(e){const t=[];return Mn.forEach(r=>{const n=e.getValue(r);void 0!==n&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t}(e);t.length&&(r.set(e,t),e.render())}),e.forEach(e=>e.measureInitialState()),t.forEach(e=>{e.render();const t=r.get(e);t&&t.forEach(t=>{var r;let[n,s]=t;null===(r=e.getValue(n))||void 0===r||r.set(s)})}),e.forEach(e=>e.measureEndState()),e.forEach(e=>{void 0!==e.suspendedScrollY&&window.scrollTo(0,e.suspendedScrollY)})}qn=!1,Wn=!1,Un.forEach(e=>e.complete(Hn)),Un.clear()}function Zn(){Un.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(qn=!0)})}class Yn{constructor(e,t,r,n,s){let a=arguments.length>5&&void 0!==arguments[5]&&arguments[5];this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=r,this.motionValue=n,this.element=s,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(Un.add(this),Wn||(Wn=!0,zn.read(Zn),zn.resolveKeyframes($n))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:r,motionValue:n}=this;if(null===e[0]){const s=null===n||void 0===n?void 0:n.get(),a=e[e.length-1];if(void 0!==s)e[0]=s;else if(r&&t){const n=r.readValue(t,a);void 0!==n&&null!==n&&(e[0]=n)}void 0===e[0]&&(e[0]=a),n&&void 0===s&&n.set(e[0])}!function(e){for(let r=1;r<e.length;r++){var t;null!==(t=e[r])&&void 0!==t||(e[r]=e[r-1])}}(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Un.delete(this)}cancel(){"scheduled"===this.state&&(Un.delete(this),this.state="pending")}resume(){"pending"===this.state&&this.scheduleResolve()}}const Xn=e=>/^0(?:[\0-\x08\x0E-\x1F!-\x2D\/-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+$/.test(e);function Jn(e){return"number"===typeof e?0===e:null===e||("none"===e||"0"===e||Xn(e))}const Gn=e=>Math.round(1e5*e)/1e5,Kn=/-?(?:[0-9]+(?:\.[0-9]+)?|\.[0-9]+)/g;const Qn=/^(?:#[0-9a-f]{3,8}|(?:rgb|h[s\u017F]l)a?\((?:-?[\.0-9]+%?[\t-\r ,\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+){2}-?[\.0-9]+%?[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:[,\/][\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)?(?:\b[0-9]+(?:\.[0-9]+)?|\.[0-9]+)?%?\))$/i,es=(e,t)=>r=>Boolean("string"===typeof r&&Qn.test(r)&&r.startsWith(e)||t&&!function(e){return null==e}(r)&&Object.prototype.hasOwnProperty.call(r,t)),ts=(e,t,r)=>n=>{if("string"!==typeof n)return n;const[s,a,i,o]=n.match(Kn);return{[e]:parseFloat(s),[t]:parseFloat(a),[r]:parseFloat(i),alpha:void 0!==o?parseFloat(o):1}},rs=(0,Ie.A)((0,Ie.A)({},hn),{},{transform:e=>Math.round((e=>mn(0,255,e))(e))}),ns={test:es("rgb","red"),parse:ts("red","green","blue"),transform:e=>{let{red:t,green:r,blue:n,alpha:s=1}=e;return"rgba("+rs.transform(t)+", "+rs.transform(r)+", "+rs.transform(n)+", "+Gn(pn.transform(s))+")"}};const ss={test:es("#"),parse:function(e){let t="",r="",n="",s="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),s=e.substring(4,5),t+=t,r+=r,n+=n,s+=s),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:s?parseInt(s,16)/255:1}},transform:ns.transform},as={test:es("hsl","hue"),parse:ts("hue","saturation","lightness"),transform:e=>{let{hue:t,saturation:r,lightness:n,alpha:s=1}=e;return"hsla("+Math.round(t)+", "+vn.transform(Gn(r))+", "+vn.transform(Gn(n))+", "+Gn(pn.transform(s))+")"}},is={test:e=>ns.test(e)||ss.test(e)||as.test(e),parse:e=>ns.test(e)?ns.parse(e):as.test(e)?as.parse(e):ss.parse(e),transform:e=>"string"===typeof e?e:e.hasOwnProperty("red")?ns.transform(e):as.transform(e),getAnimatableNone:e=>{const t=is.parse(e);return t.alpha=0,is.transform(t)}},os=/(?:#[0-9a-f]{3,8}|(?:rgb|h[s\u017F]l)a?\((?:-?[\.0-9]+%?[\t-\r ,\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+){2}-?[\.0-9]+%?[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:[,\/][\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)?(?:\b[0-9]+(?:\.[0-9]+)?|\.[0-9]+)?%?\))/gi;const ls="number",cs="color",ds=/var[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\([\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*--(?:[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*|[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*,(?:[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:(?![\t-\r \(\)\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uD800-\uDFFF\uFEFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])|[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\((?:(?:(?![\(\)\uD800-\uDFFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])|\((?:(?![\(\)\uD800-\uDFFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])*\))*\))+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)\)|#[0-9a-f]{3,8}|(?:rgb|h[s\u017F]l)a?\((?:-?[\.0-9]+%?[\t-\r ,\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+){2}-?[\.0-9]+%?[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:[,\/][\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)?(?:\b[0-9]+(?:\.[0-9]+)?|\.[0-9]+)?%?\)|-?(?:[0-9]+(?:\.[0-9]+)?|\.[0-9]+)/gi;function us(e){const t=e.toString(),r=[],n={color:[],number:[],var:[]},s=[];let a=0;const i=t.replace(ds,e=>(is.test(e)?(n.color.push(a),s.push(cs),r.push(is.parse(e))):e.startsWith("var(")?(n.var.push(a),s.push("var"),r.push(e)):(n.number.push(a),s.push(ls),r.push(parseFloat(e))),++a,"${}")).split("${}");return{values:r,split:i,indexes:n,types:s}}function ms(e){return us(e).values}function hs(e){const{split:t,types:r}=us(e),n=t.length;return e=>{let s="";for(let a=0;a<n;a++)if(s+=t[a],void 0!==e[a]){const t=r[a];s+=t===ls?Gn(e[a]):t===cs?is.transform(e[a]):e[a]}return s}}const ps=e=>"number"===typeof e?0:is.test(e)?is.getAnimatableNone(e):e;const fs={test:function(e){var t,r;return isNaN(e)&&"string"===typeof e&&((null===(t=e.match(Kn))||void 0===t?void 0:t.length)||0)+((null===(r=e.match(os))||void 0===r?void 0:r.length)||0)>0},parse:ms,createTransformer:hs,getAnimatableNone:function(e){const t=ms(e);return hs(e)(t.map(ps))}},xs=new Set(["brightness","contrast","saturate","opacity"]);function gs(e){const[t,r]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;const[n]=r.match(Kn)||[];if(!n)return e;const s=r.replace(n,"");let a=xs.has(t)?1:0;return n!==r&&(a*=100),t+"("+a+s+")"}const vs=/\b([\x2Da-z]*)\((?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*?\)/g,ys=(0,Ie.A)((0,Ie.A)({},fs),{},{getAnimatableNone:e=>{const t=e.match(vs);return t?t.map(gs).join(" "):e}}),bs=(0,Ie.A)((0,Ie.A)({},hn),{},{transform:Math.round}),js={rotate:gn,rotateX:gn,rotateY:gn,rotateZ:gn,scale:fn,scaleX:fn,scaleY:fn,scaleZ:fn,skew:gn,skewX:gn,skewY:gn,distance:yn,translateX:yn,translateY:yn,translateZ:yn,x:yn,y:yn,z:yn,perspective:yn,transformPerspective:yn,opacity:pn,originX:wn,originY:wn,originZ:yn},ws=(0,Ie.A)((0,Ie.A)({borderWidth:yn,borderTopWidth:yn,borderRightWidth:yn,borderBottomWidth:yn,borderLeftWidth:yn,borderRadius:yn,radius:yn,borderTopLeftRadius:yn,borderTopRightRadius:yn,borderBottomRightRadius:yn,borderBottomLeftRadius:yn,width:yn,maxWidth:yn,height:yn,maxHeight:yn,top:yn,right:yn,bottom:yn,left:yn,padding:yn,paddingTop:yn,paddingRight:yn,paddingBottom:yn,paddingLeft:yn,margin:yn,marginTop:yn,marginRight:yn,marginBottom:yn,marginLeft:yn,backgroundPositionX:yn,backgroundPositionY:yn},js),{},{zIndex:bs,fillOpacity:pn,strokeOpacity:pn,numOctaves:bs}),Ns=(0,Ie.A)((0,Ie.A)({},ws),{},{color:is,backgroundColor:is,outlineColor:is,fill:is,stroke:is,borderColor:is,borderTopColor:is,borderRightColor:is,borderBottomColor:is,borderLeftColor:is,filter:ys,WebkitFilter:ys}),ks=e=>Ns[e];function Ss(e,t){let r=ks(e);return r!==ys&&(r=fs),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const Cs=new Set(["auto","none","0"]);class Es extends Yn{constructor(e,t,r,n,s){super(e,t,r,n,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:r}=this;if(!t||!t.current)return;super.readKeyframes();for(let o=0;o<e.length;o++){let r=e[o];if("string"===typeof r&&(r=r.trim(),Hr(r))){const n=An(r,t.current);void 0!==n&&(e[o]=n),o===e.length-1&&(this.finalKeyframe=r)}}if(this.resolveNoneKeyframes(),!un.has(r)||2!==e.length)return;const[n,s]=e,a=Sn(n),i=Sn(s);if(a!==i)if(Pn(a)&&Pn(i))for(let o=0;o<e.length;o++){const t=e[o];"string"===typeof t&&(e[o]=parseFloat(t))}else Ln[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,r=[];for(let n=0;n<e.length;n++)(null===e[n]||Jn(e[n]))&&r.push(n);r.length&&function(e,t,r){let n,s=0;for(;s<e.length&&!n;){const t=e[s];"string"===typeof t&&!Cs.has(t)&&us(t).values.length&&(n=e[s]),s++}if(n&&r)for(const a of t)e[a]=Ss(r,n)}(e,r,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:r}=this;if(!e||!e.current)return;"height"===r&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ln[r](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const n=t[t.length-1];void 0!==n&&e.getValue(r,n).jump(n,!1)}measureEndState(){var e;const{element:t,name:r,unresolvedKeyframes:n}=this;if(!t||!t.current)return;const s=t.getValue(r);s&&s.jump(this.measuredOrigin,!1);const a=n.length-1,i=n[a];n[a]=Ln[r](t.measureViewportBox(),window.getComputedStyle(t.current)),null!==i&&void 0===this.finalKeyframe&&(this.finalKeyframe=i),null!==(e=this.removedTransforms)&&void 0!==e&&e.length&&this.removedTransforms.forEach(e=>{let[r,n]=e;t.getValue(r).set(n)}),this.resolveNoneKeyframes()}}const As=e=>Boolean(e&&e.getVelocity);var Ps=r(3986);let Ts;function Ms(){Ts=void 0}const Ls={now:()=>(void 0===Ts&&Ls.set(Vn.isProcessing||Dn.useManualTiming?Vn.timestamp:performance.now()),Ts),set:e=>{Ts=e,queueMicrotask(Ms)}};function Rs(e,t){-1===e.indexOf(t)&&e.push(t)}function Ds(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}class Fs{constructor(){this.subscriptions=[]}add(e){return Rs(this.subscriptions,e),()=>Ds(this.subscriptions,e)}notify(e,t,r){const n=this.subscriptions.length;if(n)if(1===n)this.subscriptions[0](e,t,r);else for(let s=0;s<n;s++){const n=this.subscriptions[s];n&&n(e,t,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function Is(e,t){return t?e*(1e3/t):0}const _s={current:void 0};class zs{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.canTrackVelocity=null,this.events={},this.updateAndNotify=e=>{const t=Ls.now();var r;if((this.updatedAt!==t&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(e),this.current!==this.prev)&&(null===(r=this.events.change)||void 0===r||r.notify(this.current),this.dependents))for(const n of this.dependents)n.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){var t;this.current=e,this.updatedAt=Ls.now(),null===this.canTrackVelocity&&void 0!==e&&(this.canTrackVelocity=(t=this.current,!isNaN(parseFloat(t))))}setPrevFrameValue(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.current;this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new Fs);const r=this.events[e].add(t);return"change"===e?()=>{r(),zn.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,t,r){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;null===(e=this.events.change)||void 0===e||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return _s.current&&_s.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=Ls.now();if(!this.canTrackVelocity||void 0===this.prevFrameValue||e-this.updatedAt>30)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,30);return Is(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,t;null===(e=this.dependents)||void 0===e||e.clear(),null===(t=this.events.destroy)||void 0===t||t.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Os(e,t){return new zs(e,t)}const Vs=[...kn,is,fs],{schedule:Bs,cancel:Us}=_n(queueMicrotask,!1),Ws={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},qs={};for(const Zp in Ws)qs[Zp]={isEnabled:e=>Ws[Zp].some(t=>!!e[t])};const Hs=()=>({x:{min:0,max:0},y:{min:0,max:0}}),$s={current:null},Zs={current:!1};const Ys=new WeakMap;function Xs(e){return null!==e&&"object"===typeof e&&"function"===typeof e.start}function Js(e){return"string"===typeof e||Array.isArray(e)}const Gs=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Ks=["initial",...Gs];function Qs(e){return Xs(e.animate)||Ks.some(t=>Js(e[t]))}function ea(e){return Boolean(Qs(e)||e.variants)}function ta(e){const t=[{},{}];return null===e||void 0===e||e.values.forEach((e,r)=>{t[0][r]=e.get(),t[1][r]=e.getVelocity()}),t}function ra(e,t,r,n){if("function"===typeof t){const[s,a]=ta(n);t=t(void 0!==r?r:e.custom,s,a)}if("string"===typeof t&&(t=e.variants&&e.variants[t]),"function"===typeof t){const[s,a]=ta(n);t=t(void 0!==r?r:e.custom,s,a)}return t}const na=["willChange"],sa=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class aa{scrapeMotionValuesFromProps(e,t,r){return{}}constructor(e){let{parent:t,props:r,presenceContext:n,reducedMotionConfig:s,blockInitialAnimation:a,visualState:i}=e,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Yn,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const e=Ls.now();this.renderScheduledAt<e&&(this.renderScheduledAt=e,zn.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=i;this.latestValues=l,this.baseTarget=(0,Ie.A)({},l),this.initialValues=r.initial?(0,Ie.A)({},l):{},this.renderState=c,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=o,this.blockInitialAnimation=Boolean(a),this.isControllingVariants=Qs(r),this.isVariantNode=ea(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(t&&t.current);const d=this.scrapeMotionValuesFromProps(r,{},this),{willChange:u}=d,m=(0,Ps.A)(d,na);for(const h in m){const e=m[h];void 0!==l[h]&&As(e)&&e.set(l[h])}}mount(e){var t;this.current=e,Ys.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,t)=>this.bindToMotionValue(t,e)),Zs.current||function(){if(Zs.current=!0,De)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>$s.current=e.matches;e.addEventListener("change",t),t()}else $s.current=!1}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||$s.current),null===(t=this.parent)||void 0===t||t.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),On(this.notifyUpdate),On(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),null===(e=this.parent)||void 0===e||e.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const e=this.features[t];e&&(e.unmount(),e.isMounted=!1)}this.current=null}addChild(e){var t;this.children.add(e),null!==(t=this.enteringChildren)&&void 0!==t||(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Mr.has(e);r&&this.onBindTransform&&this.onBindTransform();const n=t.on("change",t=>{this.latestValues[e]=t,this.props.onUpdate&&zn.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{n(),s&&s(),t.owner&&t.stop()})}sortNodePosition(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}updateFeatures(){let e="animation";for(e in qs){const t=qs[e];if(!t)continue;const{isEnabled:r,Feature:n}=t;if(!this.features[e]&&n&&r(this.props)&&(this.features[e]=new n(this)),this.features[e]){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):{x:{min:0,max:0},y:{min:0,max:0}}}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let r=0;r<sa.length;r++){const t=sa[r];this.propEventSubscriptions[t]&&(this.propEventSubscriptions[t](),delete this.propEventSubscriptions[t]);const n=e["on"+t];n&&(this.propEventSubscriptions[t]=this.on(t,n))}this.prevMotionValues=function(e,t,r){for(const n in t){const s=t[n],a=r[n];if(As(s))e.addValue(n,s);else if(As(a))e.addValue(n,Os(s,{owner:e}));else if(a!==s)if(e.hasValue(n)){const t=e.getValue(n);!0===t.liveStyle?t.jump(s):t.hasAnimated||t.set(s)}else{const t=e.getStaticValue(n);e.addValue(n,Os(void 0!==t?t:s,{owner:e}))}}for(const n in r)void 0===t[n]&&e.removeValue(n);return t}(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const r=this.values.get(e);t!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return void 0===r&&void 0!==t&&(r=Os(null===t?void 0:t,{owner:this}),this.addValue(e,r)),r}readValue(e,t){var r;let n=void 0===this.latestValues[e]&&this.current?null!==(r=this.getBaseTargetFromProps(this.props,e))&&void 0!==r?r:this.readValueFromInstance(this.current,e,this.options):this.latestValues[e];return void 0!==n&&null!==n&&("string"===typeof n&&(Cn(n)||Xn(n))?n=parseFloat(n):!(e=>Vs.find(Nn(e)))(n)&&fs.test(t)&&(n=Ss(e,t)),this.setBaseTarget(e,As(n)?n.get():n)),As(n)?n.get():n}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){const{initial:t}=this.props;let r;if("string"===typeof t||"object"===typeof t){var n;const s=ra(this.props,t,null===(n=this.presenceContext)||void 0===n?void 0:n.custom);s&&(r=s[e])}if(t&&void 0!==r)return r;const s=this.getBaseTargetFromProps(this.props,e);return void 0===s||As(s)?void 0!==this.initialValues[e]&&void 0===r?void 0:this.baseTarget[e]:s}on(e,t){return this.events[e]||(this.events[e]=new Fs),this.events[e].add(t)}notify(e){if(this.events[e]){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];this.events[e].notify(...r)}}scheduleRenderMicrotask(){Bs.render(this.render)}}class ia extends aa{constructor(){super(...arguments),this.KeyframeResolver=Es}sortInstanceNodePosition(e,t){return 2&e.compareDocumentPosition(t)?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,t){let{vars:r,style:n}=t;delete r[e],delete n[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;As(e)&&(this.childSubscription=e.on("change",e=>{this.current&&(this.current.textContent="".concat(e))}))}}const oa=(e,t)=>t&&"number"===typeof e?t.transform(e):e,la={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},ca=Tr.length;function da(e,t,r){const{style:n,vars:s,transformOrigin:a}=e;let i=!1,o=!1;for(const l in t){const e=t[l];if(Mr.has(l))i=!0;else if(Wr(l))s[l]=e;else{const t=oa(e,ws[l]);l.startsWith("origin")?(o=!0,a[l]=t):n[l]=t}}if(t.transform||(i||r?n.transform=function(e,t,r){let n="",s=!0;for(let a=0;a<ca;a++){const i=Tr[a],o=e[i];if(void 0===o)continue;let l=!0;if(l="number"===typeof o?o===(i.startsWith("scale")?1:0):0===parseFloat(o),!l||r){const e=oa(o,ws[i]);l||(s=!1,n+="".concat(la[i]||i,"(").concat(e,") ")),r&&(t[i]=e)}}return n=n.trim(),r?n=r(t,s?"":n):s&&(n="none"),n}(t,e.transform,r):n.transform&&(n.transform="none")),o){const{originX:e="50%",originY:t="50%",originZ:r=0}=a;n.transformOrigin="".concat(e," ").concat(t," ").concat(r)}}function ua(e,t,r,n){let{style:s,vars:a}=t;const i=e.style;let o;for(o in s)i[o]=s[o];for(o in null===n||void 0===n||n.applyProjectionStyles(i,r),a)i.setProperty(o,a[o])}const ma={};function ha(e,t){let{layout:r,layoutId:n}=t;return Mr.has(e)||e.startsWith("origin")||(r||void 0!==n)&&(!!ma[e]||"opacity"===e)}function pa(e,t,r){const{style:n}=e,s={};for(const i in n){var a;(As(n[i])||t.style&&As(t.style[i])||ha(i,e)||void 0!==(null===r||void 0===r||null===(a=r.getValue(i))||void 0===a?void 0:a.liveStyle))&&(s[i]=n[i])}return s}class fa extends ia{constructor(){super(...arguments),this.type="html",this.renderInstance=ua}readValueFromInstance(e,t){var r,n;if(Mr.has(t))return null!==(r=this.projection)&&void 0!==r&&r.isProjecting?Or(t):((e,t)=>{const{transform:r="none"}=getComputedStyle(e);return Vr(r,t)})(e,t);{const r=(n=e,window.getComputedStyle(n)),s=(Wr(t)?r.getPropertyValue(t):r[t])||0;return"string"===typeof s?s.trim():s}}measureInstanceViewportBox(e,t){let{transformPagePoint:r}=t;return dn(e,r)}build(e,t,r){da(e,t,r.transformTemplate)}scrapeMotionValuesFromProps(e,t,r){return pa(e,t,r)}}const xa=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),ga={offset:"stroke-dashoffset",array:"stroke-dasharray"},va={offset:"strokeDashoffset",array:"strokeDasharray"};const ya=["attrX","attrY","attrScale","pathLength","pathSpacing","pathOffset"];function ba(e,t,r,n,s){let{attrX:a,attrY:i,attrScale:o,pathLength:l,pathSpacing:c=1,pathOffset:d=0}=t;if(da(e,(0,Ps.A)(t,ya),n),r)return void(e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox));e.attrs=e.style,e.style={};const{attrs:u,style:m}=e;var h,p;(u.transform&&(m.transform=u.transform,delete u.transform),m.transform||u.transformOrigin)&&(m.transformOrigin=null!==(h=u.transformOrigin)&&void 0!==h?h:"50% 50%",delete u.transformOrigin);m.transform&&(m.transformBox=null!==(p=null===s||void 0===s?void 0:s.transformBox)&&void 0!==p?p:"fill-box",delete u.transformBox);void 0!==a&&(u.x=a),void 0!==i&&(u.y=i),void 0!==o&&(u.scale=o),void 0!==l&&function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];e.pathLength=1;const a=s?ga:va;e[a.offset]=yn.transform(-n);const i=yn.transform(t),o=yn.transform(r);e[a.array]="".concat(i," ").concat(o)}(u,l,c,d,!1)}const ja=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),wa=e=>"string"===typeof e&&"svg"===e.toLowerCase();function Na(e,t,r){const n=pa(e,t,r);for(const s in e)if(As(e[s])||As(t[s])){n[-1!==Tr.indexOf(s)?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s]=e[s]}return n}class ka extends ia{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Hs}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(Mr.has(t)){const e=ks(t);return e&&e.default||0}return t=ja.has(t)?t:xa(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,r){return Na(e,t,r)}build(e,t,r){ba(e,t,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,t,r,n){!function(e,t,r,n){ua(e,t,void 0,n);for(const s in t.attrs)e.setAttribute(ja.has(s)?s:xa(s),t.attrs[s])}(e,t,0,n)}mount(e){this.isSVGTag=wa(e.tagName),super.mount(e)}}const Sa=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Ca(e){return"string"===typeof e&&!e.includes("-")&&!!(Sa.indexOf(e)>-1||/[A-Z]/.test(e))}const Ea=(e,r)=>Ca(e)?new ka(r):new fa(r,{allowProjection:e!==t.Fragment}),Aa=(0,t.createContext)({strict:!1}),Pa=(0,t.createContext)({});function Ta(e){const{initial:r,animate:n}=function(e,t){if(Qs(e)){const{initial:t,animate:r}=e;return{initial:!1===t||Js(t)?t:void 0,animate:Js(r)?r:void 0}}return!1!==e.inherit?t:{}}(e,(0,t.useContext)(Pa));return(0,t.useMemo)(()=>({initial:r,animate:n}),[Ma(r),Ma(n)])}function Ma(e){return Array.isArray(e)?e.join(" "):e}const La=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Ra(e,t,r){for(const n in t)As(t[n])||ha(n,r)||(e[n]=t[n])}function Da(e,r){const n={};return Ra(n,e.style||{},e),Object.assign(n,function(e,r){let{transformTemplate:n}=e;return(0,t.useMemo)(()=>{const e={style:{},transform:{},transformOrigin:{},vars:{}};return da(e,r,n),Object.assign({},e.vars,e.style)},[r])}(e,r)),n}function Fa(e,t){const r={},n=Da(e,t);return e.drag&&!1!==e.dragListener&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=!0===e.drag?"none":"pan-".concat("x"===e.drag?"y":"x")),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=n,r}const Ia=()=>(0,Ie.A)((0,Ie.A)({},{style:{},transform:{},transformOrigin:{},vars:{}}),{},{attrs:{}});function _a(e,r,n,s){const a=(0,t.useMemo)(()=>{const t=Ia();return ba(t,r,wa(s),e.transformTemplate,e.style),(0,Ie.A)((0,Ie.A)({},t.attrs),{},{style:(0,Ie.A)({},t.style)})},[r]);if(e.style){const t={};Ra(t,e.style,e),a.style=(0,Ie.A)((0,Ie.A)({},t),a.style)}return a}const za=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Oa(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||za.has(e)}let Va=e=>!Oa(e);try{"function"===typeof(Ba=require("@emotion/is-prop-valid").default)&&(Va=e=>e.startsWith("on")?!Oa(e):Ba(e))}catch($p){}var Ba;function Ua(e,r,n,s,a){let{latestValues:i}=s,o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];const l=(Ca(e)?_a:Fa)(r,i,a,e),c=function(e,t,r){const n={};for(const s in e)"values"===s&&"object"===typeof e.values||(Va(s)||!0===r&&Oa(s)||!t&&!Oa(s)||e.draggable&&s.startsWith("onDrag"))&&(n[s]=e[s]);return n}(r,"string"===typeof e,o),d=e!==t.Fragment?(0,Ie.A)((0,Ie.A)((0,Ie.A)({},c),l),{},{ref:n}):{},{children:u}=r,m=(0,t.useMemo)(()=>As(u)?u.get():u,[u]);return(0,t.createElement)(e,(0,Ie.A)((0,Ie.A)({},d),{},{children:m}))}function Wa(e){return As(e)?e.get():e}const qa=["transitionEnd","transition"];function Ha(e,t,r,n){const s={},a=n(e,{});for(const m in a)s[m]=Wa(a[m]);let{initial:i,animate:o}=e;const l=Qs(e),c=ea(e);t&&c&&!l&&!1!==e.inherit&&(void 0===i&&(i=t.initial),void 0===o&&(o=t.animate));let d=!!r&&!1===r.initial;d=d||!1===i;const u=d?o:i;if(u&&"boolean"!==typeof u&&!Xs(u)){const t=Array.isArray(u)?u:[u];for(let r=0;r<t.length;r++){const n=ra(e,t[r]);if(n){const{transitionEnd:e,transition:t}=n,r=(0,Ps.A)(n,qa);for(const n in r){let e=r[n];if(Array.isArray(e)){e=e[d?e.length-1:0]}null!==e&&(s[n]=e)}for(const n in e)s[n]=e[n]}}}return s}const $a=e=>(r,n)=>{const s=(0,t.useContext)(Pa),a=(0,t.useContext)(_e),i=()=>function(e,t,r,n){let{scrapeMotionValuesFromProps:s,createRenderState:a}=e;return{latestValues:Ha(t,r,n,s),renderState:a()}}(e,r,s,a);return n?i():Re(i)},Za=$a({scrapeMotionValuesFromProps:pa,createRenderState:La}),Ya=$a({scrapeMotionValuesFromProps:Na,createRenderState:Ia});const Xa=Symbol.for("motionComponentSymbol");function Ja(e){return e&&"object"===typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}function Ga(e,r,n){return(0,t.useCallback)(t=>{t&&e.onMount&&e.onMount(t),r&&(t?r.mount(t):r.unmount()),n&&("function"===typeof n?n(t):Ja(n)&&(n.current=t))},[r])}const Ka="data-"+xa("framerAppearId"),Qa=(0,t.createContext)({});function ei(e,r,n,s,a){var i,o,l,c;const{visualElement:d}=(0,t.useContext)(Pa),u=(0,t.useContext)(Aa),m=(0,t.useContext)(_e),h=(0,t.useContext)(Ve).reducedMotion,p=(0,t.useRef)(null);s=s||u.renderer,!p.current&&s&&(p.current=s(e,{visualState:r,parent:d,props:n,presenceContext:m,blockInitialAnimation:!!m&&!1===m.initial,reducedMotionConfig:h}));const f=p.current,x=(0,t.useContext)(Qa);!f||f.projection||!a||"html"!==f.type&&"svg"!==f.type||function(e,t,r,n){const{layoutId:s,layout:a,drag:i,dragConstraints:o,layoutScroll:l,layoutRoot:c,layoutCrossfade:d}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:ti(e.parent)),e.projection.setOptions({layoutId:s,layout:a,alwaysMeasureLayout:Boolean(i)||o&&Ja(o),visualElement:e,animationType:"string"===typeof a?a:"both",initialPromotionConfig:n,crossfade:d,layoutScroll:l,layoutRoot:c})}(p.current,n,a,x);const g=(0,t.useRef)(!1);(0,t.useInsertionEffect)(()=>{f&&g.current&&f.update(n,m)});const v=n[Ka],y=(0,t.useRef)(Boolean(v)&&!(null!==(i=(o=window).MotionHandoffIsComplete)&&void 0!==i&&i.call(o,v))&&(null===(l=(c=window).MotionHasOptimisedAnimation)||void 0===l?void 0:l.call(c,v)));return Fe(()=>{f&&(g.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),f.scheduleRenderMicrotask(),y.current&&f.animationState&&f.animationState.animateChanges())}),(0,t.useEffect)(()=>{f&&(!y.current&&f.animationState&&f.animationState.animateChanges(),y.current&&(queueMicrotask(()=>{var e,t;null===(e=(t=window).MotionHandoffMarkAsComplete)||void 0===e||e.call(t,v)}),y.current=!1),f.enteringChildren=void 0)}),f}function ti(e){if(e)return!1!==e.options.allowProjection?e.projection:ti(e.parent)}function ri(e){var r,n;let{forwardMotionProps:s=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0;a&&function(e){for(const t in e)qs[t]=(0,Ie.A)((0,Ie.A)({},qs[t]),e[t])}(a);const o=Ca(e)?Ya:Za;function l(r,n){let a;const l=(0,Ie.A)((0,Ie.A)((0,Ie.A)({},(0,t.useContext)(Ve)),r),{},{layoutId:ni(r)}),{isStatic:c}=l,d=Ta(r),u=o(r,c);if(!c&&De){!function(){(0,t.useContext)(Aa).strict;0}();const r=function(e){const{drag:t,layout:r}=qs;if(!t&&!r)return{};const n=(0,Ie.A)((0,Ie.A)({},t),r);return{MeasureLayout:null!==t&&void 0!==t&&t.isEnabled(e)||null!==r&&void 0!==r&&r.isEnabled(e)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}(l);a=r.MeasureLayout,d.visualElement=ei(e,u,l,i,r.ProjectionNode)}return(0,Me.jsxs)(Pa.Provider,{value:d,children:[a&&d.visualElement?(0,Me.jsx)(a,(0,Ie.A)({visualElement:d.visualElement},l)):null,Ua(e,r,Ga(u,d.visualElement,n),u,c,s)]})}l.displayName="motion.".concat("string"===typeof e?e:"create(".concat(null!==(r=null!==(n=e.displayName)&&void 0!==n?n:e.name)&&void 0!==r?r:"",")"));const c=(0,t.forwardRef)(l);return c[Xa]=e,c}function ni(e){let{layoutId:r}=e;const n=(0,t.useContext)(Le).id;return n&&void 0!==r?n+"-"+r:r}function si(e,t){if("undefined"===typeof Proxy)return ri;const r=new Map,n=(r,n)=>ri(r,n,e,t);return new Proxy((e,t)=>n(e,t),{get:(s,a)=>"create"===a?n:(r.has(a)||r.set(a,ri(a,void 0,e,t)),r.get(a))})}function ai(e,t,r){const n=e.getProps();return ra(n,t,void 0!==r?r:n.custom,e)}function ii(e,t){var r,n;return null!==(r=null!==(n=null===e||void 0===e?void 0:e[t])&&void 0!==n?n:null===e||void 0===e?void 0:e.default)&&void 0!==r?r:e}const oi=e=>Array.isArray(e),li=["transitionEnd","transition"];function ci(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,Os(r))}function di(e){return oi(e)?e[e.length-1]||0:e}function ui(e,t){const r=e.getValue("willChange");if(n=r,Boolean(As(n)&&n.add))return r.add(t);if(!r&&Dn.WillChange){const r=new Dn.WillChange("auto");e.addValue("willChange",r),r.add(t)}var n}function mi(e){return e.props[Ka]}function hi(e){e.duration=0,e.type="keyframes"}const pi=(e,t)=>r=>t(e(r)),fi=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce(pi)},xi=e=>1e3*e,gi=e=>e/1e3,vi={layout:0,mainThread:0,waapi:0};function yi(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+6*(t-e)*r:r<.5?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function bi(e,t){return r=>r>0?t:e}const ji=(e,t,r)=>{const n=e*e,s=r*(t*t-n)+n;return s<0?0:Math.sqrt(s)},wi=[ss,ns,as];function Ni(e){const t=(e=>wi.find(t=>t.test(e)))(e);if(Boolean(t),"'".concat(e,"' is not an animatable color. Use the equivalent color code instead."),!Boolean(t))return!1;let r=t.parse(e);return t===as&&(r=function(e){let{hue:t,saturation:r,lightness:n,alpha:s}=e;t/=360,r/=100,n/=100;let a=0,i=0,o=0;if(r){const e=n<.5?n*(1+r):n+r-n*r,s=2*n-e;a=yi(s,e,t+1/3),i=yi(s,e,t),o=yi(s,e,t-1/3)}else a=i=o=n;return{red:Math.round(255*a),green:Math.round(255*i),blue:Math.round(255*o),alpha:s}}(r)),r}const ki=(e,t)=>{const r=Ni(e),n=Ni(t);if(!r||!n)return bi(e,t);const s=(0,Ie.A)({},r);return e=>(s.red=ji(r.red,n.red,e),s.green=ji(r.green,n.green,e),s.blue=ji(r.blue,n.blue,e),s.alpha=Yr(r.alpha,n.alpha,e),ns.transform(s))},Si=new Set(["none","hidden"]);function Ci(e,t){return r=>Yr(e,t,r)}function Ei(e){return"number"===typeof e?Ci:"string"===typeof e?Hr(e)?bi:is.test(e)?ki:Ti:Array.isArray(e)?Ai:"object"===typeof e?is.test(e)?ki:Pi:bi}function Ai(e,t){const r=[...e],n=r.length,s=e.map((e,r)=>Ei(e)(e,t[r]));return e=>{for(let t=0;t<n;t++)r[t]=s[t](e);return r}}function Pi(e,t){const r=(0,Ie.A)((0,Ie.A)({},e),t),n={};for(const s in r)void 0!==e[s]&&void 0!==t[s]&&(n[s]=Ei(e[s])(e[s],t[s]));return e=>{for(const t in n)r[t]=n[t](e);return r}}const Ti=(e,t)=>{const r=fs.createTransformer(t),n=us(e),s=us(t);return n.indexes.var.length===s.indexes.var.length&&n.indexes.color.length===s.indexes.color.length&&n.indexes.number.length>=s.indexes.number.length?Si.has(e)&&!s.values.length||Si.has(t)&&!n.values.length?function(e,t){return Si.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}(e,t):fi(Ai(function(e,t){const r=[],n={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){var s;const i=t.types[a],o=e.indexes[i][n[i]],l=null!==(s=e.values[o])&&void 0!==s?s:0;r[a]=l,n[i]++}return r}(n,s),s.values),r):("Complex values '".concat(e,"' and '").concat(t,"' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition."),bi(e,t))};function Mi(e,t,r){if("number"===typeof e&&"number"===typeof t&&"number"===typeof r)return Yr(e,t,r);return Ei(e)(e,t)}const Li=e=>{const t=t=>{let{timestamp:r}=t;return e(r)};return{start:function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return zn.update(t,e)},stop:()=>On(t),now:()=>Vn.isProcessing?Vn.timestamp:Ls.now()}},Ri=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,n="";const s=Math.max(Math.round(t/r),2);for(let a=0;a<s;a++)n+=Math.round(1e4*e(a/(s-1)))/1e4+", ";return"linear(".concat(n.substring(0,n.length-2),")")},Di=2e4;function Fi(e){let t=0;let r=e.next(t);for(;!r.done&&t<Di;)t+=50,r=e.next(t);return t>=Di?1/0:t}function Ii(e,t,r){const n=Math.max(t-5,0);return Is(r-e(n),t-n)}const _i={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},zi=.001;function Oi(e){let t,r,{duration:n=_i.duration,bounce:s=_i.bounce,velocity:a=_i.velocity,mass:i=_i.mass}=e;xi(_i.maxDuration);let o=1-s;o=mn(_i.minDamping,_i.maxDamping,o),n=mn(_i.minDuration,_i.maxDuration,gi(n)),o<1?(t=e=>{const t=e*o,r=t*n,s=t-a,i=Bi(e,o),l=Math.exp(-r);return zi-s/i*l},r=e=>{const r=e*o*n,s=r*a+a,i=Math.pow(o,2)*Math.pow(e,2)*n,l=Math.exp(-r),c=Bi(Math.pow(e,2),o);return(-t(e)+zi>0?-1:1)*((s-i)*l)/c}):(t=e=>Math.exp(-e*n)*((e-a)*n+1)-.001,r=e=>Math.exp(-e*n)*(n*n*(a-e)));const l=function(e,t,r){let n=r;for(let s=1;s<Vi;s++)n-=e(n)/t(n);return n}(t,r,5/n);if(n=xi(n),isNaN(l))return{stiffness:_i.stiffness,damping:_i.damping,duration:n};{const e=Math.pow(l,2)*i;return{stiffness:e,damping:2*o*Math.sqrt(i*e),duration:n}}}const Vi=12;function Bi(e,t){return e*Math.sqrt(1-t*t)}const Ui=["duration","bounce"],Wi=["stiffness","damping","mass"];function qi(e,t){return t.some(t=>void 0!==e[t])}function Hi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_i.visualDuration,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_i.bounce;const r="object"!==typeof e?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:s}=r;const a=r.keyframes[0],i=r.keyframes[r.keyframes.length-1],o={done:!1,value:a},{stiffness:l,damping:c,mass:d,duration:u,velocity:m,isResolvedFromDuration:h}=function(e){let t=(0,Ie.A)({velocity:_i.velocity,stiffness:_i.stiffness,damping:_i.damping,mass:_i.mass,isResolvedFromDuration:!1},e);if(!qi(e,Wi)&&qi(e,Ui))if(e.visualDuration){const r=e.visualDuration,n=2*Math.PI/(1.2*r),s=n*n,a=2*mn(.05,1,1-(e.bounce||0))*Math.sqrt(s);t=(0,Ie.A)((0,Ie.A)({},t),{},{mass:_i.mass,stiffness:s,damping:a})}else{const r=Oi(e);t=(0,Ie.A)((0,Ie.A)((0,Ie.A)({},t),r),{},{mass:_i.mass}),t.isResolvedFromDuration=!0}return t}((0,Ie.A)((0,Ie.A)({},r),{},{velocity:-gi(r.velocity||0)})),p=m||0,f=c/(2*Math.sqrt(l*d)),x=i-a,g=gi(Math.sqrt(l/d)),v=Math.abs(x)<5;let y;if(n||(n=v?_i.restSpeed.granular:_i.restSpeed.default),s||(s=v?_i.restDelta.granular:_i.restDelta.default),f<1){const e=Bi(g,f);y=t=>{const r=Math.exp(-f*g*t);return i-r*((p+f*g*x)/e*Math.sin(e*t)+x*Math.cos(e*t))}}else if(1===f)y=e=>i-Math.exp(-g*e)*(x+(p+g*x)*e);else{const e=g*Math.sqrt(f*f-1);y=t=>{const r=Math.exp(-f*g*t),n=Math.min(e*t,300);return i-r*((p+f*g*x)*Math.sinh(n)+e*x*Math.cosh(n))/e}}const b={calculatedDuration:h&&u||null,next:e=>{const t=y(e);if(h)o.done=e>=u;else{let r=0===e?p:0;f<1&&(r=0===e?xi(p):Ii(y,e,t));const a=Math.abs(r)<=n,l=Math.abs(i-t)<=s;o.done=a&&l}return o.value=o.done?i:t,o},toString:()=>{const e=Math.min(Fi(b),Di),t=Ri(t=>b.next(e*t).value,e,30);return e+"ms "+t},toTransition:()=>{}};return b}function $i(e){let{keyframes:t,velocity:r=0,power:n=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:i=500,modifyTarget:o,min:l,max:c,restDelta:d=.5,restSpeed:u}=e;const m=t[0],h={done:!1,value:m},p=e=>void 0===l?c:void 0===c||Math.abs(l-e)<Math.abs(c-e)?l:c;let f=n*r;const x=m+f,g=void 0===o?x:o(x);g!==x&&(f=g-m);const v=e=>-f*Math.exp(-e/s),y=e=>g+v(e),b=e=>{const t=v(e),r=y(e);h.done=Math.abs(t)<=d,h.value=h.done?g:r};let j,w;const N=e=>{(e=>void 0!==l&&e<l||void 0!==c&&e>c)(h.value)&&(j=e,w=Hi({keyframes:[h.value,p(h.value)],velocity:Ii(y,e,h.value),damping:a,stiffness:i,restDelta:d,restSpeed:u}))};return N(0),{calculatedDuration:null,next:e=>{let t=!1;return w||void 0!==j||(t=!0,b(e),N(e)),void 0!==j&&e>=j?w.next(e-j):(!t&&b(e),h)}}}Hi.applyToOptions=e=>{const t=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;const r=(arguments.length>2?arguments[2]:void 0)((0,Ie.A)((0,Ie.A)({},e),{},{keyframes:[0,t]})),n=Math.min(Fi(r),Di);return{type:"keyframes",ease:e=>r.next(n*e).value/t,duration:gi(n)}}(e,100,Hi);return e.ease=t.ease,e.duration=xi(t.duration),e.type="keyframes",e};const Zi=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e;function Yi(e,t,r,n){if(e===t&&r===n)return Rn;const s=t=>function(e,t,r,n,s){let a,i,o=0;do{i=t+(r-t)/2,a=Zi(i,n,s)-e,a>0?r=i:t=i}while(Math.abs(a)>1e-7&&++o<12);return i}(t,0,1,e,r);return e=>0===e||1===e?e:Zi(s(e),t,n)}const Xi=Yi(.42,0,1,1),Ji=Yi(0,0,.58,1),Gi=Yi(.42,0,.58,1),Ki=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Qi=e=>t=>1-e(1-t),eo=Yi(.33,1.53,.69,.99),to=Qi(eo),ro=Ki(to),no=e=>(e*=2)<1?.5*to(e):.5*(2-Math.pow(2,-10*(e-1))),so=e=>1-Math.sin(Math.acos(e)),ao=Qi(so),io=Ki(so),oo=e=>Array.isArray(e)&&"number"===typeof e[0],lo={linear:Rn,easeIn:Xi,easeInOut:Gi,easeOut:Ji,circIn:so,circInOut:io,circOut:ao,backIn:to,backInOut:ro,backOut:eo,anticipate:no},co=e=>{if(oo(e)){e.length;const[t,r,n,s]=e;return Yi(t,r,n,s)}return"string"===typeof e?("Invalid easing type '".concat(e,"'"),lo[e]):e},uo=(e,t,r)=>{const n=t-e;return 0===n?1:(r-e)/n};function mo(e,t){let{clamp:r=!0,ease:n,mixer:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=e.length;if(t.length,1===a)return()=>t[0];if(2===a&&t[0]===t[1])return()=>t[1];const i=e[0]===e[1];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=function(e,t,r){const n=[],s=r||Dn.mix||Mi,a=e.length-1;for(let i=0;i<a;i++){let r=s(e[i],e[i+1]);if(t){const e=Array.isArray(t)?t[i]||Rn:t;r=fi(e,r)}n.push(r)}return n}(t,n,s),l=o.length,c=r=>{if(i&&r<e[0])return t[0];let n=0;if(l>1)for(;n<e.length-2&&!(r<e[n+1]);n++);const s=uo(e[n],e[n+1],r);return o[n](s)};return r?t=>c(mn(e[0],e[a-1],t)):c}function ho(e){const t=[0];return function(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const s=uo(0,t,n);e.push(Yr(r,1,s))}}(t,e.length-1),t}function po(e){let{duration:t=300,keyframes:r,times:n,ease:s="easeInOut"}=e;const a=(e=>Array.isArray(e)&&"number"!==typeof e[0])(s)?s.map(co):co(s),i={done:!1,value:r[0]},o=function(e,t){return e.map(e=>e*t)}(n&&n.length===r.length?n:ho(r),t),l=mo(o,r,{ease:Array.isArray(a)?a:(c=r,d=a,c.map(()=>d||Gi).splice(0,c.length-1))});var c,d;return{calculatedDuration:t,next:e=>(i.value=l(e),i.done=e>=t,i)}}const fo=e=>null!==e;function xo(e,t,r){let{repeat:n,repeatType:s="loop"}=t,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;const i=e.filter(fo),o=a<0||n&&"loop"!==s&&n%2===1?0:i.length-1;return o&&void 0!==r?r:i[o]}const go={decay:$i,inertia:$i,tween:po,keyframes:po,spring:Hi};function vo(e){"string"===typeof e.type&&(e.type=go[e.type])}class yo{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}const bo=e=>e/100;class jo extends yo{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var e,t;const{motionValue:r}=this.options;r&&r.updatedAt!==Ls.now()&&this.tick(Ls.now()),this.isStopped=!0,"idle"!==this.state&&(this.teardown(),null===(e=(t=this.options).onStop)||void 0===e||e.call(t))},vi.mainThread++,this.options=e,this.initAnimation(),this.play(),!1===e.autoplay&&this.pause()}initAnimation(){const{options:e}=this;vo(e);const{type:t=po,repeat:r=0,repeatDelay:n=0,repeatType:s,velocity:a=0}=e;let{keyframes:i}=e;const o=t||po;o!==po&&"number"!==typeof i[0]&&(this.mixKeyframes=fi(bo,Mi(i[0],i[1])),i=[0,100]);const l=o((0,Ie.A)((0,Ie.A)({},e),{},{keyframes:i}));"mirror"===s&&(this.mirroredGenerator=o((0,Ie.A)((0,Ie.A)({},e),{},{keyframes:[...i].reverse(),velocity:-a}))),null===l.calculatedDuration&&(l.calculatedDuration=Fi(l));const{calculatedDuration:c}=l;this.calculatedDuration=c,this.resolvedDuration=c+n,this.totalDuration=this.resolvedDuration*(r+1)-n,this.generator=l}updateTime(e){const t=Math.round(e-this.startTime)*this.playbackSpeed;null!==this.holdTime?this.currentTime=this.holdTime:this.currentTime=t}tick(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{generator:r,totalDuration:n,mixKeyframes:s,mirroredGenerator:a,resolvedDuration:i,calculatedDuration:o}=this;if(null===this.startTime)return r.next(0);const{delay:l=0,keyframes:c,repeat:d,repeatType:u,repeatDelay:m,type:h,onUpdate:p,finalKeyframe:f}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-n/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);const x=this.currentTime-l*(this.playbackSpeed>=0?1:-1),g=this.playbackSpeed>=0?x<0:x>n;this.currentTime=Math.max(x,0),"finished"===this.state&&null===this.holdTime&&(this.currentTime=n);let v=this.currentTime,y=r;if(d){const e=Math.min(this.currentTime,n)/i;let t=Math.floor(e),r=e%1;!r&&e>=1&&(r=1),1===r&&t--,t=Math.min(t,d+1);Boolean(t%2)&&("reverse"===u?(r=1-r,m&&(r-=m/i)):"mirror"===u&&(y=a)),v=mn(0,1,r)*i}const b=g?{done:!1,value:c[0]}:y.next(v);s&&(b.value=s(b.value));let{done:j}=b;g||null===o||(j=this.playbackSpeed>=0?this.currentTime>=n:this.currentTime<=0);const w=null===this.holdTime&&("finished"===this.state||"running"===this.state&&j);return w&&h!==$i&&(b.value=xo(c,this.options,f,this.speed)),p&&p(b.value),w&&this.finish(),b}then(e,t){return this.finished.then(e,t)}get duration(){return gi(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+gi(e)}get time(){return gi(this.currentTime)}set time(e){var t;e=xi(e),this.currentTime=e,null===this.startTime||null!==this.holdTime||0===this.playbackSpeed?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),null===(t=this.driver)||void 0===t||t.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Ls.now());const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=gi(this.currentTime))}play(){var e,t;if(this.isStopped)return;const{driver:r=Li,startTime:n}=this.options;this.driver||(this.driver=r(e=>this.tick(e))),null===(e=(t=this.options).onPlay)||void 0===e||e.call(t);const s=this.driver.now();"finished"===this.state?(this.updateFinished(),this.startTime=s):null!==this.holdTime?this.startTime=s-this.holdTime:this.startTime||(this.startTime=null!==n&&void 0!==n?n:s),"finished"===this.state&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Ls.now()),this.holdTime=this.currentTime}complete(){"running"!==this.state&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,t;this.notifyFinished(),this.teardown(),this.state="finished",null===(e=(t=this.options).onComplete)||void 0===e||e.call(t)}cancel(){var e,t;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),null===(e=(t=this.options).onCancel)||void 0===e||e.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null,vi.mainThread--}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var t;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),null===(t=this.driver)||void 0===t||t.stop(),e.observe(this)}}function wo(e){let t;return()=>(void 0===t&&(t=e()),t)}const No=wo(()=>void 0!==window.ScrollTimeline),ko={};function So(e,t){const r=wo(e);return()=>{var e;return null!==(e=ko[t])&&void 0!==e?e:r()}}const Co=So(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(Ke){return!1}return!0},"linearEasing"),Eo=e=>{let[t,r,n,s]=e;return"cubic-bezier(".concat(t,", ").concat(r,", ").concat(n,", ").concat(s,")")},Ao={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Eo([0,.65,.55,1]),circOut:Eo([.55,0,1,.45]),backIn:Eo([.31,.01,.66,-.59]),backOut:Eo([.33,1.53,.69,.99])};function Po(e,t){return e?"function"===typeof e?Co()?Ri(e,t):"ease-out":oo(e)?Eo(e):Array.isArray(e)?e.map(e=>Po(e,t)||Ao.easeOut):Ao[e]:void 0}function To(e,t,r){let{delay:n=0,duration:s=300,repeat:a=0,repeatType:i="loop",ease:o="easeOut",times:l}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;const d={[t]:r};l&&(d.offset=l);const u=Po(o,s);Array.isArray(u)&&(d.easing=u),In.value&&vi.waapi++;const m={delay:n,duration:s,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:a+1,direction:"reverse"===i?"alternate":"normal"};c&&(m.pseudoElement=c);const h=e.animate(d,m);return In.value&&h.finished.finally(()=>{vi.waapi--}),h}function Mo(e){return"function"===typeof e&&"applyToOptions"in e}const Lo=["type"];class Ro extends yo{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:t,name:r,keyframes:n,pseudoElement:s,allowFlatten:a=!1,finalKeyframe:i,onComplete:o}=e;this.isPseudoElement=Boolean(s),this.allowFlatten=a,this.options=e,e.type;const l=function(e){let{type:t}=e,r=(0,Ps.A)(e,Lo);return Mo(t)&&Co()?t.applyToOptions(r):(null!==(n=r.duration)&&void 0!==n||(r.duration=300),null!==(s=r.ease)&&void 0!==s||(r.ease="easeOut"),r);var n,s}(e);this.animation=To(t,r,n,l,s),!1===l.autoplay&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const e=xo(n,this.options,i,this.speed);this.updateMotionValue?this.updateMotionValue(e):function(e,t,r){(e=>e.startsWith("--"))(t)?e.style.setProperty(t,r):e.style[t]=r}(t,r,e),this.animation.cancel()}null===o||void 0===o||o(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),"finished"===this.state&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,t;null===(e=(t=this.animation).finish)||void 0===e||e.call(t)}cancel(){try{this.animation.cancel()}catch(Ke){}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;"idle"!==e&&"finished"!==e&&(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,t;this.isPseudoElement||(null===(e=(t=this.animation).commitStyles)||void 0===e||e.call(t))}get duration(){var e,t;const r=(null===(e=this.animation.effect)||void 0===e||null===(t=e.getComputedTiming)||void 0===t?void 0:t.call(e).duration)||0;return gi(Number(r))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+gi(e)}get time(){return gi(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=xi(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return null!==this.finishedTime?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline(e){let{timeline:t,observe:r}=e;var n;this.allowFlatten&&(null===(n=this.animation.effect)||void 0===n||n.updateTiming({easing:"linear"}));return this.animation.onfinish=null,t&&No()?(this.animation.timeline=t,Rn):r(this)}}const Do={anticipate:no,backInOut:ro,circInOut:io};function Fo(e){"string"===typeof e.ease&&e.ease in Do&&(e.ease=Do[e.ease])}const Io=["motionValue","onUpdate","onComplete","element"];class _o extends Ro{constructor(e){Fo(e),vo(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){var t;const r=this.options,{motionValue:n,onUpdate:s,onComplete:a,element:i}=r,o=(0,Ps.A)(r,Io);if(!n)return;if(void 0!==e)return void n.set(e);const l=new jo((0,Ie.A)((0,Ie.A)({},o),{},{autoplay:!1})),c=xi(null!==(t=this.finishedTime)&&void 0!==t?t:this.time);n.setWithVelocity(l.sample(c-10).value,l.sample(c).value,10),l.stop()}}const zo=(e,t)=>"zIndex"!==t&&(!("number"!==typeof e&&!Array.isArray(e))||!("string"!==typeof e||!fs.test(e)&&"0"!==e||e.startsWith("url(")));const Oo=new Set(["opacity","clipPath","filter","transform"]),Vo=wo(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));const Bo=["autoplay","delay","type","repeat","repeatDelay","repeatType","keyframes","name","motionValue","element"];class Uo extends yo{constructor(e){var t;let{autoplay:r=!0,delay:n=0,type:s="keyframes",repeat:a=0,repeatDelay:i=0,repeatType:o="loop",keyframes:l,name:c,motionValue:d,element:u}=e,m=(0,Ps.A)(e,Bo);super(),this.stop=()=>{var e,t;this._animation&&(this._animation.stop(),null===(t=this.stopTimeline)||void 0===t||t.call(this));null===(e=this.keyframeResolver)||void 0===e||e.cancel()},this.createdAt=Ls.now();const h=(0,Ie.A)({autoplay:r,delay:n,type:s,repeat:a,repeatDelay:i,repeatType:o,name:c,motionValue:d,element:u},m),p=(null===u||void 0===u?void 0:u.KeyframeResolver)||Yn;this.keyframeResolver=new p(l,(e,t,r)=>this.onKeyframesResolved(e,t,h,!r),c,d,u),null===(t=this.keyframeResolver)||void 0===t||t.scheduleResolve()}onKeyframesResolved(e,t,r,n){this.keyframeResolver=void 0;const{name:s,type:a,velocity:i,delay:o,isHandoff:l,onUpdate:c}=r;this.resolvedAt=Ls.now(),function(e,t,r,n){const s=e[0];if(null===s)return!1;if("display"===t||"visibility"===t)return!0;const a=e[e.length-1],i=zo(s,t),o=zo(a,t);return"You are trying to animate ".concat(t,' from "').concat(s,'" to "').concat(a,'". "').concat(i?a:s,'" is not an animatable value.'),!(!i||!o)&&(function(e){const t=e[0];if(1===e.length)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}(e)||("spring"===r||Mo(r))&&n)}(e,s,a,i)||(!Dn.instantAnimations&&o||null===c||void 0===c||c(xo(e,r,t)),e[0]=e[e.length-1],hi(r),r.repeat=0);const d=n?this.resolvedAt&&this.resolvedAt-this.createdAt>40?this.resolvedAt:this.createdAt:void 0,u=(0,Ie.A)((0,Ie.A)({startTime:d,finalKeyframe:t},r),{},{keyframes:e}),m=!l&&function(e){var t;const{motionValue:r,name:n,repeatDelay:s,repeatType:a,damping:i,type:o}=e;if(!((null===r||void 0===r||null===(t=r.owner)||void 0===t?void 0:t.current)instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=r.owner.getProps();return Vo()&&n&&Oo.has(n)&&("transform"!==n||!c)&&!l&&!s&&"mirror"!==a&&0!==i&&"inertia"!==o}(u)?new _o((0,Ie.A)((0,Ie.A)({},u),{},{element:u.motionValue.owner.current})):new jo(u);m.finished.then(()=>this.notifyFinished()).catch(Rn),this.pendingTimeline&&(this.stopTimeline=m.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=m}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){var e;this._animation||(null===(e=this.keyframeResolver)||void 0===e||e.resume(),Hn=!0,Zn(),$n(),Hn=!1);return this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),null===(e=this.keyframeResolver)||void 0===e||e.cancel()}}const Wo=e=>null!==e;const qo={type:"spring",stiffness:500,damping:25,restSpeed:10},Ho={type:"keyframes",duration:.8},$o={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Zo=(e,t)=>{let{keyframes:r}=t;return r.length>2?Ho:Mr.has(e)?e.startsWith("scale")?{type:"spring",stiffness:550,damping:0===r[1]?2*Math.sqrt(550):30,restSpeed:10}:qo:$o},Yo=["when","delay","delayChildren","staggerChildren","staggerDirection","repeat","repeatType","repeatDelay","from","elapsed"];const Xo=function(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=arguments.length>4?arguments[4]:void 0,a=arguments.length>5?arguments[5]:void 0;return i=>{const o=ii(n,e)||{},l=o.delay||n.delay||0;let{elapsed:c=0}=n;c-=xi(l);const d=(0,Ie.A)((0,Ie.A)({keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity()},o),{},{delay:-c,onUpdate:e=>{t.set(e),o.onUpdate&&o.onUpdate(e)},onComplete:()=>{i(),o.onComplete&&o.onComplete()},name:e,motionValue:t,element:a?void 0:s});(function(e){let{when:t,delay:r,delayChildren:n,staggerChildren:s,staggerDirection:a,repeat:i,repeatType:o,repeatDelay:l,from:c,elapsed:d}=e,u=(0,Ps.A)(e,Yo);return!!Object.keys(u).length})(o)||Object.assign(d,Zo(e,d)),d.duration&&(d.duration=xi(d.duration)),d.repeatDelay&&(d.repeatDelay=xi(d.repeatDelay)),void 0!==d.from&&(d.keyframes[0]=d.from);let u=!1;if((!1===d.type||0===d.duration&&!d.repeatDelay)&&(hi(d),0===d.delay&&(u=!0)),(Dn.instantAnimations||Dn.skipAnimations)&&(u=!0,hi(d),d.delay=0),d.allowFlatten=!o.type&&!o.ease,u&&!a&&void 0!==t.get()){const e=function(e,t,r){let{repeat:n,repeatType:s="loop"}=t;const a=e.filter(Wo),i=n&&"loop"!==s&&n%2===1?0:a.length-1;return i&&void 0!==r?r:a[i]}(d.keyframes,o);if(void 0!==e)return void zn.update(()=>{d.onUpdate(e),d.onComplete()})}return o.isSync?new jo(d):new Uo(d)}},Jo=["transition","transitionEnd"];function Go(e,t){let{protectedKeys:r,needsAnimating:n}=e;const s=r.hasOwnProperty(t)&&!0!==n[t];return n[t]=!1,s}function Ko(e,t){let{delay:r=0,transitionOverride:n,type:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{transition:a=e.getDefaultTransition(),transitionEnd:i}=t,o=(0,Ps.A)(t,Jo);n&&(a=n);const l=[],c=s&&e.animationState&&e.animationState.getState()[s];for(const u in o){var d;const t=e.getValue(u,null!==(d=e.latestValues[u])&&void 0!==d?d:null),n=o[u];if(void 0===n||c&&Go(c,u))continue;const s=(0,Ie.A)({delay:r},ii(a||{},u)),i=t.get();if(void 0!==i&&!t.isAnimating&&!Array.isArray(n)&&n===i&&!s.velocity)continue;let m=!1;if(window.MotionHandoffAnimation){const t=mi(e);if(t){const e=window.MotionHandoffAnimation(t,u,zn);null!==e&&(s.startTime=e,m=!0)}}ui(e,u),t.start(Xo(u,t,n,e.shouldReduceMotion&&un.has(u)?{type:!1}:s,e,m));const h=t.animation;h&&l.push(h)}return i&&Promise.all(l).then(()=>{zn.update(()=>{i&&function(e,t){let r=ai(e,t)||{},{transitionEnd:n={},transition:s={}}=r,a=(0,Ps.A)(r,li);a=(0,Ie.A)((0,Ie.A)({},a),n);for(const i in a)ci(e,i,di(a[i]))}(e,i)})}),l}function Qo(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;const a=Array.from(e).sort((e,t)=>e.sortNodePosition(t)).indexOf(t),i=e.size,o=(i-1)*n;return"function"===typeof r?r(a,i):1===s?a*n:o-a*n}function el(e,t){var r;let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=ai(e,t,"exit"===n.type?null===(r=e.presenceContext)||void 0===r?void 0:r.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(a=n.transitionOverride);const i=s?()=>Promise.all(Ko(e,s,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?function(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const{delayChildren:s=0,staggerChildren:i,staggerDirection:o}=a;return function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,i=arguments.length>6?arguments[6]:void 0;const o=[];for(const l of e.variantChildren)l.notify("AnimationStart",t),o.push(el(l,t,(0,Ie.A)((0,Ie.A)({},i),{},{delay:r+("function"===typeof n?0:n)+Qo(e.variantChildren,l,n,s,a)})).then(()=>l.notify("AnimationComplete",t)));return Promise.all(o)}(e,t,r,s,i,o,n)}:()=>Promise.resolve(),{when:l}=a;if(l){const[e,t]="beforeChildren"===l?[i,o]:[o,i];return e().then(()=>t())}return Promise.all([i(),o(n.delay)])}function tl(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}const rl=Ks.length;function nl(e){if(!e)return;if(!e.isControllingVariants){const t=e.parent&&nl(e.parent)||{};return void 0!==e.props.initial&&(t.initial=e.props.initial),t}const t={};for(let r=0;r<rl;r++){const n=Ks[r],s=e.props[n];(Js(s)||!1===s)&&(t[n]=s)}return t}const sl=["transition","transitionEnd"],al=[...Gs].reverse(),il=Gs.length;function ol(e){return t=>Promise.all(t.map(t=>{let{animation:r,options:n}=t;return function(e,t){let r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e.notify("AnimationStart",t),Array.isArray(t)){const s=t.map(t=>el(e,t,n));r=Promise.all(s)}else if("string"===typeof t)r=el(e,t,n);else{const s="function"===typeof t?ai(e,t,n.custom):t;r=Promise.all(Ko(e,s,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}(e,r,n)}))}function ll(e){let t=ol(e),r=ul(),n=!0;const s=t=>(r,n)=>{var s;const a=ai(e,n,"exit"===t?null===(s=e.presenceContext)||void 0===s?void 0:s.custom:void 0);if(a){const{transition:e,transitionEnd:t}=a,n=(0,Ps.A)(a,sl);r=(0,Ie.A)((0,Ie.A)((0,Ie.A)({},r),n),t)}return r};function a(a){const{props:i}=e,o=nl(e.parent)||{},l=[],c=new Set;let d={},u=1/0;for(let t=0;t<il;t++){const m=al[t],h=r[m],p=void 0!==i[m]?i[m]:o[m],f=Js(p),x=m===a?h.isActive:null;!1===x&&(u=t);let g=p===o[m]&&p!==i[m]&&f;if(g&&n&&e.manuallyAnimateOnMount&&(g=!1),h.protectedKeys=(0,Ie.A)({},d),!h.isActive&&null===x||!p&&!h.prevProp||Xs(p)||"boolean"===typeof p)continue;const v=cl(h.prevProp,p);let y=v||m===a&&h.isActive&&!g&&f||t>u&&f,b=!1;const j=Array.isArray(p)?p:[p];let w=j.reduce(s(m),{});!1===x&&(w={});const{prevResolvedValues:N={}}=h,k=(0,Ie.A)((0,Ie.A)({},N),w),S=t=>{y=!0,c.has(t)&&(b=!0,c.delete(t)),h.needsAnimating[t]=!0;const r=e.getValue(t);r&&(r.liveStyle=!1)};for(const e in k){const t=w[e],r=N[e];if(d.hasOwnProperty(e))continue;let n=!1;n=oi(t)&&oi(r)?!tl(t,r):t!==r,n?void 0!==t&&null!==t?S(e):c.add(e):void 0!==t&&c.has(e)?S(e):h.protectedKeys[e]=!0}h.prevProp=p,h.prevResolvedValues=w,h.isActive&&(d=(0,Ie.A)((0,Ie.A)({},d),w)),n&&e.blockInitialAnimation&&(y=!1);const C=g&&v;y&&(!C||b)&&l.push(...j.map(t=>{const r={type:m};if("string"===typeof t&&n&&!C&&e.manuallyAnimateOnMount&&e.parent){const{parent:n}=e,s=ai(n,t);if(n.enteringChildren&&s){const{delayChildren:t}=s.transition||{};r.delay=Qo(n.enteringChildren,e,t)}}return{animation:t,options:r}}))}if(c.size){const t={};if("boolean"!==typeof i.initial){const r=ai(e,Array.isArray(i.initial)?i.initial[0]:i.initial);r&&r.transition&&(t.transition=r.transition)}c.forEach(r=>{const n=e.getBaseTarget(r),s=e.getValue(r);s&&(s.liveStyle=!0),t[r]=null!==n&&void 0!==n?n:null}),l.push({animation:t})}let m=Boolean(l.length);return!n||!1!==i.initial&&i.initial!==i.animate||e.manuallyAnimateOnMount||(m=!1),n=!1,m?t(l):Promise.resolve()}return{animateChanges:a,setActive:function(t,n){var s;if(r[t].isActive===n)return Promise.resolve();null===(s=e.variantChildren)||void 0===s||s.forEach(e=>{var r;return null===(r=e.animationState)||void 0===r?void 0:r.setActive(t,n)}),r[t].isActive=n;const i=a(t);for(const e in r)r[e].protectedKeys={};return i},setAnimateFunction:function(r){t=r(e)},getState:()=>r,reset:()=>{r=ul()}}}function cl(e,t){return"string"===typeof t?t!==e:!!Array.isArray(t)&&!tl(t,e)}function dl(){return{isActive:arguments.length>0&&void 0!==arguments[0]&&arguments[0],protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function ul(){return{animate:dl(!0),whileInView:dl(),whileHover:dl(),whileTap:dl(),whileDrag:dl(),whileFocus:dl(),exit:dl()}}class ml{constructor(e){this.isMounted=!1,this.node=e}update(){}}let hl=0;const pl={animation:{Feature:class extends ml{constructor(e){super(e),e.animationState||(e.animationState=ll(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Xs(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),null===(e=this.unmountControls)||void 0===e||e.call(this)}}},exit:{Feature:class extends ml{constructor(){super(...arguments),this.id=hl++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const n=this.node.animationState.setActive("exit",!e);t&&!e&&n.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}}},fl={x:!1,y:!1};function xl(){return fl.x||fl.y}function gl(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{passive:!0};return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}const vl=e=>"mouse"===e.pointerType?"number"!==typeof e.button||e.button<=0:!1!==e.isPrimary;function yl(e){return{point:{x:e.pageX,y:e.pageY}}}function bl(e,t,r,n){return gl(e,t,(e=>t=>vl(t)&&e(t,yl(t)))(r),n)}function jl(e){return e.max-e.min}function wl(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;e.origin=n,e.originPoint=Yr(t.min,t.max,e.origin),e.scale=jl(r)/jl(t),e.translate=Yr(r.min,r.max,e.origin)-e.originPoint,(e.scale>=.9999&&e.scale<=1.0001||isNaN(e.scale))&&(e.scale=1),(e.translate>=-.01&&e.translate<=.01||isNaN(e.translate))&&(e.translate=0)}function Nl(e,t,r,n){wl(e.x,t.x,r.x,n?n.originX:void 0),wl(e.y,t.y,r.y,n?n.originY:void 0)}function kl(e,t,r){e.min=r.min+t.min,e.max=e.min+jl(t)}function Sl(e,t,r){e.min=t.min-r.min,e.max=e.min+jl(t)}function Cl(e,t,r){Sl(e.x,t.x,r.x),Sl(e.y,t.y,r.y)}function El(e){return[e("x"),e("y")]}const Al=e=>{let{current:t}=e;return t?t.ownerDocument.defaultView:null},Pl=(e,t)=>Math.abs(e-t);class Tl{constructor(e,t){let{transformPagePoint:r,contextWindow:n=window,dragSnapToOrigin:s=!1,distanceThreshold:a=3}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!this.lastMoveEvent||!this.lastMoveEventInfo)return;const e=Rl(this.lastMoveEventInfo,this.history),t=null!==this.startEvent,r=function(e,t){const r=Pl(e.x,t.x),n=Pl(e.y,t.y);return Math.sqrt(r**2+n**2)}(e.offset,{x:0,y:0})>=this.distanceThreshold;if(!t&&!r)return;const{point:n}=e,{timestamp:s}=Vn;this.history.push((0,Ie.A)((0,Ie.A)({},n),{},{timestamp:s}));const{onStart:a,onMove:i}=this.handlers;t||(a&&a(this.lastMoveEvent,e),this.startEvent=this.lastMoveEvent),i&&i(this.lastMoveEvent,e)},this.handlePointerMove=(e,t)=>{this.lastMoveEvent=e,this.lastMoveEventInfo=Ml(t,this.transformPagePoint),zn.update(this.updatePoint,!0)},this.handlePointerUp=(e,t)=>{this.end();const{onEnd:r,onSessionEnd:n,resumeAnimation:s}=this.handlers;if(this.dragSnapToOrigin&&s&&s(),!this.lastMoveEvent||!this.lastMoveEventInfo)return;const a=Rl("pointercancel"===e.type?this.lastMoveEventInfo:Ml(t,this.transformPagePoint),this.history);this.startEvent&&r&&r(e,a),n&&n(e,a)},!vl(e))return;this.dragSnapToOrigin=s,this.handlers=t,this.transformPagePoint=r,this.distanceThreshold=a,this.contextWindow=n||window;const i=Ml(yl(e),this.transformPagePoint),{point:o}=i,{timestamp:l}=Vn;this.history=[(0,Ie.A)((0,Ie.A)({},o),{},{timestamp:l})];const{onSessionStart:c}=t;c&&c(e,Rl(i,this.history)),this.removeListeners=fi(bl(this.contextWindow,"pointermove",this.handlePointerMove),bl(this.contextWindow,"pointerup",this.handlePointerUp),bl(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),On(this.updatePoint)}}function Ml(e,t){return t?{point:t(e.point)}:e}function Ll(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Rl(e,t){let{point:r}=e;return{point:r,delta:Ll(r,Fl(t)),offset:Ll(r,Dl(t)),velocity:Il(t,.1)}}function Dl(e){return e[0]}function Fl(e){return e[e.length-1]}function Il(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const s=Fl(e);for(;r>=0&&(n=e[r],!(s.timestamp-n.timestamp>xi(t)));)r--;if(!n)return{x:0,y:0};const a=gi(s.timestamp-n.timestamp);if(0===a)return{x:0,y:0};const i={x:(s.x-n.x)/a,y:(s.y-n.y)/a};return i.x===1/0&&(i.x=0),i.y===1/0&&(i.y=0),i}function _l(e,t,r){return{min:void 0!==t?e.min+t:void 0,max:void 0!==r?e.max+r-(e.max-e.min):void 0}}function zl(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}const Ol=.35;function Vl(e,t,r){return{min:Bl(e,t),max:Bl(e,r)}}function Bl(e,t){return"number"===typeof e?e:e[t]||0}const Ul=new WeakMap;class Wl{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic={x:{min:0,max:0},y:{min:0,max:0}},this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e){let{snapToCursor:t=!1,distanceThreshold:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{presenceContext:n}=this.visualElement;if(n&&!1===n.isPresent)return;const{dragSnapToOrigin:s}=this.getProps();this.panSession=new Tl(e,{onSessionStart:e=>{const{dragSnapToOrigin:r}=this.getProps();r?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(yl(e).point)},onStart:(e,t)=>{const{drag:r,dragPropagation:n,onDragStart:s}=this.getProps();if(r&&!n&&(this.openDragLock&&this.openDragLock(),this.openDragLock="x"===(a=r)||"y"===a?fl[a]?null:(fl[a]=!0,()=>{fl[a]=!1}):fl.x||fl.y?null:(fl.x=fl.y=!0,()=>{fl.x=fl.y=!1}),!this.openDragLock))return;var a;this.latestPointerEvent=e,this.latestPanInfo=t,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),El(e=>{let t=this.getAxisMotionValue(e).get()||0;if(vn.test(t)){const{projection:r}=this.visualElement;if(r&&r.layout){const n=r.layout.layoutBox[e];if(n){t=jl(n)*(parseFloat(t)/100)}}}this.originPoint[e]=t}),s&&zn.postRender(()=>s(e,t)),ui(this.visualElement,"transform");const{animationState:i}=this.visualElement;i&&i.setActive("whileDrag",!0)},onMove:(e,t)=>{this.latestPointerEvent=e,this.latestPanInfo=t;const{dragPropagation:r,dragDirectionLock:n,onDirectionLock:s,onDrag:a}=this.getProps();if(!r&&!this.openDragLock)return;const{offset:i}=t;if(n&&null===this.currentDirection)return this.currentDirection=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,r=null;Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x");return r}(i),void(null!==this.currentDirection&&s&&s(this.currentDirection));this.updateAxis("x",t.point,i),this.updateAxis("y",t.point,i),this.visualElement.render(),a&&a(e,t)},onSessionEnd:(e,t)=>{this.latestPointerEvent=e,this.latestPanInfo=t,this.stop(e,t),this.latestPointerEvent=null,this.latestPanInfo=null},resumeAnimation:()=>El(e=>{var t;return"paused"===this.getAnimationState(e)&&(null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.play())})},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:s,distanceThreshold:r,contextWindow:Al(this.visualElement)})}stop(e,t){const r=e||this.latestPointerEvent,n=t||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!n||!r)return;const{velocity:a}=n;this.startAnimation(a);const{onDragEnd:i}=this.getProps();i&&zn.postRender(()=>i(r,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,r){const{drag:n}=this.getProps();if(!r||!ql(e,n,this.currentDirection))return;const s=this.getAxisMotionValue(e);let a=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(a=function(e,t,r){let{min:n,max:s}=t;return void 0!==n&&e<n?e=r?Yr(n,e,r.min):Math.max(e,n):void 0!==s&&e>s&&(e=r?Yr(s,e,r.max):Math.min(e,s)),e}(a,this.constraints[e],this.elastic[e])),s.set(a)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):null===(e=this.visualElement.projection)||void 0===e?void 0:e.layout,s=this.constraints;t&&Ja(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!t||!n)&&function(e,t){let{top:r,left:n,bottom:s,right:a}=t;return{x:_l(e.x,n,a),y:_l(e.y,r,s)}}(n.layoutBox,t),this.elastic=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ol;return!1===e?e=0:!0===e&&(e=Ol),{x:Vl(e,"left","right"),y:Vl(e,"top","bottom")}}(r),s!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&El(e=>{!1!==this.constraints&&this.getAxisMotionValue(e)&&(this.constraints[e]=function(e,t){const r={};return void 0!==t.min&&(r.min=t.min-e.min),void 0!==t.max&&(r.max=t.max-e.min),r}(n.layoutBox[e],this.constraints[e]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Ja(e))return!1;const r=e.current,{projection:n}=this.visualElement;if(!n||!n.layout)return!1;const s=function(e,t,r){const n=dn(e,r),{scroll:s}=t;return s&&(on(n.x,s.offset.x),on(n.y,s.offset.y)),n}(r,n.root,this.visualElement.getTransformPagePoint());let a=function(e,t){return{x:zl(e.x,t.x),y:zl(e.y,t.y)}}(n.layout.layoutBox,s);if(t){const e=t(function(e){let{x:t,y:r}=e;return{top:r.min,right:t.max,bottom:r.max,left:t.min}}(a));this.hasMutatedConstraints=!!e,e&&(a=Zr(e))}return a}startAnimation(e){const{drag:t,dragMomentum:r,dragElastic:n,dragTransition:s,dragSnapToOrigin:a,onDragTransitionEnd:i}=this.getProps(),o=this.constraints||{},l=El(i=>{if(!ql(i,t,this.currentDirection))return;let l=o&&o[i]||{};a&&(l={min:0,max:0});const c=n?200:1e6,d=n?40:1e7,u=(0,Ie.A)((0,Ie.A)({type:"inertia",velocity:r?e[i]:0,bounceStiffness:c,bounceDamping:d,timeConstant:750,restDelta:1,restSpeed:10},s),l);return this.startAxisValueAnimation(i,u)});return Promise.all(l).then(i)}startAxisValueAnimation(e,t){const r=this.getAxisMotionValue(e);return ui(this.visualElement,e),r.start(Xo(e,r,0,t,this.visualElement,!1))}stopAnimation(){El(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){El(e=>{var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.pause()})}getAnimationState(e){var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.state}getAxisMotionValue(e){const t="_drag".concat(e.toUpperCase()),r=this.visualElement.getProps(),n=r[t];return n||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){El(t=>{const{drag:r}=this.getProps();if(!ql(t,r,this.currentDirection))return;const{projection:n}=this.visualElement,s=this.getAxisMotionValue(t);if(n&&n.layout){const{min:r,max:a}=n.layout.layoutBox[t];s.set(e[t]-Yr(r,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:r}=this.visualElement;if(!Ja(t)||!r||!this.constraints)return;this.stopAnimation();const n={x:0,y:0};El(e=>{const t=this.getAxisMotionValue(e);if(t&&!1!==this.constraints){const r=t.get();n[e]=function(e,t){let r=.5;const n=jl(e),s=jl(t);return s>n?r=uo(t.min,t.max-n,e.min):n>s&&(r=uo(e.min,e.max-s,t.min)),mn(0,1,r)}({min:r,max:r},this.constraints[e])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),El(t=>{if(!ql(t,e,null))return;const r=this.getAxisMotionValue(t),{min:s,max:a}=this.constraints[t];r.set(Yr(s,a,n[t]))})}addListeners(){if(!this.visualElement.current)return;Ul.set(this.visualElement,this);const e=bl(this.visualElement.current,"pointerdown",e=>{const{drag:t,dragListener:r=!0}=this.getProps();t&&r&&this.start(e)}),t=()=>{const{dragConstraints:e}=this.getProps();Ja(e)&&e.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,n=r.addEventListener("measure",t);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),zn.read(t);const s=gl(window,"resize",()=>this.scalePositionWithinConstraints()),a=r.addEventListener("didUpdate",e=>{let{delta:t,hasLayoutChanged:r}=e;this.isDragging&&r&&(El(e=>{const r=this.getAxisMotionValue(e);r&&(this.originPoint[e]+=t[e].translate,r.set(r.get()+t[e].translate))}),this.visualElement.render())});return()=>{s(),e(),n(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:r=!1,dragPropagation:n=!1,dragConstraints:s=!1,dragElastic:a=Ol,dragMomentum:i=!0}=e;return(0,Ie.A)((0,Ie.A)({},e),{},{drag:t,dragDirectionLock:r,dragPropagation:n,dragConstraints:s,dragElastic:a,dragMomentum:i})}}function ql(e,t,r){return(!0===t||t===e)&&(null===r||r===e)}const Hl=e=>(t,r)=>{e&&zn.postRender(()=>e(t,r))};const $l={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Zl(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Yl={correct:(e,t)=>{if(!t.target)return e;if("string"===typeof e){if(!yn.test(e))return e;e=parseFloat(e)}const r=Zl(e,t.target.x),n=Zl(e,t.target.y);return"".concat(r,"% ").concat(n,"%")}},Xl={correct:(e,t)=>{let{treeScale:r,projectionDelta:n}=t;const s=e,a=fs.parse(e);if(a.length>5)return s;const i=fs.createTransformer(e),o="number"!==typeof a[0]?1:0,l=n.x.scale*r.x,c=n.y.scale*r.y;a[0+o]/=l,a[1+o]/=c;const d=Yr(l,c,.5);return"number"===typeof a[2+o]&&(a[2+o]/=d),"number"===typeof a[3+o]&&(a[3+o]/=d),i(a)}};let Jl=!1;class Gl extends t.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r,layoutId:n}=this.props,{projection:s}=e;!function(e){for(const t in e)ma[t]=e[t],Wr(t)&&(ma[t].isCSSVariable=!0)}(Ql),s&&(t.group&&t.group.add(s),r&&r.register&&n&&r.register(s),Jl&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions((0,Ie.A)((0,Ie.A)({},s.options),{},{onExitComplete:()=>this.safeToRemove()}))),$l.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:r,drag:n,isPresent:s}=this.props,{projection:a}=r;return a?(a.isPresent=s,Jl=!0,n||e.layoutDependency!==t||void 0===t||e.isPresent!==s?a.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?a.promote():a.relegate()||zn.postRender(()=>{const e=a.getStack();e&&e.members.length||this.safeToRemove()})),null):null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Bs.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r}=this.props,{projection:n}=e;Jl=!0,n&&(n.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(n),r&&r.deregister&&r.deregister(n))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Kl(e){const[r,n]=Ze(),s=(0,t.useContext)(Le);return(0,Me.jsx)(Gl,(0,Ie.A)((0,Ie.A)({},e),{},{layoutGroup:s,switchLayoutGroup:(0,t.useContext)(Qa),isPresent:r,safeToRemove:n}))}const Ql={borderRadius:(0,Ie.A)((0,Ie.A)({},Yl),{},{applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]}),borderTopLeftRadius:Yl,borderTopRightRadius:Yl,borderBottomLeftRadius:Yl,borderBottomRightRadius:Yl,boxShadow:Xl};function ec(e){return ze(e)&&"ownerSVGElement"in e}const tc=(e,t)=>e.depth-t.depth;class rc{constructor(){this.children=[],this.isDirty=!1}add(e){Rs(this.children,e),this.isDirty=!0}remove(e){Ds(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(tc),this.isDirty=!1,this.children.forEach(e)}}function nc(e,t){const r=Ls.now(),n=s=>{let{timestamp:a}=s;const i=a-r;i>=t&&(On(n),e(i-t))};return zn.setup(n,!0),()=>On(n)}const sc=["TopLeft","TopRight","BottomLeft","BottomRight"],ac=sc.length,ic=e=>"string"===typeof e?parseFloat(e):e,oc=e=>"number"===typeof e||yn.test(e);function lc(e,t){return void 0!==e[t]?e[t]:e.borderRadius}const cc=uc(0,.5,ao),dc=uc(.5,.95,Rn);function uc(e,t,r){return n=>n<e?0:n>t?1:r(uo(e,t,n))}function mc(e,t){e.min=t.min,e.max=t.max}function hc(e,t){mc(e.x,t.x),mc(e.y,t.y)}function pc(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function fc(e,t,r,n,s){return e=en(e-=t,1/r,n),void 0!==s&&(e=en(e,1/s,n)),e}function xc(e,t,r,n,s){let[a,i,o]=r;!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,s=arguments.length>4?arguments[4]:void 0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:e,i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:e;vn.test(t)&&(t=parseFloat(t),t=Yr(i.min,i.max,t/100)-i.min);if("number"!==typeof t)return;let o=Yr(a.min,a.max,n);e===a&&(o-=t),e.min=fc(e.min,t,r,o,s),e.max=fc(e.max,t,r,o,s)}(e,t[a],t[i],t[o],t.scale,n,s)}const gc=["x","scaleX","originX"],vc=["y","scaleY","originY"];function yc(e,t,r,n){xc(e.x,t,gc,r?r.x:void 0,n?n.x:void 0),xc(e.y,t,vc,r?r.y:void 0,n?n.y:void 0)}function bc(e){return 0===e.translate&&1===e.scale}function jc(e){return bc(e.x)&&bc(e.y)}function wc(e,t){return e.min===t.min&&e.max===t.max}function Nc(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function kc(e,t){return Nc(e.x,t.x)&&Nc(e.y,t.y)}function Sc(e){return jl(e.x)/jl(e.y)}function Cc(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class Ec{constructor(){this.members=[]}add(e){Rs(this.members,e),e.scheduleRender()}remove(e){if(Ds(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(e){const t=this.members.findIndex(t=>e===t);if(0===t)return!1;let r;for(let n=t;n>=0;n--){const e=this.members[n];if(!1!==e.isPresent){r=e;break}}return!!r&&(this.promote(r),!0)}promote(e,t){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,t&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:n}=e.options;!1===n&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:r}=e;t.onExitComplete&&t.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Ac={nodes:0,calculatedTargetDeltas:0,calculatedProjections:0},Pc=["","X","Y","Z"];let Tc=0;function Mc(e,t,r,n){const{latestValues:s}=t;s[e]&&(r[e]=s[e],t.setStaticValue(e,0),n&&(n[e]=0))}function Lc(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=mi(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:t,layoutId:n}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",zn,!(t||n))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&Lc(n)}function Rc(e){let{attachResizeListener:t,defaultParent:r,measureScroll:n,checkIsScrollRoot:s,resetTransform:a}=e;return class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===r||void 0===r?void 0:r();this.id=Tc++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,In.value&&(Ac.nodes=Ac.calculatedTargetDeltas=Ac.calculatedProjections=0),this.nodes.forEach(Ic),this.nodes.forEach(Wc),this.nodes.forEach(qc),this.nodes.forEach(_c),In.addProjectionMetrics&&In.addProjectionMetrics(Ac)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=e,this.root=t?t.root||t:this,this.path=t?[...t.path,t]:[],this.parent=t,this.depth=t?t.depth+1:0;for(let r=0;r<this.path.length;r++)this.path[r].shouldResetTransform=!0;this.root===this&&(this.nodes=new rc)}addEventListener(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new Fs),this.eventHandlers.get(e).add(t)}notifyListeners(e){const t=this.eventHandlers.get(e);for(var r=arguments.length,n=new Array(r>1?r-1:0),s=1;s<r;s++)n[s-1]=arguments[s];t&&t.notify(...n)}hasListeners(e){return this.eventHandlers.has(e)}mount(e){if(this.instance)return;var r;this.isSVG=ec(e)&&!(ec(r=e)&&"svg"===r.tagName),this.instance=e;const{layoutId:n,layout:s,visualElement:a}=this.options;if(a&&!a.current&&a.mount(e),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(s||n)&&(this.isLayoutDirty=!0),t){let r,n=0;const s=()=>this.root.updateBlockedByResize=!1;zn.read(()=>{n=window.innerWidth}),t(e,()=>{const e=window.innerWidth;e!==n&&(n=e,this.root.updateBlockedByResize=!0,r&&r(),r=nc(s,250),$l.hasAnimatedSinceResize&&($l.hasAnimatedSinceResize=!1,this.nodes.forEach(Uc)))})}n&&this.root.registerSharedNode(n,this),!1!==this.options.animate&&a&&(n||s)&&this.addEventListener("didUpdate",e=>{let{delta:t,hasLayoutChanged:r,hasRelativeLayoutChanged:n,layout:s}=e;if(this.isTreeAnimationBlocked())return this.target=void 0,void(this.relativeTarget=void 0);const i=this.options.transition||a.getDefaultTransition()||Jc,{onLayoutAnimationStart:o,onLayoutAnimationComplete:l}=a.getProps(),c=!this.targetLayout||!kc(this.targetLayout,s),d=!r&&n;if(this.options.layoutRoot||this.resumeFrom||d||r&&(c||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const e=(0,Ie.A)((0,Ie.A)({},ii(i,"layout")),{},{onPlay:o,onComplete:l});(a.shouldReduceMotion||this.options.layoutRoot)&&(e.delay=0,e.type=!1),this.startAnimation(e),this.setAnimationOrigin(t,d)}else r||Uc(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=s})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),On(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Hc),this.animationId++)}getTransformTemplate(){const{visualElement:e}=this.options;return e&&e.getProps().transformTemplate}willUpdate(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked())return void(this.options.onExitComplete&&this.options.onExitComplete());if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Lc(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let s=0;s<this.path.length;s++){const e=this.path[s];e.shouldResetTransform=!0,e.updateScroll("snapshot"),e.options.layoutRoot&&e.willUpdate(!1)}const{layoutId:t,layout:r}=this.options;if(void 0===t&&!r)return;const n=this.getTransformTemplate();this.prevTransformTemplateValue=n?n(this.latestValues,""):void 0,this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}update(){this.updateScheduled=!1;if(this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(Oc);if(this.animationId<=this.animationCommitId)return void this.nodes.forEach(Vc);this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Bc),this.nodes.forEach(Dc),this.nodes.forEach(Fc)):this.nodes.forEach(Vc),this.clearAllSnapshots();const e=Ls.now();Vn.delta=mn(0,1e3/60,e-Vn.timestamp),Vn.timestamp=e,Vn.isProcessing=!0,Bn.update.process(Vn),Bn.preRender.process(Vn),Bn.render.process(Vn),Vn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Bs.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(zc),this.sharedNodes.forEach($c)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,zn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){zn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure(),!this.snapshot||jl(this.snapshot.measuredBox.x)||jl(this.snapshot.measuredBox.y)||(this.snapshot=void 0))}updateLayout(){if(!this.instance)return;if(this.updateScroll(),(!this.options.alwaysMeasureLayout||!this.isLead())&&!this.isLayoutDirty)return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let r=0;r<this.path.length;r++){this.path[r].updateScroll()}const e=this.layout;this.layout=this.measure(!1),this.layoutCorrected={x:{min:0,max:0},y:{min:0,max:0}},this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:t}=this.options;t&&t.notify("LayoutMeasure",this.layout.layoutBox,e?e.layoutBox:void 0)}updateScroll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"measure",t=Boolean(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t&&this.instance){const t=s(this.instance);this.scroll={animationId:this.root.animationId,phase:e,isRoot:t,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:t}}}resetTransform(){if(!a)return;const e=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,t=this.projectionDelta&&!jc(this.projectionDelta),r=this.getTransformTemplate(),n=r?r(this.latestValues,""):void 0,s=n!==this.prevTransformTemplateValue;e&&this.instance&&(t||Gr(this.latestValues)||s)&&(a(this.instance,n),this.shouldResetTransform=!1,this.scheduleRender())}measure(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=this.measurePageBox();let r=this.removeElementScroll(t);var n;return e&&(r=this.removeTransform(r)),Qc((n=r).x),Qc(n.y),{animationId:this.root.animationId,measuredBox:t,layoutBox:r,latestValues:{},source:this.id}}measurePageBox(){var e;const{visualElement:t}=this.options;if(!t)return{x:{min:0,max:0},y:{min:0,max:0}};const r=t.measureViewportBox();if(!((null===(e=this.scroll)||void 0===e?void 0:e.wasRoot)||this.path.some(td))){const{scroll:e}=this.root;e&&(on(r.x,e.offset.x),on(r.y,e.offset.y))}return r}removeElementScroll(e){var t;const r={x:{min:0,max:0},y:{min:0,max:0}};if(hc(r,e),null!==(t=this.scroll)&&void 0!==t&&t.wasRoot)return r;for(let n=0;n<this.path.length;n++){const t=this.path[n],{scroll:s,options:a}=t;t!==this.root&&s&&a.layoutScroll&&(s.wasRoot&&hc(r,e),on(r.x,s.offset.x),on(r.y,s.offset.y))}return r}applyTransform(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r={x:{min:0,max:0},y:{min:0,max:0}};hc(r,e);for(let n=0;n<this.path.length;n++){const e=this.path[n];!t&&e.options.layoutScroll&&e.scroll&&e!==e.root&&cn(r,{x:-e.scroll.offset.x,y:-e.scroll.offset.y}),Gr(e.latestValues)&&cn(r,e.latestValues)}return Gr(this.latestValues)&&cn(r,this.latestValues),r}removeTransform(e){const t={x:{min:0,max:0},y:{min:0,max:0}};hc(t,e);for(let r=0;r<this.path.length;r++){const e=this.path[r];if(!e.instance)continue;if(!Gr(e.latestValues))continue;Jr(e.latestValues)&&e.updateSnapshot();const n=Hs();hc(n,e.measurePageBox()),yc(t,e.latestValues,e.snapshot?e.snapshot.layoutBox:void 0,n)}return Gr(this.latestValues)&&yc(t,this.latestValues),t}setTargetDelta(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(e){this.options=(0,Ie.A)((0,Ie.A)((0,Ie.A)({},this.options),e),{},{crossfade:void 0===e.crossfade||e.crossfade})}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Vn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(){var e;let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const r=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=r.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=r.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=r.isSharedProjectionDirty);const n=Boolean(this.resumingFrom)||this!==r;if(!(t||n&&this.isSharedProjectionDirty||this.isProjectionDirty||null!==(e=this.parent)&&void 0!==e&&e.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:s,layoutId:a}=this.options;if(this.layout&&(s||a)){if(this.resolvedRelativeTargetAt=Vn.timestamp,!this.targetDelta&&!this.relativeTarget){const e=this.getClosestProjectingParent();e&&e.layout&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},Cl(this.relativeTargetOrigin,this.layout.layoutBox,e.layout.layoutBox),hc(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(this.relativeTarget||this.targetDelta){var i,o,l;if(this.target||(this.target={x:{min:0,max:0},y:{min:0,max:0}},this.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}}),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),i=this.target,o=this.relativeTarget,l=this.relativeParent.target,kl(i.x,o.x,l.x),kl(i.y,o.y,l.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):hc(this.target,this.layout.layoutBox),nn(this.target,this.targetDelta)):hc(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const e=this.getClosestProjectingParent();e&&Boolean(e.resumingFrom)===Boolean(this.resumingFrom)&&!e.options.layoutScroll&&e.target&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},Cl(this.relativeTargetOrigin,this.target,e.target),hc(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}In.value&&Ac.calculatedTargetDeltas++}}}getClosestProjectingParent(){if(this.parent&&!Jr(this.parent.latestValues)&&!Kr(this.parent.latestValues))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var e;const t=this.getLead(),r=Boolean(this.resumingFrom)||this!==t;let n=!0;if((this.isProjectionDirty||null!==(e=this.parent)&&void 0!==e&&e.isProjectionDirty)&&(n=!1),r&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(n=!1),this.resolvedRelativeTargetAt===Vn.timestamp&&(n=!1),n)return;const{layout:s,layoutId:a}=this.options;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!s&&!a)return;hc(this.layoutCorrected,this.layout.layoutBox);const i=this.treeScale.x,o=this.treeScale.y;!function(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const s=r.length;if(!s)return;let a,i;t.x=t.y=1;for(let o=0;o<s;o++){a=r[o],i=a.projectionDelta;const{visualElement:s}=a.options;s&&s.props.style&&"contents"===s.props.style.display||(n&&a.options.layoutScroll&&a.scroll&&a!==a.root&&cn(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),i&&(t.x*=i.x.scale,t.y*=i.y.scale,nn(e,i)),n&&Gr(a.latestValues)&&cn(e,a.latestValues))}t.x<an&&t.x>sn&&(t.x=1),t.y<an&&t.y>sn&&(t.y=1)}(this.layoutCorrected,this.treeScale,this.path,r),!t.layout||t.target||1===this.treeScale.x&&1===this.treeScale.y||(t.target=t.layout.layoutBox,t.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}});const{target:l}=t;l?(this.projectionDelta&&this.prevProjectionDelta?(pc(this.prevProjectionDelta.x,this.projectionDelta.x),pc(this.prevProjectionDelta.y,this.projectionDelta.y)):this.createProjectionDeltas(),Nl(this.projectionDelta,this.layoutCorrected,l,this.latestValues),this.treeScale.x===i&&this.treeScale.y===o&&Cc(this.projectionDelta.x,this.prevProjectionDelta.x)&&Cc(this.projectionDelta.y,this.prevProjectionDelta.y)||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",l)),In.value&&Ac.calculatedProjections++):this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender())}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(){var e;let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(null===(e=this.options.visualElement)||void 0===e||e.scheduleRender(),t){const e=this.getStack();e&&e.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDeltaWithTransform={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}}}setAnimationOrigin(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=this.snapshot,n=r?r.latestValues:{},s=(0,Ie.A)({},this.latestValues),a={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!t;const i={x:{min:0,max:0},y:{min:0,max:0}},o=(r?r.source:void 0)!==(this.layout?this.layout.source:void 0),l=this.getStack(),c=!l||l.members.length<=1,d=Boolean(o&&!c&&!0===this.options.crossfade&&!this.path.some(Xc));let u;this.animationProgress=0,this.mixTargetDelta=t=>{const r=t/1e3;Zc(a.x,e.x,r),Zc(a.y,e.y,r),this.setTargetDelta(a),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Cl(i,this.layout.layoutBox,this.relativeParent.layout.layoutBox),function(e,t,r,n){Yc(e.x,t.x,r.x,n),Yc(e.y,t.y,r.y,n)}(this.relativeTarget,this.relativeTargetOrigin,i,r),u&&function(e,t){return wc(e.x,t.x)&&wc(e.y,t.y)}(this.relativeTarget,u)&&(this.isProjectionDirty=!1),u||(u={x:{min:0,max:0},y:{min:0,max:0}}),hc(u,this.relativeTarget)),o&&(this.animationValues=s,function(e,t,r,n,s,a){var i,o;if(s)e.opacity=Yr(0,null!==(i=r.opacity)&&void 0!==i?i:1,cc(n)),e.opacityExit=Yr(null!==(o=t.opacity)&&void 0!==o?o:1,0,dc(n));else if(a){var l,c;e.opacity=Yr(null!==(l=t.opacity)&&void 0!==l?l:1,null!==(c=r.opacity)&&void 0!==c?c:1,n)}for(let d=0;d<ac;d++){const s="border".concat(sc[d],"Radius");let a=lc(t,s),i=lc(r,s);void 0===a&&void 0===i||(a||(a=0),i||(i=0),0===a||0===i||oc(a)===oc(i)?(e[s]=Math.max(Yr(ic(a),ic(i),n),0),(vn.test(i)||vn.test(a))&&(e[s]+="%")):e[s]=i)}(t.rotate||r.rotate)&&(e.rotate=Yr(t.rotate||0,r.rotate||0,n))}(s,n,this.latestValues,r,d,c)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=r},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(e){var t,r;this.notifyListeners("animationStart"),null===(t=this.currentAnimation)||void 0===t||t.stop(),null===(r=this.resumingFrom)||void 0===r||null===(r=r.currentAnimation)||void 0===r||r.stop(),this.pendingAnimation&&(On(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=zn.update(()=>{$l.hasAnimatedSinceResize=!0,vi.layout++,this.motionValue||(this.motionValue=Os(0)),this.currentAnimation=function(e,t,r){const n=As(e)?e:Os(e);return n.start(Xo("",n,t,r)),n.animation}(this.motionValue,[0,1e3],(0,Ie.A)((0,Ie.A)({},e),{},{velocity:0,isSync:!0,onUpdate:t=>{this.mixTargetDelta(t),e.onUpdate&&e.onUpdate(t)},onStop:()=>{vi.layout--},onComplete:()=>{vi.layout--,e.onComplete&&e.onComplete(),this.completeAnimation()}})),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const e=this.getLead();let{targetWithTransforms:t,target:r,layout:n,latestValues:s}=e;if(t&&r&&n){if(this!==e&&this.layout&&n&&ed(this.options.animationType,this.layout.layoutBox,n.layoutBox)){r=this.target||{x:{min:0,max:0},y:{min:0,max:0}};const t=jl(this.layout.layoutBox.x);r.x.min=e.target.x.min,r.x.max=r.x.min+t;const n=jl(this.layout.layoutBox.y);r.y.min=e.target.y.min,r.y.max=r.y.min+n}hc(t,r),cn(t,s),Nl(this.projectionDeltaWithTransform,this.layoutCorrected,t,s)}}registerSharedNode(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new Ec);this.sharedNodes.get(e).add(t);const r=t.options.initialPromotionConfig;t.promote({transition:r?r.transition:void 0,preserveFollowOpacity:r&&r.shouldPreserveFollowOpacity?r.shouldPreserveFollowOpacity(t):void 0})}isLead(){const e=this.getStack();return!e||e.lead===this}getLead(){var e;const{layoutId:t}=this.options;return t&&(null===(e=this.getStack())||void 0===e?void 0:e.lead)||this}getPrevLead(){var e;const{layoutId:t}=this.options;return t?null===(e=this.getStack())||void 0===e?void 0:e.prevLead:void 0}getStack(){const{layoutId:e}=this.options;if(e)return this.root.sharedNodes.get(e)}promote(){let{needsReset:e,transition:t,preserveFollowOpacity:r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=this.getStack();n&&n.promote(this,r),e&&(this.projectionDelta=void 0,this.needsReset=!0),t&&this.setOptions({transition:t})}relegate(){const e=this.getStack();return!!e&&e.relegate(this)}resetSkewAndRotation(){const{visualElement:e}=this.options;if(!e)return;let t=!1;const{latestValues:r}=e;if((r.z||r.rotate||r.rotateX||r.rotateY||r.rotateZ||r.skewX||r.skewY)&&(t=!0),!t)return;const n={};r.z&&Mc("z",e,n,this.animationValues);for(let s=0;s<Pc.length;s++)Mc("rotate".concat(Pc[s]),e,n,this.animationValues),Mc("skew".concat(Pc[s]),e,n,this.animationValues);e.render();for(const s in n)e.setStaticValue(s,n[s]),this.animationValues&&(this.animationValues[s]=n[s]);e.scheduleRender()}applyProjectionStyles(e,t){if(!this.instance||this.isSVG)return;if(!this.isVisible)return void(e.visibility="hidden");const r=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,e.visibility="",e.opacity="",e.pointerEvents=Wa(null===t||void 0===t?void 0:t.pointerEvents)||"",void(e.transform=r?r(this.latestValues,""):"none");const n=this.getLead();if(!this.projectionDelta||!this.layout||!n.target)return this.options.layoutId&&(e.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,e.pointerEvents=Wa(null===t||void 0===t?void 0:t.pointerEvents)||""),void(this.hasProjected&&!Gr(this.latestValues)&&(e.transform=r?r({},""):"none",this.hasProjected=!1));e.visibility="";const s=n.animationValues||n.latestValues;this.applyTransformsToTarget();let a=function(e,t,r){let n="";const s=e.x.translate/t.x,a=e.y.translate/t.y,i=(null===r||void 0===r?void 0:r.z)||0;if((s||a||i)&&(n="translate3d(".concat(s,"px, ").concat(a,"px, ").concat(i,"px) ")),1===t.x&&1===t.y||(n+="scale(".concat(1/t.x,", ").concat(1/t.y,") ")),r){const{transformPerspective:e,rotate:t,rotateX:s,rotateY:a,skewX:i,skewY:o}=r;e&&(n="perspective(".concat(e,"px) ").concat(n)),t&&(n+="rotate(".concat(t,"deg) ")),s&&(n+="rotateX(".concat(s,"deg) ")),a&&(n+="rotateY(".concat(a,"deg) ")),i&&(n+="skewX(".concat(i,"deg) ")),o&&(n+="skewY(".concat(o,"deg) "))}const o=e.x.scale*t.x,l=e.y.scale*t.y;return 1===o&&1===l||(n+="scale(".concat(o,", ").concat(l,")")),n||"none"}(this.projectionDeltaWithTransform,this.treeScale,s);r&&(a=r(s,a)),e.transform=a;const{x:i,y:o}=this.projectionDelta;var l,c;(e.transformOrigin="".concat(100*i.origin,"% ").concat(100*o.origin,"% 0"),n.animationValues)?e.opacity=n===this?null!==(l=null!==(c=s.opacity)&&void 0!==c?c:this.latestValues.opacity)&&void 0!==l?l:1:this.preserveOpacity?this.latestValues.opacity:s.opacityExit:e.opacity=n===this?void 0!==s.opacity?s.opacity:"":void 0!==s.opacityExit?s.opacityExit:0;for(const d in ma){if(void 0===s[d])continue;const{correct:t,applyTo:r,isCSSVariable:i}=ma[d],o="none"===a?s[d]:t(s[d],n);if(r){const t=r.length;for(let n=0;n<t;n++)e[r[n]]=o}else i?this.options.visualElement.renderState.vars[d]=o:e[d]=o}this.options.layoutId&&(e.pointerEvents=n===this?Wa(null===t||void 0===t?void 0:t.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(e=>{var t;return null===(t=e.currentAnimation)||void 0===t?void 0:t.stop()}),this.root.nodes.forEach(Oc),this.root.sharedNodes.clear()}}}function Dc(e){e.updateLayout()}function Fc(e){var t;const r=(null===(t=e.resumeFrom)||void 0===t?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&r&&e.hasListeners("didUpdate")){const{layoutBox:t,measuredBox:n}=e.layout,{animationType:s}=e.options,a=r.source!==e.layout.source;"size"===s?El(e=>{const n=a?r.measuredBox[e]:r.layoutBox[e],s=jl(n);n.min=t[e].min,n.max=n.min+s}):ed(s,r.layoutBox,t)&&El(n=>{const s=a?r.measuredBox[n]:r.layoutBox[n],i=jl(t[n]);s.max=s.min+i,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[n].max=e.relativeTarget[n].min+i)});const i={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};Nl(i,t,r.layoutBox);const o={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};a?Nl(o,e.applyTransform(n,!0),r.measuredBox):Nl(o,t,r.layoutBox);const l=!jc(i);let c=!1;if(!e.resumeFrom){const n=e.getClosestProjectingParent();if(n&&!n.resumeFrom){const{snapshot:s,layout:a}=n;if(s&&a){const i={x:{min:0,max:0},y:{min:0,max:0}};Cl(i,r.layoutBox,s.layoutBox);const o={x:{min:0,max:0},y:{min:0,max:0}};Cl(o,t,a.layoutBox),kc(i,o)||(c=!0),n.options.layoutRoot&&(e.relativeTarget=o,e.relativeTargetOrigin=i,e.relativeParent=n)}}}e.notifyListeners("didUpdate",{layout:t,snapshot:r,delta:o,layoutDelta:i,hasLayoutChanged:l,hasRelativeLayoutChanged:c})}else if(e.isLead()){const{onExitComplete:t}=e.options;t&&t()}e.options.transition=void 0}function Ic(e){In.value&&Ac.nodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=Boolean(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function _c(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function zc(e){e.clearSnapshot()}function Oc(e){e.clearMeasurements()}function Vc(e){e.isLayoutDirty=!1}function Bc(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Uc(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Wc(e){e.resolveTargetDelta()}function qc(e){e.calcProjection()}function Hc(e){e.resetSkewAndRotation()}function $c(e){e.removeLeadSnapshot()}function Zc(e,t,r){e.translate=Yr(t.translate,0,r),e.scale=Yr(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function Yc(e,t,r,n){e.min=Yr(t.min,r.min,n),e.max=Yr(t.max,r.max,n)}function Xc(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}const Jc={duration:.45,ease:[.4,0,.1,1]},Gc=e=>"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),Kc=Gc("applewebkit/")&&!Gc("chrome/")?Math.round:Rn;function Qc(e){e.min=Kc(e.min),e.max=Kc(e.max)}function ed(e,t,r){return"position"===e||"preserve-aspect"===e&&(n=Sc(t),s=Sc(r),a=.2,!(Math.abs(n-s)<=a));var n,s,a}function td(e){var t;return e!==e.root&&(null===(t=e.scroll)||void 0===t?void 0:t.wasRoot)}const rd=Rc({attachResizeListener:(e,t)=>gl(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),nd={current:void 0},sd=Rc({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!nd.current){const e=new rd({});e.mount(window),e.setOptions({layoutScroll:!0}),nd.current=e}return nd.current},resetTransform:(e,t)=>{e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:e=>Boolean("fixed"===window.getComputedStyle(e).position)}),ad={pan:{Feature:class extends ml{constructor(){super(...arguments),this.removePointerDownListener=Rn}onPointerDown(e){this.session=new Tl(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Al(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:r,onPanEnd:n}=this.node.getProps();return{onSessionStart:Hl(e),onStart:Hl(t),onMove:r,onEnd:(e,t)=>{delete this.session,n&&zn.postRender(()=>n(e,t))}}}mount(){this.removePointerDownListener=bl(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class extends ml{constructor(e){super(e),this.removeGroupControls=Rn,this.removeListeners=Rn,this.controls=new Wl(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Rn}unmount(){this.removeGroupControls(),this.removeListeners()}},ProjectionNode:sd,MeasureLayout:Kl}};function id(e,t,r){if(e instanceof EventTarget)return[e];if("string"===typeof e){var n;let s=document;t&&(s=t.current);const a=null!==(n=null===r||void 0===r?void 0:r[e])&&void 0!==n?n:s.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e)}function od(e,t){const r=id(e),n=new AbortController;return[r,(0,Ie.A)((0,Ie.A)({passive:!0},t),{},{signal:n.signal}),()=>n.abort()]}function ld(e){return!("touch"===e.pointerType||xl())}function cd(e,t,r){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover","Start"===r);const s=n["onHover"+r];s&&zn.postRender(()=>s(t,yl(t)))}const dd=(e,t)=>!!t&&(e===t||dd(e,t.parentElement)),ud=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);const md=new WeakSet;function hd(e){return t=>{"Enter"===t.key&&e(t)}}function pd(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}function fd(e){return vl(e)&&!xl()}function xd(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const[n,s,a]=od(e,r),i=e=>{const n=e.currentTarget;if(!fd(e))return;md.add(n);const a=t(n,e),i=(e,t)=>{window.removeEventListener("pointerup",o),window.removeEventListener("pointercancel",l),md.has(n)&&md.delete(n),fd(e)&&"function"===typeof a&&a(e,{success:t})},o=e=>{i(e,n===window||n===document||r.useGlobalTarget||dd(n,e.target))},l=e=>{i(e,!1)};window.addEventListener("pointerup",o,s),window.addEventListener("pointercancel",l,s)};return n.forEach(e=>{var t;(r.useGlobalTarget?window:e).addEventListener("pointerdown",i,s),Oe(e)&&(e.addEventListener("focus",e=>((e,t)=>{const r=e.currentTarget;if(!r)return;const n=hd(()=>{if(md.has(r))return;pd(r,"down");const e=hd(()=>{pd(r,"up")});r.addEventListener("keyup",e,t),r.addEventListener("blur",()=>pd(r,"cancel"),t)});r.addEventListener("keydown",n,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),t)})(e,s)),t=e,ud.has(t.tagName)||-1!==t.tabIndex||e.hasAttribute("tabindex")||(e.tabIndex=0))}),a}function gd(e,t,r){const{props:n}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap","Start"===r);const s=n["onTap"+("End"===r?"":r)];s&&zn.postRender(()=>s(t,yl(t)))}const vd=["root"],yd=new WeakMap,bd=new WeakMap,jd=e=>{const t=yd.get(e.target);t&&t(e)},wd=e=>{e.forEach(jd)};function Nd(e,t,r){const n=function(e){let{root:t}=e,r=(0,Ps.A)(e,vd);const n=t||document;bd.has(n)||bd.set(n,{});const s=bd.get(n),a=JSON.stringify(r);return s[a]||(s[a]=new IntersectionObserver(wd,(0,Ie.A)({root:t},r))),s[a]}(t);return yd.set(e,r),n.observe(e),()=>{yd.delete(e),n.unobserve(e)}}const kd={some:0,all:1};const Sd={inView:{Feature:class extends ml{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:r,amount:n="some",once:s}=e,a={root:t?t.current:void 0,rootMargin:r,threshold:"number"===typeof n?n:kd[n]};return Nd(this.node.current,a,e=>{const{isIntersecting:t}=e;if(this.isInView===t)return;if(this.isInView=t,s&&!t&&this.hasEnteredView)return;t&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",t);const{onViewportEnter:r,onViewportLeave:n}=this.node.getProps(),a=t?r:n;a&&a(e)})}mount(){this.startObserver()}update(){if("undefined"===typeof IntersectionObserver)return;const{props:e,prevProps:t}=this.node,r=["amount","margin","root"].some(function(e){let{viewport:t={}}=e,{viewport:r={}}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e=>t[e]!==r[e]}(e,t));r&&this.startObserver()}unmount(){}}},tap:{Feature:class extends ml{mount(){const{current:e}=this.node;e&&(this.unmount=xd(e,(e,t)=>(gd(this.node,t,"Start"),(e,t)=>{let{success:r}=t;return gd(this.node,e,r?"End":"Cancel")}),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}},focus:{Feature:class extends ml{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(Ke){e=!0}e&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=fi(gl(this.node.current,"focus",()=>this.onFocus()),gl(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}},hover:{Feature:class extends ml{mount(){const{current:e}=this.node;e&&(this.unmount=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const[n,s,a]=od(e,r),i=e=>{if(!ld(e))return;const{target:r}=e,n=t(r,e);if("function"!==typeof n||!r)return;const a=e=>{ld(e)&&(n(e),r.removeEventListener("pointerleave",a))};r.addEventListener("pointerleave",a,s)};return n.forEach(e=>{e.addEventListener("pointerenter",i,s)}),a}(e,(e,t)=>(cd(this.node,t,"Start"),e=>cd(this.node,e,"End"))))}unmount(){}}}},Cd={layout:{ProjectionNode:sd,MeasureLayout:Kl}},Ed=si((0,Ie.A)((0,Ie.A)((0,Ie.A)((0,Ie.A)({},pl),Sd),ad),Cd),Ea),Ad=e=>{let{children:t}=e;return(0,Me.jsx)(Ed.div,{initial:{opacity:0,y:20,scale:.98},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-20,scale:.98},transition:{duration:.4,ease:"easeOut"},className:"w-full",children:t})},Pd=["title","titleId"];function Td(e,r){let{title:n,titleId:s}=e,a=(0,Ps.A)(e,Pd);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":s},a),n?t.createElement("title",{id:s},n):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"}))}const Md=t.forwardRef(Td),Ld=["title","titleId"];function Rd(e,r){let{title:n,titleId:s}=e,a=(0,Ps.A)(e,Ld);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":s},a),n?t.createElement("title",{id:s},n):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19.128a9.38 9.38 0 0 0 2.625.372 9.337 9.337 0 0 0 4.121-.952 4.125 4.125 0 0 0-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 0 1 8.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0 1 11.964-3.07M12 6.375a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0Zm8.25 2.25a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z"}))}const Dd=t.forwardRef(Rd),Fd=["title","titleId"];function Id(e,r){let{title:n,titleId:s}=e,a=(0,Ps.A)(e,Fd);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":s},a),n?t.createElement("title",{id:s},n):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75m-3-7.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285Z"}))}const _d=t.forwardRef(Id),zd=["title","titleId"];function Od(e,r){let{title:n,titleId:s}=e,a=(0,Ps.A)(e,zd);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":s},a),n?t.createElement("title",{id:s},n):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 8.511c.884.284 1.5 1.128 1.5 2.097v4.286c0 1.136-.847 2.1-1.98 2.193-.34.027-.68.052-1.02.072v3.091l-3-3c-1.354 0-2.694-.055-4.02-.163a2.115 2.115 0 0 1-.825-.242m9.345-8.334a2.126 2.126 0 0 0-.476-.095 48.64 48.64 0 0 0-8.048 0c-1.131.094-1.976 1.057-1.976 2.192v4.286c0 .837.46 1.58 1.155 1.951m9.345-8.334V6.637c0-1.621-1.152-3.026-2.76-3.235A48.455 48.455 0 0 0 11.25 3c-2.115 0-4.198.137-6.24.402-1.608.209-2.76 1.614-2.76 3.235v6.226c0 1.621 1.152 3.026 2.76 3.235.577.075 1.157.14 1.74.194V21l4.155-4.155"}))}const Vd=t.forwardRef(Od),Bd=["title","titleId"];function Ud(e,r){let{title:n,titleId:s}=e,a=(0,Ps.A)(e,Bd);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":s},a),n?t.createElement("title",{id:s},n):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}const Wd=t.forwardRef(Ud),qd=["title","titleId"];function Hd(e,r){let{title:n,titleId:s}=e,a=(0,Ps.A)(e,qd);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":s},a),n?t.createElement("title",{id:s},n):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}),t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z"}))}const $d=t.forwardRef(Hd),Zd=["title","titleId"];function Yd(e,r){let{title:n,titleId:s}=e,a=(0,Ps.A)(e,Zd);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":s},a),n?t.createElement("title",{id:s},n):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12Z"}))}const Xd=t.forwardRef(Yd),Jd=["title","titleId"];function Gd(e,r){let{title:n,titleId:s}=e,a=(0,Ps.A)(e,Jd);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":s},a),n?t.createElement("title",{id:s},n):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}))}const Kd=t.forwardRef(Gd),Qd=["title","titleId"];function eu(e,r){let{title:n,titleId:s}=e,a=(0,Ps.A)(e,Qd);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":s},a),n?t.createElement("title",{id:s},n):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.48 3.499a.562.562 0 0 1 1.04 0l2.125 5.111a.563.563 0 0 0 .475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 0 0-.182.557l1.285 5.385a.562.562 0 0 1-.84.61l-4.725-2.885a.562.562 0 0 0-.586 0L6.982 20.54a.562.562 0 0 1-.84-.61l1.285-5.386a.562.562 0 0 0-.182-.557l-4.204-3.602a.562.562 0 0 1 .321-.988l5.518-.442a.563.563 0 0 0 .475-.345L11.48 3.5Z"}))}const tu=t.forwardRef(eu),ru=["title","titleId"];function nu(e,r){let{title:n,titleId:s}=e,a=(0,Ps.A)(e,ru);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":s},a),n?t.createElement("title",{id:s},n):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const su=t.forwardRef(nu),au=t.lazy(()=>Promise.all([r.e(985),r.e(842)]).then(r.bind(r,7842))),iu=()=>{const[e,r]=t.useState(!1);return t.useEffect(()=>{r(!0)},[]),e?(0,Me.jsx)(t.Suspense,{fallback:null,children:(0,Me.jsx)(au,{})}):null},ou=["title","titleId"];function lu(e,r){let{title:n,titleId:s}=e,a=(0,Ps.A)(e,ou);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":s},a),n?t.createElement("title",{id:s},n):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 9h3.75M15 12h3.75M15 15h3.75M4.5 19.5h15a2.25 2.25 0 0 0 2.25-2.25V6.75A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25v10.5A2.25 2.25 0 0 0 4.5 19.5Zm6-10.125a1.875 1.875 0 1 1-3.75 0 1.875 1.875 0 0 1 3.75 0Zm1.294 6.336a6.721 6.721 0 0 1-3.17.789 6.721 6.721 0 0 1-3.168-.789 3.376 3.376 0 0 1 6.338 0Z"}))}const cu=t.forwardRef(lu),du=e=>{let{isOpen:t,onClose:r,showBackButton:n=!0,backButtonText:s="Retour",onBackClick:a}=e;return t?(0,Me.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Me.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full p-6 relative",children:[(0,Me.jsx)("button",{onClick:()=>{r()},className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700",children:(0,Me.jsx)(su,{className:"h-6 w-6"})}),(0,Me.jsxs)("div",{className:"text-center",children:[(0,Me.jsx)("div",{className:"mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-yellow-100 mb-4",children:(0,Me.jsx)(cu,{className:"h-8 w-8 text-yellow-600"})}),(0,Me.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"V\xe9rification Requise"}),(0,Me.jsx)("p",{className:"text-gray-600 mb-6",children:"Vous devez v\xe9rifier votre CIN avant de pouvoir acc\xe9der \xe0 cette fonctionnalit\xe9."}),(0,Me.jsxs)("div",{className:"space-y-3",children:[(0,Me.jsx)(Ae,{to:"/cin-verification",onClick:r,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"V\xe9rifier mon CIN"}),n&&(0,Me.jsx)("button",{type:"button",onClick:()=>{a&&a(),r()},className:"w-full flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:s})]})]})]})}):null},uu=()=>{const{user:e}=yr(),r=K(),[n,s]=(0,t.useState)(!1),a=(null===e||void 0===e?void 0:e.cinVerified)||(null===e||void 0===e?void 0:e.cin_verified)||!1,i=(null===e||void 0===e?void 0:e.cinPending)||!(null===e||void 0===e||!e.cin_verification_requested_at),o="owner"===(null===e||void 0===e?void 0:e.userType)&&!a&&!i,l=(0,t.useCallback)(t=>(t&&t.preventDefault(),e?!o||(s(!0),!1):(r("/login",{state:{from:window.location.pathname}}),!1)),[o,e,r]);return{isVerified:a,isPending:i,requiresVerification:o,showVerificationModal:n,setShowVerificationModal:s,checkVerification:l,onClickHandler:(e,t)=>{l(e)&&r(t)}}},mu=uu,hu={some:0,all:1};function pu(e){let{root:r,margin:n,amount:s,once:a=!1,initial:i=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const[o,l]=(0,t.useState)(i);return(0,t.useEffect)(()=>{if(!e.current||a&&o)return;const t={root:r&&r.current||void 0,margin:n,amount:s};return function(e,t){let{root:r,margin:n,amount:s="some"}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=id(e),i=new WeakMap,o=new IntersectionObserver(e=>{e.forEach(e=>{const r=i.get(e.target);if(e.isIntersecting!==Boolean(r))if(e.isIntersecting){const r=t(e.target,e);"function"===typeof r?i.set(e.target,r):o.unobserve(e.target)}else"function"===typeof r&&(r(e),i.delete(e.target))})},{root:r,rootMargin:n,threshold:"number"===typeof s?s:hu[s]});return a.forEach(e=>o.observe(e)),()=>o.disconnect()}(e.current,()=>(l(!0),a?void 0:()=>l(!1)),t)},[r,e,n,a,s]),o}const fu=e=>{let{children:r,delay:n=0}=e;const s=t.useRef(null),a=pu(s,{once:!0,margin:"-100px"});return(0,Me.jsx)(Ed.div,{ref:s,initial:{opacity:0,y:20},animate:a?{opacity:1,y:0}:{},transition:{duration:.6,ease:"easeOut",delay:n},children:r})},xu=()=>{var e,r,n,s;const{properties:a,loading:i}=wr(),{announcements:o,loading:l}=Ar(),[c,d]=(0,t.useState)([]),[u,m]=(0,t.useState)(null),[h,p]=(0,t.useState)([]),[f,x]=(0,t.useState)(null),{user:g}=yr(),v=K(),[y,b]=(0,t.useState)(""),[j,w]=(0,t.useState)(!1),[N,k]=(0,t.useState)(""),[S,C]=(0,t.useState)(null),[E,A]=(0,t.useState)(null),{sendMessage:P}=Sr(),{showVerificationModal:T,setShowVerificationModal:M,checkVerification:L}=uu();(0,t.useEffect)(()=>{if(a&&a.length>0){const e=[...a].sort((e,t)=>new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime());d(e.slice(0,6)),m(e[0])}},[a]),(0,t.useEffect)(()=>{if(o&&o.length>0){const e=[...o].sort((e,t)=>new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime());p(e.slice(0,6))}else p([])},[o]),(0,t.useEffect)(()=>{(async()=>{try{const e=await(0,hr.apiGet)("api/properties/stats_public");e&&e.success&&x(e.data)}catch(Ke){console.error("Error loading stats:",Ke)}})()},[]);const R=[{icon:(0,Me.jsx)(Md,{className:"w-8 h-8 text-primary-600"}),title:"Logements de qualit\xe9",description:"D\xe9couvrez des logements soigneusement s\xe9lectionn\xe9s dans les meilleurs quartiers d'Antananarivo."},{icon:(0,Me.jsx)(Dd,{className:"w-8 h-8 text-primary-600"}),title:"Colocataires compatibles",description:"Trouvez des colocataires qui partagent vos centres d'int\xe9r\xeat et votre mode de vie."},{icon:(0,Me.jsx)(_d,{className:"w-8 h-8 text-primary-600"}),title:"S\xe9curit\xe9 garantie",description:"Tous nos utilisateurs sont v\xe9rifi\xe9s pour assurer votre s\xe9curit\xe9 et votre tranquillit\xe9."},{icon:(0,Me.jsx)(Vd,{className:"w-8 h-8 text-primary-600"}),title:"Communication facile",description:"Discutez directement avec les propri\xe9taires et futurs colocataires via notre messagerie int\xe9gr\xe9e."}],D=(0,t.useMemo)(()=>y?h.filter(e=>{var t,r,n,s,a;return(null===(t=e.content)||void 0===t?void 0:t.toLowerCase().includes(y.toLowerCase()))||(null===(r=e.author)||void 0===r||null===(n=r.firstName)||void 0===n?void 0:n.toLowerCase().includes(y.toLowerCase()))||(null===(s=e.author)||void 0===s||null===(a=s.lastName)||void 0===a?void 0:a.toLowerCase().includes(y.toLowerCase()))}):h,[h,y]),F=(0,t.useMemo)(()=>y?c.filter(e=>{var t,r,n;return(null===(t=e.title)||void 0===t?void 0:t.toLowerCase().includes(y.toLowerCase()))||(null===(r=e.description)||void 0===r?void 0:r.toLowerCase().includes(y.toLowerCase()))||(null===(n=e.district)||void 0===n?void 0:n.toLowerCase().includes(y.toLowerCase()))}):c,[c,y]),I=(0,Me.jsxs)("div",{className:"min-h-screen",children:[g?"owner"===g.userType?(0,Me.jsxs)("section",{className:"bg-gradient-to-r from-primary-600 to-primary-800 text-white relative overflow-hidden",children:[(0,Me.jsx)("div",{className:"absolute inset-0 bg-black opacity-10"}),(0,Me.jsx)(iu,{}),(0,Me.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20 relative",children:(0,Me.jsx)(fu,{children:(0,Me.jsxs)("div",{className:"text-center",children:[(0,Me.jsxs)("h1",{className:"text-4xl md:text-6xl font-bold mb-6",children:["Bienvenue, ",g.firstName," !"]}),(0,Me.jsx)("p",{className:"text-xl md:text-2xl mb-8 text-primary-100 max-w-3xl mx-auto",children:"G\xe9rez vos propri\xe9t\xe9s et connectez-vous avec des \xe9tudiants recherchant une colocation."}),(0,Me.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[(0,Me.jsxs)(Ae,{to:"/dashboard",className:"bg-white text-primary-600 hover:bg-gray-100 font-semibold py-3 px-8 rounded-lg transition-colors duration-200 flex items-center justify-center space-x-2",children:[(0,Me.jsx)(Wd,{className:"w-5 h-5"}),(0,Me.jsx)("span",{children:"Tableau de bord"})]}),(0,Me.jsx)(Ae,{to:"/create-property",className:"border-2 border-white text-white hover:bg-white hover:text-primary-600 font-semibold py-3 px-8 rounded-lg transition-colors duration-200",children:"Publier un logement"})]})]})})})]}):(0,Me.jsxs)("section",{className:"bg-gradient-to-r from-primary-600 to-primary-800 text-white relative overflow-hidden",children:[(0,Me.jsx)("div",{className:"absolute inset-0 bg-black opacity-10"}),(0,Me.jsx)(iu,{}),(0,Me.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20 relative",children:(0,Me.jsx)(fu,{children:(0,Me.jsxs)("div",{className:"text-center",children:[(0,Me.jsxs)("h1",{className:"text-4xl md:text-6xl font-bold mb-6",children:["Bienvenue, ",g.firstName," !"]}),(0,Me.jsx)("p",{className:"text-xl md:text-2xl mb-8 text-primary-100 max-w-3xl mx-auto",children:"Trouvez la colocation parfaite pr\xe8s de votre universit\xe9 \xe0 Antananarivo."}),(0,Me.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[(0,Me.jsxs)(Ae,{to:"/logements",className:"bg-white text-primary-600 hover:bg-gray-100 font-semibold py-3 px-8 rounded-lg transition-colors duration-200 flex items-center justify-center space-x-2",children:[(0,Me.jsx)(Wd,{className:"w-5 h-5"}),(0,Me.jsx)("span",{children:"Rechercher un logement"})]}),(0,Me.jsx)(Ae,{to:"/create-announcement",className:"border-2 border-white text-white hover:bg-white hover:text-primary-600 font-semibold py-3 px-8 rounded-lg transition-colors duration-200",children:"Publier une annonce"})]})]})})})]}):(0,Me.jsxs)("section",{className:"bg-gradient-to-r from-primary-600 to-primary-800 text-white relative overflow-hidden",children:[(0,Me.jsx)("div",{className:"absolute inset-0 bg-black opacity-10"}),(0,Me.jsx)(iu,{}),(0,Me.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20 relative",children:(0,Me.jsx)(fu,{children:(0,Me.jsxs)("div",{className:"text-center",children:[(0,Me.jsx)("h1",{className:"text-4xl md:text-6xl font-bold mb-6",children:"Trouvez votre colocation id\xe9ale \xe0 Antananarivo"}),(0,Me.jsx)("p",{className:"text-xl md:text-2xl mb-8 text-primary-100 max-w-3xl mx-auto",children:"La plateforme de r\xe9f\xe9rence pour les \xe9tudiants qui cherchent un logement abordable et des colocataires compatibles dans la capitale malgache."}),(0,Me.jsx)("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:(0,Me.jsxs)(Ae,{to:"/logements",className:"bg-white text-primary-600 hover:bg-gray-100 font-semibold py-3 px-8 rounded-lg transition-colors duration-200 flex items-center justify-center space-x-2",children:[(0,Me.jsx)(Wd,{className:"w-5 h-5"}),(0,Me.jsx)("span",{children:"Rechercher un logement"})]})})]})})})]}),(0,Me.jsx)("section",{className:"py-20 bg-white",children:(0,Me.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,Me.jsx)(fu,{children:(0,Me.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,Me.jsxs)("div",{className:"text-left",children:[(0,Me.jsx)("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-2",children:"Annonces des \xe9tudiants"}),(0,Me.jsx)("p",{className:"text-xl text-gray-600",children:"Recherches de colocation r\xe9centes"})]}),(0,Me.jsx)(Ae,{to:"/announcements",className:"btn-primary",children:"Voir tout"})]})}),l?(0,Me.jsx)("div",{className:"flex justify-center py-12",children:(0,Me.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):D.length>0?(0,Me.jsx)(fu,{children:(0,Me.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:D.slice(0,6).map(e=>{var t,r,n,s;return(0,Me.jsxs)("div",{className:"bg-gray-50 rounded-2xl overflow-hidden hover:shadow-lg transition-shadow border border-gray-200",children:[(null===(t=e.images)||void 0===t?void 0:t[0])&&(0,Me.jsx)("img",{src:(0,hr.VG)(e.images[0]),alt:"annonce",className:"w-full h-40 object-cover"}),(0,Me.jsxs)("div",{className:"p-6",children:[(0,Me.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Me.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 truncate",children:[null===(r=e.author)||void 0===r?void 0:r.firstName," ",null===(n=e.author)||void 0===n?void 0:n.lastName]}),(0,Me.jsx)("span",{className:"text-xs text-gray-500",children:new Date(e.createdAt).toLocaleDateString()})]}),(0,Me.jsx)("p",{className:"text-gray-700 text-sm line-clamp-3 mb-4",children:e.content}),(0,Me.jsxs)("div",{className:"flex gap-2",children:[(0,Me.jsx)(Ae,{to:"/announcements/".concat(e.id),className:"btn-secondary",children:"Voir d\xe9tails"}),g&&Number(null===(s=e.author)||void 0===s?void 0:s.id)===Number(g.id)?null:(0,Me.jsxs)("button",{onClick:t=>{t.preventDefault(),L(t)&&((e,t)=>{if(e.preventDefault(),!L(e))return;C(t),A(null),w(!0);const r="".concat(window.location.origin,"/announcements/").concat(t.id);k("Bonjour ".concat(t.author.firstName,", je suis int\xe9ress\xe9(e) par votre annonce de recherche de colocation.\n\nAnnonce: ").concat(r))})(t,e)},className:"flex-1 btn-primary flex items-center justify-center space-x-2",children:[(0,Me.jsx)(Vd,{className:"w-4 h-4"}),(0,Me.jsx)("span",{children:"Contacter"})]})]})]})]},e.id)})})}):(0,Me.jsxs)("div",{className:"text-center py-12",children:[(0,Me.jsx)(Vd,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,Me.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:y?"Aucune annonce trouv\xe9e":"Aucune annonce r\xe9cente"}),(0,Me.jsx)("p",{className:"text-gray-600 mb-4",children:y?"Essayez avec d'autres termes de recherche":"Les annonces publi\xe9es par les \xe9tudiants appara\xeetront ici."}),(0,Me.jsx)(Ae,{to:"/announcements",className:"btn-primary",children:"Voir les annonces"})]})]})}),u&&(0,Me.jsx)("section",{className:"py-12 bg-gradient-to-r from-gray-900 to-primary-900 text-white",children:(0,Me.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,Me.jsxs)("div",{className:"text-center mb-8",children:[(0,Me.jsx)("h2",{className:"text-2xl md:text-3xl font-bold mb-2",children:"\ud83c\udf89 Nouveau logement disponible !"}),(0,Me.jsx)("p",{className:"text-primary-200",children:"D\xe9couvrez notre derni\xe8re annonce"})]}),(0,Me.jsx)("div",{className:"bg-white/10 backdrop-blur-sm rounded-2xl overflow-hidden",children:(0,Me.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 p-8",children:[(0,Me.jsxs)("div",{className:"relative",children:[(0,Me.jsx)("img",{src:(0,hr.VG)(null===(e=u.images)||void 0===e?void 0:e[0]),alt:u.title,className:"w-full h-80 object-cover rounded-xl shadow-2xl",onError:e=>{e.currentTarget.src="/api/placeholder/600/400"}}),(0,Me.jsx)("div",{className:"absolute top-4 left-4 bg-red-500 text-white px-3 py-1 rounded-full text-sm font-semibold",children:"Nouveau"})]}),(0,Me.jsxs)("div",{className:"flex flex-col justify-center",children:[(0,Me.jsx)("h3",{className:"text-2xl font-bold mb-4",children:u.title}),(0,Me.jsxs)("div",{className:"flex items-center text-primary-200 mb-3",children:[(0,Me.jsx)($d,{className:"w-5 h-5 mr-2"}),(0,Me.jsxs)("span",{children:[u.district," \u2022 ",u.address]})]}),(0,Me.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[(0,Me.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Me.jsx)(Dd,{className:"w-5 h-5 text-primary-300"}),(0,Me.jsxs)("span",{children:[u.availableRooms,"/",u.totalRooms," chambres"]})]}),(0,Me.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Me.jsx)(Md,{className:"w-5 h-5 text-primary-300"}),(0,Me.jsx)("span",{className:"capitalize",children:"apartment"===u.propertyType?"Appartement":"house"===u.propertyType?"Maison":"Studio"})]})]}),(0,Me.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Me.jsxs)("div",{className:"text-3xl font-bold text-primary-200",children:[null===(r=u.price)||void 0===r?void 0:r.toLocaleString()," Ar",(0,Me.jsx)("span",{className:"text-lg text-primary-300",children:"/mois"})]}),(0,Me.jsxs)("div",{className:"text-sm bg-primary-600 px-3 py-1 rounded-full",children:["Caution: ",null===(n=u.deposit)||void 0===n?void 0:n.toLocaleString()," Ar"]})]}),(0,Me.jsx)("p",{className:"text-primary-200 mb-6 line-clamp-3",children:u.description}),(0,Me.jsxs)("div",{className:"flex space-x-4",children:[(0,Me.jsx)(Ae,{to:"/properties/".concat(u.id),className:"flex-1 bg-primary-500 hover:bg-primary-400 text-white font-semibold py-3 px-6 rounded-lg transition-colors duration-200 flex items-center justify-center space-x-2",children:(0,Me.jsx)("span",{children:"Voir les d\xe9tails"})}),(0,Me.jsx)("button",{className:"p-3 border-2 border-primary-400 text-primary-200 hover:bg-primary-400 hover:text-white rounded-lg transition-colors duration-200",children:(0,Me.jsx)(Xd,{className:"w-5 h-5"})})]})]})]})})]})}),(0,Me.jsx)("section",{className:"py-20 bg-gray-50",children:(0,Me.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,Me.jsx)(fu,{children:(0,Me.jsxs)("div",{className:"text-center mb-8",children:[(0,Me.jsx)("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Logements populaires"}),(0,Me.jsx)("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto mb-6",children:"D\xe9couvrez nos annonces les plus r\xe9centes et trouvez la colocation parfaite"}),(0,Me.jsx)("div",{className:"max-w-2xl mx-auto mb-8",children:(0,Me.jsxs)("div",{className:"relative",children:[(0,Me.jsx)(Wd,{className:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2"}),(0,Me.jsx)("input",{type:"text",placeholder:"Rechercher un logement par titre, description ou quartier...",value:y,onChange:e=>b(e.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-white text-gray-900 placeholder-gray-500"})]})})]})}),i?(0,Me.jsx)("div",{className:"flex justify-center py-12",children:(0,Me.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):F.length>0?(0,Me.jsx)(fu,{children:(0,Me.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mb-12",children:F.slice(0,6).map(e=>{var t,r,n;return(0,Me.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden hover:shadow-xl transition-all duration-300 hover:-translate-y-1 h-full flex flex-col",children:[(0,Me.jsxs)("div",{className:"relative",children:[(0,Me.jsx)("img",{src:(0,hr.VG)(null===(t=e.images)||void 0===t?void 0:t[0]),alt:e.title,className:"w-full h-48 object-cover",onError:e=>{e.currentTarget.src="/api/placeholder/400/300"}}),(0,Me.jsx)("div",{className:"absolute top-3 left-3 bg-white/90 backdrop-blur-sm text-gray-900 px-2 py-1 rounded-full text-xs font-semibold",children:"apartment"===e.propertyType?"\ud83c\udfe2 Appartement":"house"===e.propertyType?"\ud83c\udfe0 Maison":"\ud83c\udfe1 Studio"}),(0,Me.jsx)("button",{className:"absolute top-3 right-3 bg-white/90 backdrop-blur-sm p-2 rounded-full hover:bg-red-500 hover:text-white transition-colors",children:(0,Me.jsx)(Xd,{className:"w-4 h-4"})})]}),(0,Me.jsxs)("div",{className:"p-6 flex-1 flex flex-col",children:[(0,Me.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,Me.jsx)("h3",{className:"text-lg font-semibold text-gray-900 line-clamp-1 flex-1",children:e.title}),(0,Me.jsxs)("div",{className:"text-right",children:[(0,Me.jsxs)("div",{className:"text-xl font-bold text-primary-600",children:[null===(r=e.price)||void 0===r?void 0:r.toLocaleString()," Ar"]}),(0,Me.jsx)("div",{className:"text-xs text-gray-500",children:"/mois"})]})]}),(0,Me.jsxs)("div",{className:"flex items-center text-gray-600 mb-3",children:[(0,Me.jsx)($d,{className:"w-4 h-4 mr-1"}),(0,Me.jsx)("span",{className:"text-sm",children:e.district})]}),(0,Me.jsx)("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2",children:e.description}),(0,Me.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,Me.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[(0,Me.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Me.jsx)(Dd,{className:"w-4 h-4"}),(0,Me.jsxs)("span",{children:[e.availableRooms,"/",e.totalRooms," ch."]})]}),(0,Me.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Me.jsx)(Kd,{className:"w-4 h-4"}),(0,Me.jsx)("span",{children:"Disponible"})]})]})}),(0,Me.jsxs)("div",{className:"flex flex-wrap gap-1 mb-4",children:[null===(n=e.amenities)||void 0===n?void 0:n.slice(0,2).map((e,t)=>(0,Me.jsx)("span",{className:"badge badge-primary text-xs",children:e},t)),e.amenities&&e.amenities.length>2&&(0,Me.jsxs)("span",{className:"badge badge-primary text-xs",children:["+",e.amenities.length-2]})]}),(0,Me.jsxs)("div",{className:"flex gap-2 mt-auto",children:[(0,Me.jsx)(Ae,{to:"/properties/".concat(e.id),className:"flex-1 btn-primary flex items-center justify-center space-x-2",children:(0,Me.jsx)("span",{children:"Voir d\xe9tails"})}),g&&Number(e.ownerId)===Number(g.id)?null:(0,Me.jsxs)("button",{onClick:t=>{t.preventDefault(),L(t)&&((e,t)=>{if(e.preventDefault(),!L(e))return;A(t),C(null),w(!0);const r="".concat(window.location.origin,"/properties/").concat(t.id);k('Bonjour, je suis int\xe9ress\xe9(e) par votre logement "'.concat(t.title,'".\n\nLogement: ').concat(r))})(t,e)},className:"flex-1 btn-secondary flex items-center justify-center space-x-2",title:"Contacter le propri\xe9taire",children:[(0,Me.jsx)(Vd,{className:"w-4 h-4"}),(0,Me.jsx)("span",{children:"Contacter"})]})]})]})]},e.id)})})}):(0,Me.jsxs)("div",{className:"text-center py-12",children:[(0,Me.jsx)(Md,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,Me.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:y?"Aucun logement trouv\xe9":"Aucun logement disponible pour le moment"}),(0,Me.jsx)("p",{className:"text-gray-600 mb-4",children:y?"Essayez avec d'autres termes de recherche":"Soyez le premier \xe0 publier votre logement !"}),!y&&(0,Me.jsx)(Ae,{to:"/create-property",className:"btn-primary",children:"Publier un logement"})]}),F.length>6&&(0,Me.jsx)("div",{className:"text-center",children:(0,Me.jsxs)("button",{onClick:()=>v("/logements",{state:{searchQuery:y}}),className:"btn-primary text-lg px-8 py-3",children:["Voir tous les logements (",F.length,")"]})}),c.length>0&&(0,Me.jsx)("div",{className:"text-center",children:(0,Me.jsx)(Ae,{to:"/logements",className:"btn-primary text-lg px-8 py-3",children:"Voir tous les logements"})})]})}),(0,Me.jsx)("section",{className:"py-16 bg-white",children:(0,Me.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,Me.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8 text-center",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("div",{className:"text-3xl font-bold text-primary-600 mb-2",children:f?f.availableProperties:"\u2014"}),(0,Me.jsx)("div",{className:"text-gray-600",children:"Logements disponibles"})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("div",{className:"text-3xl font-bold text-primary-600 mb-2",children:f?f.totalStudents:"\u2014"}),(0,Me.jsx)("div",{className:"text-gray-600",children:"\xc9tudiants inscrits"})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("div",{className:"text-3xl font-bold text-primary-600 mb-2",children:f?f.totalOwners:"\u2014"}),(0,Me.jsx)("div",{className:"text-gray-600",children:"Propri\xe9taires inscrits"})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("div",{className:"text-3xl font-bold text-primary-600 mb-2",children:f?f.totalStudents+f.totalOwners:"\u2014"}),(0,Me.jsx)("div",{className:"text-gray-600",children:"Utilisateurs totaux"})]})]})})}),(0,Me.jsx)("section",{className:"py-20 bg-white",children:(0,Me.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,Me.jsxs)("div",{className:"text-center mb-16",children:[(0,Me.jsx)("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Pourquoi choisir ColocAntananarivo ?"}),(0,Me.jsx)("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Nous facilitons la recherche de logement \xe9tudiant avec des outils modernes et une approche humaine."})]}),(0,Me.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:R.map((e,t)=>(0,Me.jsxs)("div",{className:"text-center p-6 bg-gray-50 rounded-2xl hover:bg-primary-50 transition-colors",children:[(0,Me.jsx)("div",{className:"flex justify-center mb-4",children:e.icon}),(0,Me.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:e.title}),(0,Me.jsx)("p",{className:"text-gray-600",children:e.description})]},t))})]})}),(0,Me.jsx)("section",{className:"py-20 bg-white",children:(0,Me.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,Me.jsxs)("div",{className:"text-center mb-16",children:[(0,Me.jsx)("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Comment \xe7a marche ?"}),(0,Me.jsx)("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Trouvez votre colocation en seulement 3 \xe9tapes simples"})]}),(0,Me.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[(0,Me.jsxs)("div",{className:"text-center p-6",children:[(0,Me.jsx)("div",{className:"w-16 h-16 bg-primary-100 text-primary-600 rounded-full flex items-center justify-center text-xl font-bold mx-auto mb-4",children:"1"}),(0,Me.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Cr\xe9ez votre profil"}),(0,Me.jsx)("p",{className:"text-gray-600",children:"Inscrivez-vous et compl\xe9tez votre profil pour aider les propri\xe9taires et colocataires \xe0 mieux vous conna\xeetre."})]}),(0,Me.jsxs)("div",{className:"text-center p-6",children:[(0,Me.jsx)("div",{className:"w-16 h-16 bg-primary-100 text-primary-600 rounded-full flex items-center justify-center text-xl font-bold mx-auto mb-4",children:"2"}),(0,Me.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Trouvez ou proposez"}),(0,Me.jsx)("p",{className:"text-gray-600",children:"Parcourez les annonces de colocation ou publiez la v\xf4tre en quelques clics seulement."})]}),(0,Me.jsxs)("div",{className:"text-center p-6",children:[(0,Me.jsx)("div",{className:"w-16 h-16 bg-primary-100 text-primary-600 rounded-full flex items-center justify-center text-xl font-bold mx-auto mb-4",children:"3"}),(0,Me.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Connectez-vous"}),(0,Me.jsx)("p",{className:"text-gray-600",children:"Utilisez notre messagerie int\xe9gr\xe9e pour \xe9changer et organiser des visites en toute s\xe9curit\xe9."})]})]})]})}),(0,Me.jsx)("section",{className:"py-20 bg-gradient-to-br from-primary-50 to-blue-50",children:(0,Me.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,Me.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-6",children:"Sp\xe9cialement con\xe7u pour les \xe9tudiants"}),(0,Me.jsx)("p",{className:"text-lg text-gray-600 mb-8",children:"ColocAntananarivo comprend les besoins sp\xe9cifiques des \xe9tudiants et propose des solutions adapt\xe9es \xe0 votre budget et votre mode de vie."}),(0,Me.jsxs)("div",{className:"space-y-4",children:[(0,Me.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,Me.jsx)("div",{className:"w-6 h-6 bg-primary-500 rounded-full flex items-center justify-center mt-1 flex-shrink-0",children:(0,Me.jsx)("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Me.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M5 13l4 4L19 7"})})}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("h4",{className:"font-semibold text-gray-900",children:"Budget \xe9tudiant"}),(0,Me.jsx)("p",{className:"text-gray-600",children:"Des logements \xe0 des prix adapt\xe9s aux budgets \xe9tudiants"})]})]}),(0,Me.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,Me.jsx)("div",{className:"w-6 h-6 bg-primary-500 rounded-full flex items-center justify-center mt-1 flex-shrink-0",children:(0,Me.jsx)("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Me.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M5 13l4 4L19 7"})})}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("h4",{className:"font-semibold text-gray-900",children:"Proche des universit\xe9s"}),(0,Me.jsx)("p",{className:"text-gray-600",children:"Localisations strat\xe9giques pr\xe8s des campus et facult\xe9s"})]})]}),(0,Me.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,Me.jsx)("div",{className:"w-6 h-6 bg-primary-500 rounded-full flex items-center justify-center mt-1 flex-shrink-0",children:(0,Me.jsx)("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Me.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M5 13l4 4L19 7"})})}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("h4",{className:"font-semibold text-gray-900",children:"Flexibilit\xe9"}),(0,Me.jsx)("p",{className:"text-gray-600",children:"Contrats adapt\xe9s aux calendriers universitaires"})]})]})]})]}),(0,Me.jsxs)("div",{className:"relative",children:[(0,Me.jsx)("img",{src:"/api/placeholder/600/400",alt:"\xc9tudiants en colocation",className:"rounded-2xl shadow-2xl"}),(0,Me.jsxs)("div",{className:"absolute -bottom-6 -left-6 bg-white p-6 rounded-2xl shadow-lg",children:[(0,Me.jsx)("div",{className:"text-2xl font-bold text-primary-600",children:"95%"}),(0,Me.jsx)("div",{className:"text-gray-600",children:"de satisfaction \xe9tudiante"})]})]})]})})}),(0,Me.jsx)("section",{className:"py-20 bg-gray-50",children:(0,Me.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,Me.jsxs)("div",{className:"text-center mb-16",children:[(0,Me.jsx)("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Quartiers couverts"}),(0,Me.jsx)("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Trouvez des logements dans les meilleurs quartiers d'Antananarivo, proches des universit\xe9s et des transports."})]}),(0,Me.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:["Analakely","Ambohijatovo","Ankadifotsy","Ankatso","Antaninarenina","Behoririka","Isoraka","Mahamasina","Tsaralalana","67ha"].map((e,t)=>(0,Me.jsxs)("div",{className:"bg-white rounded-lg p-4 text-center hover:bg-primary-50 transition-colors cursor-pointer border border-gray-200 hover:border-primary-300",children:[(0,Me.jsx)($d,{className:"w-6 h-6 text-primary-600 mx-auto mb-2"}),(0,Me.jsx)("span",{className:"text-gray-900 font-medium",children:e})]},t))})]})}),(0,Me.jsx)("section",{className:"py-20 bg-white",children:(0,Me.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,Me.jsxs)("div",{className:"text-center mb-16",children:[(0,Me.jsx)("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Ce que disent nos utilisateurs"}),(0,Me.jsx)("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"D\xe9couvrez les t\xe9moignages de nos utilisateurs satisfaits."})]}),(0,Me.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[{name:"Marie Rakoto",role:"\xc9tudiante en M\xe9decine",content:"Gr\xe2ce \xe0 ColocAntananarivo, j'ai trouv\xe9 une colocation parfaite pr\xe8s de mon universit\xe9. L'\xe9quipe est tr\xe8s professionnelle !",rating:5},{name:"Jean Rasoa",role:"Propri\xe9taire",content:"Excellente plateforme pour louer mes logements. Les \xe9tudiants sont s\xe9rieux et les paiements sont s\xe9curis\xe9s.",rating:5},{name:"Sofia Andriamalala",role:"\xc9tudiante en Informatique",content:"Interface intuitive et logements de qualit\xe9. Je recommande vivement cette plateforme !",rating:5}].map((e,t)=>(0,Me.jsxs)("div",{className:"bg-gray-50 rounded-lg p-6 hover:shadow-md transition-shadow",children:[(0,Me.jsx)("div",{className:"flex items-center mb-4",children:[...Array(e.rating)].map((e,t)=>(0,Me.jsx)(tu,{className:"w-5 h-5 text-yellow-400 fill-current"},t))}),(0,Me.jsxs)("p",{className:"text-gray-600 mb-4 italic",children:['"',e.content,'"']}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("div",{className:"font-semibold text-gray-900",children:e.name}),(0,Me.jsx)("div",{className:"text-sm text-gray-500",children:e.role})]})]},t))})]})}),(0,Me.jsx)("section",{className:"py-20 bg-gray-50",children:(0,Me.jsxs)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,Me.jsxs)("div",{className:"text-center mb-16",children:[(0,Me.jsx)("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Questions fr\xe9quentes"}),(0,Me.jsx)("p",{className:"text-xl text-gray-600",children:"Tout ce que vous devez savoir sur ColocAntananarivo"})]}),(0,Me.jsxs)("div",{className:"space-y-6",children:[(0,Me.jsxs)("div",{className:"bg-white rounded-2xl p-6 shadow-sm",children:[(0,Me.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Comment puis-je v\xe9rifier la fiabilit\xe9 d'un propri\xe9taire ?"}),(0,Me.jsx)("p",{className:"text-gray-600",children:"Tous nos propri\xe9taires sont v\xe9rifi\xe9s et not\xe9s par les anciens locataires. Vous pouvez consulter les avis et \xe9valuations sur chaque profil."})]}),(0,Me.jsxs)("div",{className:"bg-white rounded-2xl p-6 shadow-sm",children:[(0,Me.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Quels sont les frais de service ?"}),(0,Me.jsx)("p",{className:"text-gray-600",children:"L'inscription et la recherche de logement sont enti\xe8rement gratuites pour les \xe9tudiants. Seuls les propri\xe9taires paient des frais mod\xe9r\xe9s lors de la location effective."})]}),(0,Me.jsxs)("div",{className:"bg-white rounded-2xl p-6 shadow-sm",children:[(0,Me.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Puis-je visiter les logements avant de m'engager ?"}),(0,Me.jsx)("p",{className:"text-gray-600",children:"Absolument ! Nous encourageons les visites et vous pouvez organiser des rendez-vous directement via notre plateforme."})]}),(0,Me.jsxs)("div",{className:"bg-white rounded-2xl p-6 shadow-sm",children:[(0,Me.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Comment sont g\xe9r\xe9s les conflits entre colocataires ?"}),(0,Me.jsx)("p",{className:"text-gray-600",children:"Nous proposons un service de m\xe9diation et des ressources pour aider \xe0 r\xe9soudre les conflits de mani\xe8re constructive."})]})]}),(0,Me.jsx)("div",{className:"text-center mt-12",children:(0,Me.jsx)(Ae,{to:"/faq",className:"text-primary-600 hover:text-primary-700 font-semibold",children:"Voir toutes les questions \u2192"})})]})}),(0,Me.jsx)("section",{className:"py-20 bg-primary-600 text-white",children:(0,Me.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[(0,Me.jsx)("h2",{className:"text-3xl md:text-4xl font-bold mb-4",children:"Pr\xeat \xe0 trouver votre colocation ?"}),(0,Me.jsx)("p",{className:"text-xl mb-8 text-primary-100 max-w-2xl mx-auto",children:"Rejoignez des milliers d'\xe9tudiants qui ont d\xe9j\xe0 trouv\xe9 leur logement id\xe9al sur notre plateforme."}),(0,Me.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[!g&&(0,Me.jsx)(Ae,{to:"/register",className:"bg-white text-primary-600 hover:bg-gray-100 font-semibold py-3 px-8 rounded-lg transition-colors duration-200",children:"Commencer maintenant"}),(0,Me.jsx)(Ae,{to:"/logements",className:"border-2 border-white text-white hover:bg-white hover:text-primary-600 font-semibold py-3 px-8 rounded-lg transition-colors duration-200",children:"Voir les logements"})]})]})}),j&&(0,Me.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Me.jsxs)("div",{className:"bg-white rounded-lg max-w-md w-full p-6",children:[(0,Me.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Me.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Envoyer un message"}),(0,Me.jsx)("button",{onClick:()=>w(!1),className:"text-gray-400 hover:text-gray-600",children:(0,Me.jsx)(su,{className:"w-5 h-5"})})]}),(0,Me.jsxs)("div",{className:"mb-4",children:[(0,Me.jsxs)("p",{className:"text-sm text-gray-600 mb-2",children:["\xc0 : ",S?"".concat(S.author.firstName," ").concat(S.author.lastName):null!==E&&void 0!==E&&null!==(s=E.owner)&&void 0!==s&&s.firstName?"".concat(E.owner.firstName," ").concat(E.owner.lastName):"Propri\xe9taire"]}),(0,Me.jsx)("textarea",{value:N,onChange:e=>k(e.target.value),placeholder:"Tapez votre message...",rows:4,className:"w-full input-field resize-none"})]}),(0,Me.jsxs)("div",{className:"flex space-x-2",children:[(0,Me.jsx)("button",{onClick:()=>{S?(async e=>{if(N.trim())try{await P(e.author.id,N),k(""),w(!1),C(null)}catch(t){mr.error("Erreur lors de l'envoi du message")}else mr.error("Veuillez saisir un message")})(S):E&&(async e=>{if(N.trim())try{await P(e.ownerId,N),k(""),w(!1),A(null),mr.success("Message envoy\xe9 avec succ\xe8s !")}catch(t){mr.error("Erreur lors de l'envoi du message")}else mr.error("Veuillez saisir un message")})(E)},className:"flex-1 btn-primary",disabled:!N.trim(),children:"Envoyer"}),(0,Me.jsx)("button",{onClick:()=>w(!1),className:"flex-1 btn-secondary",children:"Annuler"})]})]})}),(0,Me.jsx)(du,{isOpen:T,onClose:()=>M(!1),backButtonText:"Retour \xe0 l'accueil"})]});return(0,Me.jsx)(Me.Fragment,{children:I})},gu=["title","titleId"];function vu(e,r){let{title:n,titleId:s}=e,a=(0,Ps.A)(e,gu);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":s},a),n?t.createElement("title",{id:s},n):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"}))}const yu=t.forwardRef(vu),bu=["title","titleId"];function ju(e,r){let{title:n,titleId:s}=e,a=(0,Ps.A)(e,bu);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":s},a),n?t.createElement("title",{id:s},n):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const wu=t.forwardRef(ju),Nu=e=>{let{onVerify:r}=e;const[n,s]=(0,t.useState)(""),[a,i]=(0,t.useState)(""),[o,l]=(0,t.useState)(!1);(0,t.useEffect)(()=>{c()},[]);const c=()=>{const e="ABCDEFGHJKLMNPQRSTUVWXYZ23456789";let t="";for(let r=0;r<5;r++)t+=e.charAt(Math.floor(32*Math.random()));i(t),s(""),l(!1)};return(0,Me.jsxs)("div",{className:"space-y-2",children:[(0,Me.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Me.jsx)("div",{className:"flex-1",children:(0,Me.jsxs)("div",{className:"relative w-full rounded-md border border-gray-300 bg-white px-4 py-2 overflow-hidden shadow-sm",children:[(0,Me.jsxs)("div",{className:"absolute inset-0 opacity-30 pointer-events-none",children:[(0,Me.jsx)("div",{className:"w-full h-px bg-gray-200 absolute top-1/3"}),(0,Me.jsx)("div",{className:"w-full h-px bg-gray-200 absolute top-2/3"}),(0,Me.jsx)("div",{className:"h-full w-px bg-gray-200 absolute left-1/4"}),(0,Me.jsx)("div",{className:"h-full w-px bg-gray-200 absolute left-2/3"})]}),(0,Me.jsx)("div",{className:"relative text-2xl font-bold text-primary-700 tracking-[0.4em] text-center select-none",children:a.split("").map((e,t)=>(0,Me.jsx)("span",{style:{transform:"rotate(".concat(24*Math.random()-12,"deg)"),display:"inline-block",margin:"0 3px"},className:"inline-block drop-shadow-sm",children:e},t))})]})}),(0,Me.jsx)("button",{type:"button",onClick:c,className:"px-3 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-md border border-gray-300 text-sm font-medium transition-colors",title:"Actualiser le code",children:"\u21bb"})]}),(0,Me.jsx)("input",{type:"text",value:n,onChange:e=>{const t=e.target.value.toUpperCase();if(s(t),l(!1),5===t.length){const e=t===a;r(e),e||l(!0)}else r(!1)},maxLength:5,placeholder:"Entrez le code ci-dessus",className:"input-field ".concat(o?"border-red-500":""),style:{textTransform:"uppercase"}}),o&&(0,Me.jsx)("p",{className:"text-xs text-red-600",children:"Code incorrect, veuillez r\xe9essayer"})]})},ku=()=>{var e,r;const[n,s]=(0,t.useState)(""),[a,i]=(0,t.useState)(""),[o,l]=(0,t.useState)(!1),[c,d]=(0,t.useState)(!1),[u,m]=(0,t.useState)(!1),{login:h}=yr(),p=K(),f=(null===(e=J().state)||void 0===e||null===(r=e.from)||void 0===r?void 0:r.pathname)||"/";return(0,Me.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:(0,Me.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("div",{className:"flex justify-center",children:(0,Me.jsx)("img",{src:"/logo_colo.svg",alt:"ColocAntananarivo",className:"h-20 w-auto"})}),(0,Me.jsx)("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Connexion \xe0 votre compte"}),(0,Me.jsxs)("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Ou"," ",(0,Me.jsx)(Ae,{to:"/register",className:"font-medium text-primary-600 hover:text-primary-500",children:"cr\xe9ez un nouveau compte"})]})]}),(0,Me.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:async e=>{if(e.preventDefault(),u){d(!0);try{await h(n,a),p(f,{replace:!0})}catch(t){}finally{d(!1)}}else mr.error("Veuillez compl\xe9ter le CAPTCHA")},children:[(0,Me.jsxs)("div",{className:"space-y-4",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Adresse email"}),(0,Me.jsx)("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:n,onChange:e=>s(e.target.value),className:"input-field mt-1",placeholder:"votre@email.com"})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Mot de passe"}),(0,Me.jsxs)("div",{className:"mt-1 relative",children:[(0,Me.jsx)("input",{id:"password",name:"password",type:o?"text":"password",autoComplete:"current-password",required:!0,value:a,onChange:e=>i(e.target.value),className:"input-field pr-10",placeholder:"Votre mot de passe"}),(0,Me.jsx)("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>l(!o),children:o?(0,Me.jsx)(yu,{className:"h-5 w-5 text-gray-400"}):(0,Me.jsx)(wu,{className:"h-5 w-5 text-gray-400"})})]})]})]}),(0,Me.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Me.jsxs)("div",{className:"flex items-center",children:[(0,Me.jsx)("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),(0,Me.jsx)("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-900",children:"Se souvenir de moi"})]}),(0,Me.jsx)("div",{className:"text-sm",children:(0,Me.jsx)("a",{href:"/forgot-password",className:"font-medium text-primary-600 hover:text-primary-500",children:"Mot de passe oubli\xe9 ?"})})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"V\xe9rification CAPTCHA *"}),(0,Me.jsx)(Nu,{onVerify:m})]}),(0,Me.jsx)("div",{children:(0,Me.jsx)("button",{type:"submit",disabled:c,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed",children:c?(0,Me.jsxs)("div",{className:"flex items-center",children:[(0,Me.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Connexion..."]}):"Se connecter"})}),(0,Me.jsxs)("div",{className:"mt-6",children:[(0,Me.jsxs)("div",{className:"relative",children:[(0,Me.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,Me.jsx)("div",{className:"w-full border-t border-gray-300"})}),(0,Me.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,Me.jsx)("span",{className:"px-2 bg-gray-50 text-gray-500",children:"Ou continuez avec"})})]}),(0,Me.jsxs)("div",{className:"mt-6 grid grid-cols-2 gap-3",children:[(0,Me.jsxs)("button",{type:"button",className:"w-full inline-flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm bg-white text-sm font-medium text-gray-500 hover:bg-gray-50",children:[(0,Me.jsxs)("svg",{className:"h-5 w-5",viewBox:"0 0 24 24",children:[(0,Me.jsx)("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),(0,Me.jsx)("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),(0,Me.jsx)("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),(0,Me.jsx)("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),(0,Me.jsx)("span",{className:"ml-2",children:"Google"})]}),(0,Me.jsxs)("button",{type:"button",className:"w-full inline-flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm bg-white text-sm font-medium text-gray-500 hover:bg-gray-50",children:[(0,Me.jsx)("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 24 24",children:(0,Me.jsx)("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})}),(0,Me.jsx)("span",{className:"ml-2",children:"Facebook"})]})]})]})]})]})})},Su=["confirmPassword"],Cu="".concat("","/logo_colo.svg"),Eu=()=>{const[e,r]=(0,t.useState)({email:"",password:"",confirmPassword:"",firstName:"",lastName:"",phone:"",userType:"student",university:"",studyLevel:"",budget:0,profileImage:null}),[n,s]=(0,t.useState)(!1),[a,i]=(0,t.useState)(!1),[o,l]=(0,t.useState)(!1),[c,d]=(0,t.useState)(!1),{register:u}=yr(),m=K(),h=t=>{const{name:n,value:s}=t.target;r((0,Ie.A)((0,Ie.A)({},e),{},{[n]:"budget"===n?Number(s):s}))};return(0,Me.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:(0,Me.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("div",{className:"flex justify-center",children:(0,Me.jsx)("img",{src:Cu,alt:"ColocAntananarivo",className:"h-12 w-auto"})}),(0,Me.jsx)("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Cr\xe9er un compte"}),(0,Me.jsxs)("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Ou"," ",(0,Me.jsx)(Ae,{to:"/login",className:"font-medium text-primary-600 hover:text-primary-500",children:"connectez-vous \xe0 votre compte existant"})]})]}),(0,Me.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:async t=>{if(t.preventDefault(),c)if(await(async e=>{if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e))return!1;const[t,r]=e.split("@");if(!t||t.length<3||t.length>64)return!1;if(t.startsWith(".")||t.endsWith(".")||t.includes(".."))return!1;const n=null===r||void 0===r?void 0:r.toLowerCase();return["gmail.com","googlemail.com"].includes(n||""),!0})(e.email))if(e.password===e.confirmPassword)if(e.password.length<6)mr.error("Le mot de passe doit contenir au moins 6 caract\xe8res");else{l(!0);try{const{confirmPassword:t}=e,r=(0,Ps.A)(e,Su);await u(r),m("/login"),mr.success("Inscription r\xe9ussie ! Veuillez vous connecter.")}catch(r){}finally{l(!1)}}else mr.error("Les mots de passe ne correspondent pas");else mr.error("Veuillez saisir une adresse email valide");else mr.error("Veuillez compl\xe9ter le CAPTCHA")},children:[(0,Me.jsxs)("div",{className:"space-y-4",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Je suis un(e) :"}),(0,Me.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Me.jsxs)("label",{className:"relative",children:[(0,Me.jsx)("input",{type:"radio",name:"userType",value:"student",checked:"student"===e.userType,onChange:h,className:"sr-only"}),(0,Me.jsx)("div",{className:"p-4 border-2 rounded-lg cursor-pointer transition-colors ".concat("student"===e.userType?"border-primary-500 bg-primary-50":"border-gray-300 hover:border-gray-400"),children:(0,Me.jsxs)("div",{className:"text-center",children:[(0,Me.jsx)("div",{className:"text-lg font-medium text-gray-900",children:"\xc9tudiant(e)"}),(0,Me.jsx)("div",{className:"text-sm text-gray-500",children:"Je cherche un logement"})]})})]}),(0,Me.jsxs)("label",{className:"relative",children:[(0,Me.jsx)("input",{type:"radio",name:"userType",value:"owner",checked:"owner"===e.userType,onChange:h,className:"sr-only"}),(0,Me.jsx)("div",{className:"p-4 border-2 rounded-lg cursor-pointer transition-colors ".concat("owner"===e.userType?"border-primary-500 bg-primary-50":"border-gray-300 hover:border-gray-400"),children:(0,Me.jsxs)("div",{className:"text-center",children:[(0,Me.jsx)("div",{className:"text-lg font-medium text-gray-900",children:"Propri\xe9taire"}),(0,Me.jsx)("div",{className:"text-sm text-gray-500",children:"Je loue un logement"})]})})]})]})]}),(0,Me.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{htmlFor:"firstName",className:"block text-sm font-medium text-gray-700",children:"Pr\xe9nom"}),(0,Me.jsx)("input",{id:"firstName",name:"firstName",type:"text",required:!0,value:e.firstName,onChange:h,className:"input-field mt-1",placeholder:"Votre pr\xe9nom"})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{htmlFor:"lastName",className:"block text-sm font-medium text-gray-700",children:"Nom"}),(0,Me.jsx)("input",{id:"lastName",name:"lastName",type:"text",required:!0,value:e.lastName,onChange:h,className:"input-field mt-1",placeholder:"Votre nom"})]})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Adresse email"}),(0,Me.jsx)("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:e.email,onChange:h,className:"input-field mt-1",placeholder:"votre@email.com"})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700",children:"Num\xe9ro de t\xe9l\xe9phone"}),(0,Me.jsx)("input",{id:"phone",name:"phone",type:"tel",required:!0,value:e.phone,onChange:h,className:"input-field mt-1",placeholder:"+261 34 12 345 67"})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{htmlFor:"profileImage",className:"block text-sm font-medium text-gray-700",children:"Photo de profil (optionnel)"}),(0,Me.jsx)("input",{id:"profileImage",name:"profileImage",type:"file",accept:"image/*",onChange:t=>{t.target.files&&t.target.files[0]&&r((0,Ie.A)((0,Ie.A)({},e),{},{profileImage:t.target.files[0]}))},className:"input-field mt-1"}),e.profileImage&&(0,Me.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:e.profileImage.name})]}),"student"===e.userType&&(0,Me.jsxs)(Me.Fragment,{children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{htmlFor:"university",className:"block text-sm font-medium text-gray-700",children:"Universit\xe9 / \xc9cole"}),(0,Me.jsxs)("select",{id:"university",name:"university",value:e.university,onChange:h,className:"input-field mt-1",children:[(0,Me.jsx)("option",{value:"",children:"S\xe9lectionnez votre universit\xe9"}),(0,Me.jsx)("option",{value:"Universit\xe9 d'Antananarivo",children:"Universit\xe9 d'Antananarivo"}),(0,Me.jsx)("option",{value:"\xc9cole Sup\xe9rieure Polytechnique",children:"\xc9cole Sup\xe9rieure Polytechnique"}),(0,Me.jsx)("option",{value:"Institut National des Sciences Comptables",children:"Institut National des Sciences Comptables"}),(0,Me.jsx)("option",{value:"\xc9cole de M\xe9decine",children:"\xc9cole de M\xe9decine"}),(0,Me.jsx)("option",{value:"Autre",children:"Autre"})]})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{htmlFor:"studyLevel",className:"block text-sm font-medium text-gray-700",children:"Niveau d'\xe9tudes"}),(0,Me.jsxs)("select",{id:"studyLevel",name:"studyLevel",value:e.studyLevel,onChange:h,className:"input-field mt-1",children:[(0,Me.jsx)("option",{value:"",children:"S\xe9lectionnez votre niveau"}),(0,Me.jsx)("option",{value:"Licence 1",children:"Licence 1"}),(0,Me.jsx)("option",{value:"Licence 2",children:"Licence 2"}),(0,Me.jsx)("option",{value:"Licence 3",children:"Licence 3"}),(0,Me.jsx)("option",{value:"Master 1",children:"Master 1"}),(0,Me.jsx)("option",{value:"Master 2",children:"Master 2"}),(0,Me.jsx)("option",{value:"Doctorat",children:"Doctorat"})]})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{htmlFor:"budget",className:"block text-sm font-medium text-gray-700",children:"Budget mensuel (Ar) *"}),(0,Me.jsx)("input",{id:"budget",name:"budget",type:"number",required:!0,min:"0",value:e.budget||"",onChange:h,className:"input-field mt-1",placeholder:"150000"}),(0,Me.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Votre budget mensuel pour la colocation"})]})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Mot de passe"}),(0,Me.jsxs)("div",{className:"mt-1 relative",children:[(0,Me.jsx)("input",{id:"password",name:"password",type:n?"text":"password",autoComplete:"new-password",required:!0,value:e.password,onChange:h,className:"input-field pr-10",placeholder:"Votre mot de passe"}),(0,Me.jsx)("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>s(!n),children:n?(0,Me.jsx)(yu,{className:"h-5 w-5 text-gray-400"}):(0,Me.jsx)(wu,{className:"h-5 w-5 text-gray-400"})})]})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:"Confirmer le mot de passe"}),(0,Me.jsxs)("div",{className:"mt-1 relative",children:[(0,Me.jsx)("input",{id:"confirmPassword",name:"confirmPassword",type:a?"text":"password",autoComplete:"new-password",required:!0,value:e.confirmPassword,onChange:h,className:"input-field pr-10",placeholder:"Confirmez votre mot de passe"}),(0,Me.jsx)("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>i(!a),children:a?(0,Me.jsx)(yu,{className:"h-5 w-5 text-gray-400"}):(0,Me.jsx)(wu,{className:"h-5 w-5 text-gray-400"})})]})]})]}),(0,Me.jsxs)("div",{className:"flex items-center",children:[(0,Me.jsx)("input",{id:"terms",name:"terms",type:"checkbox",required:!0,className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),(0,Me.jsxs)("label",{htmlFor:"terms",className:"ml-2 block text-sm text-gray-900",children:["J'accepte les"," ",(0,Me.jsx)("a",{href:"/terms",className:"text-primary-600 hover:text-primary-500",children:"conditions d'utilisation"})," ","et la"," ",(0,Me.jsx)("a",{href:"/privacy",className:"text-primary-600 hover:text-primary-500",children:"politique de confidentialit\xe9"})]})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"V\xe9rification CAPTCHA *"}),(0,Me.jsx)(Nu,{onVerify:d})]}),(0,Me.jsx)("div",{children:(0,Me.jsx)("button",{type:"submit",disabled:o,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed",children:o?(0,Me.jsxs)("div",{className:"flex items-center",children:[(0,Me.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Cr\xe9ation du compte..."]}):"Cr\xe9er mon compte"})})]})]})})},Au=["title","titleId"];function Pu(e,r){let{title:n,titleId:s}=e,a=(0,Ps.A)(e,Au);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":s},a),n?t.createElement("title",{id:s},n):null,t.createElement("path",{fillRule:"evenodd",d:"M16.5 4.478v.227a48.816 48.816 0 0 1 3.878.512.75.75 0 1 1-.256 1.478l-.209-.035-1.005 13.07a3 3 0 0 1-2.991 2.77H8.084a3 3 0 0 1-2.991-2.77L4.087 6.66l-.209.035a.75.75 0 0 1-.256-1.478A48.567 48.567 0 0 1 7.5 4.705v-.227c0-1.564 1.213-2.9 2.816-2.951a52.662 52.662 0 0 1 3.369 0c1.603.051 2.815 1.387 2.815 2.951Zm-6.136-1.452a51.196 51.196 0 0 1 3.273 0C14.39 3.05 15 3.684 15 4.478v.113a49.488 49.488 0 0 0-6 0v-.113c0-.794.609-1.428 1.364-1.452Zm-.355 5.945a.75.75 0 1 0-1.5.058l.347 9a.75.75 0 1 0 1.499-.058l-.346-9Zm5.48.058a.75.75 0 1 0-1.498-.058l-.347 9a.75.75 0 0 0 1.5.058l.345-9Z",clipRule:"evenodd"}))}const Tu=t.forwardRef(Pu),Mu=["title","titleId"];function Lu(e,r){let{title:n,titleId:s}=e,a=(0,Ps.A)(e,Mu);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":s},a),n?t.createElement("title",{id:s},n):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}const Ru=t.forwardRef(Lu),Du=["title","titleId"];function Fu(e,r){let{title:n,titleId:s}=e,a=(0,Ps.A)(e,Du);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":s},a),n?t.createElement("title",{id:s},n):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const Iu=t.forwardRef(Fu),_u=["title","titleId"];function zu(e,r){let{title:n,titleId:s}=e,a=(0,Ps.A)(e,_u);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":s},a),n?t.createElement("title",{id:s},n):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))}const Ou=t.forwardRef(zu),Vu=["title","titleId"];function Bu(e,r){let{title:n,titleId:s}=e,a=(0,Ps.A)(e,Vu);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":s},a),n?t.createElement("title",{id:s},n):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 15.75 5.159-5.159a2.25 2.25 0 0 1 3.182 0l5.159 5.159m-1.5-1.5 1.409-1.409a2.25 2.25 0 0 1 3.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 0 0 1.5-1.5V6a1.5 1.5 0 0 0-1.5-1.5H3.75A1.5 1.5 0 0 0 2.25 6v12a1.5 1.5 0 0 0 1.5 1.5Zm10.5-11.25h.008v.008h-.008V8.25Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))}const Uu=t.forwardRef(Bu),Wu=["title","titleId"];function qu(e,r){let{title:n,titleId:s}=e,a=(0,Ps.A)(e,Wu);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":s},a),n?t.createElement("title",{id:s},n):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v12m-3-2.818.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const Hu=t.forwardRef(qu),$u=["title","titleId"];function Zu(e,r){let{title:n,titleId:s}=e,a=(0,Ps.A)(e,$u);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":s},a),n?t.createElement("title",{id:s},n):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0"}))}const Yu=t.forwardRef(Zu),Xu=["title","titleId"];function Ju(e,r){let{title:n,titleId:s}=e,a=(0,Ps.A)(e,Xu);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":s},a),n?t.createElement("title",{id:s},n):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const Gu=t.forwardRef(Ju),Ku=["title","titleId"];function Qu(e,r){let{title:n,titleId:s}=e,a=(0,Ps.A)(e,Ku);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":s},a),n?t.createElement("title",{id:s},n):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const em=t.forwardRef(Qu),tm=["title","titleId"];function rm(e,r){let{title:n,titleId:s}=e,a=(0,Ps.A)(e,tm);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":s},a),n?t.createElement("title",{id:s},n):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const nm=t.forwardRef(rm),sm=()=>{const{user:e}=yr(),{properties:r,userProperties:n,deleteProperty:s}=wr(),{userAnnouncements:a,deleteAnnouncement:i,updateAnnouncement:o,fetchUserAnnouncements:l}=Ar(),{conversations:c}=Sr(),[d,u]=t.useState(null),[m,h]=t.useState(null),[p,f]=t.useState(""),[x,g]=t.useState({}),[v,y]=t.useState([]),[b,j]=t.useState(!1);t.useEffect(()=>{(async()=>{if("student"===(null===e||void 0===e?void 0:e.userType)){j(!0);try{await l()}catch(t){console.error("Erreur chargement annonces:",t)}finally{j(!1)}}})()},[e,l]),t.useEffect(()=>{if(!e)return;(async()=>{try{const i="admin"===e.userType?"/api/properties/stats":"/api/properties/stats_public",o=await(0,hr.apiGet)(i);if(!o.success)return;const l=o.data||{};if("owner"===e.userType){var t,r;const e=n.length||l.totalProperties||0,s=n.length?n.filter(e=>e.isAvailable).length:null!==(t=null!==(r=l.availableProperties)&&void 0!==r?r:l.totalProperties)&&void 0!==t?t:0;y([{name:"Logements publi\xe9s",value:String(e),change:s>0?"".concat(s," disponibles"):"Aucun disponible",changeType:e>0?"positive":"neutral",icon:(0,Me.jsx)(Md,{className:"w-6 h-6"})},{name:"Messages re\xe7us",value:String(l.messagesReceived||0),changeType:"neutral",icon:(0,Me.jsx)(Vd,{className:"w-6 h-6"})}])}else{var s,a;y([{name:"Messages re\xe7us",value:String(l.messagesReceived||0),changeType:"neutral",icon:(0,Me.jsx)(Vd,{className:"w-6 h-6"})},{name:"Logements disponibles",value:String((null!==(s=null!==(a=l.availableProperties)&&void 0!==a?a:l.totalProperties)&&void 0!==s?s:0)||0),changeType:"positive",icon:(0,Me.jsx)(Md,{className:"w-6 h-6"})}])}}catch(Ke){console.error("Erreur chargement stats:",Ke)}})()},[e,y,n]);const[w,N]=t.useState(1),k=Math.max(1,Math.ceil(n.length/4)),S=t.useMemo(()=>{const e=4*(w-1);return n.slice(e,e+4)},[n,w]),C=t.useMemo(()=>{const e=[...r||[]].sort((e,t)=>new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime());return e.slice(0,3)},[r]),E=t.useMemo(()=>(c||[]).slice(0,5).map(e=>{var t,r,n,s,a,i,o,l;const c=null!==(t=e.lastMessage)&&void 0!==t&&null!==(r=t.sender)&&void 0!==r&&r.firstName?"".concat(null===(n=e.lastMessage)||void 0===n||null===(s=n.sender)||void 0===s?void 0:s.firstName," ").concat((null===(a=e.lastMessage)||void 0===a||null===(i=a.sender)||void 0===i?void 0:i.lastName)||"").trim():"Utilisateur",d=e.lastMessage?"Nouveau message de ".concat(c):"Conversation mise \xe0 jour",u=(null===(o=e.lastMessage)||void 0===o?void 0:o.content)||"",m=((null===(l=e.lastMessage)||void 0===l?void 0:l.createdAt)||e.updatedAt).toLocaleString("fr-FR");return{id:e.id,title:d,description:u,time:m,icon:(0,Me.jsx)(Vd,{className:"w-5 h-5"})}}),[c]),A=!(null===e||void 0===e||!e.accountActivationDeadline)&&new Date<new Date(e.accountActivationDeadline);if("owner"===(null===e||void 0===e?void 0:e.userType)&&(null===e||void 0===e||!e.cinVerified)&&!A&&(null===e||void 0===e||!e.cinPending))return(0,Me.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:(0,Me.jsxs)("div",{className:"max-w-md w-full text-center",children:[(0,Me.jsx)(Ru,{className:"w-16 h-16 text-yellow-500 mx-auto mb-4"}),(0,Me.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"V\xe9rification Requise"}),(0,Me.jsx)("p",{className:"text-gray-600 mb-4",children:"Pour publier des annonces, vous devez d'abord v\xe9rifier votre carte d'identit\xe9 nationale. Cette mesure permet d'assurer la s\xe9curit\xe9 et la confiance sur notre plateforme."}),(0,Me.jsxs)("div",{className:"space-y-3",children:[(0,Me.jsxs)(Ae,{to:"/cin-verification",className:"w-full btn-primary flex items-center justify-center space-x-2",children:[(0,Me.jsx)(cu,{className:"w-5 h-5"}),(0,Me.jsx)("span",{children:"V\xe9rifier mon CIN"})]}),(0,Me.jsx)(Ae,{to:"/logements",className:"w-full btn-secondary",children:"Parcourir les logements"})]})]})});if(!e)return(0,Me.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,Me.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-600"})});const P=async()=>{if(m)try{await o(m,{content:p}),h(null),f("")}catch(Ke){}};return(0,Me.jsx)("div",{className:"min-h-screen bg-gradient-to-b from-slate-50 to-slate-100 py-8",children:(0,Me.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,Me.jsxs)("div",{className:"mb-8",children:[(0,Me.jsxs)("h1",{className:"text-3xl font-bold text-gray-900",children:["Bonjour, ",e.firstName," !"]}),(0,Me.jsx)("p",{className:"text-gray-600 mt-2",children:"Voici un aper\xe7u de votre activit\xe9 sur ColocAntananarivo"})]}),(0,Me.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:v.map((e,t)=>(0,Me.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 transition-transform hover:scale-[1.01]",children:(0,Me.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("p",{className:"text-sm font-medium text-gray-600",children:e.name}),(0,Me.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:e.value}),(0,Me.jsx)("p",{className:"text-sm ".concat("positive"===e.changeType?"text-green-600":"negative"===e.changeType?"text-red-600":"text-gray-600"),children:e.change})]}),(0,Me.jsx)("div",{className:"p-3 bg-primary-100 rounded-lg",children:(0,Me.jsx)("div",{className:"text-primary-600",children:e.icon})})]})},t))}),(0,Me.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,Me.jsxs)("div",{className:"lg:col-span-2 space-y-8",children:["student"===e.userType&&(0,Me.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,Me.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Me.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Mes annonces"}),(0,Me.jsxs)(Ae,{to:"/create-announcement",className:"btn-primary text-sm flex items-center space-x-2",children:[(0,Me.jsx)(Iu,{className:"w-4 h-4"}),(0,Me.jsx)("span",{children:"Nouvelle annonce"})]})]}),b?(0,Me.jsx)("div",{className:"flex justify-center py-8",children:(0,Me.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):0===a.length?(0,Me.jsx)("div",{className:"text-center py-8 text-gray-600",children:"Vous n'avez pas encore publi\xe9 d'annonce."}):(0,Me.jsxs)("div",{className:"space-y-4",children:[a.map(e=>(0,Me.jsx)("div",{className:"border border-gray-200 rounded-lg p-4",children:m===e.id?(0,Me.jsxs)("div",{className:"space-y-3",children:[(0,Me.jsx)("textarea",{className:"w-full border border-gray-300 rounded-md p-2 focus:outline-none focus:ring-2 focus:ring-primary-300",rows:3,value:p,onChange:e=>f(e.target.value)}),(0,Me.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Me.jsx)("button",{onClick:P,className:"btn-primary text-sm",children:"Enregistrer"}),(0,Me.jsx)("button",{onClick:()=>h(null),className:"btn-secondary text-sm",children:"Annuler"})]})]}):(0,Me.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,Me.jsxs)("div",{className:"flex-1",children:[(0,Me.jsx)("div",{className:"bg-gradient-to-br from-gray-50 to-blue-50 rounded-2xl p-4",children:(()=>{const t=(e.content||"").length>220,r=!!x[e.id],n=r?e.content:t?"".concat((e.content||"").slice(0,220),"..."):e.content;return(0,Me.jsxs)(Me.Fragment,{children:[(0,Me.jsx)("p",{className:"text-gray-800 leading-relaxed text-base whitespace-pre-wrap break-all md:break-words max-w-full overflow-hidden",children:n}),t&&(0,Me.jsx)("button",{onClick:()=>g(t=>(0,Ie.A)((0,Ie.A)({},t),{},{[e.id]:!t[e.id]})),className:"mt-3 text-primary-600 hover:text-primary-800 font-medium transition-colors text-sm",children:r?"Afficher moins \u25b2":"Afficher plus \u25bc"})]})})()}),(0,Me.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:new Date(e.createdAt).toLocaleString("fr-FR")})]}),(0,Me.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Me.jsxs)(Ae,{to:"/edit-announcement/".concat(e.id),className:"btn-primary text-sm flex items-center space-x-1",children:[(0,Me.jsx)(Ou,{className:"w-4 h-4"}),(0,Me.jsx)("span",{children:"Modifier"})]}),(0,Me.jsxs)("button",{onClick:()=>(async e=>{if(window.confirm("Supprimer cette annonce ?"))try{await i(e)}catch(Ke){}})(e.id),className:"btn-danger text-sm flex items-center gap-1",children:[(0,Me.jsx)(Tu,{className:"w-4 h-4"}),"Supprimer"]})]})]})},e.id)),n.length>4&&(0,Me.jsxs)("div",{className:"flex items-center justify-between pt-2 border-t border-gray-200",children:[(0,Me.jsx)("button",{type:"button",className:"text-sm text-gray-600 hover:text-primary-600 disabled:opacity-50",disabled:1===w,onClick:()=>N(e=>Math.max(1,e-1)),children:"Pr\xe9c\xe9dent"}),(0,Me.jsxs)("div",{className:"text-sm text-gray-600",children:["Page ",w," / ",k]}),(0,Me.jsx)("button",{type:"button",className:"text-sm text-gray-600 hover:text-primary-600 disabled:opacity-50",disabled:w===k,onClick:()=>N(e=>Math.min(k,e+1)),children:"Suivant"})]})]})]}),(0,Me.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,Me.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Actions rapides"}),(0,Me.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:"owner"===e.userType?(0,Me.jsxs)(Me.Fragment,{children:[(0,Me.jsxs)(Ae,{to:"/create-property",className:"flex items-center p-4 border border-gray-200 rounded-lg hover:border-primary-300 hover:bg-primary-50 transition-colors",children:[(0,Me.jsx)(Iu,{className:"w-8 h-8 text-primary-600 mr-4"}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("h3",{className:"font-medium text-gray-900",children:"Publier un logement"}),(0,Me.jsx)("p",{className:"text-sm text-gray-600",children:"Ajouter un nouveau logement "})]})]}),(0,Me.jsxs)(Ae,{to:"/messages",className:"flex items-center p-4 border border-gray-200 rounded-lg hover:border-primary-300 hover:bg-primary-50 transition-colors",children:[(0,Me.jsx)(Vd,{className:"w-8 h-8 text-primary-600 mr-4"}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("h3",{className:"font-medium text-gray-900",children:"Messages"}),(0,Me.jsx)("p",{className:"text-sm text-gray-600",children:"Voir les conversations"})]})]}),(0,Me.jsxs)(Ae,{to:"/appointments",className:"flex items-center p-4 border border-gray-200 rounded-lg hover:border-primary-300 hover:bg-primary-50 transition-colors",children:[(0,Me.jsx)(Kd,{className:"w-8 h-8 text-primary-600 mr-4"}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("h3",{className:"font-medium text-gray-900",children:"Visites planifi\xe9es"}),(0,Me.jsx)("p",{className:"text-sm text-gray-600",children:"G\xe9rer les rendez-vous"})]})]})]}):(0,Me.jsxs)(Me.Fragment,{children:[(0,Me.jsxs)(Ae,{to:"/logements",className:"flex items-center p-4 border border-gray-200 rounded-lg hover:border-primary-300 hover:bg-primary-50 transition-colors",children:[(0,Me.jsx)(Md,{className:"w-8 h-8 text-primary-600 mr-4"}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("h3",{className:"font-medium text-gray-900",children:"Rechercher un logement"}),(0,Me.jsx)("p",{className:"text-sm text-gray-600",children:"Trouver votre colocation id\xe9ale"})]})]}),(0,Me.jsxs)(Ae,{to:"/messages",className:"flex items-center p-4 border border-gray-200 rounded-lg hover:border-primary-300 hover:bg-primary-50 transition-colors",children:[(0,Me.jsx)(Vd,{className:"w-8 h-8 text-primary-600 mr-4"}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("h3",{className:"font-medium text-gray-900",children:"Messages"}),(0,Me.jsx)("p",{className:"text-sm text-gray-600",children:"Contacter les propri\xe9taires"})]})]}),(0,Me.jsxs)(Ae,{to:"/appointments",className:"flex items-center p-4 border border-gray-200 rounded-lg hover:border-primary-300 hover:bg-primary-50 transition-colors",children:[(0,Me.jsx)(Kd,{className:"w-8 h-8 text-primary-600 mr-4"}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("h3",{className:"font-medium text-gray-900",children:"Mes visites planifi\xe9es"}),(0,Me.jsx)("p",{className:"text-sm text-gray-600",children:"Voir mes rendez-vous"})]})]})]})})]}),"owner"===e.userType&&(0,Me.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,Me.jsx)("div",{className:"flex items-center justify-between mb-6",children:(0,Me.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Mes logements publi\xe9s"})}),0===n.length?(0,Me.jsxs)("div",{className:"text-center py-8",children:[(0,Me.jsx)(Md,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,Me.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucun logement publi\xe9"}),(0,Me.jsx)("p",{className:"text-gray-600 mb-6",children:"Commencez par publier votre premier logement pour le proposer en colocation"}),(0,Me.jsxs)(Ae,{to:"/create-property",className:"btn-primary inline-flex items-center space-x-2",children:[(0,Me.jsx)(Iu,{className:"w-5 h-5"}),(0,Me.jsx)("span",{children:"Publier un logement"})]})]}):(0,Me.jsx)("div",{className:"space-y-6",children:S.map(e=>(0,Me.jsx)("div",{className:"border border-gray-200 rounded-lg overflow-hidden hover:shadow-md transition-shadow",children:(0,Me.jsxs)("div",{className:"flex flex-col md:flex-row",children:[(0,Me.jsx)("div",{className:"md:w-48 h-48 bg-gray-200 flex-shrink-0",children:e.images&&e.images.length>0?(0,Me.jsx)("img",{src:(0,hr.VG)(e.images[0]),alt:e.title,className:"w-full h-full object-cover",onError:e=>{e.currentTarget.src="/api/placeholder/400/300"}}):(0,Me.jsx)("div",{className:"w-full h-full bg-gray-200 flex items-center justify-center",children:(0,Me.jsx)(Uu,{className:"w-12 h-12 text-gray-400"})})}),(0,Me.jsxs)("div",{className:"flex-1 p-6",children:[(0,Me.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,Me.jsxs)("div",{className:"flex-1",children:[(0,Me.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:e.title}),(0,Me.jsxs)("div",{className:"flex items-center text-gray-600 mb-2",children:[(0,Me.jsx)($d,{className:"w-4 h-4 mr-1"}),(0,Me.jsx)("span",{className:"text-sm",children:e.address})]})]}),(0,Me.jsx)("span",{className:"badge ".concat(e.isAvailable?"badge-success":"badge-warning"," ml-4"),children:e.isAvailable?"Disponible":"Occup\xe9"})]}),(0,Me.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Me.jsxs)("div",{className:"flex items-center text-primary-600",children:[(0,Me.jsx)(Hu,{className:"w-4 h-4 mr-1"}),(0,Me.jsxs)("span",{className:"font-semibold",children:[e.price.toLocaleString()," Ar"]}),(0,Me.jsx)("span",{className:"text-gray-500 text-sm ml-1",children:"/mois"})]}),(0,Me.jsxs)("div",{className:"flex items-center text-gray-600",children:[(0,Me.jsx)(Dd,{className:"w-4 h-4 mr-1"}),(0,Me.jsxs)("span",{className:"text-sm",children:[e.availableRooms,"/",e.totalRooms," ch."]})]})]}),(0,Me.jsx)("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2",children:e.description}),(0,Me.jsxs)("div",{className:"flex items-center justify-between pt-4 border-t border-gray-200",children:[(0,Me.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Me.jsxs)(Ae,{to:"/properties/".concat(e.id),className:"btn-secondary text-sm flex items-center space-x-1",children:[(0,Me.jsx)(wu,{className:"w-4 h-4"}),(0,Me.jsx)("span",{children:"Voir"})]}),(0,Me.jsxs)(Ae,{to:"/edit-property/".concat(e.id),className:"btn-primary text-sm flex items-center space-x-1",children:[(0,Me.jsx)(Ou,{className:"w-4 h-4"}),(0,Me.jsx)("span",{children:"Modifier"})]})]}),(0,Me.jsxs)("button",{onClick:()=>(async e=>{if(window.confirm("\xcates-vous s\xfbr de vouloir supprimer ce logement ? Cette action est irr\xe9versible.")){u(e);try{await s(e)}catch(t){console.error("Erreur lors de la suppression:",t),alert("Erreur lors de la suppression du logement")}finally{u(null)}}})(e.id),disabled:d===e.id,className:"btn-danger text-sm flex items-center space-x-1 disabled:opacity-50",children:[d===e.id?(0,Me.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):(0,Me.jsx)(Tu,{className:"w-4 h-4"}),(0,Me.jsx)("span",{children:"Supprimer"})]})]})]})]})},e.id))})]}),"student"===e.userType&&(0,Me.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,Me.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Me.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Logements r\xe9cents"}),(0,Me.jsx)(Ae,{to:"/logements",className:"text-primary-600 hover:text-primary-700 text-sm font-medium",children:"Voir tout"})]}),(0,Me.jsx)("div",{className:"space-y-4",children:C.map(e=>(0,Me.jsxs)("div",{className:"flex items-center p-4 border border-gray-200 rounded-lg",children:[(0,Me.jsx)("div",{className:"w-16 h-16 flex-shrink-0 rounded-md overflow-hidden bg-gray-100 mr-3",children:e.images&&e.images.length>0?(0,Me.jsx)("img",{src:(0,hr.VG)(e.images[0]),alt:e.title,className:"w-full h-full object-cover",onError:e=>{e.currentTarget.src="/api/placeholder/100/100"}}):(0,Me.jsx)("div",{className:"w-full h-full bg-gray-200"})}),(0,Me.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Me.jsx)("h3",{className:"font-medium text-gray-900 truncate",children:e.title}),(0,Me.jsx)("p",{className:"text-sm text-gray-600 truncate",children:e.address}),(0,Me.jsxs)("p",{className:"text-sm text-gray-500",children:[e.availableRooms," chambre(s) \u2022 ",e.price.toLocaleString()," Ar/mois"]})]}),(0,Me.jsx)(Ae,{to:"/properties/".concat(e.id),className:"ml-3 text-primary-600 hover:text-primary-700 flex-shrink-0",children:(0,Me.jsx)(wu,{className:"w-5 h-5"})})]},e.id))})]})]}),(0,Me.jsxs)("div",{className:"space-y-8",children:[(0,Me.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,Me.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Me.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Activit\xe9 r\xe9cente"}),(0,Me.jsx)(Yu,{className:"w-5 h-5 text-gray-400"})]}),(0,Me.jsx)("div",{className:"space-y-4",children:E.map(e=>(0,Me.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,Me.jsx)("div",{className:"flex-shrink-0 p-2 bg-primary-100 rounded-lg",children:(0,Me.jsx)("div",{className:"text-primary-600",children:e.icon})}),(0,Me.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Me.jsx)("p",{className:"text-sm font-medium text-gray-900",children:e.title}),(0,Me.jsx)("p",{className:"text-sm text-gray-600",children:e.description}),(0,Me.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:e.time})]})]},e.id))})]}),(0,Me.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,Me.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Compl\xe9tion du profil"}),(()=>{const t=!!(e.firstName&&e.lastName&&e.phone),r=!!e.avatar,n=!!e.bio,s=!!e.cinVerified,a=[t,r,n,s].filter(Boolean).length,i=Math.round(a/4*100);return(0,Me.jsxs)("div",{className:"space-y-4",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsxs)("div",{className:"flex justify-between text-sm mb-1",children:[(0,Me.jsx)("span",{className:"text-gray-600",children:"Profil"}),(0,Me.jsxs)("span",{className:"text-gray-900",children:[i,"%"]})]}),(0,Me.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,Me.jsx)("div",{className:"bg-primary-600 h-2 rounded-full",style:{width:"".concat(i,"%")}})})]}),(0,Me.jsxs)("div",{className:"space-y-2",children:[(0,Me.jsxs)("div",{className:"flex items-center text-sm",children:[t?(0,Me.jsx)(Gu,{className:"w-4 h-4 text-green-500 mr-2"}):(0,Me.jsx)(em,{className:"w-4 h-4 text-yellow-500 mr-2"}),(0,Me.jsx)("span",{className:"text-gray-600",children:"Informations de base"})]}),(0,Me.jsxs)("div",{className:"flex items-center text-sm",children:[r?(0,Me.jsx)(Gu,{className:"w-4 h-4 text-green-500 mr-2"}):(0,Me.jsx)(em,{className:"w-4 h-4 text-yellow-500 mr-2"}),(0,Me.jsx)("span",{className:"text-gray-600",children:"Photo de profil"})]}),(0,Me.jsxs)("div",{className:"flex items-center text-sm",children:[n?(0,Me.jsx)(Gu,{className:"w-4 h-4 text-green-500 mr-2"}):(0,Me.jsx)(em,{className:"w-4 h-4 text-yellow-500 mr-2"}),(0,Me.jsx)("span",{className:"text-gray-600",children:"Description personnelle"})]}),(0,Me.jsxs)("div",{className:"flex items-center text-sm",children:[s?(0,Me.jsx)(Gu,{className:"w-4 h-4 text-green-500 mr-2"}):(0,Me.jsx)(nm,{className:"w-4 h-4 text-gray-400 mr-2"}),(0,Me.jsx)("span",{className:"text-gray-600",children:"V\xe9rification d'identit\xe9"})]})]}),(0,Me.jsx)(Ae,{to:"/profile",className:"block w-full text-center btn-primary text-sm",children:"Compl\xe9ter le profil"})]})})()]})]})]})]})})},am=["title","titleId"];function im(e,r){let{title:n,titleId:s}=e,a=(0,Ps.A)(e,am);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":s},a),n?t.createElement("title",{id:s},n):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"}))}const om=t.forwardRef(im),lm=["title","titleId"];function cm(e,r){let{title:n,titleId:s}=e,a=(0,Ps.A)(e,lm);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":s},a),n?t.createElement("title",{id:s},n):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.217 10.907a2.25 2.25 0 1 0 0 2.186m0-2.186c.18.324.283.696.283 1.093s-.103.77-.283 1.093m0-2.186 9.566-5.314m-9.566 7.5 9.566 5.314m0 0a2.25 2.25 0 1 0 3.935 2.186 2.25 2.25 0 0 0-3.935-2.186Zm0-12.814a2.25 2.25 0 1 0 3.933-2.185 2.25 2.25 0 0 0-3.933 2.185Z"}))}const dm=t.forwardRef(cm),um=["title","titleId"];function mm(e,r){let{title:n,titleId:s}=e,a=(0,Ps.A)(e,um);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":s},a),n?t.createElement("title",{id:s},n):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 0 0 2.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 0 1-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 0 0-1.091-.852H4.5A2.25 2.25 0 0 0 2.25 4.5v2.25Z"}))}const hm=t.forwardRef(mm),pm=e=>{let{isOpen:r,onClose:n,propertyId:s,ownerId:a,propertyTitle:i,appointment:o,onUpdate:l}=e;const{user:c}=yr(),[d,u]=(0,t.useState)(""),[m,h]=(0,t.useState)(""),[p,f]=(0,t.useState)(""),[x,g]=(0,t.useState)(!1),[v,y]=(0,t.useState)([]),[b,j]=(0,t.useState)(!1);(0,t.useEffect)(()=>{r&&c&&(async()=>{if(c){j(!0);try{const e=await(0,hr.apiGet)("/api/appointments/get_all");e.success&&y(e.data||[])}catch(e){console.error("Erreur lors du chargement des rendez-vous existants")}finally{j(!1)}}})()},[r,c]),(0,t.useEffect)(()=>{if(o){const e=new Date(o.appointmentDate);u(e.toISOString().split("T")[0]),h(e.toTimeString().slice(0,5)),f(o.message)}else u(""),h(""),f("")},[o]);const w=(e,t)=>{const r=new Date("".concat(e,"T").concat(t,":00")),n=new Date;return v.some(e=>{if(e.id===(null===o||void 0===o?void 0:o.id))return!1;const t=new Date(e.appointmentDate);if(t.getTime()<n.getTime())return!1;if("completed"===e.status)return!1;return Math.abs(r.getTime()-t.getTime())/36e5<2&&"cancelled"!==e.status})};if(!r)return null;const N=(new Date).toISOString().split("T")[0],k=new Date;k.setDate(k.getDate()+30);const S=k.toISOString().split("T")[0];return(0,Me.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Me.jsxs)("div",{className:"bg-white rounded-lg max-w-md w-full max-h-[90vh] overflow-y-auto",children:[(0,Me.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[(0,Me.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:o?"Modifier la visite":"Planifier une visite"}),(0,Me.jsx)("button",{onClick:n,className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,Me.jsx)(su,{className:"w-6 h-6"})})]}),(0,Me.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),d&&m)if(c)if(w(d,m))mr.error("Ce cr\xe9neau horaire est d\xe9j\xe0 r\xe9serv\xe9. Veuillez choisir un autre horaire.");else{g(!0);try{const e="".concat(d,"T").concat(m,":00");if(o&&l)await l({appointmentDate:e,message:p||'Je souhaite visiter le logement "'.concat(i,'"')});else{const t=await(0,hr.apiJson)("/api/appointments/create","POST",{propertyId:s,appointmentDate:e,message:p||'Je souhaite visiter le logement "'.concat(i,'"')});t.success?(mr.success("Rendez-vous planifi\xe9 avec succ\xe8s !"),n()):mr.error(t.message||"Erreur lors de la planification")}}catch(t){console.error("Erreur:",t),mr.error("Erreur lors de la planification du rendez-vous")}finally{g(!1)}}else mr.error("Veuillez vous connecter pour planifier un rendez-vous");else mr.error("Veuillez s\xe9lectionner une date et une heure")},className:"p-6 space-y-6",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Logement"}),(0,Me.jsx)("p",{className:"text-gray-900 font-medium",children:i})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{htmlFor:"date",className:"block text-sm font-medium text-gray-700 mb-2",children:"Date de visite *"}),(0,Me.jsxs)("div",{className:"relative",children:[(0,Me.jsx)(Kd,{className:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2"}),(0,Me.jsx)("input",{type:"date",id:"date",required:!0,min:N,max:S,value:d,onChange:e=>u(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Heure de visite *"}),b?(0,Me.jsx)("div",{className:"flex justify-center py-4",children:(0,Me.jsx)("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary-600"})}):(0,Me.jsx)("div",{className:"grid grid-cols-2 gap-2",children:["08:00","09:00","10:00","11:00","14:00","15:00","16:00","17:00"].map(e=>{const t=!!d&&w(d,e);return(0,Me.jsxs)("button",{type:"button",onClick:()=>!t&&h(e),disabled:t,className:"p-3 border rounded-lg text-sm font-medium transition-colors ".concat(m===e?"border-primary-500 bg-primary-50 text-primary-700":t?"border-gray-200 bg-gray-100 text-gray-400 cursor-not-allowed":"border-gray-300 text-gray-700 hover:border-primary-400"),title:t?"Cr\xe9neau indisponible":"",children:[e,t&&(0,Me.jsx)("div",{className:"text-xs text-red-500 mt-1",children:"Indisponible"})]},e)})})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-700 mb-2",children:"Message au propri\xe9taire (optionnel)"}),(0,Me.jsx)("textarea",{id:"message",rows:4,value:p,onChange:e=>f(e.target.value),placeholder:"Bonjour, je souhaite visiter votre logement...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),(0,Me.jsxs)("div",{className:"flex space-x-3 pt-4",children:[(0,Me.jsx)("button",{type:"button",onClick:n,className:"flex-1 btn-secondary",children:"Annuler"}),(0,Me.jsx)("button",{type:"submit",disabled:x||!d||!m||b,className:"flex-1 btn-primary disabled:opacity-50 disabled:cursor-not-allowed",children:x?o?"Modification...":"Planification...":o?"Modifier":"Confirmer"})]})]})]})})},fm=()=>{var e,r,n,s,a,i,o,l,c,d;const{id:u}=Q(),{properties:m,fetchPropertyById:h}=wr(),{sendMessage:p}=Sr(),{user:f}=yr(),{showVerificationModal:x,setShowVerificationModal:g,checkVerification:v}=uu(),[y,b]=(0,t.useState)(null),[j,w]=(0,t.useState)(!0),[N,k]=(0,t.useState)(0),[S,C]=(0,t.useState)(!1),[E,A]=(0,t.useState)(!1),[P,T]=(0,t.useState)(""),[M,L]=(0,t.useState)(!1),[R,D]=(0,t.useState)(!1),[F,I]=(0,t.useState)(!1),_=f&&y&&String(y.ownerId)===String(f.id),z=t.useMemo(()=>y?m.filter(e=>e.id!==u&&"apartment"===e.propertyType).slice(0,5):[],[m,u,y]);if((0,t.useEffect)(()=>{(async()=>{if(u){w(!0);try{const e=m.find(e=>e.id===u);if(e)b(e);else{const e=await h(u);b(e)}}catch(e){console.error("Erreur lors du chargement de la propri\xe9t\xe9:",e),mr.error("Erreur lors du chargement du logement")}finally{w(!1)}}})()},[u,m,h]),j)return(0,Me.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,Me.jsxs)("div",{className:"text-center",children:[(0,Me.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto mb-4"}),(0,Me.jsx)("p",{className:"text-gray-600",children:"Chargement du logement..."})]})});if(!y)return(0,Me.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,Me.jsxs)("div",{className:"text-center",children:[(0,Me.jsx)(Md,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,Me.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Logement non trouv\xe9"}),(0,Me.jsx)("p",{className:"text-gray-600 mb-4",children:"Le logement que vous recherchez n'existe pas."}),(0,Me.jsx)(Ae,{to:"/properties",className:"btn-primary",children:"Voir tous les logements"})]})});const O=(0,Me.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,Me.jsx)("div",{className:"bg-white border-b border-gray-200",children:(0,Me.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:(0,Me.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Me.jsxs)(Ae,{to:"/properties",className:"flex items-center text-gray-600 hover:text-gray-900 transition-colors",children:[(0,Me.jsx)(om,{className:"w-5 h-5 mr-2"}),"Retour aux logements"]}),(0,Me.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Me.jsx)("button",{onClick:()=>{C(!S),mr.success(S?"Retir\xe9 des favoris":"Ajout\xe9 aux favoris")},className:"p-2 rounded-lg transition-colors ".concat(S?"text-red-500 bg-red-50":"text-gray-400 hover:text-red-500 hover:bg-red-50"),children:(0,Me.jsx)(Xd,{className:"w-5 h-5"})}),(0,Me.jsx)("button",{onClick:()=>{navigator.share?navigator.share({title:y.title,text:y.description,url:window.location.href}):(navigator.clipboard.writeText(window.location.href),mr.success("Lien copi\xe9 dans le presse-papiers"))},className:"p-2 rounded-lg text-gray-400 hover:text-gray-600 hover:bg-gray-100 transition-colors",children:(0,Me.jsx)(dm,{className:"w-5 h-5"})})]})]})})}),(0,Me.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,Me.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,Me.jsxs)("div",{className:"lg:col-span-2 space-y-8",children:[(0,Me.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[(0,Me.jsx)("div",{className:"aspect-w-16 aspect-h-9",children:(0,Me.jsx)("img",{src:(0,hr.VG)(null===(e=y.images)||void 0===e?void 0:e[N]),alt:y.title,className:"w-full h-96 object-cover",onError:e=>{e.currentTarget.src="/api/placeholder/800/600"}})}),y.images&&y.images.length>1&&(0,Me.jsx)("div",{className:"p-4",children:(0,Me.jsx)("div",{className:"flex space-x-2 overflow-x-auto",children:y.images.map((e,t)=>(0,Me.jsx)("button",{onClick:()=>k(t),className:"flex-shrink-0 w-20 h-20 rounded-lg overflow-hidden border-2 ".concat(N===t?"border-primary-500":"border-gray-200 hover:border-gray-300"),children:(0,Me.jsx)("img",{src:(0,hr.VG)(e),alt:"".concat(y.title," ").concat(t+1),className:"w-full h-full object-cover",onError:e=>{e.currentTarget.src="/api/placeholder/80/80"}})},t))})})]}),(0,Me.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,Me.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:y.title}),(0,Me.jsxs)("div",{className:"flex items-center text-gray-600 mb-2",children:[(0,Me.jsx)($d,{className:"w-5 h-5 mr-2"}),(0,Me.jsx)("span",{children:y.address})]}),y.latitude&&y.longitude&&(0,Me.jsx)("div",{className:"text-xs text-gray-500 mb-2",children:(0,Me.jsxs)("span",{children:["Lat: ",y.latitude.toFixed(6)," \u2022 Lng: ",y.longitude.toFixed(6)]})}),(0,Me.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Me.jsx)("span",{className:"badge badge-primary",children:"apartment"===y.propertyType?"Appartement":"house"===y.propertyType?"Maison":"Studio"}),(0,Me.jsx)("span",{className:"badge ".concat(y.isAvailable?"badge-success":"badge-warning"),children:y.isAvailable?"Disponible":"Occup\xe9"}),y.latitude&&y.longitude&&(0,Me.jsx)("span",{className:"badge badge-success",title:"Coordonn\xe9es disponibles",children:"Coordonn\xe9es v\xe9rifi\xe9es"})]})]}),(0,Me.jsxs)("div",{className:"text-right",children:[(0,Me.jsxs)("div",{className:"text-3xl font-bold text-primary-600",children:[null===(r=y.price)||void 0===r?void 0:r.toLocaleString()," Ar"]}),(0,Me.jsx)("div",{className:"text-gray-500",children:"par mois"})]})]}),(0,Me.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[(0,Me.jsxs)("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[(0,Me.jsx)(Dd,{className:"w-6 h-6 text-primary-600 mx-auto mb-2"}),(0,Me.jsx)("div",{className:"text-sm text-gray-600",children:"Chambres"}),(0,Me.jsxs)("div",{className:"font-semibold",children:[y.availableRooms,"/",y.totalRooms]})]}),(0,Me.jsxs)("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[(0,Me.jsx)(Hu,{className:"w-6 h-6 text-primary-600 mx-auto mb-2"}),(0,Me.jsx)("div",{className:"text-sm text-gray-600",children:"Caution"}),(0,Me.jsxs)("div",{className:"font-semibold",children:[null===(n=y.deposit)||void 0===n?void 0:n.toLocaleString()," Ar"]})]}),(0,Me.jsxs)("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[(0,Me.jsx)(Md,{className:"w-6 h-6 text-primary-600 mx-auto mb-2"}),(0,Me.jsx)("div",{className:"text-sm text-gray-600",children:"Type"}),(0,Me.jsx)("div",{className:"font-semibold",children:"apartment"===y.propertyType?"Appartement":"house"===y.propertyType?"Maison":"Studio"})]}),(0,Me.jsxs)("div",{className:"text-center p-4 bg-gray-50 rounded-lg cursor-pointer hover:bg-gray-100 transition",onClick:()=>L(!M),title:"Voir sur la carte",children:[(0,Me.jsx)($d,{className:"w-6 h-6 text-primary-600 mx-auto mb-2"}),(0,Me.jsx)("div",{className:"text-sm text-gray-600",children:"Quartier"}),(0,Me.jsx)("div",{className:"font-semibold",children:y.district}),(0,Me.jsx)("div",{className:"text-xs text-primary-600 mt-1 underline",children:"Voir sur la carte"})]})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Description"}),(0,Me.jsx)("p",{className:"text-gray-600 leading-relaxed",children:y.description})]})]}),(0,Me.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,Me.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"\xc9quipements"}),(0,Me.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:[null===(s=y.amenities)||void 0===s?void 0:s.map((e,t)=>(0,Me.jsxs)("div",{className:"flex items-center",children:[(0,Me.jsx)(Gu,{className:"w-5 h-5 text-green-500 mr-2"}),(0,Me.jsx)("span",{className:"text-gray-700",children:e})]},t)),(!y.amenities||0===y.amenities.length)&&(0,Me.jsx)("p",{className:"text-gray-500 col-span-3",children:"Aucun \xe9quipement list\xe9"})]})]}),M&&(0,Me.jsxs)("div",{className:"my-6",children:[(0,Me.jsx)("h4",{className:"text-md font-semibold mb-2",children:"Emplacement sur la carte"}),(0,Me.jsxs)("div",{className:"rounded-lg overflow-hidden border border-gray-200",children:[(0,Me.jsxs)("div",{className:"relative w-full h-[300px]",children:[(0,Me.jsx)("iframe",{width:"100%",height:"300",className:"absolute inset-0 w-full h-full",style:{border:0},loading:"lazy",allowFullScreen:!0,title:"Carte montrant la localisation de ".concat(y.title||"la propri\xe9t\xe9"," \xe0 ").concat(y.address),src:y.latitude&&y.longitude?"https://www.google.com/maps?q=".concat(y.latitude,",").concat(y.longitude,"&z=16&output=embed"):"https://www.google.com/maps?q=".concat(encodeURIComponent(y.address),"&output=embed")}),y.latitude&&y.longitude&&(0,Me.jsx)("div",{className:"pointer-events-none absolute inset-0 flex items-center justify-center",children:(0,Me.jsxs)("div",{className:"flex flex-col items-center",children:[(0,Me.jsx)("div",{className:"w-9 h-9 rounded-full bg-blue-600 flex items-center justify-center shadow-lg border-2 border-white",children:(0,Me.jsx)(Md,{className:"w-4 h-4 text-white"})}),(0,Me.jsx)("div",{className:"w-2 h-2 bg-blue-600 rounded-full mt-1 opacity-80"})]})})]}),y.latitude&&y.longitude&&(0,Me.jsxs)("div",{className:"px-4 py-2 bg-gray-50 border-t border-gray-200 text-xs text-gray-600 flex justify-between",children:[(0,Me.jsxs)("span",{children:["Latitude : ",y.latitude.toFixed(6)]}),(0,Me.jsxs)("span",{children:["Longitude : ",y.longitude.toFixed(6)]})]})]})]})]}),(0,Me.jsxs)("div",{className:"space-y-6",children:[(0,Me.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,Me.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Autres appartements"}),0===z.length?(0,Me.jsx)("p",{className:"text-gray-500 text-sm",children:"Aucun autre appartement disponible."}):(0,Me.jsx)("div",{className:"space-y-3",children:z.map(e=>{var t;return(0,Me.jsxs)(Ae,{to:"/properties/".concat(e.id),className:"flex items-center p-3 border border-gray-200 rounded-lg hover:border-primary-300 hover:bg-primary-50 transition-colors",children:[(0,Me.jsx)("div",{className:"w-14 h-14 rounded-md overflow-hidden bg-gray-100 mr-3 flex-shrink-0",children:(0,Me.jsx)("img",{src:(0,hr.VG)(null===(t=e.images)||void 0===t?void 0:t[0]),alt:e.title,className:"w-full h-full object-cover",onError:e=>{e.currentTarget.src="/api/placeholder/80/80"}})}),(0,Me.jsxs)("div",{className:"min-w-0",children:[(0,Me.jsx)("p",{className:"font-medium text-gray-900 truncate",children:e.title}),(0,Me.jsx)("p",{className:"text-sm text-gray-600 truncate",children:e.address}),(0,Me.jsxs)("p",{className:"text-sm text-primary-600 font-semibold",children:[e.price.toLocaleString()," Ar"]})]})]},e.id)})})]}),(0,Me.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,Me.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Propri\xe9taire"}),(0,Me.jsxs)("div",{className:"flex items-center mb-4",children:[(0,Me.jsx)("div",{className:"w-12 h-12 bg-primary-100 rounded-full flex items-center justify-center mr-3",children:(0,Me.jsx)("span",{className:"text-primary-600 font-medium text-lg",children:(null===(a=y.owner)||void 0===a||null===(i=a.firstName)||void 0===i?void 0:i[0])||"U"})}),(0,Me.jsxs)("div",{children:[(0,Me.jsxs)("h4",{className:"font-semibold text-gray-900",children:[null===(o=y.owner)||void 0===o?void 0:o.firstName," ",null===(l=y.owner)||void 0===l?void 0:l.lastName]}),(0,Me.jsxs)("div",{className:"flex items-center",children:[[...Array(5)].map((e,t)=>(0,Me.jsx)(tu,{className:"w-4 h-4 text-yellow-400 fill-current"},t)),(0,Me.jsx)("span",{className:"text-sm text-gray-500 ml-1",children:"(4.8)"})]})]})]}),(null===(c=y.owner)||void 0===c?void 0:c.is_verified)&&(0,Me.jsxs)("div",{className:"flex items-center text-green-600 mb-4",children:[(0,Me.jsx)(Gu,{className:"w-4 h-4 mr-1"}),(0,Me.jsx)("span",{className:"text-sm",children:"Propri\xe9taire v\xe9rifi\xe9"})]}),!_&&(0,Me.jsxs)("div",{className:"space-y-3",children:[(0,Me.jsxs)("button",{onClick:e=>{e.preventDefault(),f?v(e)&&A(!0):mr.error("Veuillez vous connecter pour contacter le propri\xe9taire")},className:"w-full btn-primary flex items-center justify-center space-x-2",children:[(0,Me.jsx)(Vd,{className:"w-4 h-4"}),(0,Me.jsx)("span",{children:"Contacter"})]}),(0,Me.jsxs)("button",{onClick:()=>I(!0),className:"w-full btn-secondary flex items-center justify-center space-x-2",children:[(0,Me.jsx)(hm,{className:"w-4 h-4"}),(0,Me.jsx)("span",{children:"Appeler"})]}),(0,Me.jsxs)("button",{onClick:e=>{e.preventDefault(),v(e)&&D(!0)},className:"w-full btn-secondary flex items-center justify-center space-x-2",children:[(0,Me.jsx)(Kd,{className:"w-4 h-4"}),(0,Me.jsx)("span",{children:"Planifier une visite"})]})]}),_&&(0,Me.jsxs)("div",{className:"text-center p-4 bg-gray-50 rounded-lg border border-green-200",children:[(0,Me.jsxs)("div",{className:"flex items-center justify-center mb-2",children:[(0,Me.jsx)(Gu,{className:"w-5 h-5 text-green-600 mr-2"}),(0,Me.jsx)("p",{className:"text-green-800 font-semibold",children:"C'est votre propri\xe9t\xe9"})]}),(0,Me.jsx)("p",{className:"text-gray-600 mb-4 text-sm",children:"Vous pouvez modifier les informations de cette propri\xe9t\xe9"}),(0,Me.jsx)(Ae,{to:"/edit-property/".concat(y.id),className:"btn-primary w-full",children:"Modifier la propri\xe9t\xe9"})]})]}),F&&(0,Me.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Me.jsxs)("div",{className:"bg-white rounded-lg max-w-sm w-full p-6",children:[(0,Me.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Me.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Num\xe9ro de t\xe9l\xe9phone"}),(0,Me.jsx)("button",{onClick:()=>I(!1),className:"text-gray-400 hover:text-gray-600",children:(0,Me.jsx)(su,{className:"w-5 h-5"})})]}),(0,Me.jsxs)("div",{className:"text-center",children:[(0,Me.jsx)(hm,{className:"w-12 h-12 text-primary-600 mx-auto mb-4"}),(0,Me.jsx)("p",{className:"text-gray-600 mb-2",children:"Num\xe9ro du propri\xe9taire :"}),(0,Me.jsx)("p",{className:"text-2xl font-bold text-primary-600 mb-6",children:(null===(d=y.owner)||void 0===d?void 0:d.phone)||"Non disponible"}),(0,Me.jsx)("button",{onClick:()=>I(!1),className:"btn-primary w-full",children:"Fermer"})]})]})}),E&&(0,Me.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,Me.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Envoyer un message"}),(0,Me.jsxs)("div",{className:"space-y-4",children:[(0,Me.jsx)("textarea",{value:P,onChange:e=>T(e.target.value),placeholder:"Bonjour, je suis int\xe9ress\xe9(e) par votre logement...",rows:4,className:"w-full input-field"}),(0,Me.jsxs)("div",{className:"flex space-x-2",children:[(0,Me.jsx)("button",{onClick:async()=>{if(P.trim())try{await p(y.ownerId,P),T(""),A(!1)}catch(e){mr.error("Erreur lors de l'envoi du message")}else mr.error("Veuillez saisir un message")},className:"flex-1 btn-primary",children:"Envoyer"}),(0,Me.jsx)("button",{onClick:()=>A(!1),className:"flex-1 btn-secondary",children:"Annuler"})]})]})]}),(0,Me.jsxs)("div",{className:"bg-blue-50 rounded-lg p-6",children:[(0,Me.jsx)("h3",{className:"text-lg font-semibold text-blue-900 mb-3",children:"Conseils de s\xe9curit\xe9"}),(0,Me.jsxs)("ul",{className:"space-y-2 text-sm text-blue-800",children:[(0,Me.jsx)("li",{children:"\u2022 Visitez toujours le logement avant de signer"}),(0,Me.jsx)("li",{children:"\u2022 V\xe9rifiez l'identit\xe9 du propri\xe9taire"}),(0,Me.jsx)("li",{children:"\u2022 Ne payez jamais d'avance sans contrat"}),(0,Me.jsx)("li",{children:"\u2022 Utilisez notre messagerie s\xe9curis\xe9e"})]})]})]})]})}),y&&(0,Me.jsx)(pm,{isOpen:R,onClose:()=>D(!1),propertyId:y.id,ownerId:y.ownerId,propertyTitle:y.title}),(0,Me.jsx)(du,{isOpen:x,onClose:()=>g(!1),backButtonText:"Retour au logement"})]});return O},xm=["title","titleId"];function gm(e,r){let{title:n,titleId:s}=e,a=(0,Ps.A)(e,xm);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":s},a),n?t.createElement("title",{id:s},n):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 0 1-.659 1.591l-5.432 5.432a2.25 2.25 0 0 0-.659 1.591v2.927a2.25 2.25 0 0 1-1.244 2.013L9.75 21v-6.568a2.25 2.25 0 0 0-.659-1.591L3.659 7.409A2.25 2.25 0 0 1 3 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0 1 12 3Z"}))}const vm=t.forwardRef(gm),ym=()=>{const{properties:e,loading:r}=wr(),{user:n}=yr(),[s,a]=(0,t.useState)([]),[i,o]=(0,t.useState)(!1),[l,c]=(0,t.useState)("date-desc"),[d,u]=(0,t.useState)({district:"",propertyType:"",minPrice:"",maxPrice:"",availableRooms:""});(0,t.useEffect)(()=>{if(!e||!Array.isArray(e))return void a([]);let t=[...e];switch(d.district&&(t=t.filter(e=>e.district===d.district)),d.propertyType&&(t=t.filter(e=>e.propertyType===d.propertyType)),d.minPrice&&(t=t.filter(e=>e.price>=Number(d.minPrice))),d.maxPrice&&(t=t.filter(e=>e.price<=Number(d.maxPrice))),d.availableRooms&&(t=t.filter(e=>e.availableRooms>=Number(d.availableRooms))),l){case"price-asc":t.sort((e,t)=>e.price-t.price);break;case"price-desc":t.sort((e,t)=>t.price-e.price);break;case"date-desc":t.sort((e,t)=>new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime());break;case"date-asc":t.sort((e,t)=>new Date(e.createdAt).getTime()-new Date(t.createdAt).getTime())}a(t)},[e,d,l]);const m=(e,t)=>{u(r=>(0,Ie.A)((0,Ie.A)({},r),{},{[e]:t}))},h=()=>{u({district:"",propertyType:"",minPrice:"",maxPrice:"",availableRooms:""})};return(0,Me.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,Me.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,Me.jsxs)("div",{className:"mb-8",children:[(0,Me.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Tous les logements"}),(0,Me.jsx)("p",{className:"text-gray-600",children:"D\xe9couvrez tous les logements disponibles pour la colocation \xe0 Antananarivo"})]}),(0,Me.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-8",children:[(0,Me.jsxs)("div",{className:"flex flex-col lg:flex-row gap-4 items-center justify-between",children:[(0,Me.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 flex-1",children:[(0,Me.jsxs)("button",{onClick:()=>o(!i),className:"btn-secondary flex items-center space-x-2",children:[(0,Me.jsx)(vm,{className:"w-5 h-5"}),(0,Me.jsx)("span",{children:"Filtres"})]}),(0,Me.jsxs)("select",{value:d.district,onChange:e=>m("district",e.target.value),className:"input-field",children:[(0,Me.jsx)("option",{value:"",children:"Tous les quartiers"}),["Analakely","Ambohijatovo","Ankadifotsy","Ankatso","Antaninarenina","Behoririka","Isoraka","Mahamasina","Tsaralalana","67ha"].map(e=>(0,Me.jsx)("option",{value:e,children:e},e))]}),(0,Me.jsxs)("select",{value:d.propertyType,onChange:e=>m("propertyType",e.target.value),className:"input-field",children:[(0,Me.jsx)("option",{value:"",children:"Tous les types"}),[{value:"apartment",label:"Appartement"},{value:"house",label:"Maison"},{value:"studio",label:"Studio"}].map(e=>(0,Me.jsx)("option",{value:e.value,children:e.label},e.value))]})]}),(0,Me.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Me.jsx)("span",{className:"text-sm text-gray-600",children:"Trier par:"}),(0,Me.jsxs)("select",{value:l,onChange:e=>c(e.target.value),className:"input-field text-sm",children:[(0,Me.jsx)("option",{value:"date-desc",children:"Plus r\xe9cent"}),(0,Me.jsx)("option",{value:"date-asc",children:"Plus ancien"}),(0,Me.jsx)("option",{value:"price-asc",children:"Prix croissant"}),(0,Me.jsx)("option",{value:"price-desc",children:"Prix d\xe9croissant"})]})]})]}),i&&(0,Me.jsx)("div",{className:"mt-6 pt-6 border-t border-gray-200",children:(0,Me.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Prix min (Ar)"}),(0,Me.jsx)("input",{type:"number",value:d.minPrice,onChange:e=>m("minPrice",e.target.value),className:"input-field",placeholder:"0"})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Prix max (Ar)"}),(0,Me.jsx)("input",{type:"number",value:d.maxPrice,onChange:e=>m("maxPrice",e.target.value),className:"input-field",placeholder:"500000"})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Chambres min"}),(0,Me.jsxs)("select",{value:d.availableRooms,onChange:e=>m("availableRooms",e.target.value),className:"input-field",children:[(0,Me.jsx)("option",{value:"",children:"Toutes"}),(0,Me.jsx)("option",{value:"1",children:"1+"}),(0,Me.jsx)("option",{value:"2",children:"2+"}),(0,Me.jsx)("option",{value:"3",children:"3+"}),(0,Me.jsx)("option",{value:"4",children:"4+"})]})]}),(0,Me.jsx)("div",{className:"flex items-end",children:(0,Me.jsx)("button",{onClick:h,className:"btn-secondary w-full",children:"Effacer"})})]})})]}),r?(0,Me.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,Me.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):(0,Me.jsxs)(Me.Fragment,{children:[(0,Me.jsx)("div",{className:"flex items-center justify-between mb-6",children:(0,Me.jsxs)("p",{className:"text-gray-600",children:[s.length," logement(s) trouv\xe9(s)"]})}),(0,Me.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:s.map(e=>{var t,r,s,a,i,o,l;return(0,Me.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden hover:shadow-md transition-shadow",children:[(0,Me.jsx)("div",{className:"aspect-w-16 aspect-h-9 bg-gray-200",children:(0,Me.jsx)("img",{src:(0,hr.VG)(null===(t=e.images)||void 0===t?void 0:t[0]),alt:e.title,className:"w-full h-48 object-cover",onError:e=>{e.currentTarget.src="/api/placeholder/400/300"}})}),(0,Me.jsxs)("div",{className:"p-6",children:[(0,Me.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,Me.jsx)("h3",{className:"text-lg font-semibold text-gray-900 line-clamp-1",children:e.title}),(0,Me.jsx)("button",{className:"text-gray-400 hover:text-red-500 transition-colors",children:(0,Me.jsx)(Xd,{className:"w-5 h-5"})})]}),(0,Me.jsxs)("div",{className:"flex items-center text-gray-600 mb-2",children:[(0,Me.jsx)($d,{className:"w-4 h-4 mr-1"}),(0,Me.jsx)("span",{className:"text-sm",children:e.address})]}),(0,Me.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Me.jsxs)("div",{className:"flex items-center text-primary-600",children:[(0,Me.jsx)(Hu,{className:"w-4 h-4 mr-1"}),(0,Me.jsxs)("span",{className:"font-semibold",children:[null===(r=e.price)||void 0===r?void 0:r.toLocaleString()," Ar"]}),(0,Me.jsx)("span",{className:"text-gray-500 text-sm ml-1",children:"/mois"})]}),(0,Me.jsxs)("div",{className:"flex items-center text-gray-600",children:[(0,Me.jsx)(Dd,{className:"w-4 h-4 mr-1"}),(0,Me.jsxs)("span",{className:"text-sm",children:[e.availableRooms,"/",e.totalRooms," ch."]})]})]}),(0,Me.jsx)("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2",children:e.description}),(0,Me.jsxs)("div",{className:"flex flex-wrap gap-1 mb-4",children:[null===(s=e.amenities)||void 0===s?void 0:s.slice(0,3).map(e=>(0,Me.jsx)("span",{className:"badge badge-primary text-xs",children:e},e)),e.amenities&&e.amenities.length>3&&(0,Me.jsxs)("span",{className:"badge badge-primary text-xs",children:["+",e.amenities.length-3]})]}),(0,Me.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Me.jsxs)("div",{className:"flex items-center",children:[(0,Me.jsx)("div",{className:"w-8 h-8 bg-primary-100 rounded-full flex items-center justify-center mr-2",children:(0,Me.jsx)("span",{className:"text-primary-600 font-medium text-sm",children:(null===(a=e.owner)||void 0===a||null===(i=a.firstName)||void 0===i?void 0:i[0])||"U"})}),(0,Me.jsxs)("div",{children:[(0,Me.jsxs)("p",{className:"text-sm font-medium text-gray-900",children:[null===(o=e.owner)||void 0===o?void 0:o.firstName," ",null===(l=e.owner)||void 0===l?void 0:l.lastName]}),(0,Me.jsxs)("div",{className:"flex items-center",children:[[...Array(5)].map((e,t)=>(0,Me.jsx)(tu,{className:"w-3 h-3 text-yellow-400 fill-current"},t)),(0,Me.jsx)("span",{className:"text-xs text-gray-500 ml-1",children:"(4.8)"})]})]})]}),(0,Me.jsxs)("div",{className:"flex gap-2",children:[(0,Me.jsx)(Ae,{to:"/properties/".concat(e.id),className:"btn-primary text-sm",children:"Voir d\xe9tails"}),n&&Number(e.ownerId)===Number(n.id)?null:(0,Me.jsxs)(Ae,{to:"/messages?to=".concat(e.ownerId,"&prefill=").concat(encodeURIComponent('Bonjour, je suis int\xe9ress\xe9(e) par votre logement "'.concat(e.title,'".\n\nLogement: ').concat(window.location.origin,"/properties/").concat(e.id))),className:"btn-secondary text-sm flex items-center space-x-1",title:"Contacter le propri\xe9taire",children:[(0,Me.jsx)(Vd,{className:"w-4 h-4"}),(0,Me.jsx)("span",{children:"Contacter"})]})]})]})]})]},e.id)})}),0===s.length&&(0,Me.jsxs)("div",{className:"text-center py-12",children:[(0,Me.jsx)(Md,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,Me.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:e&&e.length>0?"Aucun logement correspond aux filtres":"Aucun logement disponible"}),(0,Me.jsx)("p",{className:"text-gray-600 mb-4",children:e&&e.length>0?"Essayez de modifier vos crit\xe8res de recherche":"Revenez plus tard pour d\xe9couvrir de nouveaux logements"}),(0,Me.jsx)("button",{onClick:h,className:"btn-primary",children:"Effacer les filtres"})]})]})]})})};var bm={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const jm=["color","size","strokeWidth","absoluteStrokeWidth","children"];var wm=(e,r)=>{const n=(0,t.forwardRef)((n,s)=>{let{color:a="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:l,children:c}=n,d=(0,Ps.A)(n,jm);return(0,t.createElement)("svg",(0,Ie.A)((0,Ie.A)({ref:s},bm),{},{width:i,height:i,stroke:a,strokeWidth:l?24*Number(o)/Number(i):o,className:"lucide lucide-".concat((u=e,u.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()))},d),[...r.map(e=>{let[r,n]=e;return(0,t.createElement)(r,n)}),...(Array.isArray(c)?c:[c])||[]]);var u});return n.displayName="".concat(e),n};const Nm=wm("Map",[["polygon",{points:"3 6 9 3 15 6 21 3 21 18 15 21 9 18 3 21",key:"ok2ie8"}],["line",{x1:"9",x2:"9",y1:"3",y2:"18",key:"w34qz5"}],["line",{x1:"15",x2:"15",y1:"6",y2:"21",key:"volv9a"}]]),km=async e=>{const t=e.map(e=>(async e=>{const t=new FormData;t.append("image",e);try{var r,n;const e=await(0,hr.yX)("/api/upload/image",t);if(!e.success)throw new Error(e.message||"Erreur lors de l'upload");return(null===(r=e.data)||void 0===r?void 0:r.url)||(null===(n=e.data)||void 0===n?void 0:n.path)||""}catch(s){throw console.error("\u274c Erreur upload:",s),new Error(s.message||"Impossible d'uploader l'image")}})(e));return Promise.all(t)},Sm=()=>{const e=K(),{createProperty:r,loading:n}=wr(),{user:s}=yr(),[a,i]=(0,t.useState)({title:"",description:"",address:"",district:"",price:0,deposit:0,availableRooms:1,totalRooms:1,propertyType:"apartment",amenities:[],images:[]}),[o,l]=(0,t.useState)([]),[c,d]=(0,t.useState)(null),[u,m]=(0,t.useState)(!1),[h,p]=(0,t.useState)(null),[f,x]=(0,t.useState)(!1),[g,v]=(0,t.useState)(!1),[y,b]=(0,t.useState)([]),[j,w]=(0,t.useState)(!1),[N,k]=(0,t.useState)(""),[S,C]=(0,t.useState)(""),[E,A]=(0,t.useState)(!1),P=(0,t.useRef)(null),T=(0,t.useRef)(null),M=(0,t.useRef)(null),L=(0,t.useRef)(),R=(null===s||void 0===s?void 0:s.cinVerified)||(null===s||void 0===s?void 0:s.cin_verified),D=(null===s||void 0===s?void 0:s.cinPending)||(null===s||void 0===s?void 0:s.cin_verification_requested_at),[F,I]=t.useState(!1);if(t.useEffect(()=>{"owner"!==(null===s||void 0===s?void 0:s.userType)||R||D||I(!0)},[s,R,D]),"owner"===(null===s||void 0===s?void 0:s.userType)&&!R&&!D)return(0,Me.jsx)(du,{isOpen:F,onClose:()=>I(!1),backButtonText:"Retour au tableau de bord",onBackClick:()=>e("/dashboard")});if("owner"===(null===s||void 0===s?void 0:s.userType)&&!R&&D)return(0,Me.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:(0,Me.jsxs)("div",{className:"max-w-md w-full text-center",children:[(0,Me.jsx)(em,{className:"w-16 h-16 text-blue-500 mx-auto mb-4"}),(0,Me.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"V\xe9rification en cours"}),(0,Me.jsx)("p",{className:"text-gray-600 mb-4",children:"Votre CIN est en cours de validation. Vous pourrez publier un logement d\xe8s qu'elle sera approuv\xe9e."}),(0,Me.jsx)("button",{onClick:()=>e("/dashboard"),className:"w-full btn-secondary",children:"Retour au tableau de bord"})]})});const _=["Analakely","Ambohijatovo","Ankadifotsy","Ankatso","Antaninarenina","Behoririka","Isoraka","Mahamasina","Tsaralalana","67ha"],z=()=>{navigator.geolocation?(v(!0),mr.loading("R\xe9cup\xe9ration de votre position actuelle..."),navigator.geolocation.getCurrentPosition(e=>{const{latitude:t,longitude:r}=e.coords;d({lat:t,lng:r}),p({lat:t,lng:r}),O(t,r),mr.dismiss(),mr.success("Position d\xe9tect\xe9e : ".concat(t.toFixed(5),", ").concat(r.toFixed(5))),v(!1)},e=>{switch(mr.dismiss(),v(!1),e.code){case e.PERMISSION_DENIED:mr.error("Permission de g\xe9olocalisation refus\xe9e");break;case e.POSITION_UNAVAILABLE:mr.error("Position GPS indisponible");break;case e.TIMEOUT:mr.error("Timeout de la g\xe9olocalisation");break;default:mr.error("Erreur de g\xe9olocalisation inconnue")}},{enableHighAccuracy:!0,timeout:15e3,maximumAge:0})):mr.error("La g\xe9olocalisation n'est pas support\xe9e par votre navigateur")},O=async(e,t)=>{try{const r=await fetch("https://nominatim.openstreetmap.org/reverse?format=json&lat=".concat(e,"&lon=").concat(t,"&zoom=18&addressdetails=1")),n=await r.json();if(n&&n.display_name){const e=n.display_name;if(i(t=>(0,Ie.A)((0,Ie.A)({},t),{},{address:e})),n.address){const e=n.address.suburb||n.address.neighbourhood||n.address.quarter;e&&_.includes(e)&&i(t=>(0,Ie.A)((0,Ie.A)({},t),{},{district:e}))}}}catch(r){console.error("Erreur reverse geocoding:",r)}},V=async e=>{try{const t=await fetch("https://nominatim.openstreetmap.org/search?format=json&q=".concat(encodeURIComponent(e),"&limit=5&countrycodes=mg")),r=await t.json();if(r&&r.length>0){const e=r[0];return{lat:parseFloat(e.lat),lng:parseFloat(e.lon)}}return null}catch(t){return console.error("Erreur geocoding:",t),null}},B=e=>{if(!T.current||!c)return;const t=T.current.getBoundingClientRect(),r=(e.clientX-t.left)/t.width,n=(e.clientY-t.top)/t.height,s={lat:c.lat+.01*(n-.5),lng:c.lng+.01*(r-.5)};p(s)},U=e=>{const{name:t,value:r}=e.target;i(e=>(0,Ie.A)((0,Ie.A)({},e),{},{[t]:"price"===t||"deposit"===t||"availableRooms"===t||"totalRooms"===t?Number(r):r}))};return(0,Me.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,Me.jsxs)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,Me.jsxs)("div",{className:"mb-8",children:[(0,Me.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Publier un logement"}),(0,Me.jsx)("p",{className:"text-gray-600",children:"Partagez votre logement avec des \xe9tudiants \xe0 la recherche d'une colocation"})]}),(0,Me.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),!s)return mr.error("Vous devez \xeatre connect\xe9 pour cr\xe9er une propri\xe9t\xe9"),void e("/login");if(a.title.trim())if(a.description.trim())if(a.address.trim())if(a.district)if(a.price<=0)mr.error("Le prix doit \xeatre sup\xe9rieur \xe0 0");else if("apartment"===a.propertyType&&(a.price<5e4||a.price>15e4))mr.error("Le prix d'un appartement doit \xeatre entre 50 000 Ar et 150 000 Ar par mois");else if(a.deposit<0)mr.error("La caution ne peut pas \xeatre n\xe9gative");else if(a.availableRooms>a.totalRooms)mr.error("Le nombre de chambres disponibles ne peut pas \xeatre sup\xe9rieur au total");else if(a.availableRooms<=0)mr.error("Il doit y avoir au moins une chambre disponible");else if(0!==o.length)if(c)try{mr.loading("Upload des images en cours...");const t=await(async()=>{if(0===o.length)return[];x(!0);try{const e=o.map(e=>e.file),t=await km(e);return mr.success("Toutes les images ont \xe9t\xe9 upload\xe9es avec succ\xe8s"),t}catch(e){throw mr.error("Erreur lors de l'upload des images: ".concat(e.message)),e}finally{x(!1)}})();if(0===t.length)return void mr.error("Aucune image n'a pu \xeatre upload\xe9e");mr.dismiss(),await r((0,Ie.A)((0,Ie.A)({},a),{},{images:t,coordinates:c})),o.forEach(e=>URL.revokeObjectURL(e.preview)),e("/dashboard")}catch(n){console.error("Erreur lors de la cr\xe9ation:",n),mr.dismiss()}else mr.error("Veuillez confirmer la localisation sur la carte");else mr.error("Veuillez ajouter au moins une image");else mr.error("Le quartier est requis");else mr.error("L'adresse est requise");else mr.error("La description est requise");else mr.error("Le titre est requis")},className:"space-y-8",children:[(0,Me.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,Me.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Informations de base"}),(0,Me.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Me.jsxs)("div",{className:"md:col-span-2",children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Titre de l'annonce *"}),(0,Me.jsx)("input",{type:"text",name:"title",value:a.title,onChange:U,className:"input-field",placeholder:"Ex: Appartement 3 chambres \xe0 Analakely",required:!0})]}),(0,Me.jsxs)("div",{className:"md:col-span-2",children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description *"}),(0,Me.jsx)("textarea",{name:"description",value:a.description,onChange:U,rows:4,className:"input-field",placeholder:"D\xe9crivez votre logement, ses avantages, le quartier...",required:!0})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Type de logement *"}),(0,Me.jsx)("select",{name:"propertyType",value:a.propertyType,onChange:U,className:"input-field",required:!0,children:[{value:"apartment",label:"Appartement"},{value:"house",label:"Maison"},{value:"studio",label:"Studio"}].map(e=>(0,Me.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Quartier *"}),(0,Me.jsxs)("select",{name:"district",value:a.district,onChange:U,className:"input-field",required:!0,children:[(0,Me.jsx)("option",{value:"",children:"S\xe9lectionnez un quartier"}),_.map(e=>(0,Me.jsx)("option",{value:e,children:e},e))]})]})]})]}),(0,Me.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,Me.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Localisation"}),(0,Me.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Me.jsxs)("div",{className:"md:col-span-2",children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Adresse compl\xe8te *"}),(0,Me.jsxs)("div",{className:"relative",children:[(0,Me.jsxs)("div",{className:"flex space-x-2",children:[(0,Me.jsxs)("div",{className:"flex-1 relative",children:[(0,Me.jsx)("input",{ref:M,type:"text",name:"address",value:a.address,onChange:e=>{const t=e.target.value;i(e=>(0,Ie.A)((0,Ie.A)({},e),{},{address:t})),L.current&&clearTimeout(L.current),L.current=setTimeout(()=>{(async e=>{if(e.length<3)return b([]),void w(!1);try{const t=await fetch("https://nominatim.openstreetmap.org/search?format=json&q=".concat(encodeURIComponent(e),"&limit=5&countrycodes=mg")),r=await t.json();if(r&&r.length>0){const e=r.map(e=>e.display_name);b(e),w(!0)}else b([]),w(!1)}catch(t){console.error("Erreur recherche adresse:",t),b([]),w(!1)}})(t)},500)},className:"input-field pr-10",placeholder:"Ex: Rue de l'Ind\xe9pendance, Analakely, Antananarivo",required:!0,onFocus:()=>{y.length>0&&w(!0)},onBlur:()=>{setTimeout(()=>w(!1),200)}}),(0,Me.jsx)(Wd,{className:"w-5 h-5 text-gray-400 absolute right-3 top-1/2 transform -translate-y-1/2"})]}),(0,Me.jsxs)("button",{type:"button",onClick:z,className:"btn-secondary flex items-center space-x-2 whitespace-nowrap",disabled:g,title:"Utiliser ma position actuelle",children:[g?(0,Me.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-gray-600"}):(0,Me.jsx)(Nm,{className:"w-4 h-4"}),(0,Me.jsx)("span",{children:"Ma position"})]}),(0,Me.jsxs)("button",{type:"button",onClick:async()=>{if(a.address.trim())try{mr.loading("Recherche des coordonn\xe9es...");const e=await V(a.address);e?(d(e),p(e),m(!0),mr.dismiss(),mr.success("Coordonn\xe9es trouv\xe9es ! Ajustez la position sur la carte.")):(mr.dismiss(),mr.error("Impossible de trouver les coordonn\xe9es pour cette adresse"))}catch(e){mr.dismiss(),mr.error("Erreur lors de la g\xe9olocalisation")}else mr.error("Veuillez d'abord saisir une adresse")},className:"btn-secondary flex items-center space-x-2 whitespace-nowrap",disabled:!a.address.trim(),title:"Localiser cette adresse",children:[(0,Me.jsx)($d,{className:"w-4 h-4"}),(0,Me.jsx)("span",{children:"Localiser"})]})]}),j&&y.length>0&&(0,Me.jsx)("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-60 overflow-auto",children:y.map((e,t)=>(0,Me.jsx)("button",{type:"button",className:"w-full px-4 py-2 text-left hover:bg-gray-100 border-b border-gray-100 last:border-b-0",onClick:()=>(async e=>{i(t=>(0,Ie.A)((0,Ie.A)({},t),{},{address:e})),w(!1),b([]),mr.loading("R\xe9cup\xe9ration des coordonn\xe9es...");const t=await V(e);t?(d(t),p(t),mr.dismiss(),mr.success("Adresse localis\xe9e sur la carte !")):(mr.dismiss(),mr.error("Impossible de localiser cette adresse"))})(e),children:(0,Me.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,Me.jsx)($d,{className:"w-4 h-4 text-gray-400 mt-0.5 flex-shrink-0"}),(0,Me.jsx)("span",{className:"text-sm text-gray-700",children:e})]})},t))})]}),(0,Me.jsxs)("div",{className:"mt-2 text-xs text-gray-500",children:[(0,Me.jsx)("p",{children:"Commencez \xe0 taper pour voir les suggestions d'adresse"}),(0,Me.jsx)("p",{children:'Ou sur "Mobile" utilisez "Ma position" pour d\xe9tecter automatiquement votre localisation actuelle'})]})]}),(0,Me.jsxs)("div",{className:"md:col-span-2",children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Localisation sur la carte"}),(0,Me.jsx)("div",{className:"mb-4",children:(0,Me.jsxs)("button",{type:"button",onClick:()=>A(!E),className:"btn-secondary flex items-center space-x-2 text-sm",children:[(0,Me.jsx)(Iu,{className:"w-4 h-4"}),(0,Me.jsx)("span",{children:"Saisir les coordonn\xe9es manuellement"})]})}),E&&(0,Me.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",children:[(0,Me.jsx)("h4",{className:"text-sm font-medium text-blue-900 mb-3",children:"Saisie manuelle des coordonn\xe9es"}),(0,Me.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-xs font-medium text-blue-700 mb-1",children:"Latitude *"}),(0,Me.jsx)("input",{type:"text",value:N,onChange:e=>k(e.target.value),className:"input-field text-sm",placeholder:"Ex: -18.8792"}),(0,Me.jsx)("p",{className:"text-xs text-blue-600 mt-1",children:"Entre -90 et 90"})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-xs font-medium text-blue-700 mb-1",children:"Longitude *"}),(0,Me.jsx)("input",{type:"text",value:S,onChange:e=>C(e.target.value),className:"input-field text-sm",placeholder:"Ex: 47.5079"}),(0,Me.jsx)("p",{className:"text-xs text-blue-600 mt-1",children:"Entre -180 et 180"})]})]}),(0,Me.jsxs)("div",{className:"flex space-x-2 mt-3",children:[(0,Me.jsx)("button",{type:"button",onClick:()=>{const e=parseFloat(N),t=parseFloat(S);if(isNaN(e)||isNaN(t))return void mr.error("Veuillez saisir des coordonn\xe9es valides");if(e<-90||e>90)return void mr.error("La latitude doit \xeatre entre -90 et 90");if(t<-180||t>180)return void mr.error("La longitude doit \xeatre entre -180 et 180");const r={lat:e,lng:t};d(r),p(r),A(!1),k(""),C(""),mr.success("Coordonn\xe9es manuelles enregistr\xe9es !")},className:"btn-primary text-sm px-3 py-2",children:"Valider les coordonn\xe9es"}),(0,Me.jsx)("button",{type:"button",onClick:()=>{A(!1),k(""),C("")},className:"btn-secondary text-sm px-3 py-2",children:"Annuler"})]})]}),(0,Me.jsx)("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 bg-gray-50",children:c?(0,Me.jsxs)("div",{className:"text-center",children:[(0,Me.jsxs)("div",{className:"w-full h-48 rounded-lg flex items-center justify-center relative overflow-hidden",children:[(0,Me.jsx)("iframe",{className:"absolute inset-0 w-full h-full pointer-events-none",style:{border:0},loading:"lazy",allowFullScreen:!0,title:"Carte de localisation du logement",src:"https://www.google.com/maps?q=".concat(c.lat,",").concat(c.lng,"&z=16&output=embed")}),(0,Me.jsx)("div",{ref:T,className:"absolute inset-0 cursor-pointer",onClick:B,children:(0,Me.jsxs)("div",{className:"absolute w-6 h-6 transform -translate-x-1/2 -translate-y-1/2",style:{left:"50%",top:"50%"},children:[(0,Me.jsx)("div",{className:"w-6 h-6 bg-red-500 rounded-full border-2 border-white shadow-lg"}),(0,Me.jsx)("div",{className:"w-2 h-2 bg-white rounded-full absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2"})]})})]}),(0,Me.jsxs)("div",{className:"mt-3 text-sm text-gray-600",children:[(0,Me.jsxs)("p",{children:["Latitude: ",c.lat.toFixed(6)]}),(0,Me.jsxs)("p",{children:["Longitude: ",c.lng.toFixed(6)]})]}),(0,Me.jsxs)("div",{className:"flex justify-center space-x-2 mt-2",children:[(0,Me.jsx)("button",{type:"button",onClick:()=>m(!0),className:"btn-secondary text-sm",children:"Ajuster sur la carte"}),(0,Me.jsx)("button",{type:"button",onClick:()=>A(!0),className:"btn-secondary text-sm",children:"Modifier manuellement"})]})]}):(0,Me.jsxs)("div",{className:"text-center py-8",children:[(0,Me.jsx)($d,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,Me.jsx)("p",{className:"text-gray-500 mb-2",children:"Aucune localisation d\xe9finie"}),(0,Me.jsx)("p",{className:"text-sm text-gray-400 mb-4",children:'Saisissez une adresse, utilisez "Ma position" ou entrez les coordonn\xe9es manuellement'}),(0,Me.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2 justify-center",children:[(0,Me.jsx)("button",{type:"button",onClick:z,className:"btn-primary flex items-center space-x-2 text-sm",disabled:g,children:g?(0,Me.jsxs)(Me.Fragment,{children:[(0,Me.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),(0,Me.jsx)("span",{children:"D\xe9tection..."})]}):(0,Me.jsxs)(Me.Fragment,{children:[(0,Me.jsx)(Nm,{className:"w-4 h-4"}),(0,Me.jsx)("span",{children:"Utiliser ma position"})]})}),(0,Me.jsxs)("button",{type:"button",onClick:()=>A(!0),className:"btn-secondary flex items-center space-x-2 text-sm",children:[(0,Me.jsx)(Iu,{className:"w-4 h-4"}),(0,Me.jsx)("span",{children:"Saisir manuellement"})]})]})]})})]})]})]}),(0,Me.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,Me.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Tarification"}),(0,Me.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Prix mensuel (Ar) *"}),(0,Me.jsx)("input",{type:"number",name:"price",value:a.price||"",onChange:U,className:"input-field",placeholder:"200000",min:"1",required:!0})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Caution (Ar) *"}),(0,Me.jsx)("input",{type:"number",name:"deposit",value:a.deposit||"",onChange:U,className:"input-field",placeholder:"100000",min:"0",required:!0})]})]})]}),(0,Me.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,Me.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Chambres"}),(0,Me.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre total de chambres *"}),(0,Me.jsx)("input",{type:"number",name:"totalRooms",value:a.totalRooms,onChange:U,className:"input-field",min:"1",required:!0})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Chambres disponibles *"}),(0,Me.jsx)("input",{type:"number",name:"availableRooms",value:a.availableRooms,onChange:U,className:"input-field",min:"1",max:a.totalRooms,required:!0})]})]})]}),(0,Me.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,Me.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"\xc9quipements"}),(0,Me.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:["Internet","Eau chaude","S\xe9curit\xe9","Parking","Jardin","Climatisation","Machine \xe0 laver","Cuisine \xe9quip\xe9e","Balcon","Ascenseur","Piscine","Gym"].map(e=>(0,Me.jsxs)("label",{className:"flex items-center",children:[(0,Me.jsx)("input",{type:"checkbox",checked:a.amenities.includes(e),onChange:()=>(e=>{i(t=>(0,Ie.A)((0,Ie.A)({},t),{},{amenities:t.amenities.includes(e)?t.amenities.filter(t=>t!==e):[...t.amenities,e]}))})(e),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),(0,Me.jsx)("span",{className:"ml-2 text-sm text-gray-700",children:e})]},e))})]}),(0,Me.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,Me.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Photos"}),(0,Me.jsxs)("div",{className:"space-y-4",children:[(0,Me.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center space-y-2 sm:space-y-0 sm:space-x-2",children:[(0,Me.jsx)("input",{ref:P,type:"file",accept:"image/*",multiple:!0,onChange:e=>{const t=e.target.files;if(!t)return;const r=[];for(let n=0;n<t.length;n++){const e=t[n];if(!e.type.startsWith("image/")){mr.error("".concat(e.name," n'est pas une image valide"));continue}if(e.size>5242880){mr.error("".concat(e.name," est trop volumineux (max 5MB)"));continue}if(o.length+r.length>=10){mr.error("Maximum 10 images autoris\xe9es");break}const s={file:e,preview:URL.createObjectURL(e),id:Math.random().toString(36).substr(2,9)};r.push(s)}r.length>0&&(l(e=>[...e,...r]),mr.success("".concat(r.length," image(s) ajout\xe9e(s) avec succ\xe8s"))),P.current&&(P.current.value="")},className:"hidden"}),(0,Me.jsxs)("button",{type:"button",onClick:()=>{var e;return null===(e=P.current)||void 0===e?void 0:e.click()},className:"btn-primary flex items-center justify-center space-x-2 px-4 py-2",disabled:f||n,children:[(0,Me.jsx)(Uu,{className:"w-5 h-5"}),(0,Me.jsx)("span",{children:"S\xe9lectionner des images"})]}),(0,Me.jsxs)("div",{className:"flex-1 text-sm text-gray-500",children:[(0,Me.jsx)("p",{children:"Formats accept\xe9s: JPG, PNG, WebP \u2022 Max 5MB par image \u2022 Maximum 10 images"}),(0,Me.jsx)("p",{className:"text-green-600 font-medium",children:"Les images seront sauvegard\xe9es d\xe9finitivement"})]})]}),o.length>0&&(0,Me.jsxs)("div",{className:"flex items-center justify-between bg-blue-50 border border-blue-200 rounded-lg p-3",children:[(0,Me.jsxs)("span",{className:"text-sm font-medium text-blue-800",children:[o.length," image(s) s\xe9lectionn\xe9e(s) sur 10 maximum"]}),f&&(0,Me.jsx)("div",{className:"flex items-center space-x-2",children:(0,Me.jsx)("span",{className:"text-xs text-blue-600",children:"Upload en cours..."})})]}),o.length>0&&(0,Me.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:o.map((e,t)=>(0,Me.jsxs)("div",{className:"relative group bg-gray-100 rounded-lg overflow-hidden",children:[(0,Me.jsx)("img",{src:e.preview,alt:"Aper\xe7u ".concat(t+1),className:"w-full h-32 object-cover transition-transform group-hover:scale-105"}),(0,Me.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-40 transition-all flex items-center justify-center",children:(0,Me.jsx)("button",{type:"button",onClick:()=>(e=>{URL.revokeObjectURL(o[e].preview),l(t=>t.filter((t,r)=>r!==e)),mr.success("Image supprim\xe9e")})(t),className:"opacity-0 group-hover:opacity-100 bg-red-500 text-white rounded-full p-2 hover:bg-red-600 transition-all transform scale-90 group-hover:scale-100",title:"Supprimer l'image",disabled:f,children:(0,Me.jsx)(su,{className:"w-4 h-4"})})}),(0,Me.jsxs)("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black to-transparent p-2",children:[(0,Me.jsx)("p",{className:"text-xs text-white truncate",children:e.file.name}),(0,Me.jsxs)("p",{className:"text-xs text-gray-300",children:[(e.file.size/1048576).toFixed(1)," MB"]})]}),(0,Me.jsx)("div",{className:"absolute top-2 left-2 bg-black bg-opacity-60 text-white text-xs px-2 py-1 rounded-full",children:t+1})]},e.id))}),0===o.length&&(0,Me.jsxs)("div",{className:"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg bg-gray-50",children:[(0,Me.jsx)(Uu,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,Me.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucune image s\xe9lectionn\xe9e"}),(0,Me.jsx)("p",{className:"text-gray-500 mb-4",children:"Ajoutez des photos attractives de votre logement"}),(0,Me.jsxs)("button",{type:"button",onClick:()=>{var e;return null===(e=P.current)||void 0===e?void 0:e.click()},className:"btn-secondary flex items-center space-x-2 mx-auto",disabled:f,children:[(0,Me.jsx)(Iu,{className:"w-4 h-4"}),(0,Me.jsx)("span",{children:"S\xe9lectionner des images"})]})]})]})]}),(0,Me.jsxs)("div",{className:"flex justify-end space-x-4",children:[(0,Me.jsx)("button",{type:"button",onClick:()=>e("/dashboard"),className:"btn-secondary",disabled:n||f,children:"Annuler"}),(0,Me.jsx)("button",{type:"submit",disabled:n||f||0===o.length,className:"btn-primary flex items-center space-x-2",children:n||f?(0,Me.jsxs)(Me.Fragment,{children:[(0,Me.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),(0,Me.jsx)("span",{children:f?"Upload...":"Publication..."})]}):"Publier le logement"})]})]}),u&&(0,Me.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Me.jsx)("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-auto",children:(0,Me.jsxs)("div",{className:"p-6",children:[(0,Me.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Ajuster la position sur la carte"}),(0,Me.jsx)("div",{className:"mb-3",children:(0,Me.jsxs)("button",{type:"button",onClick:()=>{h&&(k(h.lat.toString()),C(h.lng.toString())),A(!0),m(!1)},className:"btn-secondary flex items-center space-x-2 text-sm",children:[(0,Me.jsx)(Iu,{className:"w-4 h-4"}),(0,Me.jsx)("span",{children:"Saisir les coordonn\xe9es manuellement"})]})}),(0,Me.jsxs)("div",{className:"mb-4",children:[(0,Me.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:"Cliquez sur la carte pour positionner le marqueur"}),(0,Me.jsx)("div",{className:"text-xs text-gray-500",children:h&&(0,Me.jsxs)("p",{children:["Position actuelle: ",h.lat.toFixed(6),", ",h.lng.toFixed(6)]})})]}),(0,Me.jsxs)("div",{ref:T,className:"w-full h-64 rounded-lg cursor-pointer relative mb-4 border-2 border-gray-300 overflow-hidden",onClick:B,children:[(0,Me.jsx)("iframe",{className:"absolute inset-0 w-full h-full pointer-events-none",style:{border:0},loading:"lazy",allowFullScreen:!0,title:"Carte d'ajustement de la position",src:((e,t,r,n)=>{const s=null!==(e=null!==(t=null===h||void 0===h?void 0:h.lat)&&void 0!==t?t:null===c||void 0===c?void 0:c.lat)&&void 0!==e?e:0,a=null!==(r=null!==(n=null===h||void 0===h?void 0:h.lng)&&void 0!==n?n:null===c||void 0===c?void 0:c.lng)&&void 0!==r?r:0;return"https://www.google.com/maps?q=".concat(s,",").concat(a,"&z=16&output=embed")})()}),h&&(0,Me.jsxs)("div",{className:"absolute w-6 h-6 transform -translate-x-1/2 -translate-y-1/2",style:{left:"50%",top:"50%"},children:[(0,Me.jsx)("div",{className:"w-6 h-6 bg-red-500 rounded-full border-2 border-white shadow-lg"}),(0,Me.jsx)("div",{className:"w-2 h-2 bg-white rounded-full absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2"})]})]}),(0,Me.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,Me.jsx)("button",{type:"button",onClick:()=>m(!1),className:"btn-secondary",children:"Annuler"}),(0,Me.jsx)("button",{type:"button",onClick:()=>{h&&(d(h),mr.success("Emplacement confirm\xe9 !")),m(!1)},className:"btn-primary",disabled:!h,children:"Confirmer l'emplacement"})]})]})})})]})})},Cm=["title","titleId"];function Em(e,r){let{title:n,titleId:s}=e,a=(0,Ps.A)(e,Cm);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":s},a),n?t.createElement("title",{id:s},n):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"}))}const Am=t.forwardRef(Em),Pm=["title","titleId"];function Tm(e,r){let{title:n,titleId:s}=e,a=(0,Ps.A)(e,Pm);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":s},a),n?t.createElement("title",{id:s},n):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.827 6.175A2.31 2.31 0 0 1 5.186 7.23c-.38.054-.757.112-1.134.175C2.999 7.58 2.25 8.507 2.25 9.574V18a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18V9.574c0-1.067-.75-1.994-1.802-2.169a47.865 47.865 0 0 0-1.134-.175 2.31 2.31 0 0 1-1.64-1.055l-.822-1.316a2.192 2.192 0 0 0-1.736-1.039 48.774 48.774 0 0 0-5.232 0 2.192 2.192 0 0 0-1.736 1.039l-.821 1.316Z"}),t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 12.75a4.5 4.5 0 1 1-9 0 4.5 4.5 0 0 1 9 0ZM18.75 10.5h.008v.008h-.008V10.5Z"}))}const Mm=t.forwardRef(Tm),Lm=["title","titleId"];function Rm(e,r){let{title:n,titleId:s}=e,a=(0,Ps.A)(e,Lm);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":s},a),n?t.createElement("title",{id:s},n):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"}))}const Dm=t.forwardRef(Rm),Fm=["title","titleId"];function Im(e,r){let{title:n,titleId:s}=e,a=(0,Ps.A)(e,Fm);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":s},a),n?t.createElement("title",{id:s},n):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.26 10.147a60.438 60.438 0 0 0-.491 6.347A48.62 48.62 0 0 1 12 20.904a48.62 48.62 0 0 1 8.232-4.41 60.46 60.46 0 0 0-.491-6.347m-15.482 0a50.636 50.636 0 0 0-2.658-.813A59.906 59.906 0 0 1 12 3.493a59.903 59.903 0 0 1 10.399 5.84c-.896.248-1.783.52-2.658.814m-15.482 0A50.717 50.717 0 0 1 12 13.489a50.702 50.702 0 0 1 7.74-3.342M6.75 15a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Zm0 0v-3.675A55.378 55.378 0 0 1 12 8.443m-7.007 11.55A5.981 5.981 0 0 0 6.75 15.75v-1.5"}))}const _m=t.forwardRef(Im),zm=async e=>{if(!["image/jpeg","image/png","image/webp"].includes(e.type))throw new Error("Format d'image non support\xe9. Utilisez JPEG, PNG ou WebP");let t=e;try{t=await(e=>new Promise(t=>{const r=new FileReader;r.onload=r=>{var n;const s=new Image;s.onload=()=>{const r=document.createElement("canvas");let{width:n,height:a}=s;n>400&&(a=400*a/n,n=400),r.width=n,r.height=a;const i=r.getContext("2d");i?(i.drawImage(s,0,0,n,a),r.toBlob(r=>{if(!r)return void t(e);const n=new File([r],e.name,{type:"image/jpeg",lastModified:Date.now()});t(n)},"image/jpeg",.7)):t(e)},s.onerror=()=>t(e),s.src=null===(n=r.target)||void 0===n?void 0:n.result},r.onerror=()=>t(e),r.readAsDataURL(e)}))(e)}catch(a){console.warn("\xc9chec de la compression, envoi de l'image originale",a)}const r=new FormData;r.append("image",t);try{var n,s;const e=await(0,hr.yX)("api/upload/image",r);if(!e.success)throw new Error(e.message||"Erreur lors de l'upload");const t=(null===(n=e.data)||void 0===n?void 0:n.url)||(null===(s=e.data)||void 0===s?void 0:s.path)||e.imageUrl;if(!t)throw new Error("Aucune URL d'image valide re\xe7ue du serveur");return t}catch(a){throw console.error("Erreur upload avatar:",a),new Error(a.message||"Impossible d'uploader l'avatar")}},Om=()=>{const{user:e,updateProfile:r,setUser:n}=yr(),[s,a]=(0,t.useState)(!1),i=(0,t.useRef)(null),[o,l]=(0,t.useState)({firstName:(null===e||void 0===e?void 0:e.firstName)||"",lastName:(null===e||void 0===e?void 0:e.lastName)||"",phone:(null===e||void 0===e?void 0:e.phone)||"",bio:(null===e||void 0===e?void 0:e.bio)||"",university:(null===e||void 0===e?void 0:e.university)||"",studyLevel:(null===e||void 0===e?void 0:e.studyLevel)||"",budget:(null===e||void 0===e?void 0:e.budget)||0,preferences:(null===e||void 0===e?void 0:e.preferences)||[],cinNumber:(null===e||void 0===e?void 0:e.cinNumber)||"",cinVerified:(null===e||void 0===e?void 0:e.cinVerified)||!1}),c=e=>{l((0,Ie.A)((0,Ie.A)({},o),{},{[e.target.name]:e.target.value}))},[d,u]=(0,t.useState)(!1);if(!e)return(0,Me.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,Me.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-600"})});const m=[!!(e.firstName&&e.lastName&&e.phone),!!e.avatar,!!e.bio,!!e.cinVerified].filter(Boolean).length,h=Math.round(m/4*100);return(0,Me.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,Me.jsx)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,Me.jsxs)("div",{className:"bg-white text-gray-900 rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[(0,Me.jsx)("div",{className:"bg-gradient-to-r from-primary-600 to-primary-800 px-6 py-8",children:(0,Me.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Me.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Me.jsxs)("div",{className:"relative",children:[(0,Me.jsx)("div",{className:"w-24 h-24 bg-white rounded-full overflow-hidden flex items-center justify-center",children:d?(0,Me.jsx)("div",{className:"w-full h-full flex items-center justify-center bg-gray-100",children:(0,Me.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):e.avatar?(0,Me.jsx)("img",{src:e.avatar,alt:"Avatar",className:"w-full h-full object-cover",onError:e=>{const t=e.target;t.onerror=null,t.src="/default-avatar.png"}}):(0,Me.jsx)(Am,{className:"w-12 h-12 text-primary-600"})}),(0,Me.jsx)("button",{onClick:()=>{var e;null===(e=i.current)||void 0===e||e.click()},disabled:d,className:"absolute bottom-0 right-0 ".concat(d?"bg-gray-400":"bg-primary-600 hover:bg-primary-700"," text-white p-2 rounded-full transition-colors"),children:d?(0,Me.jsxs)("svg",{className:"animate-spin h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,Me.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,Me.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):(0,Me.jsx)(Mm,{className:"w-4 h-4"})}),(0,Me.jsx)("input",{ref:i,type:"file",accept:"image/jpeg,image/png,image/webp",className:"hidden",onChange:async t=>{var s;const a=null===(s=t.target.files)||void 0===s?void 0:s[0];if(!a)return;u(!0);const o="avatar-upload";try{mr.loading("T\xe9l\xe9chargement de la photo...",{id:o});const t=await zm(a);r&&(await r({avatar:t}),e&&n((0,Ie.A)((0,Ie.A)({},e),{},{avatar:t}))),mr.success("Photo de profil mise \xe0 jour avec succ\xe8s",{id:o})}catch(l){console.error("Error updating avatar:",l),mr.error(l.message||"\xc9chec du t\xe9l\xe9chargement de la photo",{id:o})}finally{u(!1),i.current&&(i.current.value="")}},disabled:d})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsxs)("h1",{className:"text-2xl font-bold text-white",children:[e.firstName," ",e.lastName]}),(0,Me.jsx)("p",{className:"text-primary-100",children:"student"===e.userType?"\xc9tudiant(e)":"Propri\xe9taire"}),e.isVerified&&(0,Me.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800 mt-2",children:"\u2713 Compte v\xe9rifi\xe9"})]})]}),(0,Me.jsxs)("button",{onClick:()=>a(!s),className:"bg-white text-primary-600 hover:bg-gray-100 px-4 py-2 rounded-lg font-medium transition-colors flex items-center space-x-2",children:[(0,Me.jsx)(Ou,{className:"w-4 h-4"}),(0,Me.jsx)("span",{children:s?"Annuler":"Modifier"})]})]})}),(0,Me.jsx)("div",{className:"p-6",children:(0,Me.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,Me.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,Me.jsxs)("div",{className:"card bg-white border border-gray-200",children:[(0,Me.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Informations personnelles"}),(0,Me.jsxs)("div",{className:"space-y-4",children:[(0,Me.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Pr\xe9nom"}),s?(0,Me.jsx)("input",{type:"text",name:"firstName",value:o.firstName,onChange:c,className:"input-field"}):(0,Me.jsx)("p",{className:"text-gray-900",children:e.firstName})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nom"}),s?(0,Me.jsx)("input",{type:"text",name:"lastName",value:o.lastName,onChange:c,className:"input-field"}):(0,Me.jsx)("p",{className:"text-gray-900",children:e.lastName})]})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),(0,Me.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Me.jsx)(Dm,{className:"w-5 h-5 text-gray-400"}),(0,Me.jsx)("p",{className:"text-gray-900",children:e.email})]})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"T\xe9l\xe9phone"}),s?(0,Me.jsx)("input",{type:"tel",name:"phone",value:o.phone,onChange:c,className:"input-field"}):(0,Me.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Me.jsx)(hm,{className:"w-5 h-5 text-gray-400"}),(0,Me.jsx)("p",{className:"text-gray-900",children:e.phone})]})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"\xc0 propos de moi"}),s?(0,Me.jsx)("textarea",{name:"bio",value:o.bio,onChange:c,rows:4,className:"input-field",placeholder:"Parlez-nous de vous..."}):(0,Me.jsx)("p",{className:"text-gray-700",children:e.bio||"Aucune description disponible"})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Statut CIN"}),(0,Me.jsx)("div",{className:"flex items-center space-x-2",children:e.cinVerified?(0,Me.jsx)("span",{className:"badge badge-success",children:"\u2713 CIN V\xe9rifi\xe9e"}):e.cinPending?(0,Me.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Me.jsx)("span",{className:"badge badge-info",children:"\u23f3 V\xe9rification en cours"}),(0,Me.jsx)("span",{className:"text-sm text-gray-600",children:"En attente de validation par un administrateur"})]}):(0,Me.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Me.jsx)("span",{className:"badge badge-warning",children:"CIN Non v\xe9rifi\xe9e"}),(0,Me.jsx)(Ae,{to:"/cin-verification",className:"font-medium underline text-yellow-700 hover:text-yellow-600",children:"V\xe9rifier maintenant \u2192"})]})})]})]})]}),"student"===e.userType&&(0,Me.jsxs)("div",{className:"card bg-white border border-gray-200",children:[(0,Me.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Informations acad\xe9miques"}),(0,Me.jsxs)("div",{className:"space-y-4",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Universit\xe9 / \xc9cole"}),s?(0,Me.jsxs)("select",{name:"university",value:o.university,onChange:c,className:"input-field",children:[(0,Me.jsx)("option",{value:"",children:"S\xe9lectionnez votre universit\xe9"}),(0,Me.jsx)("option",{value:"Universit\xe9 d'Antananarivo",children:"Universit\xe9 d'Antananarivo"}),(0,Me.jsx)("option",{value:"\xc9cole Sup\xe9rieure Polytechnique",children:"\xc9cole Sup\xe9rieure Polytechnique"}),(0,Me.jsx)("option",{value:"Institut National des Sciences Comptables",children:"Institut National des Sciences Comptables"}),(0,Me.jsx)("option",{value:"\xc9cole de M\xe9decine",children:"\xc9cole de M\xe9decine"}),(0,Me.jsx)("option",{value:"Autre",children:"Autre"})]}):(0,Me.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Me.jsx)(_m,{className:"w-5 h-5 text-gray-400"}),(0,Me.jsx)("p",{className:"text-gray-900",children:e.university||"Non sp\xe9cifi\xe9"})]})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Niveau d'\xe9tudes"}),s?(0,Me.jsxs)("select",{name:"studyLevel",value:o.studyLevel,onChange:c,className:"input-field",children:[(0,Me.jsx)("option",{value:"",children:"S\xe9lectionnez votre niveau"}),(0,Me.jsx)("option",{value:"Licence 1",children:"Licence 1"}),(0,Me.jsx)("option",{value:"Licence 2",children:"Licence 2"}),(0,Me.jsx)("option",{value:"Licence 3",children:"Licence 3"}),(0,Me.jsx)("option",{value:"Master 1",children:"Master 1"}),(0,Me.jsx)("option",{value:"Master 2",children:"Master 2"}),(0,Me.jsx)("option",{value:"Doctorat",children:"Doctorat"})]}):(0,Me.jsx)("p",{className:"text-gray-900",children:e.studyLevel||"Non sp\xe9cifi\xe9"})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Budget mensuel (Ar)"}),s?(0,Me.jsx)("input",{type:"number",name:"budget",value:o.budget,onChange:c,className:"input-field",placeholder:"150000"}):(0,Me.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Me.jsx)(Hu,{className:"w-5 h-5 text-gray-400"}),(0,Me.jsx)("p",{className:"text-gray-900",children:e.budget?"".concat(e.budget.toLocaleString()," Ar"):"Non sp\xe9cifi\xe9"})]})]})]})]})]}),(0,Me.jsxs)("div",{className:"space-y-6",children:[(0,Me.jsxs)("div",{className:"card bg-white text-gray-900 border border-gray-200",children:[(0,Me.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Statistiques"}),(0,Me.jsxs)("div",{className:"space-y-3",children:[(0,Me.jsxs)("div",{className:"flex justify-between",children:[(0,Me.jsx)("span",{className:"text-gray-600",children:"Membre depuis"}),(0,Me.jsx)("span",{className:"font-medium",children:new Date(e.createdAt).toLocaleDateString("fr-FR")})]}),(0,Me.jsxs)("div",{className:"flex justify-between",children:[(0,Me.jsx)("span",{className:"text-gray-600",children:"Profil compl\xe9t\xe9"}),(0,Me.jsxs)("span",{className:"font-medium",children:[h,"%"]})]}),"student"===e.userType&&(0,Me.jsxs)("div",{className:"flex justify-between",children:[(0,Me.jsx)("span",{className:"text-gray-600",children:"Recherches"}),(0,Me.jsx)("span",{className:"font-medium",children:"12"})]}),"owner"===e.userType&&(0,Me.jsxs)("div",{className:"flex justify-between",children:[(0,Me.jsx)("span",{className:"text-gray-600",children:"Logements publi\xe9s"}),(0,Me.jsx)("span",{className:"font-medium",children:"3"})]})]})]}),"student"===e.userType&&(0,Me.jsxs)("div",{className:"card bg-white text-gray-900 border border-gray-200",children:[(0,Me.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Pr\xe9f\xe9rences"}),(0,Me.jsx)("div",{className:"space-y-2",children:e.preferences&&e.preferences.length>0?e.preferences.map((e,t)=>(0,Me.jsx)("span",{className:"badge badge-primary",children:e},t)):(0,Me.jsx)("p",{className:"text-gray-500 text-sm",children:"Aucune pr\xe9f\xe9rence d\xe9finie"})})]}),s&&(0,Me.jsx)("div",{className:"card",children:(0,Me.jsxs)("div",{className:"space-y-3",children:[(0,Me.jsx)("button",{onClick:async()=>{try{r&&await r({firstName:o.firstName,lastName:o.lastName,phone:o.phone,bio:o.bio,university:o.university,studyLevel:o.studyLevel,budget:Number(o.budget)||0}),a(!1)}catch(e){}},className:"w-full btn-primary",children:"Sauvegarder"}),(0,Me.jsx)("button",{onClick:()=>{l({firstName:(null===e||void 0===e?void 0:e.firstName)||"",lastName:(null===e||void 0===e?void 0:e.lastName)||"",phone:(null===e||void 0===e?void 0:e.phone)||"",bio:(null===e||void 0===e?void 0:e.bio)||"",university:(null===e||void 0===e?void 0:e.university)||"",studyLevel:(null===e||void 0===e?void 0:e.studyLevel)||"",budget:(null===e||void 0===e?void 0:e.budget)||0,preferences:(null===e||void 0===e?void 0:e.preferences)||[],cinNumber:(null===e||void 0===e?void 0:e.cinNumber)||"",cinVerified:(null===e||void 0===e?void 0:e.cinVerified)||!1}),a(!1)},className:"w-full btn-secondary",children:"Annuler"})]})})]})]})})]})})})},Vm=["title","titleId"];function Bm(e,r){let{title:n,titleId:s}=e,a=(0,Ps.A)(e,Vm);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":s},a),n?t.createElement("title",{id:s},n):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 12a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM12.75 12a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM18.75 12a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Z"}))}const Um=t.forwardRef(Bm),Wm=["title","titleId"];function qm(e,r){let{title:n,titleId:s}=e,a=(0,Ps.A)(e,Wm);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":s},a),n?t.createElement("title",{id:s},n):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"}))}const Hm=t.forwardRef(qm),$m=["title","titleId"];function Zm(e,r){let{title:n,titleId:s}=e,a=(0,Ps.A)(e,$m);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":s},a),n?t.createElement("title",{id:s},n):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const Ym=t.forwardRef(Zm),Xm=["title","titleId"];function Jm(e,r){let{title:n,titleId:s}=e,a=(0,Ps.A)(e,Xm);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":s},a),n?t.createElement("title",{id:s},n):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 12 3.269 3.125A59.769 59.769 0 0 1 21.485 12 59.768 59.768 0 0 1 3.27 20.875L5.999 12Zm0 0h7.5"}))}const Gm=t.forwardRef(Jm),Km=(Math.pow(10,8),43200),Qm=Symbol.for("constructDateFrom");function eh(e,t){return"function"===typeof e?e(t):e&&"object"===typeof e&&Qm in e?e[Qm](t):e instanceof Date?new e.constructor(t):new Date(t)}function th(e){return eh(e,Date.now())}const rh={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function nh(e){return function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const sh={date:nh({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:nh({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:nh({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},ah={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function ih(e){return(t,r)=>{let n;if("formatting"===(null!==r&&void 0!==r&&r.context?String(r.context):"standalone")&&e.formattingValues){const t=e.defaultFormattingWidth||e.defaultWidth,s=null!==r&&void 0!==r&&r.width?String(r.width):t;n=e.formattingValues[s]||e.formattingValues[t]}else{const t=e.defaultWidth,s=null!==r&&void 0!==r&&r.width?String(r.width):e.defaultWidth;n=e.values[s]||e.values[t]}return n[e.argumentCallback?e.argumentCallback(t):t]}}const oh={ordinalNumber:(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},era:ih({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:ih({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:e=>e-1}),month:ih({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:ih({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:ih({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})};function lh(e){return function(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=r.width,s=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],a=t.match(s);if(!a)return null;const i=a[0],o=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(o)?function(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r;return}(o,e=>e.test(i)):function(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r;return}(o,e=>e.test(i));let c;c=e.valueCallback?e.valueCallback(l):l,c=r.valueCallback?r.valueCallback(c):c;return{value:c,rest:t.slice(i.length)}}}function ch(e){return function(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=t.match(e.matchPattern);if(!n)return null;const s=n[0],a=t.match(e.parsePattern);if(!a)return null;let i=e.valueCallback?e.valueCallback(a[0]):a[0];i=r.valueCallback?r.valueCallback(i):i;return{value:i,rest:t.slice(s.length)}}}const dh={code:"en-US",formatDistance:(e,t,r)=>{let n;const s=rh[e];return n="string"===typeof s?s:1===t?s.one:s.other.replace("{{count}}",t.toString()),null!==r&&void 0!==r&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n},formatLong:sh,formatRelative:(e,t,r,n)=>ah[e],localize:oh,match:{ordinalNumber:ch({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:e=>parseInt(e,10)}),era:lh({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:lh({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:lh({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:lh({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:lh({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}};let uh={};function mh(){return uh}function hh(e,t){return eh(t||e,e)}function ph(e){const t=hh(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function fh(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];const s=eh.bind(null,e||r.find(e=>"object"===typeof e));return r.map(s)}function xh(e,t){const r=+hh(e)-+hh(t);return r<0?-1:r>0?1:r}function gh(e,t,r){const[n,s]=fh(null===r||void 0===r?void 0:r.in,e,t);return 12*(n.getFullYear()-s.getFullYear())+(n.getMonth()-s.getMonth())}function vh(e,t){const r=hh(e,null===t||void 0===t?void 0:t.in);return r.setHours(23,59,59,999),r}function yh(e,t){const r=hh(e,null===t||void 0===t?void 0:t.in),n=r.getMonth();return r.setFullYear(r.getFullYear(),n+1,0),r.setHours(23,59,59,999),r}function bh(e,t){const r=hh(e,null===t||void 0===t?void 0:t.in);return+vh(r,t)===+yh(r,t)}function jh(e,t,r){const[n,s,a]=fh(null===r||void 0===r?void 0:r.in,e,e,t),i=xh(s,a),o=Math.abs(gh(s,a));if(o<1)return 0;1===s.getMonth()&&s.getDate()>27&&s.setDate(30),s.setMonth(s.getMonth()-i*o);let l=xh(s,a)===-i;bh(n)&&1===o&&1===xh(n,a)&&(l=!1);const c=i*(o-+l);return 0===c?0:c}function wh(e,t){return+hh(e)-+hh(t)}function Nh(e,t,r){const n=wh(e,t)/1e3;return(s=null===r||void 0===r?void 0:r.roundingMethod,e=>{const t=(s?Math[s]:Math.trunc)(e);return 0===t?0:t})(n);var s}function kh(e,t,r){var n,s;const a=mh(),i=null!==(n=null!==(s=null===r||void 0===r?void 0:r.locale)&&void 0!==s?s:a.locale)&&void 0!==n?n:dh,o=xh(e,t);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},r,{addSuffix:null===r||void 0===r?void 0:r.addSuffix,comparison:o}),[c,d]=fh(null===r||void 0===r?void 0:r.in,...o>0?[t,e]:[e,t]),u=Nh(d,c),m=(ph(d)-ph(c))/1e3,h=Math.round((u-m)/60);let p;if(h<2)return null!==r&&void 0!==r&&r.includeSeconds?u<5?i.formatDistance("lessThanXSeconds",5,l):u<10?i.formatDistance("lessThanXSeconds",10,l):u<20?i.formatDistance("lessThanXSeconds",20,l):u<40?i.formatDistance("halfAMinute",0,l):u<60?i.formatDistance("lessThanXMinutes",1,l):i.formatDistance("xMinutes",1,l):0===h?i.formatDistance("lessThanXMinutes",1,l):i.formatDistance("xMinutes",h,l);if(h<45)return i.formatDistance("xMinutes",h,l);if(h<90)return i.formatDistance("aboutXHours",1,l);if(h<1440){const e=Math.round(h/60);return i.formatDistance("aboutXHours",e,l)}if(h<2520)return i.formatDistance("xDays",1,l);if(h<Km){const e=Math.round(h/1440);return i.formatDistance("xDays",e,l)}if(h<86400)return p=Math.round(h/Km),i.formatDistance("aboutXMonths",p,l);if(p=jh(d,c),p<12){const e=Math.round(h/Km);return i.formatDistance("xMonths",e,l)}{const e=p%12,t=Math.trunc(p/12);return e<3?i.formatDistance("aboutXYears",t,l):e<9?i.formatDistance("overXYears",t,l):i.formatDistance("almostXYears",t+1,l)}}function Sh(e,t){return kh(e,th(e),t)}const Ch={lessThanXSeconds:{one:"moins d\u2019une seconde",other:"moins de {{count}} secondes"},xSeconds:{one:"1 seconde",other:"{{count}} secondes"},halfAMinute:"30 secondes",lessThanXMinutes:{one:"moins d\u2019une minute",other:"moins de {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"environ 1 heure",other:"environ {{count}} heures"},xHours:{one:"1 heure",other:"{{count}} heures"},xDays:{one:"1 jour",other:"{{count}} jours"},aboutXWeeks:{one:"environ 1 semaine",other:"environ {{count}} semaines"},xWeeks:{one:"1 semaine",other:"{{count}} semaines"},aboutXMonths:{one:"environ 1 mois",other:"environ {{count}} mois"},xMonths:{one:"1 mois",other:"{{count}} mois"},aboutXYears:{one:"environ 1 an",other:"environ {{count}} ans"},xYears:{one:"1 an",other:"{{count}} ans"},overXYears:{one:"plus d\u2019un an",other:"plus de {{count}} ans"},almostXYears:{one:"presqu\u2019un an",other:"presque {{count}} ans"}},Eh={date:nh({formats:{full:"EEEE d MMMM y",long:"d MMMM y",medium:"d MMM y",short:"dd/MM/y"},defaultWidth:"full"}),time:nh({formats:{full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},defaultWidth:"full"}),dateTime:nh({formats:{full:"{{date}} '\xe0' {{time}}",long:"{{date}} '\xe0' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},Ah={lastWeek:"eeee 'dernier \xe0' p",yesterday:"'hier \xe0' p",today:"'aujourd\u2019hui \xe0' p",tomorrow:"'demain \xe0' p'",nextWeek:"eeee 'prochain \xe0' p",other:"P"},Ph=["MMM","MMMM"],Th={preprocessor:(e,t)=>{if(1===e.getDate())return t;return t.some(e=>e.isToken&&Ph.includes(e.value))?t.map(e=>e.isToken&&"do"===e.value?{isToken:!0,value:"d"}:e):t},ordinalNumber:(e,t)=>{const r=Number(e),n=null===t||void 0===t?void 0:t.unit;if(0===r)return"0";let s;return s=1===r?n&&["year","week","hour","minute","second"].includes(n)?"\xe8re":"er":"\xe8me",r+s},era:ih({values:{narrow:["av. J.-C","ap. J.-C"],abbreviated:["av. J.-C","ap. J.-C"],wide:["avant J\xe9sus-Christ","apr\xe8s J\xe9sus-Christ"]},defaultWidth:"wide"}),quarter:ih({values:{narrow:["T1","T2","T3","T4"],abbreviated:["1er trim.","2\xe8me trim.","3\xe8me trim.","4\xe8me trim."],wide:["1er trimestre","2\xe8me trimestre","3\xe8me trimestre","4\xe8me trimestre"]},defaultWidth:"wide",argumentCallback:e=>e-1}),month:ih({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["janv.","f\xe9vr.","mars","avr.","mai","juin","juil.","ao\xfbt","sept.","oct.","nov.","d\xe9c."],wide:["janvier","f\xe9vrier","mars","avril","mai","juin","juillet","ao\xfbt","septembre","octobre","novembre","d\xe9cembre"]},defaultWidth:"wide"}),day:ih({values:{narrow:["D","L","M","M","J","V","S"],short:["di","lu","ma","me","je","ve","sa"],abbreviated:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],wide:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"]},defaultWidth:"wide"}),dayPeriod:ih({values:{narrow:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"mat.",afternoon:"ap.m.",evening:"soir",night:"mat."},abbreviated:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"matin",afternoon:"apr\xe8s-midi",evening:"soir",night:"matin"},wide:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"du matin",afternoon:"de l\u2019apr\xe8s-midi",evening:"du soir",night:"du matin"}},defaultWidth:"wide"})},Mh={code:"fr",formatDistance:(e,t,r)=>{let n;const s=Ch[e];return n="string"===typeof s?s:1===t?s.one:s.other.replace("{{count}}",String(t)),null!==r&&void 0!==r&&r.addSuffix?r.comparison&&r.comparison>0?"dans "+n:"il y a "+n:n},formatLong:Eh,formatRelative:(e,t,r,n)=>Ah[e],localize:Th,match:{ordinalNumber:ch({matchPattern:/^(\d+)(i\xe8me|\xe8re|\xe8me|er|e)?/i,parsePattern:/\d+/i,valueCallback:e=>parseInt(e)}),era:lh({matchPatterns:{narrow:/^(av\.J\.C|ap\.J\.C|ap\.J\.-C)/i,abbreviated:/^(av\.J\.-C|av\.J-C|apr\.J\.-C|apr\.J-C|ap\.J-C)/i,wide:/^(avant J\xe9sus-Christ|apr\xe8s J\xe9sus-Christ)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^av/i,/^ap/i]},defaultParseWidth:"any"}),quarter:lh({matchPatterns:{narrow:/^T?[1234]/i,abbreviated:/^[1234](er|\xe8me|e)? trim\.?/i,wide:/^[1234](er|\xe8me|e)? trimestre/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:lh({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(janv|f\xe9vr|mars|avr|mai|juin|juill|juil|ao\xfbt|sept|oct|nov|d\xe9c)\.?/i,wide:/^(janvier|f\xe9vrier|mars|avril|mai|juin|juillet|ao\xfbt|septembre|octobre|novembre|d\xe9cembre)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^av/i,/^ma/i,/^juin/i,/^juil/i,/^ao/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:lh({matchPatterns:{narrow:/^[lmjvsd]/i,short:/^(di|lu|ma|me|je|ve|sa)/i,abbreviated:/^(dim|lun|mar|mer|jeu|ven|sam)\.?/i,wide:/^(dimanche|lundi|mardi|mercredi|jeudi|vendredi|samedi)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^di/i,/^lu/i,/^ma/i,/^me/i,/^je/i,/^ve/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:lh({matchPatterns:{narrow:/^(a|p|minuit|midi|mat\.?|ap\.?m\.?|soir|nuit)/i,any:/^([ap]\.?\s?m\.?|du matin|de l'apr\xe8s[-\s]midi|du soir|de la nuit)/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^min/i,noon:/^mid/i,morning:/mat/i,afternoon:/ap/i,evening:/soir/i,night:/nuit/i}},defaultParseWidth:"any"})},options:{weekStartsOn:1,firstWeekContainsDate:4}},Lh=()=>{var e,r,n,s,a;const{conversations:i,sendMessage:o,markAsRead:l,getConversationMessages:c,loading:d,editMessage:u,deleteMessage:m,deleteConversation:h}=Sr(),{user:p}=yr(),f=J(),[x,g]=(0,t.useState)(null),[v,y]=(0,t.useState)(""),[b,j]=(0,t.useState)([]),[w,N]=(0,t.useState)(!1),[k,S]=(0,t.useState)(new Set),[C,E]=(0,t.useState)(!1),A=(0,t.useRef)(null),[P,T]=(0,t.useState)(null),[M,L]=(0,t.useState)(new Set),R=i.find(e=>e.id===x),D=(0,t.useCallback)(async e=>{if(!c)return;const t=await c(e);j(t)},[c]);(0,t.useEffect)(()=>{x&&D(x)},[x,D]),(0,t.useEffect)(()=>{var e;null===(e=A.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})},[b]),(0,t.useEffect)(()=>{if(x&&p&&l){const e=b.filter(e=>e.receiverId===p.id&&!e.isRead);e.length>0&&S(e=>new Set([...e,x])),e.forEach(async e=>{try{await l(e.id)}catch(t){console.error("Erreur marquage comme lu:",t)}})}},[x,b,p,l]);const F=async()=>{if(!v.trim()||!R||!p||w)return;const e=R.participants.find(e=>e.id!==p.id);if(e){N(!0);try{await o(e.id,v),y(""),x&&await D(x)}catch(t){console.error("Erreur lors de l'envoi du message:",t)}finally{N(!1)}}};(0,t.useEffect)(()=>{i.length>0&&!x&&!d&&!C&&g(i[0].id)},[i,x,d,C]),(0,t.useEffect)(()=>{const e=new URLSearchParams(f.search),t=e.get("to"),r=e.get("prefill");if(!t||0===i.length)return;const n=i.find(e=>e.participants.some(e=>String(e.id)===String(t)));n&&(g(n.id),r&&y(r))},[f.search,i]),(0,t.useEffect)(()=>{x&&E(!1)},[x]),(0,t.useEffect)(()=>{if(!p)return;const e="hidden_conversations_".concat(p.id);try{const t=localStorage.getItem(e);t&&L(new Set(JSON.parse(t)))}catch($p){}},[p]);const I=e=>{L(t=>{const r=new Set(t);return r.add(e),(e=>{if(!p)return;const t="hidden_conversations_".concat(p.id);try{localStorage.setItem(t,JSON.stringify(Array.from(e)))}catch(r){}})(r),r}),x===e&&g(null),T(null)};(0,t.useEffect)(()=>{const e=()=>T(null);return document.addEventListener("click",e),()=>document.removeEventListener("click",e)},[]);return p?(0,Me.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,Me.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,Me.jsxs)("div",{className:"mb-8",children:[(0,Me.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Messages"}),(0,Me.jsx)("p",{className:"text-gray-600",children:"Communiquez avec les propri\xe9taires et les \xe9tudiants"})]}),(0,Me.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:(0,Me.jsxs)("div",{className:"flex h-[600px]",children:[(0,Me.jsxs)("div",{className:"w-1/3 border-r border-gray-200 flex flex-col",children:[(0,Me.jsx)("div",{className:"p-4 border-b border-gray-200",children:(0,Me.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Conversations"})}),(0,Me.jsx)("div",{className:"flex-1 overflow-y-auto",children:d?(0,Me.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,Me.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):0===i.filter(e=>!M.has(e.id)).length?(0,Me.jsxs)("div",{className:"flex flex-col items-center justify-center h-full text-gray-500",children:[(0,Me.jsx)(Vd,{className:"w-12 h-12 mb-4"}),(0,Me.jsx)("p",{className:"text-center",children:"Aucune conversation"}),(0,Me.jsx)("p",{className:"text-sm text-center mt-2",children:"Commencez une nouvelle conversation depuis une annonce"})]}):(0,Me.jsx)("div",{className:"space-y-1",children:i.filter(e=>!M.has(e.id)).map(e=>{const t=e.participants.find(e=>e.id!==p.id);if(!t)return null;const r=(e=>{if(x===e.id)return 0;if(k.has(e.id))return 0;const t=e.lastMessage;if(!t)return 0;const r=String(t.senderId)!==String(null===p||void 0===p?void 0:p.id),n=!t.isRead;return r&&n?1:0})(e);return(0,Me.jsx)("button",{onClick:()=>{g(e.id),T(null)},className:"w-full p-4 text-left hover:bg-gray-50 transition-colors ".concat(x===e.id?"bg-primary-50 border-r-2 border-primary-500":""),children:(0,Me.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Me.jsx)("div",{className:"w-10 h-10 bg-primary-100 rounded-full flex items-center justify-center",children:(0,Me.jsxs)("span",{className:"text-primary-600 font-medium text-sm",children:[t.firstName[0],t.lastName[0]]})}),(0,Me.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Me.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Me.jsxs)("h3",{className:"text-sm font-medium text-gray-900 truncate",children:[t.firstName," ",t.lastName]}),(0,Me.jsxs)("div",{className:"flex items-center space-x-2",onClick:e=>e.stopPropagation(),children:[r>0&&(0,Me.jsx)("span",{className:"bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:r}),(0,Me.jsxs)("div",{className:"relative",children:[(0,Me.jsx)("button",{className:"p-1 text-gray-400 hover:text-gray-600 rounded hover:bg-gray-100",title:"Options",onClick:t=>{t.stopPropagation(),T(t=>t===e.id?null:e.id)},children:(0,Me.jsx)(Um,{className:"w-5 h-5"})}),P===e.id&&(0,Me.jsx)("div",{className:"absolute right-0 mt-1 bg-white border border-gray-200 rounded shadow z-10",children:(0,Me.jsx)("button",{className:"block w-full text-left px-3 py-2 text-sm text-gray-700 hover:bg-gray-100",onClick:()=>I(e.id),children:"Supprimer pour moi"})})]})]})]}),e.lastMessage&&(0,Me.jsx)("p",{className:"text-sm truncate ".concat(r>0?"text-gray-900 font-medium":"text-gray-500"),children:e.lastMessage.content}),(0,Me.jsx)("p",{className:"text-xs text-gray-400",children:e.lastMessage&&Sh(new Date(e.lastMessage.createdAt),{addSuffix:!0,locale:Mh})})]})]})},e.id)})})})]}),(0,Me.jsx)("div",{className:"flex-1 flex flex-col",children:R?(0,Me.jsxs)(Me.Fragment,{children:[(0,Me.jsxs)("div",{className:"p-4 border-b border-gray-200 flex items-center justify-between",children:[(0,Me.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Me.jsx)("div",{className:"w-10 h-10 bg-primary-100 rounded-full flex items-center justify-center",children:(0,Me.jsxs)("span",{className:"text-primary-600 font-medium text-sm",children:[null===(e=R.participants.find(e=>e.id!==p.id))||void 0===e?void 0:e.firstName[0],null===(r=R.participants.find(e=>e.id!==p.id))||void 0===r?void 0:r.lastName[0]]})}),(0,Me.jsxs)("div",{children:[(0,Me.jsxs)("h3",{className:"text-lg font-semibold text-gray-900",children:[null===(n=R.participants.find(e=>e.id!==p.id))||void 0===n?void 0:n.firstName," ",null===(s=R.participants.find(e=>e.id!==p.id))||void 0===s?void 0:s.lastName]}),(0,Me.jsx)("p",{className:"text-sm text-gray-500",children:"student"===(null===(a=R.participants.find(e=>e.id!==p.id))||void 0===a?void 0:a.userType)?"\xc9tudiant":"Propri\xe9taire"})]})]}),(0,Me.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Me.jsx)("button",{onClick:()=>{g(null),y(""),E(!0)},className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-full transition-colors",title:"Fermer la conversation",children:(0,Me.jsx)(su,{className:"w-5 h-5"})}),(0,Me.jsx)("button",{onClick:async()=>{if(x&&window.confirm("Supprimer cette conversation ? Cette action est irr\xe9versible."))try{await h(x),g(null)}catch(e){}},className:"text-sm text-red-600 hover:text-red-700",title:"Supprimer la conversation",children:"Supprimer"})]})]}),(0,Me.jsx)("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:0===b.length?(0,Me.jsxs)("div",{className:"flex flex-col items-center justify-center h-full text-gray-500",children:[(0,Me.jsx)(Vd,{className:"w-12 h-12 mb-4"}),(0,Me.jsx)("p",{children:"Aucun message dans cette conversation"}),(0,Me.jsx)("p",{className:"text-sm",children:"Envoyez le premier message !"})]}):(0,Me.jsx)(Me.Fragment,{children:b.map(e=>{const t=String(e.senderId)===String(p.id);return(0,Me.jsx)("div",{className:"flex ".concat(t?"justify-end":"justify-start"," mb-2"),children:(0,Me.jsxs)("div",{className:"max-w-[75%] px-4 py-2 rounded-2xl shadow-sm ".concat(t?"bg-primary-600 text-white rounded-br-none":"bg-gray-100 text-gray-900 rounded-bl-none border border-gray-200"),children:[(0,Me.jsx)("p",{className:"text-sm break-words",children:e.content}),(0,Me.jsxs)("div",{className:"flex items-center justify-end mt-1 space-x-1 text-xs ".concat(t?"text-primary-100":"text-gray-500"),children:[(0,Me.jsx)("span",{children:Sh(new Date(e.createdAt),{addSuffix:!0,locale:Mh})}),t&&(0,Me.jsx)("div",{className:"flex items-center",children:e.isRead?(0,Me.jsx)(Gu,{className:"w-3 h-3"}):(0,Me.jsx)(Hm,{className:"w-3 h-3"})})]}),t&&(0,Me.jsxs)("div",{className:"mt-1 flex justify-end space-x-1 text-xs",children:[(0,Me.jsx)("button",{className:"p-1 rounded-full text-blue-600 hover:text-blue-700 hover:bg-blue-50",title:"Modifier le message",onClick:async()=>{const t=prompt("Modifier le message:",e.content);if(null!==t&&t.trim()&&t!==e.content)try{await u(e.id,t)}catch(r){}},children:(0,Me.jsx)(Ou,{className:"w-4 h-4"})}),(0,Me.jsx)("button",{className:"p-1 rounded-full text-red-600 hover:text-red-700 hover:bg-red-50",title:"Supprimer le message",onClick:async()=>{if(window.confirm("Supprimer ce message ?"))try{await m(e.id)}catch(t){}},children:(0,Me.jsx)(Ym,{className:"w-4 h-4"})})]})]})},e.id)})})}),(0,Me.jsx)("div",{className:"p-4 border-t border-gray-200",children:(0,Me.jsxs)("div",{className:"flex space-x-2",children:[(0,Me.jsx)("textarea",{value:v,onChange:e=>y(e.target.value),onKeyPress:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),F())},placeholder:"Tapez votre message...",rows:2,className:"flex-1 input-field resize-none",disabled:w}),(0,Me.jsx)("button",{onClick:F,disabled:!v.trim()||w,className:"btn-primary flex items-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed",children:w?(0,Me.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):(0,Me.jsx)(Gm,{className:"w-4 h-4"})})]})})]}):(0,Me.jsx)("div",{className:"flex-1 flex items-center justify-center text-gray-500",children:(0,Me.jsxs)("div",{className:"text-center",children:[(0,Me.jsx)(Vd,{className:"w-16 h-16 mx-auto mb-4"}),(0,Me.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:0===i.length?"Aucune conversation":"S\xe9lectionnez une conversation"}),(0,Me.jsx)("p",{children:0===i.length?"Commencez une nouvelle conversation depuis une annonce":"Choisissez une conversation pour commencer \xe0 discuter"})]})})})]})})]})}):(0,Me.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,Me.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-600"})})},Rh=()=>{const{announcements:e,loading:r}=Ar(),{user:n}=yr(),s=K(),{sendMessage:a}=Sr(),[i,o]=(0,t.useState)(""),[l,c]=(0,t.useState)(1),[d,u]=(0,t.useState)(!1),[m,h]=(0,t.useState)(""),[p,f]=(0,t.useState)(null),{checkVerification:x,showVerificationModal:g,setShowVerificationModal:v}=mu(),y=(0,t.useMemo)(()=>i?e.filter(e=>{var t,r,n,s,a;return(null===(t=e.content)||void 0===t?void 0:t.toLowerCase().includes(i.toLowerCase()))||(null===(r=e.author)||void 0===r||null===(n=r.firstName)||void 0===n?void 0:n.toLowerCase().includes(i.toLowerCase()))||(null===(s=e.author)||void 0===s||null===(a=s.lastName)||void 0===a?void 0:a.toLowerCase().includes(i.toLowerCase()))}):e,[e,i]),b=(0,t.useMemo)(()=>{const e=9*(l-1);return y.slice(e,e+9)},[y,l]),j=Math.ceil(y.length/9);return(0,Me.jsxs)("div",{className:"min-h-screen bg-gray-50 py-8",children:[(0,Me.jsx)(du,{isOpen:g,onClose:()=>v(!1),backButtonText:"Retour aux annonces"}),(0,Me.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,Me.jsx)("div",{className:"mb-8",children:(0,Me.jsx)("div",{className:"max-w-2xl mx-auto",children:(0,Me.jsxs)("div",{className:"relative",children:[(0,Me.jsx)(Wd,{className:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2"}),(0,Me.jsx)("input",{type:"text",placeholder:"Rechercher une annonce par contenu ou nom d'auteur...",value:i,onChange:e=>{o(e.target.value),c(1)},className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-white text-gray-900 placeholder-gray-500"})]})})}),(0,Me.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Annonces des \xe9tudiants"}),(0,Me.jsx)("p",{className:"text-gray-600",children:"Recherches de colocation publi\xe9es par les \xe9tudiants"})]}),"student"===(null===n||void 0===n?void 0:n.userType)&&(0,Me.jsxs)("button",{onClick:e=>{e.preventDefault(),x(e)&&s("/create-announcement")},className:"btn-primary flex items-center space-x-2",children:[(0,Me.jsx)(Iu,{className:"w-4 h-4"}),(0,Me.jsx)("span",{children:"Publier une annonce"})]})]}),r?(0,Me.jsx)("div",{className:"flex items-center justify-center py-24",children:(0,Me.jsx)("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-primary-600"})}):0===y.length?(0,Me.jsxs)("div",{className:"text-center py-24",children:[(0,Me.jsx)(Uu,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,Me.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:i?"Aucune annonce trouv\xe9e":"Aucune annonce pour le moment"}),(0,Me.jsx)("p",{className:"text-gray-600 mb-4",children:i?"Essayez avec d'autres termes de recherche":"Soyez le premier \xe0 publier une annonce de colocation."}),"student"===(null===n||void 0===n?void 0:n.userType)&&!i&&(0,Me.jsx)("button",{onClick:e=>{e.preventDefault(),x(e)&&s("/create-announcement")},className:"btn-primary",children:"Publier"})]}):(0,Me.jsxs)(Me.Fragment,{children:[(0,Me.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:b.map(e=>{var t,r,a;return(0,Me.jsxs)("div",{className:"bg-white rounded-lg shadow-md overflow-hidden flex flex-col h-full",children:[e.images&&e.images.length>0?(0,Me.jsx)("img",{src:(a=e.images[0],a?a.startsWith("http")?a:a.startsWith("/")?"http://localhost".concat(a):a:"/api/placeholder/400/300"),alt:"annonce",className:"w-full h-40 object-cover"}):(0,Me.jsx)("div",{className:"h-40 bg-gray-100 flex items-center justify-center text-gray-400",children:(0,Me.jsx)(Uu,{className:"w-12 h-12"})}),(0,Me.jsxs)("div",{className:"p-4 flex flex-col flex-grow",children:[(0,Me.jsxs)("div",{className:"flex-grow",children:[(0,Me.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Me.jsx)("div",{className:"font-semibold text-gray-900 truncate",children:e.author?"".concat(e.author.firstName," ").concat(e.author.lastName):"Utilisateur inconnu"}),(0,Me.jsx)("div",{className:"text-xs text-gray-500",children:Sh(new Date(e.createdAt),{addSuffix:!0,locale:Mh})})]}),(0,Me.jsx)("p",{className:"text-sm text-gray-700 line-clamp-3 mb-3",children:e.content})]}),(0,Me.jsx)("div",{className:"flex items-center justify-between mt-4 pt-3 border-t border-gray-100",children:(0,Me.jsxs)("div",{className:"flex gap-2 flex-1",children:[(0,Me.jsx)(Ae,{to:"/announcements/".concat(e.id),className:"btn-secondary flex-1 text-center",children:"Voir d\xe9tails"}),n&&Number(null===(t=e.author)||void 0===t?void 0:t.id)===Number(n.id)&&(0,Me.jsx)("button",{onClick:()=>s("/edit-announcement/".concat(e.id)),className:"btn-primary flex items-center justify-center space-x-2 flex-1",title:"Modifier mon annonce",children:(0,Me.jsx)("span",{children:"Modifier"})}),n&&Number(null===(r=e.author)||void 0===r?void 0:r.id)!==Number(n.id)&&(0,Me.jsxs)("button",{onClick:t=>((e,t)=>{var r,a;e.preventDefault(),x(e)&&(n?n&&Number(null===(r=t.author)||void 0===r?void 0:r.id)===Number(n.id)||(f(t),u(!0),h("Bonjour ".concat((null===(a=t.author)||void 0===a?void 0:a.firstName)||"",", je suis int\xe9ress\xe9(e) par votre annonce de recherche de colocation."))):s("/login"))})(t,e),className:"btn-primary flex items-center justify-center space-x-2 flex-1",children:[(0,Me.jsx)(Vd,{className:"w-4 h-4"}),(0,Me.jsx)("span",{children:"Contacter"})]})]})})]})]},e.id)})}),j>1&&(0,Me.jsxs)("div",{className:"flex justify-center items-center space-x-4 mt-8",children:[(0,Me.jsx)("button",{onClick:()=>c(e=>Math.max(e-1,1)),disabled:1===l,className:"px-4 py-2 border border-gray-300 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Pr\xe9c\xe9dent"}),(0,Me.jsxs)("span",{className:"text-gray-600",children:["Page ",l," sur ",j]}),(0,Me.jsx)("button",{onClick:()=>c(e=>Math.min(e+1,j)),disabled:l===j,className:"px-4 py-2 border border-gray-300 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Suivant"})]})]})]})]})},Dh=["title","titleId"];function Fh(e,r){let{title:n,titleId:s}=e,a=(0,Ps.A)(e,Dh);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":s},a),n?t.createElement("title",{id:s},n):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 3v1.5M3 21v-6m0 0 2.77-.693a9 9 0 0 1 6.208.682l.108.054a9 9 0 0 0 6.086.71l3.114-.732a48.524 48.524 0 0 1-.005-10.499l-3.11.732a9 9 0 0 1-6.085-.711l-.108-.054a9 9 0 0 0-6.208-.682L3 4.5M3 15V4.5"}))}const Ih=t.forwardRef(Fh),_h=["title","titleId"];function zh(e,r){let{title:n,titleId:s}=e,a=(0,Ps.A)(e,_h);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":s},a),n?t.createElement("title",{id:s},n):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.625 9.75a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0H8.25m4.125 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0H12m4.125 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0h-.375m-13.5 3.01c0 1.6 1.123 2.994 2.707 3.227 1.087.16 2.185.283 3.293.369V21l4.184-4.183a1.14 1.14 0 0 1 .778-.332 48.294 48.294 0 0 0 5.83-.498c1.585-.233 2.708-1.626 2.708-3.228V6.741c0-1.602-1.123-2.995-2.707-3.228A48.394 48.394 0 0 0 12 3c-2.392 0-4.744.175-7.043.513C3.373 3.746 2.25 5.14 2.25 6.741v6.018Z"}))}const Oh=t.forwardRef(zh),Vh=["title","titleId"];function Bh(e,r){let{title:n,titleId:s}=e,a=(0,Ps.A)(e,Vh);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":s},a),n?t.createElement("title",{id:s},n):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 21h16.5M4.5 3h15M5.25 3v18m13.5-18v18M9 6.75h1.5m-1.5 3h1.5m-1.5 3h1.5m3-6H15m-1.5 3H15m-1.5 3H15M9 21v-3.375c0-.621.504-1.125 1.125-1.125h3.75c.621 0 1.125.504 1.125 1.125V21"}))}const Uh=t.forwardRef(Bh),Wh=()=>{var e,r,n,s,a,i;const{id:o}=Q(),l=K(),{announcements:c}=Ar(),{user:d}=yr(),{showVerificationModal:u,setShowVerificationModal:m,checkVerification:h}=uu(),[p,f]=t.useState(!1),[x,g]=t.useState(null),[v,y]=t.useState([]),[b,j]=t.useState(!1),[w,N]=t.useState(!1),[k,S]=t.useState(""),{sendMessage:C}=Sr(),[E,A]=(0,t.useState)(!1);t.useEffect(()=>{const e=c.find(e=>String(e.id)===String(o));if(e)return g(e),void P(e);(async()=>{f(!0);try{const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL||"http://localhost:5000",t=await fetch("".concat(e,"/api/announcements/get_by_id/").concat(o)),r=await t.json();t.ok&&r.success?(g(r.data),P(r.data)):g(null)}catch(Ke){console.error("Erreur chargement annonce:",Ke),g(null)}finally{f(!1)}})()},[o,c]);const P=e=>{if(!e||!e.author)return void y([]);const t=c.filter(t=>{var r,n,s;return String(t.id)!==String(o)&&"student"===(null===(r=t.author)||void 0===r?void 0:r.userType)&&(null===(n=t.author)||void 0===n?void 0:n.id)!==(null===(s=e.author)||void 0===s?void 0:s.id)}).slice(0,4);y(t)},T=e=>e?e.startsWith("http")?e:e.startsWith("/")?"http://localhost".concat(e):e:"/api/placeholder/400/300";if(!o)return(0,Me.jsx)("div",{className:"p-6",children:"Annonce invalide"});if(p)return(0,Me.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,Me.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})});if(!x)return(0,Me.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,Me.jsxs)("div",{className:"text-center",children:[(0,Me.jsx)("div",{className:"text-gray-700 mb-4 text-lg",children:"Annonce introuvable."}),(0,Me.jsx)("button",{onClick:()=>l(-1),className:"btn-secondary",children:"Retour"})]})});const M=x.content.length>300,L=E?x.content:x.content.slice(0,300)+(M?"...":""),R=d&&Number(null===(e=x.author)||void 0===e?void 0:e.id)===Number(d.id);let D=0;try{D=Math.floor(((new Date).getTime()-new Date(x.createdAt).getTime())/864e5)}catch(Ke){}return(0,Me.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-blue-50 py-8",children:[(0,Me.jsx)(du,{isOpen:u,onClose:()=>m(!1),backButtonText:"Retour \xe0 l'annonce"}),(0,Me.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,Me.jsxs)("div",{className:"mb-8",children:[(0,Me.jsxs)("nav",{className:"flex items-center space-x-2 text-sm text-gray-600 mb-6",children:[(0,Me.jsx)(Ae,{to:"/",className:"hover:text-primary-600 transition-colors",children:"Accueil"}),(0,Me.jsx)("span",{children:"\u203a"}),(0,Me.jsx)(Ae,{to:"/announcements",className:"hover:text-primary-600 transition-colors",children:"Annonces"}),(0,Me.jsx)("span",{children:"\u203a"}),(0,Me.jsx)("span",{className:"text-gray-900 font-medium",children:"D\xe9tails de l'annonce"})]}),(0,Me.jsxs)("div",{className:"flex justify-between items-start",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("h1",{className:"text-4xl font-bold text-gray-900 mb-3",children:"Recherche de colocation"}),(0,Me.jsxs)("div",{className:"flex items-center space-x-4 text-gray-600",children:[(0,Me.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Me.jsx)(Kd,{className:"w-5 h-5"}),(0,Me.jsxs)("span",{children:["Publi\xe9e ",D<=0?"aujourd'hui":"il y a ".concat(D," jour").concat(D>1?"s":"")]})]}),(0,Me.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Me.jsx)(wu,{className:"w-5 h-5"}),(0,Me.jsxs)("span",{children:[x.views||0," vues"]})]})]})]}),(0,Me.jsxs)("div",{className:"flex space-x-3",children:[(0,Me.jsx)("button",{onClick:()=>{j(!b)},className:"p-3 rounded-full border transition-all ".concat(b?"bg-red-50 border-red-200 text-red-600":"bg-white border-gray-300 text-gray-600 hover:border-red-300 hover:text-red-500"),title:b?"Retirer des favoris":"Sauvegarder",children:(0,Me.jsx)(Xd,{className:"w-5 h-5 ".concat(b?"fill-current":"")})}),(0,Me.jsx)("button",{onClick:async()=>{if(x)if(navigator.share)try{var e,t;await navigator.share({title:"Annonce de ".concat(null===(e=x.author)||void 0===e?void 0:e.firstName," ").concat(null===(t=x.author)||void 0===t?void 0:t.lastName),text:x.content,url:window.location.href})}catch(r){console.log("Partage annul\xe9")}else navigator.clipboard.writeText(window.location.href),mr.success("Lien copi\xe9 dans le presse-papiers !")},className:"p-3 rounded-full bg-white border border-gray-300 text-gray-600 hover:border-primary-300 hover:text-primary-600 transition-all",title:"Partager",children:(0,Me.jsx)(dm,{className:"w-5 h-5"})}),!R&&(0,Me.jsx)("button",{onClick:()=>{mr.success("Fonctionnalit\xe9 de signalement \xe0 impl\xe9menter")},className:"p-3 rounded-full bg-white border border-gray-300 text-gray-600 hover:border-red-300 hover:text-red-600 transition-all",title:"Signaler",children:(0,Me.jsx)(Ih,{className:"w-5 h-5"})})]})]})]}),(0,Me.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[(0,Me.jsxs)("div",{className:"lg:col-span-3 space-y-8",children:[(0,Me.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-200 overflow-hidden",children:[(0,Me.jsx)("div",{className:"p-8 border-b border-gray-200",children:(0,Me.jsxs)("div",{className:"flex items-start justify-between",children:[(0,Me.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Me.jsx)("div",{className:"w-16 h-16 bg-gradient-to-br from-primary-500 to-primary-600 rounded-full flex items-center justify-center shadow-lg",children:(0,Me.jsx)(Am,{className:"w-8 h-8 text-white"})}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:x.author?"".concat(x.author.firstName," ").concat(x.author.lastName):"Utilisateur inconnu"}),(0,Me.jsxs)("div",{className:"flex items-center space-x-4 text-gray-600 mt-2",children:[(0,Me.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Me.jsx)(Kd,{className:"w-4 h-4"}),(0,Me.jsx)("span",{className:"text-sm",children:(e=>{try{const t=new Date(e);return isNaN(t.getTime())?"Date invalide":t.toLocaleDateString("fr-FR",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})}catch(Ke){return"Date indisponible"}})(x.createdAt)})]}),x.budget&&(0,Me.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Me.jsx)(Hu,{className:"w-4 h-4"}),(0,Me.jsxs)("span",{className:"text-sm font-semibold text-primary-600",children:["Budget: ",Number(x.budget).toLocaleString()," Ar/mois"]})]})]})]})]}),x.budget&&(0,Me.jsxs)("div",{className:"text-right bg-gradient-to-br from-primary-50 to-blue-50 rounded-xl p-4 border border-primary-200",children:[(0,Me.jsx)("div",{className:"text-sm text-gray-600",children:"Budget maximum"}),(0,Me.jsxs)("div",{className:"text-3xl font-bold text-primary-600",children:[Number(x.budget).toLocaleString()," Ar"]}),(0,Me.jsx)("div",{className:"text-xs text-gray-500",children:"/mois"})]})]})}),x.images&&x.images.length>0&&(0,Me.jsxs)("div",{className:"p-8 border-b border-gray-200",children:[(0,Me.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Me.jsx)("h3",{className:"text-xl font-semibold text-gray-900",children:"Galerie photos"}),(0,Me.jsxs)("span",{className:"text-sm text-gray-500",children:[x.images.length," photo(s)"]})]}),(0,Me.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:x.images.map((e,t)=>(0,Me.jsxs)("div",{className:"relative rounded-xl overflow-hidden cursor-pointer transform transition-all hover:scale-105 ".concat(0===t?"md:col-span-2 lg:col-span-2":""),onClick:()=>window.open(T(e),"_blank"),children:[(0,Me.jsx)("img",{src:T(e),alt:"annonce ".concat(t+1),className:"w-full h-64 object-cover"}),0===t&&(0,Me.jsx)("div",{className:"absolute top-4 left-4 bg-primary-600 text-white px-3 py-1 rounded-full text-sm font-semibold",children:"Photo principale"})]},t))})]}),(0,Me.jsxs)("div",{className:"p-8 border-b border-gray-200",children:[(0,Me.jsxs)("h3",{className:"text-xl font-semibold text-gray-900 mb-6 flex items-center space-x-2",children:[(0,Me.jsx)(Oh,{className:"w-6 h-6 text-primary-600"}),(0,Me.jsx)("span",{children:"Description de la recherche"})]}),(0,Me.jsxs)("div",{className:"bg-gradient-to-br from-gray-50 to-blue-50 rounded-2xl p-8",children:[(0,Me.jsx)("p",{className:"text-gray-800 leading-relaxed text-lg whitespace-pre-wrap break-words",children:L}),M&&(0,Me.jsx)("button",{onClick:()=>A(!E),className:"mt-4 text-primary-600 hover:text-primary-800 font-medium transition-colors",children:E?"Afficher moins \u25b2":"Afficher plus \u25bc"})]})]}),(0,Me.jsx)("div",{className:"p-8",children:(0,Me.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[(0,Me.jsxs)("div",{className:"bg-gradient-to-br from-primary-50 to-primary-100 rounded-2xl p-6",children:[(0,Me.jsxs)("h4",{className:"font-semibold text-gray-900 mb-4 flex items-center space-x-2",children:[(0,Me.jsx)(Md,{className:"w-5 h-5 text-primary-600"}),(0,Me.jsx)("span",{children:"Pr\xe9f\xe9rences de colocation"})]}),(0,Me.jsx)("div",{className:"space-y-3",children:(null===(r=x.preferences)||void 0===r?void 0:r.length)>0?x.preferences.map((e,t)=>(0,Me.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Me.jsx)("div",{className:"w-2 h-2 bg-primary-500 rounded-full"}),(0,Me.jsx)("span",{className:"text-gray-700",children:e})]},t)):(0,Me.jsx)("p",{className:"text-gray-600 italic",children:"Aucune pr\xe9f\xe9rence sp\xe9cifique mentionn\xe9e"})})]}),(0,Me.jsxs)("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-2xl p-6",children:[(0,Me.jsxs)("h4",{className:"font-semibold text-gray-900 mb-4 flex items-center space-x-2",children:[(0,Me.jsx)(_m,{className:"w-5 h-5 text-blue-600"}),(0,Me.jsx)("span",{children:"Informations \xe9tudiantes"})]}),(0,Me.jsxs)("div",{className:"space-y-4",children:[(0,Me.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-blue-200",children:[(0,Me.jsx)("span",{className:"text-gray-700",children:"Statut:"}),(0,Me.jsx)("span",{className:"font-semibold text-gray-900",children:"student"===(null===(n=x.author)||void 0===n?void 0:n.userType)?"\ud83c\udf93 \xc9tudiant":"Non sp\xe9cifi\xe9"})]}),(0,Me.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-blue-200",children:[(0,Me.jsx)("span",{className:"text-gray-700",children:"Universit\xe9:"}),(0,Me.jsx)("span",{className:"font-semibold text-gray-900",children:x.university||"Non sp\xe9cifi\xe9e"})]}),(0,Me.jsxs)("div",{className:"flex justify-between items-center py-2",children:[(0,Me.jsx)("span",{className:"text-gray-700",children:"Ann\xe9e d'\xe9tude:"}),(0,Me.jsx)("span",{className:"font-semibold text-gray-900",children:x.studyYear||"Non sp\xe9cifi\xe9e"})]})]})]})]})})]}),v.length>0&&(0,Me.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-200 p-8",children:[(0,Me.jsx)("h3",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Annonces similaires"}),(0,Me.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:v.map(e=>{var t,r;return(0,Me.jsxs)(Ae,{to:"/announcements/".concat(e.id),className:"group border border-gray-200 rounded-xl p-4 hover:border-primary-300 hover:shadow-lg transition-all duration-300",children:[(0,Me.jsxs)("div",{className:"flex items-center space-x-3 mb-3",children:[(0,Me.jsx)("div",{className:"w-10 h-10 bg-primary-100 rounded-full flex items-center justify-center",children:(0,Me.jsx)(Am,{className:"w-5 h-5 text-primary-600"})}),(0,Me.jsxs)("div",{children:[(0,Me.jsxs)("h4",{className:"font-semibold text-gray-900 group-hover:text-primary-600 transition-colors",children:[null===(t=e.author)||void 0===t?void 0:t.firstName," ",null===(r=e.author)||void 0===r?void 0:r.lastName]}),(0,Me.jsx)("p",{className:"text-xs text-gray-500",children:Sh(new Date(e.createdAt),{addSuffix:!0,locale:Mh})})]})]}),(0,Me.jsx)("p",{className:"text-gray-700 text-sm line-clamp-2 mb-2",children:e.content}),e.budget&&(0,Me.jsxs)("div",{className:"text-primary-600 font-semibold text-sm",children:["Budget: ",Number(e.budget).toLocaleString()," Ar/mois"]})]},e.id)})})]})]}),(0,Me.jsxs)("div",{className:"space-y-6",children:[(0,Me.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-200 p-6",children:[(0,Me.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Contacter ",null===(s=x.author)||void 0===s?void 0:s.firstName]}),R?(0,Me.jsxs)("div",{className:"text-center py-4",children:[(0,Me.jsx)("div",{className:"w-16 h-16 bg-primary-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,Me.jsx)(Am,{className:"w-8 h-8 text-primary-600"})}),(0,Me.jsx)("p",{className:"text-gray-600 mb-4",children:"C'est votre annonce"}),(0,Me.jsx)("button",{onClick:()=>l("/dashboard"),className:"w-full btn-primary py-3",children:"G\xe9rer mes annonces"})]}):(0,Me.jsxs)("div",{className:"space-y-4",children:[(0,Me.jsx)("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-xl p-4 border border-green-200",children:(0,Me.jsx)("p",{className:"text-sm text-green-800 text-center",children:"\ud83d\udccd Recherche active dans votre r\xe9gion"})}),(0,Me.jsxs)("div",{className:"space-y-3",children:[(0,Me.jsxs)("button",{onClick:e=>{e.preventDefault(),h(e)&&N(!0)},className:"flex-1 btn-primary flex items-center justify-center space-x-2",children:[(0,Me.jsx)(Vd,{className:"w-4 h-4"}),(0,Me.jsx)("span",{children:"Contacter"})]}),(null===(a=x.author)||void 0===a?void 0:a.phone)&&(0,Me.jsxs)("a",{href:"tel:".concat(x.author.phone),className:"w-full btn-secondary py-3 flex items-center justify-center space-x-2 text-lg",children:[(0,Me.jsx)(hm,{className:"w-5 h-5"}),(0,Me.jsx)("span",{children:"Appeler maintenant"})]})]}),(0,Me.jsx)("div",{className:"pt-4 border-t border-gray-200",children:(0,Me.jsxs)("div",{className:"text-xs text-gray-500 space-y-2",children:[(0,Me.jsx)("p",{children:"\ud83d\udca1 Pr\xe9sentez-vous bri\xe8vement dans votre message"}),(0,Me.jsx)("p",{children:"\ud83c\udfe0 Pr\xe9cisez vos disponibilit\xe9s pour une visite"}),(0,Me.jsx)("p",{children:"\ud83d\udcb0 N\xe9gociez le budget si n\xe9cessaire"})]})})]})]}),(0,Me.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-200 p-6",children:[(0,Me.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Statistiques de l'annonce"}),(0,Me.jsxs)("div",{className:"space-y-4",children:[(0,Me.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-gray-200",children:[(0,Me.jsxs)("span",{className:"text-gray-600 flex items-center space-x-2",children:[(0,Me.jsx)(wu,{className:"w-4 h-4"}),(0,Me.jsx)("span",{children:"Vues totales:"})]}),(0,Me.jsx)("span",{className:"font-semibold text-gray-900",children:x.views||0})]}),(0,Me.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-gray-200",children:[(0,Me.jsxs)("span",{className:"text-gray-600 flex items-center space-x-2",children:[(0,Me.jsx)(Oh,{className:"w-4 h-4"}),(0,Me.jsx)("span",{children:"Messages re\xe7us:"})]}),(0,Me.jsx)("span",{className:"font-semibold text-gray-900",children:x.messageCount||0})]}),(0,Me.jsxs)("div",{className:"flex justify-between items-center py-2",children:[(0,Me.jsxs)("span",{className:"text-gray-600 flex items-center space-x-2",children:[(0,Me.jsx)(Xd,{className:"w-4 h-4"}),(0,Me.jsx)("span",{children:"Favoris:"})]}),(0,Me.jsx)("span",{className:"font-semibold text-gray-900",children:x.favoriteCount||0})]})]})]}),(0,Me.jsxs)("div",{className:"bg-gradient-to-br from-orange-50 to-orange-100 rounded-2xl shadow-lg border border-orange-200 p-6",children:[(0,Me.jsxs)("h3",{className:"text-lg font-semibold text-orange-900 mb-4 flex items-center space-x-2",children:[(0,Me.jsx)(Uh,{className:"w-5 h-5"}),(0,Me.jsx)("span",{children:"Pour les propri\xe9taires"})]}),(0,Me.jsxs)("div",{className:"space-y-3 text-sm text-orange-800",children:[(0,Me.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,Me.jsx)("div",{className:"w-2 h-2 bg-orange-500 rounded-full mt-1.5 flex-shrink-0"}),(0,Me.jsx)("p",{children:"Cet \xe9tudiant recherche activement une colocation"})]}),(0,Me.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,Me.jsx)("div",{className:"w-2 h-2 bg-orange-500 rounded-full mt-1.5 flex-shrink-0"}),(0,Me.jsx)("p",{children:"R\xe9pondez rapidement pour maximiser vos chances"})]}),(0,Me.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,Me.jsx)("div",{className:"w-2 h-2 bg-orange-500 rounded-full mt-1.5 flex-shrink-0"}),(0,Me.jsx)("p",{children:"Pr\xe9parez les informations sur votre logement"})]})]})]}),(0,Me.jsxs)("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-2xl shadow-lg border border-blue-200 p-6",children:[(0,Me.jsx)("h3",{className:"text-lg font-semibold text-blue-900 mb-4",children:"\ud83d\udd12 S\xe9curit\xe9"}),(0,Me.jsxs)("div",{className:"space-y-2 text-sm text-blue-800",children:[(0,Me.jsx)("p",{children:"\u2022 Rencontrez-vous dans un lieu public"}),(0,Me.jsx)("p",{children:"\u2022 V\xe9rifiez l'identit\xe9 de l'interlocuteur"}),(0,Me.jsx)("p",{children:"\u2022 Utilisez notre messagerie s\xe9curis\xe9e"}),(0,Me.jsx)("p",{children:"\u2022 Signalez tout comportement suspect"})]})]})]})]}),(0,Me.jsx)("div",{className:"flex items-center justify-between mt-12 pt-8 border-t border-gray-200",children:(0,Me.jsxs)("button",{onClick:()=>l(-1),className:"btn-secondary flex items-center space-x-2 px-6 py-3",children:[(0,Me.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Me.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),(0,Me.jsx)("span",{children:"Retour aux annonces"})]})})]}),w&&(0,Me.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Me.jsxs)("div",{className:"bg-white rounded-lg max-w-md w-full p-6",children:[(0,Me.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Me.jsxs)("h3",{className:"text-lg font-semibold text-gray-900",children:["Envoyer un message \xe0 ",null===(i=x.author)||void 0===i?void 0:i.firstName]}),(0,Me.jsx)("button",{onClick:()=>N(!1),className:"text-gray-400 hover:text-gray-600",children:(0,Me.jsx)(su,{className:"w-5 h-5"})})]}),(0,Me.jsx)("div",{className:"mb-4",children:(0,Me.jsx)("textarea",{value:k,onChange:e=>S(e.target.value),placeholder:"Tapez votre message...",rows:4,className:"w-full input-field resize-none"})}),(0,Me.jsxs)("div",{className:"flex space-x-2",children:[(0,Me.jsx)("button",{onClick:async()=>{var e;if(k.trim())if(null!==x&&void 0!==x&&null!==(e=x.author)&&void 0!==e&&e.id)try{await C(x.author.id,k),S(""),N(!1),mr.success("Message envoy\xe9 avec succ\xe8s !")}catch(t){mr.error("Erreur lors de l'envoi du message")}else mr.error("Impossible de contacter cet utilisateur");else mr.error("Veuillez saisir un message")},className:"flex-1 btn-primary",disabled:!k.trim(),children:"Envoyer"}),(0,Me.jsx)("button",{onClick:()=>N(!1),className:"flex-1 btn-secondary",children:"Annuler"})]})]})})]})},qh=async e=>{try{var t,r;const n=new FormData;n.append("image",e);const s=await(0,hr.yX)("/api/upload/image",n);if(!s.success)throw new Error(s.message||"Erreur lors de l'upload");return(null===(t=s.data)||void 0===t?void 0:t.url)||(null===(r=s.data)||void 0===r?void 0:r.path)||""}catch(n){throw console.error("Erreur upload:",n),new Error(n.message||"Erreur lors de l'upload")}},Hh=()=>{const{user:e}=yr(),r=K(),{createAnnouncement:n}=Ar(),[s,a]=(0,t.useState)(""),[i,o]=(0,t.useState)(""),[l,c]=(0,t.useState)([]),[d,u]=(0,t.useState)(!1),m=(0,t.useRef)(null);if(!e)return(0,Me.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,Me.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-600"})});if("student"!==e.userType)return(0,Me.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:(0,Me.jsxs)("div",{className:"max-w-md w-full text-center",children:[(0,Me.jsx)(Ru,{className:"w-16 h-16 text-yellow-500 mx-auto mb-4"}),(0,Me.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"R\xe9serv\xe9 aux \xe9tudiants"}),(0,Me.jsx)("p",{className:"text-gray-600 mb-4",children:"Seuls les comptes \xe9tudiants peuvent publier une annonce de colocation."}),(0,Me.jsx)("button",{onClick:()=>r("/dashboard"),className:"w-full btn-secondary",children:"Retour"})]})});const h=(null===e||void 0===e?void 0:e.cinVerified)||(null===e||void 0===e?void 0:e.cin_verified),p=(null===e||void 0===e?void 0:e.cinPending)||(null===e||void 0===e?void 0:e.cin_verification_requested_at);if(!h&&!p)return(0,Me.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:(0,Me.jsxs)("div",{className:"max-w-md w-full text-center",children:[(0,Me.jsx)(Ru,{className:"w-16 h-16 text-yellow-500 mx-auto mb-4"}),(0,Me.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"V\xe9rification Requise"}),(0,Me.jsx)("p",{className:"text-gray-600 mb-4",children:"Vous devez v\xe9rifier votre CIN avant de pouvoir publier des annonces."}),(0,Me.jsxs)("div",{className:"space-y-3",children:[(0,Me.jsxs)(Ae,{to:"/cin-verification",className:"w-full btn-primary flex items-center justify-center space-x-2",children:[(0,Me.jsx)(cu,{className:"w-5 h-5"}),(0,Me.jsx)("span",{children:"V\xe9rifier mon CIN"})]}),(0,Me.jsx)("button",{onClick:()=>r("/dashboard"),className:"w-full btn-secondary",children:"Retour au tableau de bord"})]})]})});if(!h&&p)return(0,Me.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:(0,Me.jsxs)("div",{className:"max-w-md w-full text-center",children:[(0,Me.jsx)(em,{className:"w-16 h-16 text-blue-500 mx-auto mb-4"}),(0,Me.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"V\xe9rification en cours"}),(0,Me.jsx)("p",{className:"text-gray-600 mb-4",children:"Votre CIN est en cours de validation. Vous pourrez publier une annonce d\xe8s qu'elle sera approuv\xe9e."}),(0,Me.jsx)("button",{onClick:()=>r("/dashboard"),className:"w-full btn-secondary",children:"Retour au tableau de bord"})]})});return(0,Me.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,Me.jsxs)("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,Me.jsxs)("div",{className:"mb-8",children:[(0,Me.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Publier une annonce de colocation"}),(0,Me.jsx)("p",{className:"text-gray-600",children:"Partagez ce que vous recherchez (quartier, budget, pr\xe9f\xe9rences) et ajoutez des images si besoin."})]}),(0,Me.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),s.trim())try{mr.loading("Publication en cours...");const e=await(async()=>{if(0===l.length)return[];u(!0);try{const e=l.map(e=>e.file);return await Promise.all(e.map(qh))}finally{u(!1)}})();mr.dismiss();const t={content:s.trim(),images:e,contact:i.trim()||void 0};await n(t),l.forEach(e=>URL.revokeObjectURL(e.preview)),r("/announcements")}catch(t){mr.dismiss(),mr.error(t.message||"Erreur lors de la publication")}else mr.error("Le texte de votre annonce est requis")},className:"space-y-8 bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Texte de l'annonce *"}),(0,Me.jsx)("textarea",{value:s,onChange:e=>a(e.target.value),rows:5,className:"input-field",placeholder:"Ex: \xc9tudiant en info, je cherche une colocation \xe0 Isoraka, budget 300 000 Ar, non fumeur...",required:!0})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contact (optionnel)"}),(0,Me.jsx)("input",{value:i,onChange:e=>o(e.target.value),type:"text",className:"input-field",placeholder:"T\xe9l\xe9phone, email, etc."})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Images (max 6)"}),(0,Me.jsxs)("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:[(0,Me.jsx)("input",{ref:m,type:"file",accept:"image/*",multiple:!0,onChange:e=>{const t=e.target.files;if(!t)return;const r=[];for(let n=0;n<t.length;n++){const e=t[n];if(e.type.startsWith("image/"))if(e.size>5242880)mr.error("".concat(e.name," est trop volumineux (max 5MB)"));else{if(l.length+r.length>=6){mr.error("Maximum 6 images");break}r.push({file:e,preview:URL.createObjectURL(e),id:Math.random().toString(36).slice(2)})}else mr.error("".concat(e.name," n'est pas une image valide"))}r.length>0&&(c(e=>[...e,...r]),mr.success("".concat(r.length," image(s) ajout\xe9e(s)"))),m.current&&(m.current.value="")},className:"hidden",id:"announcementImages"}),(0,Me.jsxs)("label",{htmlFor:"announcementImages",className:"cursor-pointer inline-flex items-center space-x-2 btn-secondary",children:[(0,Me.jsx)(Uu,{className:"w-5 h-5"}),(0,Me.jsx)("span",{children:"Ajouter des images"})]}),l.length>0&&(0,Me.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3 mt-4",children:l.map((e,t)=>(0,Me.jsxs)("div",{className:"relative",children:[(0,Me.jsx)("img",{src:e.preview,alt:"preview",className:"w-full h-32 object-cover rounded-lg"}),(0,Me.jsx)("button",{type:"button",onClick:()=>{return e=t,URL.revokeObjectURL(l[e].preview),void c(t=>t.filter((t,r)=>r!==e));var e},className:"absolute top-2 right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600",children:(0,Me.jsx)(su,{className:"w-4 h-4"})})]},e.id))})]})]}),(0,Me.jsxs)("div",{className:"flex space-x-3",children:[(0,Me.jsx)("button",{type:"button",onClick:()=>r("/announcements"),className:"btn-secondary",children:"Annuler"}),(0,Me.jsx)("button",{type:"submit",disabled:d||!s.trim(),className:"btn-primary",children:"Publier"})]})]})]})})},$h=()=>{const{searchProperties:e,loading:r}=wr(),[n,s]=(0,t.useState)([]),[a,i]=(0,t.useState)({}),[o,l]=(0,t.useState)(!1),[c,d]=(0,t.useState)(""),[u,m]=(0,t.useState)(!1),h=(0,t.useCallback)(async t=>{try{const r=await e(t);s(r),m(!0)}catch(r){console.error("Erreur lors de la recherche:",r),s([]),m(!0)}},[e]);(0,t.useEffect)(()=>{u||h(a)},[a,u,h]),(0,t.useEffect)(()=>{m(!1)},[a.district,a.propertyType,a.minPrice,a.maxPrice,a.availableRooms]);const p=(e,t)=>{i(r=>(0,Ie.A)((0,Ie.A)({},r),{},{[e]:t}))},f=()=>{i({}),d(""),m(!1)},x=n.filter(e=>e.title.toLowerCase().includes(c.toLowerCase())||e.address.toLowerCase().includes(c.toLowerCase())||e.description.toLowerCase().includes(c.toLowerCase()));return(0,Me.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,Me.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,Me.jsxs)("div",{className:"mb-8",children:[(0,Me.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Rechercher un logement"}),(0,Me.jsx)("p",{className:"text-gray-600",children:"Trouvez la colocation id\xe9ale dans les meilleurs quartiers d'Antananarivo"})]}),(0,Me.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-8",children:(0,Me.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,Me.jsx)("div",{className:"flex-1",children:(0,Me.jsx)("input",{type:"text",placeholder:"Rechercher par titre, adresse ou description...",value:c,onChange:e=>d(e.target.value),className:"w-full input-field"})}),(0,Me.jsxs)("button",{onClick:()=>l(!o),className:"btn-secondary flex items-center space-x-2",children:[(0,Me.jsx)(vm,{className:"w-5 h-5"}),(0,Me.jsx)("span",{children:"Filtres"})]}),(0,Me.jsx)("button",{onClick:()=>{h(a)},className:"btn-primary",disabled:r,children:r?"Recherche...":"Rechercher"})]})}),(0,Me.jsxs)("div",{className:"flex flex-col lg:flex-row gap-8",children:[(0,Me.jsx)("div",{className:"lg:w-80 ".concat(o?"block":"hidden lg:block"),children:(0,Me.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 sticky top-8",children:[(0,Me.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Me.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Filtres"}),(0,Me.jsx)("button",{onClick:f,className:"text-sm text-primary-600 hover:text-primary-700",children:"Effacer tout"})]}),(0,Me.jsxs)("div",{className:"space-y-6",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Prix mensuel (Ar)"}),(0,Me.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,Me.jsx)("input",{type:"number",placeholder:"Min",value:a.minPrice||"",onChange:e=>p("minPrice",e.target.value?Number(e.target.value):void 0),className:"input-field text-sm"}),(0,Me.jsx)("input",{type:"number",placeholder:"Max",value:a.maxPrice||"",onChange:e=>p("maxPrice",e.target.value?Number(e.target.value):void 0),className:"input-field text-sm"})]})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Type de logement"}),(0,Me.jsxs)("select",{value:a.propertyType||"",onChange:e=>p("propertyType",e.target.value||void 0),className:"input-field",children:[(0,Me.jsx)("option",{value:"",children:"Tous les types"}),[{value:"apartment",label:"Appartement"},{value:"house",label:"Maison"},{value:"studio",label:"Studio"}].map(e=>(0,Me.jsx)("option",{value:e.value,children:e.label},e.value))]})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Quartier"}),(0,Me.jsxs)("select",{value:a.district||"",onChange:e=>p("district",e.target.value||void 0),className:"input-field",children:[(0,Me.jsx)("option",{value:"",children:"Tous les quartiers"}),["Analakely","Ambohijatovo","Ankadifotsy","Ankatso","Antaninarenina","Behoririka","Isoraka","Mahamasina","Tsaralalana","67ha"].map(e=>(0,Me.jsx)("option",{value:e,children:e},e))]})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Chambres disponibles"}),(0,Me.jsxs)("select",{value:a.availableRooms||"",onChange:e=>p("availableRooms",e.target.value?Number(e.target.value):void 0),className:"input-field",children:[(0,Me.jsx)("option",{value:"",children:"Toutes"}),(0,Me.jsx)("option",{value:"1",children:"1 chambre"}),(0,Me.jsx)("option",{value:"2",children:"2 chambres"}),(0,Me.jsx)("option",{value:"3",children:"3 chambres"}),(0,Me.jsx)("option",{value:"4",children:"4+ chambres"})]})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\xc9quipements"}),(0,Me.jsx)("div",{className:"space-y-2",children:["Internet","Eau chaude","S\xe9curit\xe9","Parking","Jardin","Climatisation","Machine \xe0 laver","Cuisine \xe9quip\xe9e","Balcon","Ascenseur"].map(e=>{var t;return(0,Me.jsxs)("label",{className:"flex items-center",children:[(0,Me.jsx)("input",{type:"checkbox",checked:(null===(t=a.amenities)||void 0===t?void 0:t.includes(e))||!1,onChange:t=>{const r=a.amenities||[];t.target.checked?p("amenities",[...r,e]):p("amenities",r.filter(t=>t!==e))},className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),(0,Me.jsx)("span",{className:"ml-2 text-sm text-gray-700",children:e})]},e)})})]})]})]})}),(0,Me.jsx)("div",{className:"flex-1",children:r&&!u?(0,Me.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,Me.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):(0,Me.jsxs)(Me.Fragment,{children:[(0,Me.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Me.jsxs)("p",{className:"text-gray-600",children:[x.length," logement(s) trouv\xe9(s)"]}),(0,Me.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Me.jsx)("span",{className:"text-sm text-gray-600",children:"Trier par:"}),(0,Me.jsxs)("select",{className:"input-field text-sm",value:a.sort||"",onChange:e=>p("sort",e.target.value||void 0),children:[(0,Me.jsx)("option",{value:"",children:"Par d\xe9faut"}),(0,Me.jsx)("option",{value:"price ASC",children:"Prix croissant"}),(0,Me.jsx)("option",{value:"price DESC",children:"Prix d\xe9croissant"}),(0,Me.jsx)("option",{value:"createdAt DESC",children:"Plus r\xe9cent"}),(0,Me.jsx)("option",{value:"createdAt ASC",children:"Plus ancien"})]})]})]}),(0,Me.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-8",children:x.map(e=>{var t;return(0,Me.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden hover:shadow-md transition-shadow",children:[(0,Me.jsx)("div",{className:"aspect-w-16 aspect-h-9 bg-gray-200",children:(0,Me.jsx)("img",{src:(0,hr.VG)(null===(t=e.images)||void 0===t?void 0:t[0]),alt:e.title,className:"w-full h-48 object-cover",onError:e=>{e.currentTarget.src="/api/placeholder/400/300"}})}),(0,Me.jsxs)("div",{className:"p-6",children:[(0,Me.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,Me.jsx)("h3",{className:"text-lg font-semibold text-gray-900 line-clamp-1",children:e.title}),(0,Me.jsx)("button",{className:"text-gray-400 hover:text-red-500 transition-colors",children:(0,Me.jsx)(Xd,{className:"w-5 h-5"})})]}),(0,Me.jsxs)("div",{className:"flex items-center text-gray-600 mb-2",children:[(0,Me.jsx)($d,{className:"w-4 h-4 mr-1"}),(0,Me.jsx)("span",{className:"text-sm",children:e.address})]}),(0,Me.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Me.jsxs)("div",{className:"flex items-center text-primary-600",children:[(0,Me.jsx)(Hu,{className:"w-4 h-4 mr-1"}),(0,Me.jsxs)("span",{className:"font-semibold",children:[e.price.toLocaleString()," Ar"]}),(0,Me.jsx)("span",{className:"text-gray-500 text-sm ml-1",children:"/mois"})]}),(0,Me.jsxs)("div",{className:"flex items-center text-gray-600",children:[(0,Me.jsx)(Dd,{className:"w-4 h-4 mr-1"}),(0,Me.jsxs)("span",{className:"text-sm",children:[e.availableRooms,"/",e.totalRooms," ch."]})]})]}),(0,Me.jsx)("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2",children:e.description}),(0,Me.jsxs)("div",{className:"flex flex-wrap gap-1 mb-4",children:[e.amenities.slice(0,3).map(e=>(0,Me.jsx)("span",{className:"badge badge-primary text-xs",children:e},e)),e.amenities.length>3&&(0,Me.jsxs)("span",{className:"badge badge-primary text-xs",children:["+",e.amenities.length-3]})]}),(0,Me.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Me.jsxs)("div",{className:"flex items-center",children:[(0,Me.jsx)("div",{className:"w-8 h-8 bg-primary-100 rounded-full flex items-center justify-center mr-2",children:(0,Me.jsx)("span",{className:"text-primary-600 font-medium text-sm",children:e.owner.firstName[0]})}),(0,Me.jsxs)("div",{children:[(0,Me.jsxs)("p",{className:"text-sm font-medium text-gray-900",children:[e.owner.firstName," ",e.owner.lastName]}),(0,Me.jsxs)("div",{className:"flex items-center",children:[[...Array(5)].map((e,t)=>(0,Me.jsx)(tu,{className:"w-3 h-3 text-yellow-400 fill-current"},t)),(0,Me.jsx)("span",{className:"text-xs text-gray-500 ml-1",children:"(4.8)"})]})]})]}),(0,Me.jsx)(Ae,{to:"/properties/".concat(e.id),className:"btn-primary text-sm",children:"Voir d\xe9tails"})]})]})]},e.id)})}),0===x.length&&u&&(0,Me.jsxs)("div",{className:"text-center py-12",children:[(0,Me.jsx)(Md,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,Me.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucun logement trouv\xe9"}),(0,Me.jsx)("p",{className:"text-gray-600 mb-4",children:"Essayez de modifier vos crit\xe8res de recherche"}),(0,Me.jsx)("button",{onClick:f,className:"btn-primary",children:"Effacer les filtres"})]})]})})]})]})})},Zh=()=>{const e=[{icon:(0,Me.jsx)(Xd,{className:"w-8 h-8 text-primary-600"}),title:"Solidarit\xe9",description:"Nous croyons en la force de la communaut\xe9 \xe9tudiante et favorisons l'entraide."},{icon:(0,Me.jsx)(_d,{className:"w-8 h-8 text-primary-600"}),title:"S\xe9curit\xe9",description:"La s\xe9curit\xe9 de nos utilisateurs est notre priorit\xe9 absolue."},{icon:(0,Me.jsx)(Dd,{className:"w-8 h-8 text-primary-600"}),title:"Inclusion",description:"Nous accueillons tous les \xe9tudiants, quelle que soit leur origine ou leur situation."},{icon:(0,Me.jsx)(Md,{className:"w-8 h-8 text-primary-600"}),title:"Qualit\xe9",description:"Nous nous engageons \xe0 offrir des logements de qualit\xe9 \xe0 des prix abordables."}];return(0,Me.jsxs)("div",{className:"min-h-screen",children:[(0,Me.jsxs)("section",{className:"relative bg-gradient-to-r from-primary-600 to-primary-800 text-white py-20 overflow-hidden",children:[(0,Me.jsx)("div",{className:"absolute inset-0 opacity-70 pointer-events-none",children:(0,Me.jsx)(iu,{})}),(0,Me.jsx)("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,Me.jsxs)("div",{className:"text-center",children:[(0,Me.jsx)("h1",{className:"text-4xl md:text-6xl font-bold mb-6",children:"\xc0 propos de ColocAntananarivo"}),(0,Me.jsx)("p",{className:"text-xl md:text-2xl mb-8 text-primary-100 max-w-3xl mx-auto",children:"La plateforme de r\xe9f\xe9rence pour la colocation \xe9tudiante \xe0 Antananarivo, cr\xe9\xe9e par des \xe9tudiants, pour les \xe9tudiants."})]})})]}),(0,Me.jsx)("section",{className:"py-20 bg-white",children:(0,Me.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,Me.jsxs)("div",{className:"text-center mb-16",children:[(0,Me.jsx)("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Notre mission"}),(0,Me.jsx)("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Faciliter l'acc\xe8s au logement \xe9tudiant \xe0 Antananarivo en cr\xe9ant une communaut\xe9 solidaire et s\xe9curis\xe9e pour la colocation."})]}),(0,Me.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12 items-center",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Un probl\xe8me r\xe9el"}),(0,Me.jsx)("p",{className:"text-gray-600 mb-6",children:"\xc0 Antananarivo, les \xe9tudiants font face \xe0 des difficult\xe9s majeures pour trouver un logement abordable et adapt\xe9 \xe0 leurs besoins. Les loyers \xe9lev\xe9s, le manque d'information et l'absence de plateforme d\xe9di\xe9e compliquent leur recherche."}),(0,Me.jsx)("p",{className:"text-gray-600",children:"La colocation \xe9merge comme une solution \xe9conomique et conviviale, mais l'absence d'outils adapt\xe9s rend la mise en relation entre \xe9tudiants et propri\xe9taires difficile."})]}),(0,Me.jsx)("div",{className:"bg-gray-50 rounded-lg p-8",children:(0,Me.jsx)("div",{className:"grid grid-cols-2 gap-6",children:[{number:"500+",label:"Logements disponibles"},{number:"1200+",label:"\xc9tudiants inscrits"},{number:"300+",label:"Colocations r\xe9ussies"},{number:"15",label:"Quartiers couverts"}].map((e,t)=>(0,Me.jsxs)("div",{className:"text-center",children:[(0,Me.jsx)("div",{className:"text-3xl font-bold text-primary-600 mb-2",children:e.number}),(0,Me.jsx)("div",{className:"text-gray-600 text-sm",children:e.label})]},t))})})]})]})}),(0,Me.jsx)("section",{className:"py-20 bg-gray-50",children:(0,Me.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,Me.jsxs)("div",{className:"text-center mb-16",children:[(0,Me.jsx)("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Nos valeurs"}),(0,Me.jsx)("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Les principes qui guident notre action au quotidien"})]}),(0,Me.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:e.map((e,t)=>(0,Me.jsxs)("div",{className:"text-center",children:[(0,Me.jsx)("div",{className:"flex justify-center mb-4",children:e.icon}),(0,Me.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:e.title}),(0,Me.jsx)("p",{className:"text-gray-600",children:e.description})]},t))})]})}),(0,Me.jsx)("section",{className:"py-20 bg-white",children:(0,Me.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,Me.jsxs)("div",{className:"text-center mb-16",children:[(0,Me.jsx)("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Comment \xe7a marche"}),(0,Me.jsx)("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Un processus simple et s\xe9curis\xe9 en 3 \xe9tapes"})]}),(0,Me.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[(0,Me.jsxs)("div",{className:"text-center",children:[(0,Me.jsx)("div",{className:"w-16 h-16 bg-primary-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,Me.jsx)("span",{className:"text-2xl font-bold text-primary-600",children:"1"})}),(0,Me.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Inscription"}),(0,Me.jsx)("p",{className:"text-gray-600",children:"Cr\xe9ez votre profil en quelques minutes. Indiquez vos pr\xe9f\xe9rences et votre budget pour une recherche personnalis\xe9e."})]}),(0,Me.jsxs)("div",{className:"text-center",children:[(0,Me.jsx)("div",{className:"w-16 h-16 bg-primary-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,Me.jsx)("span",{className:"text-2xl font-bold text-primary-600",children:"2"})}),(0,Me.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Recherche"}),(0,Me.jsx)("p",{className:"text-gray-600",children:"Utilisez nos filtres avanc\xe9s pour trouver des logements qui correspondent \xe0 vos crit\xe8res et \xe0 votre budget."})]}),(0,Me.jsxs)("div",{className:"text-center",children:[(0,Me.jsx)("div",{className:"w-16 h-16 bg-primary-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,Me.jsx)("span",{className:"text-2xl font-bold text-primary-600",children:"3"})}),(0,Me.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Mise en relation"}),(0,Me.jsx)("p",{className:"text-gray-600",children:"Contactez les propri\xe9taires via notre messagerie s\xe9curis\xe9e et planifiez vos visites en toute confiance."})]})]})]})}),(0,Me.jsx)("section",{className:"py-20 bg-gray-50",children:(0,Me.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,Me.jsxs)("div",{className:"text-center mb-16",children:[(0,Me.jsx)("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Notre \xe9quipe"}),(0,Me.jsx)("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Des passionn\xe9s qui travaillent chaque jour pour am\xe9liorer la vie des \xe9tudiants \xe0 Antananarivo"})]}),(0,Me.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[{name:"Jean Dupont",role:"Fondateur & CEO",description:"Passionn\xe9 par l'innovation sociale et les solutions technologiques pour am\xe9liorer la vie des \xe9tudiants.",image:"/api/placeholder/200/200"},{name:"Marie Rakoto",role:"Responsable Technique",description:"D\xe9veloppeuse exp\xe9riment\xe9e avec une expertise en React et Node.js.",image:"/api/placeholder/200/200"},{name:"Sofia Andriamalala",role:"Responsable Marketing",description:"Sp\xe9cialiste du marketing digital et de la communication aupr\xe8s des \xe9tudiants.",image:"/api/placeholder/200/200"}].map((e,t)=>(0,Me.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 text-center",children:[(0,Me.jsx)("div",{className:"w-24 h-24 bg-gray-200 rounded-full mx-auto mb-4 flex items-center justify-center",children:(0,Me.jsx)("span",{className:"text-2xl font-bold text-gray-600",children:e.name.split(" ").map(e=>e[0]).join("")})}),(0,Me.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-1",children:e.name}),(0,Me.jsx)("p",{className:"text-primary-600 font-medium mb-3",children:e.role}),(0,Me.jsx)("p",{className:"text-gray-600 text-sm",children:e.description})]},t))})]})}),(0,Me.jsx)("section",{className:"py-20 bg-white",children:(0,Me.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,Me.jsxs)("div",{className:"text-center mb-16",children:[(0,Me.jsx)("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Notre impact"}),(0,Me.jsx)("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Des r\xe9sultats concrets qui am\xe9liorent la vie des \xe9tudiants"})]}),(0,Me.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[(0,Me.jsxs)("div",{className:"text-center",children:[(0,Me.jsx)("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,Me.jsx)(Hu,{className:"w-8 h-8 text-green-600"})}),(0,Me.jsx)("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"40%"}),(0,Me.jsx)("p",{className:"text-gray-600",children:"d'\xe9conomies en moyenne sur le loyer"})]}),(0,Me.jsxs)("div",{className:"text-center",children:[(0,Me.jsx)("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,Me.jsx)(Dd,{className:"w-8 h-8 text-blue-600"})}),(0,Me.jsx)("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"95%"}),(0,Me.jsx)("p",{className:"text-gray-600",children:"de satisfaction des utilisateurs"})]}),(0,Me.jsxs)("div",{className:"text-center",children:[(0,Me.jsx)("div",{className:"w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,Me.jsx)($d,{className:"w-8 h-8 text-purple-600"})}),(0,Me.jsx)("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"15"}),(0,Me.jsx)("p",{className:"text-gray-600",children:"quartiers couverts \xe0 Antananarivo"})]}),(0,Me.jsxs)("div",{className:"text-center",children:[(0,Me.jsx)("div",{className:"w-16 h-16 bg-yellow-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,Me.jsx)(_m,{className:"w-8 h-8 text-yellow-600"})}),(0,Me.jsx)("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"8"}),(0,Me.jsx)("p",{className:"text-gray-600",children:"universit\xe9s partenaires"})]})]})]})}),(0,Me.jsx)("section",{className:"py-20 bg-primary-600 text-white",children:(0,Me.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[(0,Me.jsx)("h2",{className:"text-3xl md:text-4xl font-bold mb-4",children:"Rejoignez notre communaut\xe9"}),(0,Me.jsx)("p",{className:"text-xl mb-8 text-primary-100 max-w-2xl mx-auto",children:"Que vous soyez \xe9tudiant \xe0 la recherche d'un logement ou propri\xe9taire souhaitant louer, ColocAntananarivo est fait pour vous."}),(0,Me.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[(0,Me.jsx)("a",{href:"/register",className:"bg-white text-primary-600 hover:bg-gray-100 font-semibold py-3 px-8 rounded-lg transition-colors duration-200",children:"Commencer maintenant"}),(0,Me.jsx)("a",{href:"/contact",className:"border-2 border-white text-white hover:bg-white hover:text-primary-600 font-semibold py-3 px-8 rounded-lg transition-colors duration-200",children:"Nous contacter"})]})]})})]})},Yh=()=>{const[e,r]=(0,t.useState)({name:"",email:"",subject:"",message:""}),[n,s]=(0,t.useState)(!1),a=t=>{r((0,Ie.A)((0,Ie.A)({},e),{},{[t.target.name]:t.target.value}))},i=[{icon:(0,Me.jsx)($d,{className:"w-6 h-6"}),title:"Adresse",details:["Antananarivo, Madagascar","BP 1234"]},{icon:(0,Me.jsx)(hm,{className:"w-6 h-6"}),title:"T\xe9l\xe9phone",details:["+261 34 12 345 67","+261 20 22 345 67"]},{icon:(0,Me.jsx)(Dm,{className:"w-6 h-6"}),title:"Email",details:["contact@colocantananarivo.mg","support@colocantananarivo.mg"]},{icon:(0,Me.jsx)(em,{className:"w-6 h-6"}),title:"Horaires",details:["Lun - Ven: 8h00 - 18h00","Sam: 9h00 - 16h00"]}];return(0,Me.jsxs)("div",{className:"min-h-screen",children:[(0,Me.jsxs)("section",{className:"relative bg-gradient-to-r from-primary-600 to-primary-800 text-white py-20 overflow-hidden",children:[(0,Me.jsx)("div",{className:"absolute inset-0 opacity-70 pointer-events-none",children:(0,Me.jsx)(iu,{})}),(0,Me.jsx)("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,Me.jsxs)("div",{className:"text-center",children:[(0,Me.jsx)("h1",{className:"text-4xl md:text-6xl font-bold mb-6",children:"Contactez-nous"}),(0,Me.jsx)("p",{className:"text-xl md:text-2xl mb-8 text-primary-100 max-w-3xl mx-auto",children:"Nous sommes l\xe0 pour vous aider. N'h\xe9sitez pas \xe0 nous contacter pour toute question ou assistance."})]})})]}),(0,Me.jsx)("section",{className:"py-20 bg-white",children:(0,Me.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,Me.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 mb-16",children:i.map((e,t)=>(0,Me.jsxs)("div",{className:"text-center",children:[(0,Me.jsx)("div",{className:"w-16 h-16 bg-primary-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,Me.jsx)("div",{className:"text-primary-600",children:e.icon})}),(0,Me.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:e.title}),e.details.map((e,t)=>(0,Me.jsx)("p",{className:"text-gray-600 text-sm",children:e},t))]},t))})})}),(0,Me.jsx)("section",{className:"py-20 bg-gray-50",children:(0,Me.jsxs)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,Me.jsxs)("div",{className:"text-center mb-12",children:[(0,Me.jsx)("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Envoyez-nous un message"}),(0,Me.jsx)("p",{className:"text-gray-600",children:"Remplissez le formulaire ci-dessous et nous vous r\xe9pondrons dans les plus brefs d\xe9lais"})]}),(0,Me.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-8",children:(0,Me.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),s(!0);try{await new Promise(e=>setTimeout(e,1e3)),mr.success("Message envoy\xe9 avec succ\xe8s ! Nous vous r\xe9pondrons dans les plus brefs d\xe9lais."),r({name:"",email:"",subject:"",message:""})}catch(t){mr.error("Erreur lors de l'envoi du message. Veuillez r\xe9essayer.")}finally{s(!1)}},className:"space-y-6",children:[(0,Me.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Nom complet *"}),(0,Me.jsx)("input",{type:"text",id:"name",name:"name",value:e.name,onChange:a,required:!0,className:"input-field",placeholder:"Votre nom complet"})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email *"}),(0,Me.jsx)("input",{type:"email",id:"email",name:"email",value:e.email,onChange:a,required:!0,className:"input-field",placeholder:"votre@email.com"})]})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{htmlFor:"subject",className:"block text-sm font-medium text-gray-700 mb-2",children:"Sujet *"}),(0,Me.jsxs)("select",{id:"subject",name:"subject",value:e.subject,onChange:a,required:!0,className:"input-field",children:[(0,Me.jsx)("option",{value:"",children:"S\xe9lectionnez un sujet"}),(0,Me.jsx)("option",{value:"general",children:"Question g\xe9n\xe9rale"}),(0,Me.jsx)("option",{value:"technical",children:"Probl\xe8me technique"}),(0,Me.jsx)("option",{value:"account",children:"Probl\xe8me de compte"}),(0,Me.jsx)("option",{value:"property",children:"Question sur un logement"}),(0,Me.jsx)("option",{value:"payment",children:"Question de paiement"}),(0,Me.jsx)("option",{value:"other",children:"Autre"})]})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-700 mb-2",children:"Message *"}),(0,Me.jsx)("textarea",{id:"message",name:"message",value:e.message,onChange:a,required:!0,rows:6,className:"input-field",placeholder:"D\xe9crivez votre question ou votre probl\xe8me en d\xe9tail..."})]}),(0,Me.jsx)("div",{className:"flex justify-end",children:(0,Me.jsx)("button",{type:"submit",disabled:n,className:"btn-primary flex items-center space-x-2",children:n?(0,Me.jsxs)(Me.Fragment,{children:[(0,Me.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),(0,Me.jsx)("span",{children:"Envoi..."})]}):(0,Me.jsxs)(Me.Fragment,{children:[(0,Me.jsx)(Gm,{className:"w-4 h-4"}),(0,Me.jsx)("span",{children:"Envoyer le message"})]})})})]})})]})}),(0,Me.jsx)("section",{className:"py-20 bg-white",children:(0,Me.jsxs)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,Me.jsxs)("div",{className:"text-center mb-12",children:[(0,Me.jsx)("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Questions fr\xe9quentes"}),(0,Me.jsx)("p",{className:"text-gray-600",children:"Trouvez des r\xe9ponses aux questions les plus courantes"})]}),(0,Me.jsx)("div",{className:"space-y-6",children:[{question:"Comment puis-je m'inscrire sur la plateforme ?",answer:'L\'inscription est gratuite et simple. Cliquez sur "Inscription" en haut de la page, remplissez le formulaire avec vos informations et confirmez votre email.'},{question:"La plateforme est-elle gratuite ?",answer:"Oui, l'inscription et l'utilisation de la plateforme sont enti\xe8rement gratuites pour les \xe9tudiants. Les propri\xe9taires paient une commission uniquement lors de la conclusion d'un bail."},{question:"Comment puis-je contacter un propri\xe9taire ?",answer:"Une fois inscrit, vous pouvez utiliser notre messagerie int\xe9gr\xe9e pour contacter directement les propri\xe9taires. C'est s\xe9curis\xe9 et gratuit."},{question:"Mes donn\xe9es personnelles sont-elles s\xe9curis\xe9es ?",answer:"Absolument. Nous utilisons les derni\xe8res technologies de cryptage et ne partageons jamais vos donn\xe9es personnelles avec des tiers sans votre consentement."},{question:"Que faire si je rencontre un probl\xe8me ?",answer:"Notre \xe9quipe de support est l\xe0 pour vous aider. Contactez-nous via ce formulaire ou par email \xe0 support@colocantananarivo.mg"}].map((e,t)=>(0,Me.jsxs)("div",{className:"bg-gray-50 rounded-lg p-6",children:[(0,Me.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:e.question}),(0,Me.jsx)("p",{className:"text-gray-600",children:e.answer})]},t))})]})}),(0,Me.jsx)("section",{className:"py-20 bg-gray-50",children:(0,Me.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,Me.jsxs)("div",{className:"text-center mb-12",children:[(0,Me.jsx)("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Notre localisation"}),(0,Me.jsx)("p",{className:"text-gray-600",children:"Venez nous rendre visite dans nos bureaux \xe0 Antananarivo"})]}),(0,Me.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:(0,Me.jsx)("div",{className:"aspect-w-16 aspect-h-9 bg-gray-200",children:(0,Me.jsx)("div",{className:"flex items-center justify-center h-64 bg-gray-100",children:(0,Me.jsxs)("div",{className:"text-center text-gray-500",children:[(0,Me.jsx)($d,{className:"w-12 h-12 mx-auto mb-2"}),(0,Me.jsx)("p",{children:"Carte interactive"}),(0,Me.jsx)("p",{className:"text-sm",children:"Antananarivo, Madagascar"})]})})})})]})})]})},Xh=["title","titleId"];function Jh(e,r){let{title:n,titleId:s}=e,a=(0,Ps.A)(e,Xh);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":s},a),n?t.createElement("title",{id:s},n):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m2.25 0H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const Gh=t.forwardRef(Jh),Kh=()=>{const{verifyCIN:e,user:r}=yr(),n=K(),[s,a]=(0,t.useState)({cinNumber:"",cinRectoImage:null,cinVersoImage:null}),[i,o]=(0,t.useState)(!1),[l,c]=(0,t.useState)(null),[d,u]=(0,t.useState)(null),m=(e,t)=>{var r;const n=null===(r=e.target.files)||void 0===r?void 0:r[0];if(n){if(!n.type.startsWith("image/"))return void mr.error("Veuillez s\xe9lectionner une image valide (JPG, PNG)");if(n.size>5242880)return void mr.error("L'image ne doit pas d\xe9passer 5MB");a(e=>(0,Ie.A)((0,Ie.A)({},e),{},{[t]:n}));const e=new FileReader;e.onload=e=>{var r,n;"cinRectoImage"===t?c(null===(r=e.target)||void 0===r?void 0:r.result):u(null===(n=e.target)||void 0===n?void 0:n.result)},e.readAsDataURL(n)}},h=e=>{a(t=>(0,Ie.A)((0,Ie.A)({},t),{},{[e]:null})),"cinRectoImage"===e?c(null):u(null)};return null!==r&&void 0!==r&&r.cinVerified?(0,Me.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:(0,Me.jsxs)("div",{className:"max-w-md w-full text-center",children:[(0,Me.jsx)(Gu,{className:"w-16 h-16 text-green-500 mx-auto mb-4"}),(0,Me.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"V\xe9rification CIN R\xe9ussie"}),(0,Me.jsx)("p",{className:"text-gray-600 mb-6",children:"Votre carte d'identit\xe9 nationale a \xe9t\xe9 v\xe9rifi\xe9e avec succ\xe8s. Vous pouvez maintenant publier des annonces."}),(0,Me.jsx)("button",{onClick:()=>n("/dashboard"),className:"btn-primary",children:"Retour au tableau de bord"})]})}):(0,Me.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,Me.jsxs)("div",{className:"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,Me.jsxs)("div",{className:"mb-8",children:[(0,Me.jsxs)("button",{onClick:()=>n("/dashboard"),className:"flex items-center text-gray-600 hover:text-gray-900 mb-4",children:[(0,Me.jsx)(om,{className:"w-5 h-5 mr-2"}),"Retour"]}),(0,Me.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"V\xe9rification de votre CIN"}),(0,Me.jsx)("p",{className:"text-gray-600 mt-2",children:"Pour publier des annonces, nous devons v\xe9rifier votre identit\xe9 en scannant les deux c\xf4t\xe9s de votre CIN"})]}),(0,Me.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,Me.jsxs)("div",{className:"text-center mb-8",children:[(0,Me.jsx)(cu,{className:"w-16 h-16 text-primary-600 mx-auto mb-4"}),(0,Me.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"V\xe9rification d'identit\xe9"}),(0,Me.jsx)("p",{className:"text-gray-600 mt-2",children:"T\xe9l\xe9chargez les photos des deux c\xf4t\xe9s de votre CIN"})]}),(0,Me.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),s.cinNumber&&s.cinRectoImage&&s.cinVersoImage)if(/^\d{12}$/.test(s.cinNumber)){o(!0);try{await e({cinNumber:s.cinNumber,cinRectoImage:s.cinRectoImage,cinVersoImage:s.cinVersoImage}),setTimeout(()=>{o(!1),n("/dashboard")},1e3)}catch(r){o(!1),mr.error(r.message||"Erreur lors de la v\xe9rification")}}else mr.error("Le num\xe9ro CIN doit contenir exactement 12 chiffres");else mr.error("Veuillez remplir tous les champs")},className:"space-y-8",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Num\xe9ro de CIN *"}),(0,Me.jsx)("input",{type:"text",value:s.cinNumber,onChange:e=>a(t=>(0,Ie.A)((0,Ie.A)({},t),{},{cinNumber:e.target.value})),className:"input-field",placeholder:"Ex: 123456789012",required:!0,maxLength:12,pattern:"\\d{12}",title:"Le num\xe9ro CIN doit contenir 12 chiffres"}),(0,Me.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Doit contenir exactement 12 chiffres"})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Photo du recto de votre CIN *"}),(0,Me.jsxs)("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:[(0,Me.jsx)("input",{type:"file",accept:"image/*",onChange:e=>m(e,"cinRectoImage"),className:"hidden",id:"cinRectoImage",required:!0}),l?(0,Me.jsxs)("div",{className:"relative",children:[(0,Me.jsx)("img",{src:l,alt:"Preview recto CIN",className:"mx-auto h-48 object-cover rounded-lg"}),(0,Me.jsx)("button",{type:"button",onClick:()=>h("cinRectoImage"),className:"absolute top-2 right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600",children:(0,Me.jsx)(Mm,{className:"w-4 h-4"})})]}):(0,Me.jsxs)("label",{htmlFor:"cinRectoImage",className:"cursor-pointer block",children:[(0,Me.jsx)(Gh,{className:"w-12 h-12 text-gray-400 mx-auto mb-2"}),(0,Me.jsx)("p",{className:"text-sm text-gray-600",children:"Cliquez pour t\xe9l\xe9charger une photo du recto de votre CIN"}),(0,Me.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"C\xf4t\xe9 avec votre photo et informations personnelles"})]})]})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Photo du verso de votre CIN *"}),(0,Me.jsxs)("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:[(0,Me.jsx)("input",{type:"file",accept:"image/*",onChange:e=>m(e,"cinVersoImage"),className:"hidden",id:"cinVersoImage",required:!0}),d?(0,Me.jsxs)("div",{className:"relative",children:[(0,Me.jsx)("img",{src:d,alt:"Preview verso CIN",className:"mx-auto h-48 object-cover rounded-lg"}),(0,Me.jsx)("button",{type:"button",onClick:()=>h("cinVersoImage"),className:"absolute top-2 right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600",children:(0,Me.jsx)(Mm,{className:"w-4 h-4"})})]}):(0,Me.jsxs)("label",{htmlFor:"cinVersoImage",className:"cursor-pointer block",children:[(0,Me.jsx)(Gh,{className:"w-12 h-12 text-gray-400 mx-auto mb-2"}),(0,Me.jsx)("p",{className:"text-sm text-gray-600",children:"Cliquez pour t\xe9l\xe9charger une photo du verso de votre CIN"}),(0,Me.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"C\xf4t\xe9 avec les informations compl\xe9mentaires"})]})]})]}),(0,Me.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,Me.jsx)("h3",{className:"text-sm font-medium text-blue-900 mb-2",children:"Instructions importantes"}),(0,Me.jsxs)("ul",{className:"text-sm text-blue-800 space-y-1",children:[(0,Me.jsx)("li",{children:"\u2022 Assurez-vous que les deux photos soient nettes et lisibles"}),(0,Me.jsx)("li",{children:"\u2022 T\xe9l\xe9chargez le recto (c\xf4t\xe9 photo) et le verso de votre CIN"}),(0,Me.jsx)("li",{children:"\u2022 Utilisez un fond neutre et un bon \xe9clairage"}),(0,Me.jsx)("li",{children:"\u2022 \xc9vitez les reflets sur la carte"}),(0,Me.jsx)("li",{children:"\u2022 Format accept\xe9 : JPG, PNG (max 5MB)"})]})]}),(0,Me.jsxs)("div",{className:"flex space-x-4",children:[(0,Me.jsx)("button",{type:"button",onClick:()=>n("/dashboard"),className:"flex-1 btn-secondary",disabled:i,children:"Annuler"}),(0,Me.jsx)("button",{type:"submit",disabled:i||!s.cinNumber||!s.cinRectoImage||!s.cinVersoImage,className:"flex-1 btn-primary flex items-center justify-center space-x-2",children:i?(0,Me.jsxs)(Me.Fragment,{children:[(0,Me.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),(0,Me.jsx)("span",{children:"V\xe9rification en cours..."})]}):(0,Me.jsxs)(Me.Fragment,{children:[(0,Me.jsx)(Gh,{className:"w-5 h-5"}),(0,Me.jsx)("span",{children:"V\xe9rifier ma CIN"})]})})]})]})]})]})})},Qh=["title","titleId"];function ep(e,r){let{title:n,titleId:s}=e,a=(0,Ps.A)(e,Qh);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":s},a),n?t.createElement("title",{id:s},n):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15m3 0 3-3m0 0-3-3m3 3H9"}))}const tp=t.forwardRef(ep),rp=["title","titleId"];function np(e,r){let{title:n,titleId:s}=e,a=(0,Ps.A)(e,rp);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":s},a),n?t.createElement("title",{id:s},n):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}))}const sp=t.forwardRef(np),ap=("".concat("","/logo_colo.svg"),()=>{const{user:e,logout:r}=yr(),{conversations:n}=Sr(),s=K(),a=J(),[i,o]=(0,t.useState)(!1),[l,c]=(0,t.useState)(0),{showVerificationModal:d,setShowVerificationModal:u,checkVerification:m,requiresVerification:h,onClickHandler:p}=uu(),f=(0,t.useCallback)((e,t)=>h?(e.preventDefault(),u(!0),!1):(s(t),!0),[h,s,u]),[x,g]=(0,t.useState)(!1);(0,t.useEffect)(()=>{if(!e||x)return void c(0);const t=n.reduce((t,r)=>{const n=r.lastMessage;if(!n)return t;const s=String(n.senderId)!==String(e.id),a=!n.isRead;return t+(s&&a?1:0)},0);c(t)},[n,e,x]),(0,t.useEffect)(()=>{if(!e)return;n.some(t=>{const r=t.lastMessage;if(!r)return!1;return String(r.senderId)!==String(e.id)&&!r.isRead})&&g(!1)},[n,e]);const v=()=>{r(),s("/")},y=e=>a.pathname===e,b=e=>0===e?null:e>99?"99+":e.toString(),j=e=>"".concat("px-3 py-2 rounded-md text-sm font-medium transition-colors"," ").concat(y(e)?"text-primary-600 bg-primary-50 border-b-2 border-primary-600":"text-gray-700 hover:text-primary-600 hover:bg-gray-50");return e&&"admin"===e.userType?null:(0,Me.jsxs)(Me.Fragment,{children:[(0,Me.jsx)(du,{isOpen:d,onClose:()=>{u(!1)},backButtonText:"Fermer"}),(0,Me.jsx)("nav",{className:"bg-white shadow-lg border-b border-gray-200 sticky top-0 z-50",children:(0,Me.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,Me.jsxs)("div",{className:"flex justify-between h-16",children:[(0,Me.jsx)("div",{className:"flex items-center",children:(0,Me.jsx)(Ae,{to:"/",className:"flex items-center",children:(0,Me.jsx)("img",{src:"/logo_colo.svg",alt:"ColocAntananarivo",className:"h-20 w-auto"})})}),(0,Me.jsxs)("div",{className:"hidden md:flex items-center space-x-1",children:[(0,Me.jsx)(Ae,{to:"/",className:j("/"),children:"Accueil"}),e&&(0,Me.jsx)(Ae,{to:"/dashboard",className:j("/dashboard"),children:"Dashboard"}),(0,Me.jsx)(Ae,{to:"/logements",className:j("/logements"),children:"Logements"}),(0,Me.jsx)(Ae,{to:"/announcements",className:j("/announcements"),children:"Annonces"}),(0,Me.jsx)(Ae,{to:"/about",className:j("/about"),children:"\xc0 propos"}),(0,Me.jsx)(Ae,{to:"/contact",className:j("/contact"),children:"Contact"})]}),(0,Me.jsx)("div",{className:"hidden md:flex items-center space-x-3",children:e?(0,Me.jsxs)(Me.Fragment,{children:["owner"===e.userType&&(0,Me.jsxs)("button",{onClick:e=>{e.preventDefault(),m(e)&&s("/create-property")},className:"btn-primary flex items-center space-x-2",children:[(0,Me.jsx)(Iu,{className:"w-4 h-4"}),(0,Me.jsx)("span",{children:"Publier"})]}),"student"===e.userType&&(0,Me.jsxs)("button",{onClick:e=>{e.preventDefault(),m(e)&&s("/create-announcement")},className:"btn-primary flex items-center space-x-2",children:[(0,Me.jsx)(Iu,{className:"w-4 h-4"}),(0,Me.jsx)("span",{children:"Publier une annonce"})]}),(0,Me.jsxs)("button",{onClick:e=>{e.preventDefault(),m(e)&&s("/messages")},className:"relative p-2 text-gray-600 hover:text-primary-600 rounded-full hover:bg-gray-100",children:[(0,Me.jsx)(Vd,{className:"h-6 w-6"}),l>0&&(0,Me.jsx)("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:b(l)})]}),(0,Me.jsxs)("div",{className:"relative group",children:[(0,Me.jsxs)("button",{className:"\n                    flex items-center space-x-2 p-2 rounded-md transition-colors\n                    ".concat(y("/profile")?"text-primary-600 bg-primary-50":"text-gray-700 hover:text-primary-600 hover:bg-gray-50","\n                  "),children:[e.avatar?(0,Me.jsx)("img",{src:e.avatar,alt:"avatar",className:"w-6 h-6 rounded-full object-cover"}):(0,Me.jsx)(Am,{className:"w-5 h-5"}),(0,Me.jsx)("span",{className:"text-sm font-medium max-w-24 truncate",children:e.firstName})]}),(0,Me.jsxs)("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1 z-50 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 border border-gray-200",children:[(0,Me.jsx)(Ae,{to:"/dashboard",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 hover:text-primary-600 transition-colors",children:"Tableau de bord"}),(0,Me.jsx)(Ae,{to:"/profile",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 hover:text-primary-600 transition-colors",children:"Mon profil"}),(0,Me.jsx)("div",{className:"border-t border-gray-100 my-1"}),(0,Me.jsxs)("button",{onClick:v,className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 hover:text-red-600 transition-colors",children:[(0,Me.jsx)(tp,{className:"w-4 h-4 inline mr-2"}),"D\xe9connexion"]})]})]})]}):(0,Me.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Me.jsx)(Ae,{to:"/login",className:j("/login"),children:"Connexion"}),(0,Me.jsx)(Ae,{to:"/register",className:"btn-primary",children:"Inscription"})]})}),(0,Me.jsx)("div",{className:"md:hidden flex items-center",children:(0,Me.jsx)("button",{onClick:()=>o(!i),className:"text-gray-700 hover:text-primary-600 p-2 rounded-md transition-colors",children:i?(0,Me.jsx)(su,{className:"w-6 h-6"}):(0,Me.jsx)(sp,{className:"w-6 h-6"})})})]}),i&&(0,Me.jsx)("div",{className:"md:hidden",children:(0,Me.jsxs)("div",{className:"px-2 pt-2 pb-3 space-y-1 sm:px-3 bg-gray-50 rounded-lg mt-2 border border-gray-200",children:[(0,Me.jsx)(Ae,{to:"/",className:"block px-3 py-2 rounded-md text-base font-medium transition-colors ".concat(y("/")?"text-primary-600 bg-primary-50":"text-gray-700 hover:text-primary-600 hover:bg-gray-100"),onClick:()=>o(!1),children:"Accueil"}),e&&(0,Me.jsx)(Ae,{to:"/dashboard",className:"block px-3 py-2 rounded-md text-base font-medium transition-colors ".concat(y("/dashboard")?"text-primary-600 bg-primary-50":"text-gray-700 hover:text-primary-600 hover:bg-gray-100"),onClick:()=>o(!1),children:"Dashboard"}),(0,Me.jsx)(Ae,{to:"/logements",className:"block px-3 py-2 rounded-md text-base font-medium transition-colors ".concat(y("/logements")?"text-primary-600 bg-primary-50":"text-gray-700 hover:text-primary-600 hover:bg-gray-100"),onClick:()=>o(!1),children:"Logements"}),(0,Me.jsx)(Ae,{to:"/announcements",className:"block px-3 py-2 rounded-md text-base font-medium transition-colors ".concat(y("/announcements")?"text-primary-600 bg-primary-50":"text-gray-700 hover:text-primary-600 hover:bg-gray-100"),onClick:()=>o(!1),children:"Annonces"}),(0,Me.jsx)(Ae,{to:"/about",className:"block px-3 py-2 rounded-md text-base font-medium transition-colors ".concat(y("/about")?"text-primary-600 bg-primary-50":"text-gray-700 hover:text-primary-600 hover:bg-gray-100"),onClick:()=>o(!1),children:"\xc0 propos"}),(0,Me.jsx)(Ae,{to:"/contact",className:"block px-3 py-2 rounded-md text-base font-medium transition-colors ".concat(y("/contact")?"text-primary-600 bg-primary-50":"text-gray-700 hover:text-primary-600 hover:bg-gray-100"),onClick:()=>o(!1),children:"Contact"}),e?(0,Me.jsx)(Me.Fragment,{children:(0,Me.jsxs)("div",{className:"border-t border-gray-200 pt-4 mt-2",children:[(0,Me.jsxs)("div",{className:"flex items-center justify-between px-3 py-2",children:[(0,Me.jsxs)("div",{className:"flex items-center",children:[e.avatar?(0,Me.jsx)("img",{src:e.avatar,alt:"avatar",className:"w-5 h-5 rounded-full object-cover mr-3"}):(0,Me.jsx)(Am,{className:"w-5 h-5 text-gray-400 mr-3"}),(0,Me.jsxs)("span",{className:"text-sm font-medium text-gray-900 max-w-32 truncate",children:[e.firstName," ",e.lastName]})]}),l>0&&(0,Me.jsx)("button",{onClick:e=>f(e,"/messages"),className:"relative",children:(0,Me.jsx)("span",{className:"\n                            bg-red-500 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center\n                          ",children:b(l)})})]}),(0,Me.jsx)(Ae,{to:"/dashboard",className:"block px-3 py-2 rounded-md text-base font-medium transition-colors ".concat(y("/dashboard")?"text-primary-600 bg-primary-50":"text-gray-700 hover:text-primary-600 hover:bg-gray-100"),onClick:()=>o(!1),children:"Tableau de bord"}),(0,Me.jsx)(Ae,{to:"/profile",className:"block px-3 py-2 rounded-md text-base font-medium transition-colors ".concat(y("/profile")?"text-primary-600 bg-primary-50":"text-gray-700 hover:text-primary-600 hover:bg-gray-100"),onClick:()=>o(!1),children:"Mon profil"}),(0,Me.jsxs)("button",{onClick:e=>{p(e,"/messages"),o(!1)},className:"block px-3 py-2 rounded-md text-base font-medium transition-colors flex items-center justify-between ".concat(y("/messages")?"text-primary-600 bg-primary-50":"text-gray-700 hover:text-primary-600 hover:bg-gray-100"),children:[(0,Me.jsx)("span",{children:"Messages"}),l>0&&(0,Me.jsx)("span",{className:"\n                          bg-red-500 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center\n                        ",children:b(l)})]}),"owner"===e.userType&&(0,Me.jsx)("button",{onClick:e=>{p(e,"/create-property"),o(!1)},className:"block px-3 py-2 rounded-md text-base font-medium transition-colors ".concat(y("/create-property")?"text-primary-600 bg-primary-50":"text-gray-700 hover:text-primary-600 hover:bg-gray-100"),children:"Publier un logement"}),(0,Me.jsx)("button",{onClick:()=>{v(),o(!1)},className:"block w-full text-left px-3 py-2 rounded-md text-base font-medium text-gray-700 hover:text-red-600 hover:bg-gray-100 transition-colors",children:"D\xe9connexion"})]})}):(0,Me.jsxs)("div",{className:"border-t border-gray-200 pt-4 mt-2",children:[(0,Me.jsx)(Ae,{to:"/login",className:"block px-3 py-2 rounded-md text-base font-medium transition-colors ".concat(y("/login")?"text-primary-600 bg-primary-50":"text-gray-700 hover:text-primary-600 hover:bg-gray-100"),onClick:()=>o(!1),children:"Connexion"}),(0,Me.jsx)(Ae,{to:"/register",className:"btn-primary block text-center mx-3 mt-2",onClick:()=>o(!1),children:"Inscription"})]})]})})]})})]})}),ip=()=>(0,Me.jsx)("footer",{className:"bg-gray-900 text-white",children:(0,Me.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[(0,Me.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[(0,Me.jsxs)("div",{className:"col-span-1 md:col-span-2",children:[(0,Me.jsx)("div",{className:"flex items-center mb-4",children:(0,Me.jsx)("img",{src:"/logo_colo.svg",alt:"ColocAntananarivo",className:"h-20 w-auto"})}),(0,Me.jsx)("p",{className:"text-gray-300 mb-6 max-w-md",children:"La plateforme de r\xe9f\xe9rence pour la colocation \xe9tudiante \xe0 Antananarivo. Trouvez votre colocataire id\xe9al ou votre logement parfait en quelques clics."}),(0,Me.jsxs)("div",{className:"flex space-x-4",children:[(0,Me.jsx)("a",{href:"https://facebook.com",className:"text-gray-400 hover:text-white transition-colors",children:(0,Me.jsx)("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:(0,Me.jsx)("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})})}),(0,Me.jsx)("a",{href:"https://twitter.com",className:"text-gray-400 hover:text-white transition-colors",children:(0,Me.jsx)("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:(0,Me.jsx)("path",{d:"M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"})})}),(0,Me.jsx)("a",{href:"https://instagram.com",className:"text-gray-400 hover:text-white transition-colors",children:(0,Me.jsx)("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:(0,Me.jsx)("path",{d:"M12.017 0C5.396 0 .029 5.367.029 11.987c0 6.62 5.367 11.987 11.988 11.987 6.62 0 11.987-5.367 11.987-11.987C24.014 5.367 18.637.001 12.017.001zM8.449 16.988c-1.297 0-2.448-.49-3.323-1.297C4.198 14.895 3.708 13.744 3.708 12.447s.49-2.448 1.297-3.323c.875-.807 2.026-1.297 3.323-1.297s2.448.49 3.323 1.297c.807.875 1.297 2.026 1.297 3.323s-.49 2.448-1.297 3.323c-.875.807-2.026 1.297-3.323 1.297zm7.83-9.281H7.83c-.49 0-.89.4-.89.89v8.449c0 .49.4.89.89.89h8.449c.49 0 .89-.4.89-.89V8.597c0-.49-.4-.89-.89-.89z"})})})]})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Liens rapides"}),(0,Me.jsxs)("ul",{className:"space-y-2",children:[(0,Me.jsx)("li",{children:(0,Me.jsx)(Ae,{to:"/",className:"text-gray-300 hover:text-white transition-colors",children:"Accueil"})}),(0,Me.jsx)("li",{children:(0,Me.jsx)(Ae,{to:"/logements",className:"text-gray-300 hover:text-white transition-colors",children:"Logements"})}),(0,Me.jsx)("li",{children:(0,Me.jsx)(Ae,{to:"/logements",className:"text-gray-300 hover:text-white transition-colors",children:"Recherche"})}),(0,Me.jsx)("li",{children:(0,Me.jsx)(Ae,{to:"/about",className:"text-gray-300 hover:text-white transition-colors",children:"\xc0 propos"})}),(0,Me.jsx)("li",{children:(0,Me.jsx)(Ae,{to:"/contact",className:"text-gray-300 hover:text-white transition-colors",children:"Contact"})})]})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Contact"}),(0,Me.jsxs)("div",{className:"space-y-3",children:[(0,Me.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Me.jsx)($d,{className:"w-5 h-5 text-primary-400"}),(0,Me.jsx)("span",{className:"text-gray-300",children:"Antananarivo, Madagascar"})]}),(0,Me.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Me.jsx)(hm,{className:"w-5 h-5 text-primary-400"}),(0,Me.jsx)("span",{className:"text-gray-300",children:"+261 34 71 807 09"})]}),(0,Me.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Me.jsx)(Dm,{className:"w-5 h-5 text-primary-400"}),(0,Me.jsx)("span",{className:"text-gray-300",children:"contact@colocantananarivo.mg"})]})]})]})]}),(0,Me.jsx)("div",{className:"border-t border-gray-800 mt-8 pt-8 text-center",children:(0,Me.jsxs)("p",{className:"text-gray-400",children:["\xa9 2025 ColocAntananarivo. Tous droits r\xe9serv\xe9s. |",(0,Me.jsx)("a",{href:"/privacy",className:"hover:text-white transition-colors ml-2",children:"Politique de confidentialit\xe9"}),(0,Me.jsx)("span",{className:"mx-2",children:"|"}),(0,Me.jsx)("a",{href:"/terms",className:"hover:text-white transition-colors",children:"Conditions d'utilisation"})]})})]})}),op=e=>{let{children:t}=e;const{user:r,isLoading:n}=yr(),s=J();return n?(0,Me.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,Me.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-600"})}):r?(0,Me.jsx)(Me.Fragment,{children:t}):(0,Me.jsx)(pe,{to:"/login",state:{from:s},replace:!0})},lp=e=>{let{children:t}=e;const{user:r,isLoading:n}=yr();return n?(0,Me.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-dark-50",children:(0,Me.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):r?"admin"!==r.userType?(0,Me.jsx)(pe,{to:"/",replace:!0}):(0,Me.jsx)(Me.Fragment,{children:t}):(0,Me.jsx)(pe,{to:"/admin/login",replace:!0})},cp=()=>{const{id:e}=Q(),n=K(),{userProperties:s,fetchPropertyById:a,loading:i}=wr(),{user:o}=yr(),[l,c]=(0,t.useState)(null),[d,u]=(0,t.useState)({title:"",description:"",address:"",district:"",price:0,deposit:0,availableRooms:1,totalRooms:1,propertyType:"apartment",amenities:[],images:[],isAvailable:!0,latitude:0,longitude:0}),[m,h]=(0,t.useState)([]),[p,f]=(0,t.useState)([]),[x,g]=(0,t.useState)(!1),v=t.useRef(null);(0,t.useEffect)(()=>{(async()=>{if(e)try{let t=s.find(t=>t.id===e);if(!t){t=await a(e)||void 0}t?(c(t),u({title:t.title||"",description:t.description||"",address:t.address||"",district:t.district||"",price:t.price||0,deposit:t.deposit||0,availableRooms:t.availableRooms||1,totalRooms:t.totalRooms||1,propertyType:t.propertyType||"apartment",amenities:t.amenities||[],images:t.images||[],isAvailable:!1!==t.isAvailable,latitude:t.latitude||0,longitude:t.longitude||0}),f(t.images||[])):(mr.error("Propri\xe9t\xe9 non trouv\xe9e"),n("/dashboard"))}catch(t){console.error("Erreur lors du chargement:",t),mr.error("Erreur lors du chargement de la propri\xe9t\xe9"),n("/dashboard")}})()},[e,s,a,n]);const y=e=>{const{name:t,value:r,type:n}=e.target;u(s=>(0,Ie.A)((0,Ie.A)({},s),{},{[t]:"checkbox"===n?e.target.checked:"price"===t||"deposit"===t||"availableRooms"===t||"totalRooms"===t||"latitude"===t||"longitude"===t?Number(r):r}))};return l?(0,Me.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,Me.jsxs)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,Me.jsxs)("div",{className:"mb-8",children:[(0,Me.jsx)("div",{className:"flex items-center mb-4",children:(0,Me.jsxs)(Ae,{to:"/dashboard",className:"flex items-center text-gray-600 hover:text-gray-900 mr-4",children:[(0,Me.jsx)(om,{className:"w-5 h-5 mr-2"}),"Retour"]})}),(0,Me.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Modifier le logement"}),(0,Me.jsx)("p",{className:"text-gray-600",children:"Modifiez les informations de votre logement"})]}),(0,Me.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),o&&l)if(d.title.trim())if(d.description.trim())if(d.address.trim())if(d.district)if(d.price<=0)mr.error("Le prix doit \xeatre sup\xe9rieur \xe0 0");else try{let e=[...p];if(m.length>0){mr.loading("Upload des nouvelles images...");const t=await(async()=>{if(0===m.length)return[];g(!0);try{const e=async e=>{const t=new FormData;t.append("image",e);try{var r,n;const e=await(0,hr.yX)("/api/upload/image",t);if(!e.success)throw new Error(e.message||"Erreur lors de l'upload");return(null===(r=e.data)||void 0===r?void 0:r.url)||(null===(n=e.data)||void 0===n?void 0:n.path)||""}catch(s){throw console.error("Erreur upload:",s),new Error(s.message||"Erreur lors de l'upload")}},t=m.map(t=>e(t.file)),r=(await Promise.all(t)).filter(e=>e&&""!==e);return r.length>0&&mr.success("".concat(r.length," image(s) upload\xe9e(s) avec succ\xe8s")),r}catch(e){throw console.error("Erreur upload:",e),mr.error("Erreur lors de l'upload des images: ".concat(e.message)),e}finally{g(!1)}})();e=[...p,...t],mr.dismiss()}const t=(0,Ie.A)((0,Ie.A)({},d),{},{images:e}),{apiJson:s}=await Promise.resolve().then(r.bind(r,4558)),a=await s("/api/properties/update/".concat(l.id),"PUT",t),i=await a.json();if(!a.ok||!i.success)throw new Error(i.message||"Erreur inconnue lors de la mise \xe0 jour");m.forEach(e=>URL.revokeObjectURL(e.preview)),mr.success("Propri\xe9t\xe9 modifi\xe9e avec succ\xe8s !"),n("/dashboard")}catch(t){console.error("Erreur lors de la modification:",t),t instanceof Error?mr.error("Erreur: ".concat(t.message)):mr.error("Erreur inconnue: ".concat(String(t)))}else mr.error("Le quartier est requis");else mr.error("L'adresse est requise");else mr.error("La description est requise");else mr.error("Le titre est requis");else mr.error("Erreur: utilisateur non connect\xe9 ou propri\xe9t\xe9 non charg\xe9e")},className:"space-y-8",children:[(0,Me.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,Me.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Informations de base"}),(0,Me.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Me.jsxs)("div",{className:"md:col-span-2",children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Titre de l'annonce *"}),(0,Me.jsx)("input",{type:"text",name:"title",value:d.title,onChange:y,className:"input-field",placeholder:"Ex: Appartement 3 chambres \xe0 Analakely",required:!0})]}),(0,Me.jsxs)("div",{className:"md:col-span-2",children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description *"}),(0,Me.jsx)("textarea",{name:"description",value:d.description,onChange:y,rows:4,className:"input-field",placeholder:"D\xe9crivez votre logement, ses avantages, le quartier...",required:!0})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Type de logement *"}),(0,Me.jsx)("select",{name:"propertyType",value:d.propertyType,onChange:y,className:"input-field",required:!0,children:[{value:"apartment",label:"Appartement"},{value:"house",label:"Maison"},{value:"studio",label:"Studio"}].map(e=>(0,Me.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Quartier *"}),(0,Me.jsxs)("select",{name:"district",value:d.district,onChange:y,className:"input-field",required:!0,children:[(0,Me.jsx)("option",{value:"",children:"S\xe9lectionnez un quartier"}),["Analakely","Ambohijatovo","Ankadifotsy","Ankatso","Antaninarenina","Behoririka","Isoraka","Mahamasina","Tsaralalana","67ha"].map(e=>(0,Me.jsx)("option",{value:e,children:e},e))]})]}),(0,Me.jsxs)("div",{className:"md:col-span-2",children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Adresse compl\xe8te *"}),(0,Me.jsx)("input",{type:"text",name:"address",value:d.address,onChange:y,className:"input-field",placeholder:"Ex: Rue de l'Ind\xe9pendance, Analakely, Antananarivo",required:!0})]}),(0,Me.jsx)("div",{className:"md:col-span-2",children:(0,Me.jsxs)("label",{className:"flex items-center",children:[(0,Me.jsx)("input",{type:"checkbox",name:"isAvailable",checked:d.isAvailable,onChange:y,className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),(0,Me.jsx)("span",{className:"ml-2 text-sm text-gray-700",children:"Logement disponible"})]})})]})]}),(0,Me.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,Me.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Tarification"}),(0,Me.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Prix mensuel (Ar) *"}),(0,Me.jsx)("input",{type:"number",name:"price",value:d.price||"",onChange:y,className:"input-field",placeholder:"200000",min:"1",required:!0})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Caution (Ar) *"}),(0,Me.jsx)("input",{type:"number",name:"deposit",value:d.deposit||"",onChange:y,className:"input-field",placeholder:"100000",min:"0",required:!0})]})]})]}),(0,Me.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,Me.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Chambres"}),(0,Me.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre total de chambres *"}),(0,Me.jsx)("input",{type:"number",name:"totalRooms",value:d.totalRooms,onChange:y,className:"input-field",min:"1",required:!0})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Chambres disponibles *"}),(0,Me.jsx)("input",{type:"number",name:"availableRooms",value:d.availableRooms,onChange:y,className:"input-field",min:"1",max:d.totalRooms,required:!0})]})]})]}),(0,Me.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,Me.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Photos"}),(0,Me.jsxs)("div",{className:"space-y-4",children:[(0,Me.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center space-y-2 sm:space-y-0 sm:space-x-2",children:[(0,Me.jsx)("input",{ref:v,type:"file",accept:"image/*",multiple:!0,onChange:e=>{const t=e.target.files;if(!t)return;const r=[];for(let n=0;n<t.length;n++){const e=t[n];if(!e.type.startsWith("image/")){mr.error("".concat(e.name," n'est pas une image valide"));continue}if(e.size>5242880){mr.error("".concat(e.name," est trop volumineux (max 5MB)"));continue}if(m.length+r.length>=10){mr.error("Maximum 10 images autoris\xe9es");break}const s={file:e,preview:URL.createObjectURL(e),id:Math.random().toString(36).substr(2,9)};r.push(s)}r.length>0&&(h(e=>[...e,...r]),mr.success("".concat(r.length," image(s) ajout\xe9e(s) avec succ\xe8s"))),v.current&&(v.current.value="")},className:"hidden"}),(0,Me.jsxs)("button",{type:"button",onClick:()=>{var e;return null===(e=v.current)||void 0===e?void 0:e.click()},className:"btn-primary flex items-center justify-center space-x-2 px-4 py-2",disabled:x||i,children:[(0,Me.jsx)(Uu,{className:"w-5 h-5"}),(0,Me.jsx)("span",{children:"Ajouter des images"})]}),(0,Me.jsx)("div",{className:"flex-1 text-sm text-gray-500",children:(0,Me.jsx)("p",{children:"Formats accept\xe9s: JPG, PNG, WebP \u2022 Max 5MB par image"})})]}),p.length>0&&(0,Me.jsxs)("div",{children:[(0,Me.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Images actuelles"}),(0,Me.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:p.map((e,t)=>(0,Me.jsxs)("div",{className:"relative group bg-gray-100 rounded-lg overflow-hidden",children:[(0,Me.jsx)("img",{src:(0,hr.VG)(e),alt:"".concat(t+1),className:"w-full h-32 object-cover"}),(0,Me.jsx)("button",{type:"button",onClick:()=>(e=>{f(t=>t.filter((t,r)=>r!==e)),u(t=>(0,Ie.A)((0,Ie.A)({},t),{},{images:t.images.filter((t,r)=>r!==e)})),mr.success("Image supprim\xe9e")})(t),className:"absolute top-2 right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600 transition-colors",title:"Supprimer l'image",children:(0,Me.jsx)(su,{className:"w-4 h-4"})})]},t))})]}),m.length>0&&(0,Me.jsxs)("div",{children:[(0,Me.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Nouvelles images"}),(0,Me.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:m.map((e,t)=>(0,Me.jsxs)("div",{className:"relative group bg-gray-100 rounded-lg overflow-hidden",children:[(0,Me.jsx)("img",{src:e.preview,alt:"".concat(t+1),className:"w-full h-32 object-cover"}),(0,Me.jsx)("button",{type:"button",onClick:()=>(e=>{URL.revokeObjectURL(m[e].preview),h(t=>t.filter((t,r)=>r!==e)),mr.success("Image supprim\xe9e")})(t),className:"absolute top-2 right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600 transition-colors",title:"Supprimer l'image",children:(0,Me.jsx)(su,{className:"w-4 h-4"})})]},e.id))})]})]})]}),(0,Me.jsxs)("div",{className:"flex justify-end space-x-4",children:[(0,Me.jsx)("button",{type:"button",onClick:()=>n("/dashboard"),className:"btn-secondary",disabled:i||x,children:"Annuler"}),(0,Me.jsx)("button",{type:"submit",disabled:i||x,className:"btn-primary flex items-center space-x-2",children:i||x?(0,Me.jsxs)(Me.Fragment,{children:[(0,Me.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),(0,Me.jsx)("span",{children:x?"Upload...":"Modification..."})]}):"Modifier le logement"})]})]})]})}):(0,Me.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,Me.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})})},dp=async e=>{try{var t,r;const n=new FormData;n.append("image",e);const s=await(0,hr.yX)("/api/upload/image",n);if(!s.success)throw new Error(s.message||"Erreur lors de l'upload");return(null===(t=s.data)||void 0===t?void 0:t.url)||(null===(r=s.data)||void 0===r?void 0:r.path)||""}catch(n){throw console.error("Erreur upload:",n),new Error(n.message||"Erreur lors de l'upload")}},up=()=>{const{id:e}=Q(),{user:n}=yr(),s=K(),{userAnnouncements:a,updateAnnouncement:i,loading:o}=Ar(),[l,c]=(0,t.useState)(""),[d,u]=(0,t.useState)(""),[m,h]=(0,t.useState)([]),[p,f]=(0,t.useState)([]),[x,g]=(0,t.useState)(!1),v=(0,t.useRef)(null);if((0,t.useEffect)(()=>{if(!e)return;const t=parseInt(e),i=a.find(e=>Number(e.id)===t);if(i)return c(i.content),u(i.contact||""),void f(i.images||[]);(async()=>{try{var e;const{apiGet:a}=await Promise.resolve().then(r.bind(r,4558)),i=await a("/api/announcements/get_by_id/".concat(t)),o=await i.json();if(!i.ok||!o.success||!o.data)throw new Error(o.message||"Annonce non trouv\xe9e");const l=o.data;if(n&&String(null===(e=l.author)||void 0===e?void 0:e.id)!==String(n.id))return mr.error("Vous ne pouvez pas modifier cette annonce"),void s("/dashboard");c(l.content||""),u(l.contact||""),f(l.images||[])}catch(Ke){mr.error(Ke.message||"Annonce non trouv\xe9e"),s("/dashboard")}})()},[e,a,s,n]),!n)return(0,Me.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,Me.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-600"})});if("student"!==n.userType)return(0,Me.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:(0,Me.jsxs)("div",{className:"max-w-md w-full text-center",children:[(0,Me.jsx)(Ru,{className:"w-16 h-16 text-yellow-500 mx-auto mb-4"}),(0,Me.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"R\xe9serv\xe9 aux \xe9tudiants"}),(0,Me.jsx)("p",{className:"text-gray-600 mb-4",children:"Seuls les comptes \xe9tudiants peuvent modifier une annonce de colocation."}),(0,Me.jsx)("button",{onClick:()=>s("/dashboard"),className:"w-full btn-secondary",children:"Retour"})]})});if(!n.cinVerified)return(0,Me.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:(0,Me.jsxs)("div",{className:"max-w-md w-full text-center",children:[(0,Me.jsx)(Ru,{className:"w-16 h-16 text-yellow-500 mx-auto mb-4"}),(0,Me.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"V\xe9rification Requise"}),(0,Me.jsx)("p",{className:"text-gray-600 mb-4",children:"Vous devez v\xe9rifier votre CIN avant de pouvoir modifier des annonces."}),(0,Me.jsxs)("div",{className:"space-y-3",children:[(0,Me.jsxs)(Ae,{to:"/cin-verification",className:"w-full btn-primary flex items-center justify-center space-x-2",children:[(0,Me.jsx)(cu,{className:"w-5 h-5"}),(0,Me.jsx)("span",{children:"V\xe9rifier mon CIN"})]}),(0,Me.jsx)("button",{onClick:()=>s("/dashboard"),className:"w-full btn-secondary",children:"Retour au tableau de bord"})]})]})});return(0,Me.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,Me.jsxs)("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,Me.jsxs)("div",{className:"mb-8",children:[(0,Me.jsx)("div",{className:"flex items-center mb-4",children:(0,Me.jsxs)(Ae,{to:"/dashboard",className:"flex items-center text-gray-600 hover:text-gray-900 mr-4",children:[(0,Me.jsx)(om,{className:"w-5 h-5 mr-2"}),"Retour"]})}),(0,Me.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Modifier l'annonce de colocation"}),(0,Me.jsx)("p",{className:"text-gray-600",children:"Modifiez votre recherche de colocation (quartier, budget, pr\xe9f\xe9rences) et les images."})]}),(0,Me.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),l.trim())if(e)try{mr.loading("Modification en cours...");const t=await(async()=>{if(0===m.length)return[];g(!0);try{const e=m.map(e=>e.file);return await Promise.all(e.map(dp))}finally{g(!1)}})(),r=[...p,...t],n={content:l.trim(),images:r,contact:d.trim()||void 0};await i(parseInt(e),n),mr.dismiss(),m.forEach(e=>URL.revokeObjectURL(e.preview)),s("/dashboard")}catch(r){mr.dismiss(),mr.error(r.message||"Erreur lors de la modification")}else mr.error("ID d'annonce manquant");else mr.error("Le texte de votre annonce est requis")},className:"space-y-8 bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Texte de l'annonce *"}),(0,Me.jsx)("textarea",{value:l,onChange:e=>c(e.target.value),rows:5,className:"input-field",placeholder:"Ex: \xc9tudiant en info, je cherche une colocation \xe0 Isoraka, budget 300 000 Ar, non fumeur...",required:!0})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contact (optionnel)"}),(0,Me.jsx)("input",{value:d,onChange:e=>u(e.target.value),type:"text",className:"input-field",placeholder:"T\xe9l\xe9phone, email, etc."})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Images (max 6)"}),(0,Me.jsxs)("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:[(0,Me.jsx)("input",{ref:v,type:"file",accept:"image/*",multiple:!0,onChange:e=>{const t=e.target.files;if(!t)return;const r=[];for(let n=0;n<t.length;n++){const e=t[n];if(e.type.startsWith("image/"))if(e.size>5242880)mr.error("".concat(e.name," est trop volumineux (max 5MB)"));else{if(p.length+m.length+r.length>=6){mr.error("Maximum 6 images");break}r.push({file:e,preview:URL.createObjectURL(e),id:Math.random().toString(36).slice(2)})}else mr.error("".concat(e.name," n'est pas une image valide"))}r.length>0&&(h(e=>[...e,...r]),mr.success("".concat(r.length," image(s) ajout\xe9e(s)"))),v.current&&(v.current.value="")},className:"hidden",id:"announcementImages"}),(0,Me.jsxs)("label",{htmlFor:"announcementImages",className:"cursor-pointer inline-flex items-center space-x-2 btn-secondary",children:[(0,Me.jsx)(Uu,{className:"w-5 h-5"}),(0,Me.jsx)("span",{children:"Ajouter des images"})]}),p.length>0&&(0,Me.jsxs)("div",{className:"mt-4",children:[(0,Me.jsx)("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Images actuelles"}),(0,Me.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:p.map((e,t)=>(0,Me.jsxs)("div",{className:"relative",children:[(0,Me.jsx)("img",{src:(0,hr.VG)(e),alt:"existing-".concat(t),className:"w-full h-32 object-cover rounded-lg"}),(0,Me.jsx)("button",{type:"button",onClick:()=>{return e=t,void f(t=>t.filter((t,r)=>r!==e));var e},className:"absolute top-2 right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600",children:(0,Me.jsx)(su,{className:"w-4 h-4"})})]},t))})]}),m.length>0&&(0,Me.jsxs)("div",{className:"mt-4",children:[(0,Me.jsx)("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Nouvelles images"}),(0,Me.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:m.map((e,t)=>(0,Me.jsxs)("div",{className:"relative",children:[(0,Me.jsx)("img",{src:e.preview,alt:"preview",className:"w-full h-32 object-cover rounded-lg"}),(0,Me.jsx)("button",{type:"button",onClick:()=>{return e=t,URL.revokeObjectURL(m[e].preview),void h(t=>t.filter((t,r)=>r!==e));var e},className:"absolute top-2 right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600",children:(0,Me.jsx)(su,{className:"w-4 h-4"})})]},e.id))})]}),(p.length>0||m.length>0)&&(0,Me.jsxs)("div",{className:"mt-3 text-sm text-gray-500",children:[p.length+m.length," / 6 images"]})]})]}),(0,Me.jsxs)("div",{className:"flex space-x-3",children:[(0,Me.jsx)("button",{type:"button",onClick:()=>s("/dashboard"),className:"btn-secondary",disabled:x||o,children:"Annuler"}),(0,Me.jsx)("button",{type:"submit",disabled:x||o||!l.trim(),className:"btn-primary",children:x||o?"Modification...":"Modifier"})]})]})]})})},mp=()=>{const{user:e}=yr(),[r,n]=t.useState(!0),s=t.useMemo(()=>!!e&&(Boolean(e.isVerified)||Boolean(e.is_verified)||Boolean(e.cinVerified)||Boolean(e.cin_verified)),[e]),a=t.useMemo(()=>!(!e||s)&&(Boolean(e.cinPending)||Boolean(e.cin_verification_requested_at)),[e,s]);t.useEffect(()=>{if(!e)return;const t="banner_hidden_".concat(e.id),r=localStorage.getItem(t);if(s)return localStorage.removeItem(t),void n(!1);"true"===r&&n(!1)},[e,s]);const i=()=>{e&&localStorage.setItem("banner_hidden_".concat(e.id),"true"),n(!1)};return e&&!s&&r?a?(0,Me.jsx)("div",{className:"fixed top-16 left-0 right-0 z-40 bg-blue-50 border-l-4 border-blue-400 p-4 shadow-md",children:(0,Me.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Me.jsxs)("div",{className:"flex items-center",children:[(0,Me.jsx)(em,{className:"h-5 w-5 text-blue-400"}),(0,Me.jsxs)("p",{className:"ml-3 text-sm text-blue-700",children:[(0,Me.jsx)("strong",{children:"V\xe9rification en cours :"})," Votre demande est en attente de validation."," ",(0,Me.jsx)(Ae,{to:"/profile",className:"font-medium underline text-blue-700 hover:text-blue-600",children:"Voir mon profil \u2192"})]})]}),(0,Me.jsx)("button",{onClick:i,className:"ml-auto pl-3",children:(0,Me.jsx)(su,{className:"h-5 w-5 text-blue-400 hover:text-blue-600"})})]})}):(0,Me.jsx)("div",{className:"fixed top-16 left-0 right-0 z-40 bg-yellow-50 border-l-4 border-yellow-400 p-4 shadow-md",children:(0,Me.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Me.jsxs)("div",{className:"flex items-center",children:[(0,Me.jsx)(cu,{className:"h-5 w-5 text-yellow-400"}),(0,Me.jsxs)("p",{className:"ml-3 text-sm text-yellow-700",children:[(0,Me.jsx)("strong",{children:"V\xe9rification requise :"})," Veuillez v\xe9rifier votre carte d\u2019identit\xe9."," ",(0,Me.jsx)(Ae,{to:"/cin-verification",className:"font-medium underline text-yellow-700 hover:text-yellow-600",children:"V\xe9rifier maintenant \u2192"})]})]}),(0,Me.jsx)("button",{onClick:i,className:"ml-auto pl-3",children:(0,Me.jsx)(su,{className:"h-5 w-5 text-yellow-400 hover:text-yellow-600"})})]})}):null},hp=()=>{const[e,r]=t.useState(!1);t.useEffect(()=>{const e=()=>{r(window.scrollY>400)};return window.addEventListener("scroll",e,{passive:!0}),()=>window.removeEventListener("scroll",e)},[]);return e?(0,Me.jsx)("button",{onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),"aria-label":"Remonter en haut",className:"fixed bottom-6 right-6 z-50 bg-primary-600 hover:bg-primary-700 text-white rounded-full shadow-lg w-12 h-12 flex items-center justify-center transition-colors",children:"\u2191"}):null},pp=["title","titleId"];function fp(e,r){let{title:n,titleId:s}=e,a=(0,Ps.A)(e,pp);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":s},a),n?t.createElement("title",{id:s},n):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"}))}const xp=t.forwardRef(fp),gp=["title","titleId"];function vp(e,r){let{title:n,titleId:s}=e,a=(0,Ps.A)(e,gp);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":s},a),n?t.createElement("title",{id:s},n):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"}),t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const yp=t.forwardRef(vp),bp=["title","titleId"];function jp(e,r){let{title:n,titleId:s}=e,a=(0,Ps.A)(e,bp);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":s},a),n?t.createElement("title",{id:s},n):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-4.682-2.72m.94 3.198.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0 1 12 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 0 1 6 18.719m12 0a5.971 5.971 0 0 0-.941-3.197m0 0A5.995 5.995 0 0 0 12 12.75a5.995 5.995 0 0 0-5.058 2.772m0 0a3 3 0 0 0-4.681 2.72 8.986 8.986 0 0 0 3.74.477m.94-3.197a5.971 5.971 0 0 0-.94 3.197M15 6.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm6 3a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Zm-13.5 0a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Z"}))}const wp=t.forwardRef(jp),Np=["title","titleId"];function kp(e,r){let{title:n,titleId:s}=e,a=(0,Ps.A)(e,Np);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":s},a),n?t.createElement("title",{id:s},n):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18 9 11.25l4.306 4.306a11.95 11.95 0 0 1 5.814-5.518l2.74-1.22m0 0-5.94-2.281m5.94 2.28-2.28 5.941"}))}const Sp=t.forwardRef(kp),Cp=["title","titleId"];function Ep(e,r){let{title:n,titleId:s}=e,a=(0,Ps.A)(e,Cp);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":s},a),n?t.createElement("title",{id:s},n):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 21v-7.5a.75.75 0 0 1 .75-.75h3a.75.75 0 0 1 .75.75V21m-4.5 0H2.36m11.14 0H18m0 0h3.64m-1.39 0V9.349M3.75 21V9.349m0 0a3.001 3.001 0 0 0 3.75-.615A2.993 2.993 0 0 0 9.75 9.75c.896 0 1.7-.393 2.25-1.016a2.993 2.993 0 0 0 2.25 1.016c.896 0 1.7-.393 2.25-1.015a3.001 3.001 0 0 0 3.75.614m-16.5 0a3.004 3.004 0 0 1-.621-4.72l1.189-1.19A1.5 1.5 0 0 1 5.378 3h13.243a1.5 1.5 0 0 1 1.06.44l1.19 1.189a3 3 0 0 1-.621 4.72M6.75 18h3.75a.75.75 0 0 0 .75-.75V13.5a.75.75 0 0 0-.75-.75H6.75a.75.75 0 0 0-.75.75v3.75c0 .414.336.75.75.75Z"}))}const Ap=t.forwardRef(Ep),Pp=["title","titleId"];function Tp(e,r){let{title:n,titleId:s}=e,a=(0,Ps.A)(e,Pp);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":s},a),n?t.createElement("title",{id:s},n):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const Mp=t.forwardRef(Tp),Lp=()=>{var e,r,n;const{user:s,logout:a}=yr(),i=K(),[o,l]=(0,t.useState)("users"),[c,d]=(0,t.useState)([]),[u,m]=(0,t.useState)([]),[h,p]=(0,t.useState)([]),[f,x]=(0,t.useState)([]),[g,v]=(0,t.useState)(!1),[y,b]=(0,t.useState)({open:!1,type:null,id:null,reason:""}),[j,w]=(0,t.useState)({open:!1,user:null}),[N,k]=(0,t.useState)(null),[S,C]=(0,t.useState)(null),[E,A]=(0,t.useState)({totalUsers:0,totalProperties:0,totalAnnouncements:0,pendingVerifications:0,newUsersToday:0,activeListings:0});(0,t.useEffect)(()=>{T(),P()},[o]);const P=async()=>{try{A({totalUsers:c.length,totalProperties:u.length,totalAnnouncements:h.length,pendingVerifications:f.length,newUsersToday:c.filter(e=>{const t=new Date(e.createdAt||e.created_at);return(new Date).toDateString()===t.toDateString()}).length,activeListings:u.filter(e=>e.isAvailable).length})}catch(e){console.error("Erreur chargement stats:",e)}},T=async()=>{v(!0);try{const[e,t,r,n]=await Promise.all([(0,hr.apiGet)("/api/admin/users_list"),(0,hr.apiGet)("/api/admin/announcements_list"),(0,hr.apiGet)("/api/admin/properties_list"),(0,hr.apiGet)("/api/admin/cin_to_verify")]),s=await e.text(),a=await t.text(),i=await r.text(),o=await n.text(),l=JSON.parse(s||"{}");l.success?d(l.data):d([]);const c=JSON.parse(a||"{}");c.success?p(c.data):p([]);const u=JSON.parse(i||"{}");u.success?m(u.data):m([]);const h=JSON.parse(o||"{}");console.log("R\xe9ponse CIN compl\xe8te:",h),h.success?h.data&&h.data.cinToVerify&&Array.isArray(h.data.cinToVerify)?x(h.data.cinToVerify):h.data&&Array.isArray(h.data)?x(h.data):h.cinToVerify&&Array.isArray(h.cinToVerify)?x(h.cinToVerify):Array.isArray(h)?x(h):(console.warn("Structure de r\xe9ponse CIN inattendue:",h),x([])):x([])}catch(e){console.error("Erreur chargement:",e),mr.error("Erreur lors du chargement des donn\xe9es")}finally{v(!1)}},M={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL||"http://localhost:5000",L=e=>e?e.startsWith("http")?e:e.startsWith("/")?"".concat(M).concat(e):e:"/api/placeholder/400/300";if(!s)return(0,Me.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,Me.jsx)("div",{className:"text-gray-900",children:"Chargement..."})});if("admin"!==s.userType)return(0,Me.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,Me.jsx)("div",{className:"text-gray-900",children:"Acc\xe8s refus\xe9"})});const R=async(e,t)=>{try{(await(0,hr.apiJson)("/api/admin/cin_verify/".concat(e),"PUT",{verified:t})).success&&(mr.success(t?"CIN v\xe9rifi\xe9e avec succ\xe8s":"CIN rejet\xe9e"),x(t=>t.filter(t=>t.id!==e)),d(r=>r.map(r=>r.id===e?(0,Ie.A)((0,Ie.A)({},r),{},{cinVerified:t,isVerified:t}):r)))}catch(r){mr.error("Erreur lors de la v\xe9rification")}},D=f.length,F=c.filter(e=>{const t=new Date(e.createdAt||e.created_at);return((new Date).getTime()-t.getTime())/36e5<24}).length,I=e=>{const t=String(e.id),r=u.filter(e=>{const r=e.ownerId||e.owner_id||e.userId||e.user_id;return r&&String(r)===t}).length,n=h.filter(e=>{var r;const n=(null===(r=e.author)||void 0===r?void 0:r.id)||e.userId||e.user_id;return n&&String(n)===t}).length;return r+n};return(0,Me.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,Me.jsx)("header",{className:"bg-white shadow-sm border-b border-gray-200",children:(0,Me.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,Me.jsxs)("div",{className:"flex justify-between items-center py-4",children:[(0,Me.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Me.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg flex items-center justify-center",children:(0,Me.jsx)(_d,{className:"w-6 h-6 text-white"})}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Administration"}),(0,Me.jsx)("p",{className:"text-sm text-gray-600",children:"Panneau de gestion"})]})]}),(0,Me.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Me.jsxs)("button",{onClick:async()=>{try{await a(),i("/admin-login")}catch(Ke){console.error("Erreur d\xe9connexion admin:",Ke)}},className:"flex items-center space-x-2 px-3 py-2 rounded-lg border border-red-200 text-sm font-medium text-red-600 hover:bg-red-50 transition-colors",children:[(0,Me.jsx)(tp,{className:"w-4 h-4"}),(0,Me.jsx)("span",{children:"D\xe9connexion"})]}),(0,Me.jsxs)("div",{className:"text-right",children:[(0,Me.jsxs)("p",{className:"text-sm font-medium text-gray-900",children:[s.firstName," ",s.lastName]}),(0,Me.jsx)("p",{className:"text-xs text-gray-500",children:"Administrateur"})]}),(0,Me.jsx)("div",{className:"w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center",children:(0,Me.jsxs)("span",{className:"text-sm font-medium text-gray-700",children:[s.firstName[0],s.lastName[0]]})})]})]})})}),(0,Me.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,Me.jsxs)("div",{className:"flex space-x-8",children:[(0,Me.jsxs)("div",{className:"w-64 flex-shrink-0",children:[(0,Me.jsxs)("nav",{className:"space-y-2",children:[(0,Me.jsxs)("button",{onClick:()=>l("dashboard"),className:"w-full flex items-center space-x-3 px-4 py-3 rounded-xl text-left transition-all ".concat("dashboard"===o?"bg-blue-50 border border-blue-200 text-blue-700 shadow-sm":"text-gray-600 hover:bg-gray-100 hover:text-gray-900"),children:[(0,Me.jsx)(xp,{className:"w-5 h-5"}),(0,Me.jsx)("span",{className:"font-medium",children:"Tableau de bord"})]}),(0,Me.jsxs)("button",{onClick:()=>l("users"),className:"w-full flex items-center space-x-3 px-4 py-3 rounded-xl text-left transition-all ".concat("users"===o?"bg-blue-50 border border-blue-200 text-blue-700 shadow-sm":"text-gray-600 hover:bg-gray-100 hover:text-gray-900"),children:[(0,Me.jsx)(Dd,{className:"w-5 h-5"}),(0,Me.jsx)("span",{className:"font-medium",children:"Utilisateurs"}),(0,Me.jsx)("span",{className:"ml-auto bg-gray-200 text-gray-700 text-xs px-2 py-1 rounded-full",children:c.length})]}),(0,Me.jsxs)("button",{onClick:()=>l("properties"),className:"w-full flex items-center space-x-3 px-4 py-3 rounded-xl text-left transition-all ".concat("properties"===o?"bg-blue-50 border border-blue-200 text-blue-700 shadow-sm":"text-gray-600 hover:bg-gray-100 hover:text-gray-900"),children:[(0,Me.jsx)(Md,{className:"w-5 h-5"}),(0,Me.jsx)("span",{className:"font-medium",children:"Logements"}),(0,Me.jsx)("span",{className:"ml-auto bg-gray-200 text-gray-700 text-xs px-2 py-1 rounded-full",children:u.length})]}),(0,Me.jsxs)("button",{onClick:()=>l("announcements"),className:"w-full flex items-center space-x-3 px-4 py-3 rounded-xl text-left transition-all ".concat("announcements"===o?"bg-blue-50 border border-blue-200 text-blue-700 shadow-sm":"text-gray-600 hover:bg-gray-100 hover:text-gray-900"),children:[(0,Me.jsx)(Vd,{className:"w-5 h-5"}),(0,Me.jsx)("span",{className:"font-medium",children:"Annonces"}),(0,Me.jsx)("span",{className:"ml-auto bg-gray-200 text-gray-700 text-xs px-2 py-1 rounded-full",children:h.length})]}),(0,Me.jsxs)("button",{onClick:()=>l("cin"),className:"w-full flex items-center space-x-3 px-4 py-3 rounded-xl text-left transition-all ".concat("cin"===o?"bg-blue-50 border border-blue-200 text-blue-700 shadow-sm":"text-gray-600 hover:bg-gray-100 hover:text-gray-900"),children:[(0,Me.jsx)(cu,{className:"w-5 h-5"}),(0,Me.jsx)("span",{className:"font-medium",children:"V\xe9rifications CIN"}),f.length>0&&(0,Me.jsx)("span",{className:"ml-auto bg-red-500 text-white text-xs px-2 py-1 rounded-full",children:f.length})]}),(0,Me.jsxs)("button",{onClick:()=>l("settings"),className:"w-full flex items-center space-x-3 px-4 py-3 rounded-xl text-left transition-all ".concat("settings"===o?"bg-blue-50 border border-blue-200 text-blue-700 shadow-sm":"text-gray-600 hover:bg-gray-100 hover:text-gray-900"),children:[(0,Me.jsx)(yp,{className:"w-5 h-5"}),(0,Me.jsx)("span",{className:"font-medium",children:"Param\xe8tres"})]})]}),(0,Me.jsxs)("div",{className:"mt-8 p-4 bg-white rounded-xl border border-gray-200 shadow-sm",children:[(0,Me.jsx)("h3",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Aper\xe7u rapide"}),(0,Me.jsxs)("div",{className:"space-y-3",children:[(0,Me.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Me.jsx)("span",{className:"text-xs text-gray-600",children:"Nouveaux utilisateurs"}),(0,Me.jsxs)("span",{className:"text-sm font-semibold text-green-600",children:["+",E.newUsersToday]})]}),(0,Me.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Me.jsx)("span",{className:"text-xs text-gray-600",children:"En attente"}),(0,Me.jsx)("span",{className:"text-sm font-semibold text-red-600",children:E.pendingVerifications})]}),(0,Me.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Me.jsx)("span",{className:"text-xs text-gray-600",children:"Actifs"}),(0,Me.jsx)("span",{className:"text-sm font-semibold text-blue-600",children:E.activeListings})]})]})]})]}),(0,Me.jsxs)("div",{className:"flex-1",children:["dashboard"===o&&(0,Me.jsxs)("div",{className:"space-y-6",children:[(0,Me.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[(0,Me.jsxs)("div",{className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm",children:[(0,Me.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Utilisateurs totaux"}),(0,Me.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:E.totalUsers})]}),(0,Me.jsx)("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:(0,Me.jsx)(wp,{className:"w-6 h-6 text-blue-600"})})]}),(0,Me.jsxs)("div",{className:"mt-4 flex items-center text-sm text-green-600",children:[(0,Me.jsx)(Sp,{className:"w-4 h-4 mr-1"}),(0,Me.jsx)("span",{children:"+12% ce mois"})]})]}),(0,Me.jsxs)("div",{className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm",children:[(0,Me.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Logements actifs"}),(0,Me.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:E.totalProperties})]}),(0,Me.jsx)("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:(0,Me.jsx)(Ap,{className:"w-6 h-6 text-green-600"})})]}),(0,Me.jsxs)("div",{className:"mt-4 flex items-center text-sm text-green-600",children:[(0,Me.jsx)(Sp,{className:"w-4 h-4 mr-1"}),(0,Me.jsx)("span",{children:"+8% ce mois"})]})]}),(0,Me.jsxs)("div",{className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm",children:[(0,Me.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Annonces"}),(0,Me.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:E.totalAnnouncements})]}),(0,Me.jsx)("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:(0,Me.jsx)(Mp,{className:"w-6 h-6 text-purple-600"})})]}),(0,Me.jsxs)("div",{className:"mt-4 flex items-center text-sm text-green-600",children:[(0,Me.jsx)(Sp,{className:"w-4 h-4 mr-1"}),(0,Me.jsx)("span",{children:"+15% ce mois"})]})]})]}),(0,Me.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,Me.jsxs)("div",{className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm",children:[(0,Me.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center space-x-2",children:[(0,Me.jsx)(Ru,{className:"w-5 h-5 text-yellow-500"}),(0,Me.jsx)("span",{children:"Alertes en attente"})]}),(0,Me.jsxs)("div",{className:"space-y-3",children:[f.length>0&&(0,Me.jsxs)("div",{className:"flex items-center justify-between p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:[(0,Me.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Me.jsx)(cu,{className:"w-5 h-5 text-yellow-600"}),(0,Me.jsxs)("div",{children:[(0,Me.jsxs)("p",{className:"text-sm font-medium text-yellow-800",children:[f.length," CIN \xe0 v\xe9rifier"]}),(0,Me.jsx)("p",{className:"text-xs text-yellow-600",children:"Action requise"})]})]}),(0,Me.jsx)("button",{onClick:()=>l("cin"),className:"text-xs bg-yellow-100 text-yellow-700 px-3 py-1 rounded-full hover:bg-yellow-200 transition-colors",children:"V\xe9rifier"})]}),(0,Me.jsxs)("div",{className:"flex items-center justify-between p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[(0,Me.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Me.jsx)(Yu,{className:"w-5 h-5 text-blue-600"}),(0,Me.jsxs)("div",{children:[(0,Me.jsxs)("p",{className:"text-sm font-medium text-blue-800",children:[E.newUsersToday," nouveaux utilisateurs aujourd'hui"]}),(0,Me.jsx)("p",{className:"text-xs text-blue-600",children:"Derni\xe8res 24h"})]})]}),(0,Me.jsx)("button",{onClick:()=>l("users"),className:"text-xs bg-blue-100 text-blue-700 px-3 py-1 rounded-full hover:bg-blue-200 transition-colors",children:"Voir"})]})]})]}),(0,Me.jsxs)("div",{className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm",children:[(0,Me.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Actions rapides"}),(0,Me.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,Me.jsxs)("button",{onClick:()=>l("users"),className:"p-4 bg-gray-50 rounded-lg text-left hover:bg-gray-100 transition-colors",children:[(0,Me.jsx)(Dd,{className:"w-6 h-6 text-gray-600 mb-2"}),(0,Me.jsx)("p",{className:"text-sm font-medium text-gray-900",children:"G\xe9rer utilisateurs"}),(0,Me.jsx)("p",{className:"text-xs text-gray-600",children:"Voir et modifier"})]}),(0,Me.jsxs)("button",{onClick:()=>l("properties"),className:"p-4 bg-gray-50 rounded-lg text-left hover:bg-gray-100 transition-colors",children:[(0,Me.jsx)(Md,{className:"w-6 h-6 text-gray-600 mb-2"}),(0,Me.jsx)("p",{className:"text-sm font-medium text-gray-900",children:"Logements"}),(0,Me.jsxs)("p",{className:"text-xs text-gray-600",children:[u.length," publi\xe9s"]})]}),(0,Me.jsxs)("button",{onClick:()=>l("announcements"),className:"p-4 bg-gray-50 rounded-lg text-left hover:bg-gray-100 transition-colors",children:[(0,Me.jsx)(Vd,{className:"w-6 h-6 text-gray-600 mb-2"}),(0,Me.jsx)("p",{className:"text-sm font-medium text-gray-900",children:"Annonces"}),(0,Me.jsxs)("p",{className:"text-xs text-gray-600",children:[h.length," actives"]})]}),(0,Me.jsxs)("button",{onClick:()=>l("cin"),className:"p-4 bg-gray-50 rounded-lg text-left hover:bg-gray-100 transition-colors",children:[(0,Me.jsx)(_d,{className:"w-6 h-6 text-gray-600 mb-2"}),(0,Me.jsx)("p",{className:"text-sm font-medium text-gray-900",children:"V\xe9rifications"}),(0,Me.jsxs)("p",{className:"text-xs text-gray-600",children:[f.length," en attente"]})]})]})]})]}),(0,Me.jsxs)("div",{className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm",children:[(0,Me.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Activit\xe9 r\xe9cente"}),(0,Me.jsx)("p",{className:"text-xs text-gray-500 mb-4",children:"Histogramme bas\xe9 sur le nombre de logements et d'annonces par utilisateur."}),(()=>{const e=c.slice(0,5),t=e.reduce((e,t)=>{const r=I(t);return r>e?r:e},0);return(0,Me.jsx)("div",{className:"space-y-3",children:e.map(e=>{const r=I(e),n=t>0?r/t*100:0;return(0,Me.jsxs)("div",{className:"py-3 border-b border-gray-100 last:border-0",children:[(0,Me.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,Me.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Me.jsx)("div",{className:"w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center",children:(0,Me.jsxs)("span",{className:"text-xs font-medium text-gray-700",children:[e.firstName[0],e.lastName[0]]})}),(0,Me.jsxs)("div",{children:[(0,Me.jsxs)("p",{className:"text-sm font-medium text-gray-900",children:[e.firstName," ",e.lastName]}),(0,Me.jsxs)("p",{className:"text-xs text-gray-500",children:["Inscrit le ",new Date(e.createdAt).toLocaleDateString("fr-FR")]})]})]}),(0,Me.jsx)("span",{className:"text-xs px-2 py-1 rounded-full ".concat("admin"===e.userType?"bg-purple-100 text-purple-800":"owner"===e.userType?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"),children:e.userType})]}),(0,Me.jsxs)("div",{className:"mt-1",children:[(0,Me.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,Me.jsx)("span",{className:"text-[11px] text-gray-500",children:"Score activit\xe9"}),(0,Me.jsx)("span",{className:"text-[11px] text-gray-600 font-medium",children:r})]}),(0,Me.jsx)("div",{className:"w-full h-2 bg-gray-100 rounded-full overflow-hidden",children:(0,Me.jsx)("div",{className:"h-2 bg-blue-500 rounded-full transition-all",style:{width:"".concat(n,"%")}})})]})]},e.id)})})})()]})]}),"users"===o&&(0,Me.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-6",children:[(0,Me.jsx)("h2",{className:"text-xl font-semibold mb-4 text-gray-900",children:"Gestion des Utilisateurs"}),(0,Me.jsx)("div",{className:"overflow-x-auto",children:(0,Me.jsxs)("table",{className:"min-w-full text-sm",children:[(0,Me.jsx)("thead",{children:(0,Me.jsxs)("tr",{className:"text-left text-gray-600 border-b border-gray-200",children:[(0,Me.jsx)("th",{className:"p-3",children:"ID"}),(0,Me.jsx)("th",{className:"p-3",children:"Email"}),(0,Me.jsx)("th",{className:"p-3",children:"Nom"}),(0,Me.jsx)("th",{className:"p-3",children:"Type"}),(0,Me.jsx)("th",{className:"p-3",children:"V\xe9rifi\xe9"}),(0,Me.jsx)("th",{className:"p-3",children:"Actions"})]})}),(0,Me.jsx)("tbody",{children:c.map(e=>(0,Me.jsxs)("tr",{className:"border-b border-gray-200 hover:bg-gray-50 cursor-pointer",onClick:()=>w({open:!0,user:e}),children:[(0,Me.jsx)("td",{className:"p-3 text-gray-900 bg-white",children:e.id}),(0,Me.jsx)("td",{className:"p-3 text-gray-900 bg-white",children:e.email}),(0,Me.jsxs)("td",{className:"p-3 text-gray-900 bg-white",children:[e.firstName," ",e.lastName]}),(0,Me.jsx)("td",{className:"p-3 bg-white",children:(0,Me.jsx)("span",{className:"badge ".concat("admin"===e.userType?"badge-primary":"owner"===e.userType?"badge-warning":"badge-success"),children:e.userType})}),(0,Me.jsx)("td",{className:"p-3",children:e.isVerified||e.is_verified||e.cinVerified||e.cin_verified?(0,Me.jsx)("span",{className:"badge badge-success",children:"\u2713 V\xe9rifi\xe9"}):(0,Me.jsx)("span",{className:"badge badge-warning",children:"Non v\xe9rifi\xe9"})}),(0,Me.jsx)("td",{className:"p-3 bg-white",onClick:e=>e.stopPropagation(),children:(0,Me.jsx)("button",{onClick:()=>b({open:!0,type:"user",id:e.id,reason:""}),className:"text-red-600 hover:text-red-700 p-2 rounded-full hover:bg-red-50 transition-colors",title:"Supprimer l'utilisateur",children:(0,Me.jsx)(su,{className:"w-5 h-5"})})})]},e.id))})]})})]}),"announcements"===o&&(0,Me.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-6",children:[(0,Me.jsx)("h2",{className:"text-xl font-semibold mb-4 text-dark-900",children:"Annonces \xc9tudiantes"}),N?(0,Me.jsxs)("div",{className:"space-y-4",children:[(0,Me.jsxs)("button",{onClick:()=>k(null),className:"btn-secondary text-sm mb-4 flex items-center space-x-2",children:[(0,Me.jsx)(su,{className:"w-4 h-4"}),(0,Me.jsx)("span",{children:"Retour \xe0 la liste"})]}),(0,Me.jsxs)("div",{className:"border border-gray-200 rounded-lg p-6",children:[(0,Me.jsxs)("div",{className:"mb-4",children:[(0,Me.jsxs)("span",{className:"text-xs text-gray-500",children:["ID: ",N.id]}),(0,Me.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mt-2",children:["Auteur: ",null===(e=N.author)||void 0===e?void 0:e.firstName," ",null===(r=N.author)||void 0===r?void 0:r.lastName]}),(0,Me.jsxs)("p",{className:"text-sm text-gray-500",children:["Publi\xe9e le: ",new Date(N.createdAt).toLocaleString("fr-FR")]})]}),N.images&&N.images.length>0&&(0,Me.jsxs)("div",{className:"mb-6",children:[(0,Me.jsx)("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Images de l'annonce:"}),(0,Me.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:N.images.map((e,t)=>(0,Me.jsx)("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:(0,Me.jsx)("img",{src:L(e),alt:"Annonce ".concat(t+1),className:"w-full h-32 object-cover cursor-pointer hover:opacity-90 transition-opacity",onClick:()=>window.open(L(e),"_blank")})},t))})]}),(0,Me.jsxs)("div",{className:"mt-4",children:[(0,Me.jsx)("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Contenu:"}),(0,Me.jsx)("p",{className:"text-gray-900 whitespace-pre-wrap bg-gray-50 p-4 rounded-lg",children:N.content})]}),N.budget&&(0,Me.jsxs)("div",{className:"mt-4",children:[(0,Me.jsx)("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Budget:"}),(0,Me.jsxs)("p",{className:"text-lg font-semibold text-primary-600",children:[N.budget.toLocaleString()," Ar/mois"]})]}),(0,Me.jsx)("div",{className:"mt-6 pt-4 border-t border-gray-200",children:(0,Me.jsxs)("button",{onClick:()=>b({open:!0,type:"announcement",id:N.id,reason:""}),className:"btn-danger text-sm flex items-center space-x-2",children:[(0,Me.jsx)(su,{className:"w-4 h-4"}),(0,Me.jsx)("span",{children:"Supprimer cette annonce"})]})})]})]}):(0,Me.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[h.map(e=>{var t,r;return(0,Me.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4 hover:bg-gray-50 cursor-pointer transition-shadow hover:shadow-md",onClick:()=>k(e),children:[e.images&&e.images.length>0&&(0,Me.jsx)("div",{className:"mb-3",children:(0,Me.jsx)("img",{src:L(e.images[0]),alt:"Annonce",className:"w-full h-40 object-cover rounded-lg"})}),(0,Me.jsx)("div",{className:"mb-2",children:(0,Me.jsxs)("span",{className:"text-xs text-gray-500",children:["ID: ",e.id]})}),(0,Me.jsxs)("h3",{className:"text-sm font-semibold text-gray-900 mb-2 line-clamp-2",children:[null===(t=e.author)||void 0===t?void 0:t.firstName," ",null===(r=e.author)||void 0===r?void 0:r.lastName]}),(0,Me.jsx)("p",{className:"text-sm text-gray-700 mb-3 line-clamp-3",children:e.content}),(0,Me.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[(0,Me.jsx)("span",{children:new Date(e.createdAt).toLocaleDateString("fr-FR")}),(0,Me.jsx)("span",{children:Array.isArray(e.images)?"".concat(e.images.length," image(s)"):"0 image"})]}),(0,Me.jsxs)("div",{className:"flex items-center justify-between mt-3",children:[(0,Me.jsx)("button",{onClick:()=>k(e),className:"btn-secondary text-xs",children:"D\xe9tails"}),(0,Me.jsx)("button",{onClick:t=>{t.stopPropagation(),b({open:!0,type:"announcement",id:e.id,reason:""})},className:"btn-danger text-xs",children:"Supprimer"})]})]},e.id)}),0===h.length&&(0,Me.jsx)("p",{className:"text-gray-600 text-center py-8 col-span-full",children:"Aucune annonce"})]})]}),"properties"===o&&(0,Me.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-6",children:[(0,Me.jsx)("h2",{className:"text-xl font-semibold mb-4 text-dark-900",children:"Appartements Publi\xe9s"}),S?(0,Me.jsxs)("div",{className:"space-y-4",children:[(0,Me.jsxs)("button",{onClick:()=>C(null),className:"btn-secondary text-sm mb-4 flex items-center space-x-2",children:[(0,Me.jsx)(su,{className:"w-4 h-4"}),(0,Me.jsx)("span",{children:"Retour \xe0 la liste"})]}),(0,Me.jsxs)("div",{className:"border border-dark-200 rounded-lg p-6",children:[(0,Me.jsxs)("div",{className:"mb-4",children:[(0,Me.jsx)("h3",{className:"text-xl font-semibold text-dark-900",children:S.title}),(0,Me.jsxs)("p",{className:"text-sm text-dark-500 mt-1",children:["ID: ",S.id]}),(0,Me.jsxs)("p",{className:"text-sm text-dark-500",children:["Propri\xe9taire ID: ",S.ownerId]})]}),S.images&&S.images.length>0&&(0,Me.jsxs)("div",{className:"mb-6",children:[(0,Me.jsx)("h4",{className:"text-sm font-medium text-dark-700 mb-3",children:"Images du logement:"}),(0,Me.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:S.images.map((e,t)=>(0,Me.jsx)("div",{className:"border border-dark-200 rounded-lg overflow-hidden",children:(0,Me.jsx)("img",{src:L(e),alt:"".concat(S.title," ").concat(t+1),className:"w-full h-32 object-cover cursor-pointer hover:opacity-90 transition-opacity",onClick:()=>window.open(L(e),"_blank")})},t))})]}),(0,Me.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-4",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("span",{className:"text-sm font-medium text-dark-700",children:"Prix:"}),(0,Me.jsxs)("p",{className:"text-dark-900 text-lg font-semibold",children:[null===(n=S.price)||void 0===n?void 0:n.toLocaleString()," Ar/mois"]})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("span",{className:"text-sm font-medium text-dark-700",children:"District:"}),(0,Me.jsx)("p",{className:"text-dark-900",children:S.district||"N/A"})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("span",{className:"text-sm font-medium text-dark-700",children:"Adresse:"}),(0,Me.jsx)("p",{className:"text-dark-900",children:S.address||"N/A"})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("span",{className:"text-sm font-medium text-dark-700",children:"Type:"}),(0,Me.jsx)("p",{className:"text-dark-900",children:"apartment"===S.propertyType?"Appartement":"house"===S.propertyType?"Maison":"Studio"})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("span",{className:"text-sm font-medium text-dark-700",children:"Chambres:"}),(0,Me.jsxs)("p",{className:"text-dark-900",children:[S.availableRooms,"/",S.totalRooms]})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("span",{className:"text-sm font-medium text-dark-700",children:"Statut:"}),(0,Me.jsx)("p",{className:S.isAvailable?"badge badge-success":"badge badge-danger",children:S.isAvailable?"Disponible":"Occup\xe9"})]})]}),S.description&&(0,Me.jsxs)("div",{className:"mb-4",children:[(0,Me.jsx)("span",{className:"text-sm font-medium text-dark-700",children:"Description:"}),(0,Me.jsx)("p",{className:"text-dark-900 mt-1 bg-dark-50 p-3 rounded-lg",children:S.description})]}),S.amenities&&S.amenities.length>0&&(0,Me.jsxs)("div",{className:"mb-4",children:[(0,Me.jsx)("span",{className:"text-sm font-medium text-dark-700",children:"\xc9quipements:"}),(0,Me.jsx)("div",{className:"flex flex-wrap gap-2 mt-2",children:S.amenities.map((e,t)=>(0,Me.jsx)("span",{className:"badge badge-primary text-xs",children:e},t))})]}),(0,Me.jsx)("div",{className:"mt-6 pt-4 border-t border-dark-200",children:(0,Me.jsxs)("button",{onClick:()=>b({open:!0,type:"property",id:S.id,reason:""}),className:"btn-danger text-sm flex items-center space-x-2",children:[(0,Me.jsx)(su,{className:"w-4 h-4"}),(0,Me.jsx)("span",{children:"Supprimer ce logement"})]})})]})]}):(0,Me.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[u.map(e=>{var t;return(0,Me.jsxs)("div",{className:"border border-dark-200 rounded-lg p-4 hover:bg-dark-50 cursor-pointer transition-shadow hover:shadow-md",onClick:async()=>{try{const t=await(0,hr.apiGet)("/api/properties/get_by_id/".concat(e.id));t.success&&C(t.data)}catch(t){mr.error("Erreur lors du chargement du logement")}},children:[e.images&&e.images.length>0&&(0,Me.jsxs)("div",{className:"mb-3 relative",children:[(0,Me.jsx)("img",{src:L(e.images[0]),alt:e.title,className:"w-full h-40 object-cover rounded-lg"}),(0,Me.jsx)("div",{className:"absolute top-2 left-2 bg-black/70 text-white px-2 py-1 rounded text-xs",children:"apartment"===e.propertyType?"\ud83c\udfe2":"house"===e.propertyType?"\ud83c\udfe0":"\ud83c\udfe1"})]}),(0,Me.jsx)("div",{className:"mb-2",children:(0,Me.jsxs)("span",{className:"text-xs text-dark-500",children:["ID: ",e.id]})}),(0,Me.jsx)("h3",{className:"text-sm font-semibold text-dark-900 mb-2 line-clamp-2",children:e.title||"Sans titre"}),(0,Me.jsxs)("div",{className:"flex items-center text-dark-600 mb-2 text-xs",children:[(0,Me.jsx)($d,{className:"w-3 h-3 mr-1"}),(0,Me.jsx)("span",{className:"line-clamp-1",children:e.address||e.district||"Adresse non sp\xe9cifi\xe9e"})]}),(0,Me.jsxs)("p",{className:"text-lg font-bold text-primary-600 mb-3",children:[null===(t=e.price)||void 0===t?void 0:t.toLocaleString()," Ar/mois"]}),(0,Me.jsxs)("div",{className:"flex items-center justify-between text-xs text-dark-500",children:[(0,Me.jsxs)("span",{children:[e.availableRooms,"/",e.totalRooms," ch."]}),(0,Me.jsx)("span",{className:"badge ".concat(e.isAvailable?"badge-success":"badge-danger"),children:e.isAvailable?"Disponible":"Occup\xe9"})]}),(0,Me.jsxs)("div",{className:"flex items-center justify-between mt-3",children:[(0,Me.jsx)("button",{className:"btn-secondary text-xs",onClick:async t=>{t.stopPropagation();try{const t=await(0,hr.apiGet)("/api/properties/get_by_id/".concat(e.id));t.success&&C(t.data)}catch(r){mr.error("Erreur lors du chargement du logement")}},children:"D\xe9tails"}),(0,Me.jsx)("button",{className:"btn-danger text-xs",onClick:t=>{t.stopPropagation(),b({open:!0,type:"property",id:e.id,reason:""})},children:"Supprimer"})]})]},e.id)}),0===u.length&&(0,Me.jsx)("p",{className:"text-dark-600 text-center py-8 col-span-full",children:"Aucun appartement publi\xe9"})]})]}),"cin"===o&&(0,Me.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-6",children:[(0,Me.jsx)("h2",{className:"text-xl font-semibold mb-4 text-dark-900",children:"CIN \xe0 V\xe9rifier"}),0===f.length?(0,Me.jsx)("p",{className:"text-dark-600 text-center py-8",children:"Aucune CIN en attente de v\xe9rification"}):(0,Me.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:f.map(e=>(0,Me.jsxs)("div",{className:"border rounded-lg p-6 ".concat(e.isExpired?"border-red-500 bg-red-50":"border-dark-200"),children:[(0,Me.jsx)("div",{className:"mb-4",children:(0,Me.jsx)("div",{className:"flex items-start justify-between mb-3",children:(0,Me.jsxs)("div",{className:"flex-1",children:[(0,Me.jsxs)("h3",{className:"text-lg font-semibold text-dark-900 mb-1",children:[e.firstName," ",e.lastName]}),(0,Me.jsx)("p",{className:"text-sm text-dark-600 mb-1",children:e.email}),(0,Me.jsx)("div",{className:"bg-dark-100 rounded p-2 mt-2",children:(0,Me.jsxs)("p",{className:"text-sm font-medium text-dark-700",children:["Num\xe9ro CIN: ",(0,Me.jsx)("span",{className:"font-bold text-dark-900",children:e.cinNumber||"Non renseign\xe9"})]})}),e.isExpired&&(0,Me.jsx)("p",{className:"text-xs text-red-600 mt-2 font-medium bg-red-100 p-2 rounded",children:"\u26a0\ufe0f D\xe9lai de 24h d\xe9pass\xe9 - Compte \xe9ligible \xe0 suppression"})]})})}),(0,Me.jsxs)("div",{className:"space-y-4 mb-4",children:[e.cinRectoImagePath&&(0,Me.jsxs)("div",{children:[(0,Me.jsx)("p",{className:"text-sm font-medium text-dark-700 mb-2",children:"Recto de la CIN"}),(0,Me.jsx)("div",{className:"relative",children:(0,Me.jsx)("img",{src:L(e.cinRectoImagePath),alt:"CIN Recto",className:"w-full h-64 object-contain bg-dark-50 rounded border-2 border-dark-200 hover:border-primary-400 transition-colors cursor-zoom-in",onError:e=>{e.currentTarget.src="/api/placeholder/300/200"},onClick:()=>window.open(L(e.cinRectoImagePath),"_blank")})})]}),e.cinVersoImagePath&&(0,Me.jsxs)("div",{children:[(0,Me.jsx)("p",{className:"text-sm font-medium text-dark-700 mb-2",children:"Verso de la CIN"}),(0,Me.jsx)("div",{className:"relative",children:(0,Me.jsx)("img",{src:L(e.cinVersoImagePath),alt:"CIN Verso",className:"w-full h-64 object-contain bg-dark-50 rounded border-2 border-dark-200 hover:border-primary-400 transition-colors cursor-zoom-in",onError:e=>{e.currentTarget.src="/api/placeholder/300/200"},onClick:()=>window.open(L(e.cinVersoImagePath),"_blank")})})]})]}),(0,Me.jsxs)("div",{className:"flex space-x-3 pt-4 border-t border-dark-200",children:[(0,Me.jsxs)("button",{onClick:()=>R(e.id,!0),className:"flex-1 btn-primary text-sm flex items-center justify-center space-x-2",children:[(0,Me.jsx)(Hm,{className:"w-5 h-5"}),(0,Me.jsx)("span",{children:"Approuver"})]}),(0,Me.jsxs)("button",{onClick:()=>R(e.id,!1),className:"flex-1 btn-secondary text-sm flex items-center justify-center space-x-2",children:[(0,Me.jsx)(su,{className:"w-5 h-5"}),(0,Me.jsx)("span",{children:"Rejeter"})]})]})]},e.id))})]}),"notifications"===o&&(0,Me.jsx)("div",{className:"space-y-6",children:(0,Me.jsxs)("div",{className:"card",children:[(0,Me.jsxs)("h2",{className:"text-xl font-semibold mb-4 text-dark-900 flex items-center space-x-2",children:[(0,Me.jsx)(Yu,{className:"w-6 h-6"}),(0,Me.jsx)("span",{children:"Notifications"})]}),(0,Me.jsxs)("div",{className:"space-y-4",children:[D>0&&(0,Me.jsxs)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[(0,Me.jsxs)("h3",{className:"font-semibold text-yellow-900 mb-2",children:[D," CIN en attente de v\xe9rification"]}),(0,Me.jsx)("button",{onClick:()=>l("cin"),className:"text-sm text-yellow-700 hover:text-yellow-900 underline",children:"Voir les CIN \xe0 v\xe9rifier"})]}),F>0&&(0,Me.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,Me.jsxs)("h3",{className:"font-semibold text-blue-900 mb-2",children:[F," nouveau(x) utilisateur(s) dans les derni\xe8res 24h"]}),(0,Me.jsx)("button",{onClick:()=>l("users"),className:"text-sm text-blue-700 hover:text-blue-900 underline",children:"Voir les utilisateurs"})]}),0===D&&0===F&&(0,Me.jsx)("p",{className:"text-dark-600 text-center py-8",children:"Aucune notification"})]})]})}),j.open&&j.user&&(0,Me.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Me.jsxs)("div",{className:"bg-dark-100 rounded-lg max-w-2xl w-full p-6 max-h-[90vh] overflow-y-auto",children:[(0,Me.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Me.jsx)("h3",{className:"text-xl font-semibold text-dark-900",children:"Informations de l'utilisateur"}),(0,Me.jsx)("button",{onClick:()=>w({open:!1,user:null}),className:"text-dark-600 hover:text-dark-900",children:(0,Me.jsx)(su,{className:"w-6 h-6"})})]}),(0,Me.jsx)("div",{className:"space-y-4"})]})}),y.open&&(0,Me.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Me.jsxs)("div",{className:"bg-dark-100 rounded-lg max-w-md w-full p-6",children:[(0,Me.jsxs)("h3",{className:"text-lg font-semibold text-dark-900 mb-4",children:["Supprimer ","user"===y.type?"l'utilisateur":"announcement"===y.type?"l'annonce":"le logement"]}),(0,Me.jsxs)("p",{className:"text-sm text-dark-700 mb-4",children:["Veuillez saisir la raison de la suppression ","user"===y.type||"announcement"===y.type?"(sera envoy\xe9e par email):":":"]}),(0,Me.jsx)("textarea",{value:y.reason,onChange:e=>b((0,Ie.A)((0,Ie.A)({},y),{},{reason:e.target.value})),className:"input-field w-full mb-4",rows:4,placeholder:"Raison de la suppression..."}),(0,Me.jsxs)("div",{className:"flex space-x-3 justify-end",children:[(0,Me.jsx)("button",{onClick:()=>b({open:!1,type:null,id:null,reason:""}),className:"btn-secondary",children:"Annuler"}),(0,Me.jsx)("button",{onClick:()=>{"user"===y.type?(async()=>{if(y.id&&y.reason)try{(await(0,hr.apiJson)("/api/admin/user_delete/".concat(y.id),"DELETE")).success&&(mr.success("Utilisateur supprim\xe9 avec succ\xe8s"),d(e=>e.filter(e=>e.id!==y.id)),b({open:!1,type:null,id:null,reason:""}))}catch(e){mr.error("Erreur lors de la suppression")}else mr.error("Veuillez saisir une raison")})():"announcement"===y.type?(async()=>{if(y.id&&y.reason)try{(await(0,hr.apiJson)("/api/admin/announcement_delete_with_reason/".concat(y.id),"DELETE",{reason:y.reason})).success&&(mr.success("Annonce supprim\xe9e avec succ\xe8s"),p(e=>e.filter(e=>e.id!==y.id)),b({open:!1,type:null,id:null,reason:""}))}catch(e){mr.error("Erreur lors de la suppression")}else mr.error("Veuillez saisir une raison")})():"property"===y.type&&(async()=>{if(y.id&&y.reason)try{const e=await(0,hr.apiJson)("/api/properties/delete/".concat(y.id),"DELETE");e.success?(mr.success("Logement supprim\xe9 avec succ\xe8s"),m(e=>e.filter(e=>e.id!==y.id)),b({open:!1,type:null,id:null,reason:""}),C(null)):mr.error(e.message||"Suppression impossible")}catch(e){mr.error("Erreur lors de la suppression")}else mr.error("Veuillez saisir une raison")})()},className:"btn-danger",children:"Supprimer"})]})]})})]})]})})]})},Rp=()=>{const[e,r]=(0,t.useState)(""),[n,s]=(0,t.useState)(""),[a,i]=(0,t.useState)(!1),[o,l]=(0,t.useState)(!1),[c,d]=(0,t.useState)(!1),{login:u,user:m}=yr(),h=K();(0,t.useEffect)(()=>{m?"admin"===m.userType?(l(!1),h("/admin",{replace:!0})):(l(!1),h("/",{replace:!0}),mr.error("Acc\xe8s refus\xe9. Vous devez \xeatre administrateur.")):l(!1)},[m,h]);return(0,Me.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-dark-50 via-dark-100 to-dark-200 py-12 px-4 sm:px-6 lg:px-8",children:(0,Me.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("div",{className:"flex justify-center",children:(0,Me.jsx)("img",{src:"/logo_colo.svg",alt:"ColocAntananarivo",className:"h-20 w-auto"})}),(0,Me.jsx)("h2",{className:"mt-6 text-center text-3xl font-extrabold text-dark-900",children:"Connexion Administrateur"}),(0,Me.jsx)("p",{className:"mt-2 text-center text-sm text-dark-600",children:"Acc\xe8s r\xe9serv\xe9 aux administrateurs"})]}),(0,Me.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:async t=>{if(t.preventDefault(),c){l(!0);try{await u(e,n)}catch(r){mr.error(r.message||"Erreur lors de la connexion"),l(!1)}}else mr.error("Veuillez compl\xe9ter le CAPTCHA")},children:[(0,Me.jsxs)("div",{className:"space-y-4",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-dark-900",children:"Adresse email administrateur"}),(0,Me.jsx)("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:e,onChange:e=>r(e.target.value),className:"input-field mt-1",placeholder:"admin@coloc.tana"})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-dark-900",children:"Mot de passe"}),(0,Me.jsxs)("div",{className:"mt-1 relative",children:[(0,Me.jsx)("input",{id:"password",name:"password",type:a?"text":"password",autoComplete:"current-password",required:!0,value:n,onChange:e=>s(e.target.value),className:"input-field pr-10",placeholder:"Votre mot de passe"}),(0,Me.jsx)("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>i(!a),children:a?(0,Me.jsx)(yu,{className:"h-5 w-5 text-dark-400"}):(0,Me.jsx)(wu,{className:"h-5 w-5 text-dark-400"})})]})]})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-dark-900 mb-2",children:"V\xe9rification CAPTCHA *"}),(0,Me.jsx)(Nu,{onVerify:d})]}),(0,Me.jsx)("div",{children:(0,Me.jsx)("button",{type:"submit",disabled:o||!c,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed",children:o?(0,Me.jsxs)("div",{className:"flex items-center",children:[(0,Me.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Connexion..."]}):"Se connecter"})})]}),(0,Me.jsx)("div",{className:"mt-6 text-center",children:(0,Me.jsxs)("p",{className:"text-xs text-dark-500",children:["Vous n'\xeates pas administrateur ?"," ",(0,Me.jsx)(Ae,{to:"/login",className:"text-primary-600 hover:text-primary-500 font-medium",children:"Aller \xe0 la connexion utilisateur"})]})})]})})},Dp=()=>{const[e,r]=(0,t.useState)({email:"",password:"",confirmPassword:"",firstName:"",lastName:"",phone:""}),[n,s]=(0,t.useState)(!1),[a,i]=(0,t.useState)(!1),[o,l]=(0,t.useState)(!1),[c,d]=(0,t.useState)(!1),u=K(),m=t=>{r((0,Ie.A)((0,Ie.A)({},e),{},{[t.target.name]:t.target.value}))};return(0,Me.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-dark-50 via-dark-100 to-dark-200 py-12 px-4 sm:px-6 lg:px-8",children:(0,Me.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("div",{className:"flex justify-center",children:(0,Me.jsx)("img",{src:"/logo_colo.svg",alt:"ColocAntananarivo",className:"h-20 w-auto"})}),(0,Me.jsx)("h2",{className:"mt-6 text-center text-3xl font-extrabold text-dark-900",children:"Cr\xe9er un compte Administrateur"}),(0,Me.jsx)("p",{className:"mt-2 text-center text-sm text-dark-600",children:"Acc\xe8s r\xe9serv\xe9 - Cr\xe9ation du premier administrateur"})]}),(0,Me.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:async t=>{if(t.preventDefault(),c)if(await(async e=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e))(e.email))if(e.password===e.confirmPassword)if(e.password.length<8)mr.error("Le mot de passe doit contenir au moins 8 caract\xe8res");else{l(!0);try{const t=await(0,hr.apiJson)("/api/admin/seed_admin","POST",{email:e.email,password:e.password,firstName:e.firstName,lastName:e.lastName,phone:e.phone});!1===t.success&&t.message?(mr.error(t.message),u("/admin/login")):t.success||t.created?(mr.success(t.message||"Compte administrateur cr\xe9\xe9 avec succ\xe8s !"),u("/admin/login")):mr.error(t.message||"Erreur lors de la cr\xe9ation")}catch(r){mr.error(r.message||"Erreur lors de la cr\xe9ation du compte admin")}finally{l(!1)}}else mr.error("Les mots de passe ne correspondent pas");else mr.error("Veuillez saisir une adresse email valide");else mr.error("Veuillez compl\xe9ter le CAPTCHA")},children:[(0,Me.jsxs)("div",{className:"space-y-4",children:[(0,Me.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{htmlFor:"firstName",className:"block text-sm font-medium text-dark-900",children:"Pr\xe9nom"}),(0,Me.jsx)("input",{id:"firstName",name:"firstName",type:"text",required:!0,value:e.firstName,onChange:m,className:"input-field mt-1",placeholder:"Votre pr\xe9nom"})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{htmlFor:"lastName",className:"block text-sm font-medium text-dark-900",children:"Nom"}),(0,Me.jsx)("input",{id:"lastName",name:"lastName",type:"text",required:!0,value:e.lastName,onChange:m,className:"input-field mt-1",placeholder:"Votre nom"})]})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-dark-900",children:"Adresse email"}),(0,Me.jsx)("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:e.email,onChange:m,className:"input-field mt-1",placeholder:"admin@coloc.tana"})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{htmlFor:"phone",className:"block text-sm font-medium text-dark-900",children:"Num\xe9ro de t\xe9l\xe9phone"}),(0,Me.jsx)("input",{id:"phone",name:"phone",type:"tel",required:!0,value:e.phone,onChange:m,className:"input-field mt-1",placeholder:"+261 34 12 345 67"})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-dark-900",children:"Mot de passe"}),(0,Me.jsxs)("div",{className:"mt-1 relative",children:[(0,Me.jsx)("input",{id:"password",name:"password",type:n?"text":"password",autoComplete:"new-password",required:!0,value:e.password,onChange:m,className:"input-field pr-10",placeholder:"Minimum 8 caract\xe8res"}),(0,Me.jsx)("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>s(!n),children:n?(0,Me.jsx)(yu,{className:"h-5 w-5 text-dark-400"}):(0,Me.jsx)(wu,{className:"h-5 w-5 text-dark-400"})})]})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-dark-900",children:"Confirmer le mot de passe"}),(0,Me.jsxs)("div",{className:"mt-1 relative",children:[(0,Me.jsx)("input",{id:"confirmPassword",name:"confirmPassword",type:a?"text":"password",autoComplete:"new-password",required:!0,value:e.confirmPassword,onChange:m,className:"input-field pr-10",placeholder:"Confirmez votre mot de passe"}),(0,Me.jsx)("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>i(!a),children:a?(0,Me.jsx)(yu,{className:"h-5 w-5 text-dark-400"}):(0,Me.jsx)(wu,{className:"h-5 w-5 text-dark-400"})})]})]})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-dark-900 mb-2",children:"V\xe9rification CAPTCHA *"}),(0,Me.jsx)(Nu,{onVerify:d})]}),(0,Me.jsx)("div",{children:(0,Me.jsx)("button",{type:"submit",disabled:o||!c,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed",children:o?(0,Me.jsxs)("div",{className:"flex items-center",children:[(0,Me.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Cr\xe9ation du compte..."]}):"Cr\xe9er le compte administrateur"})})]}),(0,Me.jsxs)("div",{className:"mt-6 text-center",children:[(0,Me.jsxs)("p",{className:"text-xs text-dark-500",children:["D\xe9j\xe0 un compte ?"," ",(0,Me.jsx)(Ae,{to:"/admin/login",className:"text-primary-600 hover:text-primary-500 font-medium",children:"Se connecter"})]}),(0,Me.jsx)("p",{className:"text-xs text-dark-500 mt-2",children:(0,Me.jsx)("a",{href:"/register",className:"text-dark-600 hover:text-dark-900",children:"Retour \xe0 l'inscription utilisateur"})})]})]})})},Fp=()=>{const{user:e}=yr(),[r,n]=(0,t.useState)([]),[s,a]=(0,t.useState)(!1),[i,o]=(0,t.useState)(null),[l,c]=(0,t.useState)(!1),d=(0,t.useCallback)(async()=>{if(e){a(!0);try{const e=await(0,hr.apiGet)("/api/appointments/get_all");if(e.success){const t=e.data||[];n(t.filter(e=>"cancelled"!==e.status))}}catch(t){mr.error("Erreur lors du chargement des rendez-vous")}finally{a(!1)}}},[e]);(0,t.useEffect)(()=>{e&&d()},[e,d]);const u=async(e,t)=>{try{(await(0,hr.apiJson)("/api/appointments/update_status/".concat(e),"PUT",{status:t})).success&&(mr.success("Statut mis \xe0 jour"),n(r=>r.map(r=>r.id===e?(0,Ie.A)((0,Ie.A)({},r),{},{status:t}):r)))}catch(r){mr.error("Erreur lors de la mise \xe0 jour")}};if(!e)return(0,Me.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:"Veuillez vous connecter"});const m=e=>({pending:"En attente",confirmed:"Confirm\xe9",cancelled:"Annul\xe9",completed:"Termin\xe9"}[e]||e),h=e=>{const t=new Date(e.appointmentDate),r=new Date;return(t.getTime()-r.getTime())/36e5>2&&"cancelled"!==e.status&&"completed"!==e.status};return(0,Me.jsxs)("div",{className:"min-h-screen bg-gradient-to-b from-slate-50 to-slate-100 py-8",children:[(0,Me.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,Me.jsxs)("div",{className:"mb-8",children:[(0,Me.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Mes Rendez-vous"}),(0,Me.jsx)("p",{className:"text-gray-600",children:"student"===e.userType?"G\xe9rez vos rendez-vous avec les propri\xe9taires":"G\xe9rez les rendez-vous pour vos propri\xe9t\xe9s"})]}),s?(0,Me.jsx)("div",{className:"flex justify-center py-12",children:(0,Me.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):0===r.length?(0,Me.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 text-center py-12",children:[(0,Me.jsx)(Kd,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,Me.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucun rendez-vous"}),(0,Me.jsx)("p",{className:"text-gray-600",children:"student"===e.userType?"Vous n'avez pas encore de rendez-vous planifi\xe9":"Aucun \xe9tudiant n'a demand\xe9 de rendez-vous"})]}):(0,Me.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(t=>{return(0,Me.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden hover:shadow-md transition-shadow",children:[(0,Me.jsx)("div",{className:"bg-gray-50 px-4 py-3 border-b border-gray-200",children:(0,Me.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Me.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border ".concat((s=t.status,{pending:"bg-yellow-100 text-yellow-800 border-yellow-200",confirmed:"bg-green-100 text-green-800 border-green-200",cancelled:"bg-red-100 text-red-800 border-red-200",completed:"bg-blue-100 text-blue-800 border-blue-200"}[s]||"bg-gray-100 text-gray-800")),children:m(t.status)}),(0,Me.jsxs)("div",{className:"flex items-center space-x-1",children:[h(t)&&(0,Me.jsx)("button",{onClick:()=>(e=>{o(e),c(!0)})(t),className:"text-gray-400 hover:text-primary-600 transition-colors p-1",title:"Modifier",children:(0,Me.jsx)(Ou,{className:"w-4 h-4"})}),(0,Me.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("\xcates-vous s\xfbr de vouloir supprimer ce rendez-vous ?"))try{(await(0,hr.apiJson)("/api/appointments/update_status/".concat(e),"PUT",{status:"cancelled"})).success&&(mr.success("Rendez-vous annul\xe9"),n(t=>t.filter(t=>t.id!==e)))}catch(t){mr.error("Erreur lors de la suppression")}})(t.id),className:"text-gray-400 hover:text-red-600 transition-colors p-1",title:"Supprimer",children:(0,Me.jsx)(Tu,{className:"w-4 h-4"})})]})]})}),(0,Me.jsxs)("div",{className:"p-4",children:[(0,Me.jsx)("h3",{className:"font-semibold text-gray-900 mb-2 line-clamp-2",children:t.propertyTitle}),t.address&&(0,Me.jsxs)("div",{className:"flex items-center text-sm text-gray-600 mb-3",children:[(0,Me.jsx)($d,{className:"w-4 h-4 mr-1 flex-shrink-0"}),(0,Me.jsx)("span",{className:"truncate",children:t.address})]}),(0,Me.jsxs)("div",{className:"flex items-center text-sm text-gray-600 mb-3",children:[(0,Me.jsx)(Kd,{className:"w-4 h-4 mr-2 flex-shrink-0"}),(0,Me.jsx)("span",{children:(r=t.appointmentDate,new Date(r).toLocaleString("fr-FR",{weekday:"short",year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}))})]}),(0,Me.jsxs)("div",{className:"text-sm text-gray-600 space-y-1 mb-4",children:["owner"===e.userType&&(0,Me.jsxs)(Me.Fragment,{children:[(0,Me.jsxs)("p",{children:[(0,Me.jsx)("strong",{children:"\xc9tudiant:"})," ",t.studentFirstName," ",t.studentLastName]}),(0,Me.jsxs)("p",{children:[(0,Me.jsx)("strong",{children:"T\xe9l:"})," ",t.studentPhone]})]}),"student"===e.userType&&(0,Me.jsxs)(Me.Fragment,{children:[(0,Me.jsxs)("p",{children:[(0,Me.jsx)("strong",{children:"Propri\xe9taire:"})," ",t.ownerFirstName," ",t.ownerLastName]}),(0,Me.jsxs)("p",{children:[(0,Me.jsx)("strong",{children:"T\xe9l:"})," ",t.ownerPhone]})]})]}),t.message&&(0,Me.jsx)("div",{className:"mt-3 p-3 bg-gray-50 rounded-lg",children:(0,Me.jsx)("p",{className:"text-sm text-gray-700 line-clamp-3",children:t.message})}),(0,Me.jsx)("div",{className:"mt-4 pt-4 border-t border-gray-200",children:(0,Me.jsxs)("div",{className:"flex space-x-2",children:["pending"===t.status&&"owner"===e.userType&&(0,Me.jsxs)(Me.Fragment,{children:[(0,Me.jsxs)("button",{onClick:()=>u(t.id,"confirmed"),className:"flex-1 btn-primary text-sm flex items-center justify-center space-x-1 py-2",children:[(0,Me.jsx)(Hm,{className:"w-4 h-4"}),(0,Me.jsx)("span",{children:"Confirmer"})]}),(0,Me.jsxs)("button",{onClick:()=>u(t.id,"cancelled"),className:"flex-1 btn-secondary text-sm flex items-center justify-center space-x-1 py-2",children:[(0,Me.jsx)(su,{className:"w-4 h-4"}),(0,Me.jsx)("span",{children:"Refuser"})]})]}),"confirmed"===t.status&&"student"===e.userType&&(0,Me.jsxs)("button",{onClick:()=>u(t.id,"cancelled"),className:"flex-1 btn-secondary text-sm flex items-center justify-center space-x-1 py-2",children:[(0,Me.jsx)(su,{className:"w-4 h-4"}),(0,Me.jsx)("span",{children:"Annuler"})]}),"confirmed"===t.status&&"owner"===e.userType&&(0,Me.jsxs)("button",{onClick:()=>u(t.id,"completed"),className:"flex-1 btn-primary text-sm flex items-center justify-center space-x-1 py-2",children:[(0,Me.jsx)(Hm,{className:"w-4 h-4"}),(0,Me.jsx)("span",{children:"Termin\xe9"})]})]})})]})]},t.id);var r,s})})]}),i&&(0,Me.jsx)(pm,{isOpen:l,onClose:()=>{c(!1),o(null)},propertyId:i.propertyId,ownerId:i.ownerId||"",propertyTitle:i.propertyTitle,appointment:i,onUpdate:async e=>{try{(await(0,hr.apiJson)("/api/appointments/update_status/".concat(null===i||void 0===i?void 0:i.id),"PUT",{status:e.status||(null===i||void 0===i?void 0:i.status),message:e.message||(null===i||void 0===i?void 0:i.message)})).success&&(mr.success("Rendez-vous modifi\xe9"),c(!1),o(null),d())}catch(t){mr.error("Erreur lors de la modification")}}})]})};function Ip(){const e=J(),r=e.pathname.startsWith("/admin/login")||e.pathname.startsWith("/admin/register");return t.useEffect(()=>{try{window.scrollTo({top:0,behavior:"smooth"})}catch(Ke){window.scrollTo(0,0)}},[e.pathname]),(0,Me.jsxs)("div",{className:"min-h-screen flex flex-col w-full overflow-x-hidden",children:[!r&&(0,Me.jsx)(ap,{}),!r&&(0,Me.jsx)(mp,{}),(0,Me.jsx)("main",{className:"flex-grow w-full overflow-x-hidden",children:(0,Me.jsx)("div",{className:"w-full max-w-full overflow-x-hidden",children:(0,Me.jsx)(Je,{mode:"wait",initial:!1,children:(0,Me.jsxs)(ge,{location:e,children:[(0,Me.jsx)(fe,{path:"/admin/login",element:(0,Me.jsx)(Ad,{children:(0,Me.jsx)("div",{className:"w-full overflow-x-hidden",children:(0,Me.jsx)(Rp,{})})})}),(0,Me.jsx)(fe,{path:"/admin/register",element:(0,Me.jsx)(Ad,{children:(0,Me.jsx)("div",{className:"w-full overflow-x-hidden",children:(0,Me.jsx)(Dp,{})})})}),(0,Me.jsx)(fe,{path:"/",element:(0,Me.jsx)(Ad,{children:(0,Me.jsx)("div",{className:"w-full overflow-x-hidden",children:(0,Me.jsx)(xu,{})})})}),(0,Me.jsx)(fe,{path:"/login",element:(0,Me.jsx)(Ad,{children:(0,Me.jsx)("div",{className:"w-full overflow-x-hidden",children:(0,Me.jsx)(ku,{})})})}),(0,Me.jsx)(fe,{path:"/register",element:(0,Me.jsx)(Ad,{children:(0,Me.jsx)("div",{className:"w-full overflow-x-hidden",children:(0,Me.jsx)(Eu,{})})})}),(0,Me.jsx)(fe,{path:"/about",element:(0,Me.jsx)(Ad,{children:(0,Me.jsx)("div",{className:"w-full overflow-x-hidden",children:(0,Me.jsx)(Zh,{})})})}),(0,Me.jsx)(fe,{path:"/contact",element:(0,Me.jsx)(Ad,{children:(0,Me.jsx)("div",{className:"w-full overflow-x-hidden",children:(0,Me.jsx)(Yh,{})})})}),(0,Me.jsx)(fe,{path:"/logements",element:(0,Me.jsx)(Ad,{children:(0,Me.jsx)("div",{className:"w-full overflow-x-hidden",children:(0,Me.jsx)($h,{})})})}),(0,Me.jsx)(fe,{path:"/properties/:id",element:(0,Me.jsx)(Ad,{children:(0,Me.jsx)("div",{className:"w-full overflow-x-hidden",children:(0,Me.jsx)(fm,{})})})}),(0,Me.jsx)(fe,{path:"/properties",element:(0,Me.jsx)(Ad,{children:(0,Me.jsx)("div",{className:"w-full overflow-x-hidden",children:(0,Me.jsx)(ym,{})})})}),(0,Me.jsx)(fe,{path:"/edit-property/:id",element:(0,Me.jsx)(Ad,{children:(0,Me.jsx)("div",{className:"w-full overflow-x-hidden",children:(0,Me.jsx)(cp,{})})})}),(0,Me.jsx)(fe,{path:"/edit-announcement/:id",element:(0,Me.jsx)(Ad,{children:(0,Me.jsx)("div",{className:"w-full overflow-x-hidden",children:(0,Me.jsx)(up,{})})})}),(0,Me.jsx)(fe,{path:"/cin-verification",element:(0,Me.jsx)(Ad,{children:(0,Me.jsx)("div",{className:"w-full overflow-x-hidden",children:(0,Me.jsx)(Kh,{})})})}),(0,Me.jsx)(fe,{path:"/appointments",element:(0,Me.jsx)(Ad,{children:(0,Me.jsx)("div",{className:"w-full overflow-x-hidden",children:(0,Me.jsx)(Fp,{})})})}),(0,Me.jsx)(fe,{path:"/admin",element:(0,Me.jsx)(Ad,{children:(0,Me.jsx)("div",{className:"w-full overflow-x-hidden",children:(0,Me.jsx)(lp,{children:(0,Me.jsx)(Lp,{})})})})}),(0,Me.jsx)(fe,{path:"/announcements",element:(0,Me.jsx)(Ad,{children:(0,Me.jsx)("div",{className:"w-full overflow-x-hidden",children:(0,Me.jsx)(Rh,{})})})}),(0,Me.jsx)(fe,{path:"/announcements/:id",element:(0,Me.jsx)(Ad,{children:(0,Me.jsx)("div",{className:"w-full overflow-x-hidden",children:(0,Me.jsx)(Wh,{})})})}),(0,Me.jsx)(fe,{path:"/create-announcement",element:(0,Me.jsx)(Ad,{children:(0,Me.jsx)("div",{className:"w-full overflow-x-hidden",children:(0,Me.jsx)(op,{children:(0,Me.jsx)(Hh,{})})})})}),(0,Me.jsx)(fe,{path:"/dashboard",element:(0,Me.jsx)(Ad,{children:(0,Me.jsx)("div",{className:"w-full overflow-x-hidden",children:(0,Me.jsx)(op,{children:(0,Me.jsx)(sm,{})})})})}),(0,Me.jsx)(fe,{path:"/create-property",element:(0,Me.jsx)(Ad,{children:(0,Me.jsx)("div",{className:"w-full overflow-x-hidden",children:(0,Me.jsx)(op,{children:(0,Me.jsx)(Sm,{})})})})}),(0,Me.jsx)(fe,{path:"/profile",element:(0,Me.jsx)(Ad,{children:(0,Me.jsx)("div",{className:"w-full overflow-x-hidden",children:(0,Me.jsx)(op,{children:(0,Me.jsx)(Om,{})})})})}),(0,Me.jsx)(fe,{path:"/messages",element:(0,Me.jsx)(Ad,{children:(0,Me.jsx)("div",{className:"w-full overflow-x-hidden",children:(0,Me.jsx)(op,{children:(0,Me.jsx)(Lh,{})})})})})]},e.pathname)})})}),!r&&(0,Me.jsx)("div",{className:"w-full overflow-x-hidden",children:(0,Me.jsx)(ip,{})}),!r&&(0,Me.jsx)(hp,{}),(0,Me.jsx)(ur,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#363636",color:"#fff"}}})]})}const _p=function(){return(0,Me.jsx)(br,{children:(0,Me.jsx)(Nr,{children:(0,Me.jsx)(Cr,{children:(0,Me.jsx)(Pr,{children:(0,Me.jsx)(Se,{children:(0,Me.jsx)("div",{className:"w-full overflow-x-hidden",children:(0,Me.jsx)(Ip,{})})})})})})})};var zp=r(4705);function Op(e,t,r){return Math.max(e,Math.min(t,r))}class Vp{advance(e){var t;if(!this.isRunning)return;let r=!1;if(this.lerp)this.value=(n=this.value,s=this.to,a=60*this.lerp,i=e,function(e,t,r){return(1-r)*e+r*t}(n,s,1-Math.exp(-a*i))),Math.round(this.value)===this.to&&(this.value=this.to,r=!0);else{this.currentTime+=e;const t=Op(0,this.currentTime/this.duration,1);r=t>=1;const n=r?1:this.easing(t);this.value=this.from+(this.to-this.from)*n}var n,s,a,i;null!==(t=this.onUpdate)&&void 0!==t&&t.call(this,this.value,r),r&&this.stop()}stop(){this.isRunning=!1}fromTo(e,t,r){let{lerp:n=.1,duration:s=1,easing:a=e=>e,onStart:i,onUpdate:o}=r;this.from=this.value=e,this.to=t,this.lerp=n,this.duration=s,this.easing=a,this.currentTime=0,this.isRunning=!0,null!==i&&void 0!==i&&i(),this.onUpdate=o}}class Bp{constructor(){let{wrapper:e,content:t,autoResize:r=!0,debounce:n=250}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,zp.A)(this,"resize",()=>{this.onWrapperResize(),this.onContentResize()}),(0,zp.A)(this,"onWrapperResize",()=>{this.wrapper===window?(this.width=window.innerWidth,this.height=window.innerHeight):(this.width=this.wrapper.clientWidth,this.height=this.wrapper.clientHeight)}),(0,zp.A)(this,"onContentResize",()=>{this.wrapper===window?(this.scrollHeight=this.content.scrollHeight,this.scrollWidth=this.content.scrollWidth):(this.scrollHeight=this.wrapper.scrollHeight,this.scrollWidth=this.wrapper.scrollWidth)}),this.wrapper=e,this.content=t,r&&(this.debouncedResize=function(e,t){let r;return function(){let n=arguments,s=this;clearTimeout(r),r=setTimeout(function(){e.apply(s,n)},t)}}(this.resize,n),this.wrapper===window?window.addEventListener("resize",this.debouncedResize,!1):(this.wrapperResizeObserver=new ResizeObserver(this.debouncedResize),this.wrapperResizeObserver.observe(this.wrapper)),this.contentResizeObserver=new ResizeObserver(this.debouncedResize),this.contentResizeObserver.observe(this.content)),this.resize()}destroy(){var e,t;null!==(e=this.wrapperResizeObserver)&&void 0!==e&&e.disconnect(),null!==(t=this.contentResizeObserver)&&void 0!==t&&t.disconnect(),window.removeEventListener("resize",this.debouncedResize,!1)}get limit(){return{x:this.scrollWidth-this.width,y:this.scrollHeight-this.height}}}class Up{constructor(){this.events={}}emit(e){let t=this.events[e]||[];for(var r=arguments.length,n=new Array(r>1?r-1:0),s=1;s<r;s++)n[s-1]=arguments[s];for(let a=0,i=t.length;a<i;a++)t[a](...n)}on(e,t){var r;return null!==(r=this.events[e])&&void 0!==r&&r.push(t)||(this.events[e]=[t]),()=>{var r;this.events[e]=null===(r=this.events[e])||void 0===r?void 0:r.filter(e=>t!==e)}}off(e,t){var r;this.events[e]=null===(r=this.events[e])||void 0===r?void 0:r.filter(e=>t!==e)}destroy(){this.events={}}}const Wp=100/6;class qp{constructor(e,t){let{wheelMultiplier:r=1,touchMultiplier:n=1}=t;(0,zp.A)(this,"onTouchStart",e=>{const{clientX:t,clientY:r}=e.targetTouches?e.targetTouches[0]:e;this.touchStart.x=t,this.touchStart.y=r,this.lastDelta={x:0,y:0},this.emitter.emit("scroll",{deltaX:0,deltaY:0,event:e})}),(0,zp.A)(this,"onTouchMove",e=>{const{clientX:t,clientY:r}=e.targetTouches?e.targetTouches[0]:e,n=-(t-this.touchStart.x)*this.touchMultiplier,s=-(r-this.touchStart.y)*this.touchMultiplier;this.touchStart.x=t,this.touchStart.y=r,this.lastDelta={x:n,y:s},this.emitter.emit("scroll",{deltaX:n,deltaY:s,event:e})}),(0,zp.A)(this,"onTouchEnd",e=>{this.emitter.emit("scroll",{deltaX:this.lastDelta.x,deltaY:this.lastDelta.y,event:e})}),(0,zp.A)(this,"onWheel",e=>{let{deltaX:t,deltaY:r,deltaMode:n}=e;t*=1===n?Wp:2===n?this.windowWidth:1,r*=1===n?Wp:2===n?this.windowHeight:1,t*=this.wheelMultiplier,r*=this.wheelMultiplier,this.emitter.emit("scroll",{deltaX:t,deltaY:r,event:e})}),(0,zp.A)(this,"onWindowResize",()=>{this.windowWidth=window.innerWidth,this.windowHeight=window.innerHeight}),this.element=e,this.wheelMultiplier=r,this.touchMultiplier=n,this.touchStart={x:null,y:null},this.emitter=new Up,window.addEventListener("resize",this.onWindowResize,!1),this.onWindowResize(),this.element.addEventListener("wheel",this.onWheel,{passive:!1}),this.element.addEventListener("touchstart",this.onTouchStart,{passive:!1}),this.element.addEventListener("touchmove",this.onTouchMove,{passive:!1}),this.element.addEventListener("touchend",this.onTouchEnd,{passive:!1})}on(e,t){return this.emitter.on(e,t)}destroy(){this.emitter.destroy(),window.removeEventListener("resize",this.onWindowResize,!1),this.element.removeEventListener("wheel",this.onWheel,{passive:!1}),this.element.removeEventListener("touchstart",this.onTouchStart,{passive:!1}),this.element.removeEventListener("touchmove",this.onTouchMove,{passive:!1}),this.element.removeEventListener("touchend",this.onTouchEnd,{passive:!1})}}class Hp{constructor(){let{wrapper:e=window,content:t=document.documentElement,wheelEventsTarget:r=e,eventsTarget:n=r,smoothWheel:s=!0,syncTouch:a=!1,syncTouchLerp:i=.075,touchInertiaMultiplier:o=35,duration:l,easing:c=e=>Math.min(1,1.001-Math.pow(2,-10*e)),lerp:d=!l&&.1,infinite:u=!1,orientation:m="vertical",gestureOrientation:h="vertical",touchMultiplier:p=1,wheelMultiplier:f=1,autoResize:x=!0,__experimental__naiveDimensions:g=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.__isSmooth=!1,this.__isScrolling=!1,this.__isStopped=!1,this.__isLocked=!1,this.onVirtualScroll=e=>{let{deltaX:t,deltaY:r,event:n}=e;if(n.ctrlKey)return;const s=n.type.includes("touch"),a=n.type.includes("wheel");if(this.options.syncTouch&&s&&"touchstart"===n.type&&!this.isStopped&&!this.isLocked)return void this.reset();const i=0===t&&0===r,o="vertical"===this.options.gestureOrientation&&0===r||"horizontal"===this.options.gestureOrientation&&0===t;if(i||o)return;let l=n.composedPath();if(l=l.slice(0,l.indexOf(this.rootElement)),l.find(e=>{var t,r,n,i,o;return(null===(t=e.hasAttribute)||void 0===t?void 0:t.call(e,"data-lenis-prevent"))||s&&(null===(r=e.hasAttribute)||void 0===r?void 0:r.call(e,"data-lenis-prevent-touch"))||a&&(null===(n=e.hasAttribute)||void 0===n?void 0:n.call(e,"data-lenis-prevent-wheel"))||(null===(i=e.classList)||void 0===i?void 0:i.contains("lenis"))&&!(null===(o=e.classList)||void 0===o?void 0:o.contains("lenis-stopped"))}))return;if(this.isStopped||this.isLocked)return void n.preventDefault();if(this.isSmooth=this.options.syncTouch&&s||this.options.smoothWheel&&a,!this.isSmooth)return this.isScrolling=!1,void this.animate.stop();n.preventDefault();let c=r;"both"===this.options.gestureOrientation?c=Math.abs(r)>Math.abs(t)?r:t:"horizontal"===this.options.gestureOrientation&&(c=t);const d=s&&this.options.syncTouch,u=s&&"touchend"===n.type&&Math.abs(c)>5;u&&(c=this.velocity*this.options.touchInertiaMultiplier),this.scrollTo(this.targetScroll+c,Object.assign({programmatic:!1},d?{lerp:u?this.options.syncTouchLerp:1}:{lerp:this.options.lerp,duration:this.options.duration,easing:this.options.easing}))},this.onNativeScroll=()=>{if(!this.__preventNextScrollEvent&&!this.isScrolling){const e=this.animatedScroll;this.animatedScroll=this.targetScroll=this.actualScroll,this.velocity=0,this.direction=Math.sign(this.animatedScroll-e),this.emit()}},window.lenisVersion="1.0.42",e!==document.documentElement&&e!==document.body||(e=window),this.options={wrapper:e,content:t,wheelEventsTarget:r,eventsTarget:n,smoothWheel:s,syncTouch:a,syncTouchLerp:i,touchInertiaMultiplier:o,duration:l,easing:c,lerp:d,infinite:u,gestureOrientation:h,orientation:m,touchMultiplier:p,wheelMultiplier:f,autoResize:x,__experimental__naiveDimensions:g},this.animate=new Vp,this.emitter=new Up,this.dimensions=new Bp({wrapper:e,content:t,autoResize:x}),this.toggleClassName("lenis",!0),this.velocity=0,this.isLocked=!1,this.isStopped=!1,this.isSmooth=a||s,this.isScrolling=!1,this.targetScroll=this.animatedScroll=this.actualScroll,this.options.wrapper.addEventListener("scroll",this.onNativeScroll,!1),this.virtualScroll=new qp(n,{touchMultiplier:p,wheelMultiplier:f}),this.virtualScroll.on("scroll",this.onVirtualScroll)}destroy(){this.emitter.destroy(),this.options.wrapper.removeEventListener("scroll",this.onNativeScroll,!1),this.virtualScroll.destroy(),this.dimensions.destroy(),this.toggleClassName("lenis",!1),this.toggleClassName("lenis-smooth",!1),this.toggleClassName("lenis-scrolling",!1),this.toggleClassName("lenis-stopped",!1),this.toggleClassName("lenis-locked",!1)}on(e,t){return this.emitter.on(e,t)}off(e,t){return this.emitter.off(e,t)}setScroll(e){this.isHorizontal?this.rootElement.scrollLeft=e:this.rootElement.scrollTop=e}resize(){this.dimensions.resize()}emit(){this.emitter.emit("scroll",this)}reset(){this.isLocked=!1,this.isScrolling=!1,this.animatedScroll=this.targetScroll=this.actualScroll,this.velocity=0,this.animate.stop()}start(){this.isStopped&&(this.isStopped=!1,this.reset())}stop(){this.isStopped||(this.isStopped=!0,this.animate.stop(),this.reset())}raf(e){const t=e-(this.time||e);this.time=e,this.animate.advance(.001*t)}scrollTo(e){let{offset:t=0,immediate:r=!1,lock:n=!1,duration:s=this.options.duration,easing:a=this.options.easing,lerp:i=!s&&this.options.lerp,onComplete:o,force:l=!1,programmatic:c=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isStopped&&!this.isLocked||l){if(["top","left","start"].includes(e))e=0;else if(["bottom","right","end"].includes(e))e=this.limit;else{let r;if("string"==typeof e?r=document.querySelector(e):(null==e?void 0:e.nodeType)&&(r=e),r){if(this.options.wrapper!==window){const e=this.options.wrapper.getBoundingClientRect();t-=this.isHorizontal?e.left:e.top}const n=r.getBoundingClientRect();e=(this.isHorizontal?n.left:n.top)+this.animatedScroll}}if("number"==typeof e){if(e+=t,e=Math.round(e),this.options.infinite?c&&(this.targetScroll=this.animatedScroll=this.scroll):e=Op(0,e,this.limit),r)return this.animatedScroll=this.targetScroll=e,this.setScroll(this.scroll),this.reset(),void(null==o||o(this));if(!c){if(e===this.targetScroll)return;this.targetScroll=e}this.animate.fromTo(this.animatedScroll,e,{duration:s,easing:a,lerp:i,onStart:()=>{n&&(this.isLocked=!0),this.isScrolling=!0},onUpdate:(e,t)=>{this.isScrolling=!0,this.velocity=e-this.animatedScroll,this.direction=Math.sign(this.velocity),this.animatedScroll=e,this.setScroll(this.scroll),c&&(this.targetScroll=e),t||this.emit(),t&&(this.reset(),this.emit(),null==o||o(this),this.__preventNextScrollEvent=!0,requestAnimationFrame(()=>{delete this.__preventNextScrollEvent}))}})}}}get rootElement(){return this.options.wrapper===window?document.documentElement:this.options.wrapper}get limit(){return this.options.__experimental__naiveDimensions?this.isHorizontal?this.rootElement.scrollWidth-this.rootElement.clientWidth:this.rootElement.scrollHeight-this.rootElement.clientHeight:this.dimensions.limit[this.isHorizontal?"x":"y"]}get isHorizontal(){return"horizontal"===this.options.orientation}get actualScroll(){return this.isHorizontal?this.rootElement.scrollLeft:this.rootElement.scrollTop}get scroll(){return this.options.infinite?(this.animatedScroll%(e=this.limit)+e)%e:this.animatedScroll;var e}get progress(){return 0===this.limit?1:this.scroll/this.limit}get isSmooth(){return this.__isSmooth}set isSmooth(e){this.__isSmooth!==e&&(this.__isSmooth=e,this.toggleClassName("lenis-smooth",e))}get isScrolling(){return this.__isScrolling}set isScrolling(e){this.__isScrolling!==e&&(this.__isScrolling=e,this.toggleClassName("lenis-scrolling",e))}get isStopped(){return this.__isStopped}set isStopped(e){this.__isStopped!==e&&(this.__isStopped=e,this.toggleClassName("lenis-stopped",e))}get isLocked(){return this.__isLocked}set isLocked(e){this.__isLocked!==e&&(this.__isLocked=e,this.toggleClassName("lenis-locked",e))}get className(){let e="lenis";return this.isStopped&&(e+=" lenis-stopped"),this.isLocked&&(e+=" lenis-locked"),this.isScrolling&&(e+=" lenis-scrolling"),this.isSmooth&&(e+=" lenis-smooth"),e}toggleClassName(e,t){this.rootElement.classList.toggle(e,t),this.emitter.emit("className change",this)}}s.createRoot(document.getElementById("root")).render((0,Me.jsx)(t.StrictMode,{children:(0,Me.jsx)(_p,{})}));try{const Yp=new Hp({smoothWheel:!0,smoothTouch:!1});function Xp(e){Yp.raf(e),requestAnimationFrame(Xp)}requestAnimationFrame(Xp)}catch(Ke){}})()})();
//# sourceMappingURL=main.c88c6ff7.js.map