"use strict";(self.webpackChunkcolocation_antananarivo=self.webpackChunkcolocation_antananarivo||[]).push([[854],{589:(e,t,s)=>{s.d(t,{A:()=>l,R:()=>i});var r=s(5043),a=s(9741),n=s(3216);const i=()=>{const{user:e}=(0,a.A)(),t=(0,n.Zp)(),[s,i]=(0,r.useState)(!1),l=(null===e||void 0===e?void 0:e.cinVerified)||(null===e||void 0===e?void 0:e.cin_verified)||!1,o=(null===e||void 0===e?void 0:e.cinPending)||!(null===e||void 0===e||!e.cin_verification_requested_at),c="owner"===(null===e||void 0===e?void 0:e.userType)&&!l&&!o,d=(0,r.useCallback)(s=>(s&&s.preventDefault(),e?!c||(i(!0),!1):(t("/login",{state:{from:window.location.pathname}}),!1)),[c,e,t]);return{isVerified:l,isPending:o,requiresVerification:c,showVerificationModal:s,setShowVerificationModal:i,checkVerification:d,onClickHandler:(e,s)=>{d(e)&&t(s)}}},l=i},2556:(e,t,s)=>{s.d(t,{A:()=>l});var r=s(3986),a=s(5043);const n=["title","titleId"];function i(e,t){let{title:s,titleId:i}=e,l=(0,r.A)(e,n);return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":i},l),s?a.createElement("title",{id:i},s):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 9h3.75M15 12h3.75M15 15h3.75M4.5 19.5h15a2.25 2.25 0 0 0 2.25-2.25V6.75A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25v10.5A2.25 2.25 0 0 0 4.5 19.5Zm6-10.125a1.875 1.875 0 1 1-3.75 0 1.875 1.875 0 0 1 3.75 0Zm1.294 6.336a6.721 6.721 0 0 1-3.17.789 6.721 6.721 0 0 1-3.168-.789 3.376 3.376 0 0 1 6.338 0Z"}))}const l=a.forwardRef(i)},2683:(e,t,s)=>{s.d(t,{A:()=>l});var r=s(3986),a=s(5043);const n=["title","titleId"];function i(e,t){let{title:s,titleId:i}=e,l=(0,r.A)(e,n);return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":i},l),s?a.createElement("title",{id:i},s):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v12m-3-2.818.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const l=a.forwardRef(i)},4111:(e,t,s)=>{s.d(t,{A:()=>l});s(5043);var r=s(2556),a=s(7591),n=s(5475),i=s(579);const l=e=>{let{isOpen:t,onClose:s,showBackButton:l=!0,backButtonText:o="Retour",onBackClick:c}=e;return t?(0,i.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,i.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full p-6 relative",children:[(0,i.jsx)("button",{onClick:()=>{s()},className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700",children:(0,i.jsx)(a.A,{className:"h-6 w-6"})}),(0,i.jsxs)("div",{className:"text-center",children:[(0,i.jsx)("div",{className:"mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-yellow-100 mb-4",children:(0,i.jsx)(r.A,{className:"h-8 w-8 text-yellow-600"})}),(0,i.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"V\xe9rification Requise"}),(0,i.jsx)("p",{className:"text-gray-600 mb-6",children:"Vous devez v\xe9rifier votre CIN avant de pouvoir acc\xe9der \xe0 cette fonctionnalit\xe9."}),(0,i.jsxs)("div",{className:"space-y-3",children:[(0,i.jsx)(n.N_,{to:"/cin-verification",onClick:s,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"V\xe9rifier mon CIN"}),l&&(0,i.jsx)("button",{type:"button",onClick:()=>{c&&c(),s()},className:"w-full flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:o})]})]})]})}):null}},4129:(e,t,s)=>{s.d(t,{A:()=>l});var r=s(3986),a=s(5043);const n=["title","titleId"];function i(e,t){let{title:s,titleId:i}=e,l=(0,r.A)(e,n);return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":i},l),s?a.createElement("title",{id:i},s):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"}))}const l=a.forwardRef(i)},5501:(e,t,s)=>{s.d(t,{A:()=>l});var r=s(3986),a=s(5043);const n=["title","titleId"];function i(e,t){let{title:s,titleId:i}=e,l=(0,r.A)(e,n);return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":i},l),s?a.createElement("title",{id:i},s):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"}))}const l=a.forwardRef(i)},6159:(e,t,s)=>{s.d(t,{A:()=>l});var r=s(3986),a=s(5043);const n=["title","titleId"];function i(e,t){let{title:s,titleId:i}=e,l=(0,r.A)(e,n);return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":i},l),s?a.createElement("title",{id:i},s):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.26 10.147a60.438 60.438 0 0 0-.491 6.347A48.62 48.62 0 0 1 12 20.904a48.62 48.62 0 0 1 8.232-4.41 60.46 60.46 0 0 0-.491-6.347m-15.482 0a50.636 50.636 0 0 0-2.658-.813A59.906 59.906 0 0 1 12 3.493a59.903 59.903 0 0 1 10.399 5.84c-.896.248-1.783.52-2.658.814m-15.482 0A50.717 50.717 0 0 1 12 13.489a50.702 50.702 0 0 1 7.74-3.342M6.75 15a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Zm0 0v-3.675A55.378 55.378 0 0 1 12 8.443m-7.007 11.55A5.981 5.981 0 0 0 6.75 15.75v-1.5"}))}const l=a.forwardRef(i)},6266:(e,t,s)=>{s.d(t,{A:()=>l});var r=s(3986),a=s(5043);const n=["title","titleId"];function i(e,t){let{title:s,titleId:i}=e,l=(0,r.A)(e,n);return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":i},l),s?a.createElement("title",{id:i},s):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12Z"}))}const l=a.forwardRef(i)},6854:(e,t,s)=>{s.r(t),s.d(t,{default:()=>O});var r=s(5043),a=s(3216),n=s(5475),i=s(4439),l=s(9741),o=s(589),c=s(4111),d=s(7988),m=s(9531),x=s(6266),h=s(9897),u=s(3986);const g=["title","titleId"];function p(e,t){let{title:s,titleId:a}=e,n=(0,u.A)(e,g);return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},n),s?r.createElement("title",{id:a},s):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 3v1.5M3 21v-6m0 0 2.77-.693a9 9 0 0 1 6.208.682l.108.054a9 9 0 0 0 6.086.71l3.114-.732a48.524 48.524 0 0 1-.005-10.499l-3.11.732a9 9 0 0 1-6.085-.711l-.108-.054a9 9 0 0 0-6.208-.682L3 4.5M3 15V4.5"}))}const f=r.forwardRef(p);var v=s(4129),b=s(2683);const j=["title","titleId"];function N(e,t){let{title:s,titleId:a}=e,n=(0,u.A)(e,j);return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},n),s?r.createElement("title",{id:a},s):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.625 9.75a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0H8.25m4.125 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0H12m4.125 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0h-.375m-13.5 3.01c0 1.6 1.123 2.994 2.707 3.227 1.087.16 2.185.283 3.293.369V21l4.184-4.183a1.14 1.14 0 0 1 .778-.332 48.294 48.294 0 0 0 5.83-.498c1.585-.233 2.708-1.626 2.708-3.228V6.741c0-1.602-1.123-2.995-2.707-3.228A48.394 48.394 0 0 0 12 3c-2.392 0-4.744.175-7.043.513C3.373 3.746 2.25 5.14 2.25 6.741v6.018Z"}))}const y=r.forwardRef(N);var w=s(5501),k=s(6159),A=s(3063),C=s(9850);const E=["title","titleId"];function L(e,t){let{title:s,titleId:a}=e,n=(0,u.A)(e,E);return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},n),s?r.createElement("title",{id:a},s):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 21h16.5M4.5 3h15M5.25 3v18m13.5-18v18M9 6.75h1.5m-1.5 3h1.5m-1.5 3h1.5m3-6H15m-1.5 3H15m-1.5 3H15M9 21v-3.375c0-.621.504-1.125 1.125-1.125h3.75c.621 0 1.125.504 1.125 1.125V21"}))}const M=r.forwardRef(L);var S=s(7591),I=s(8378),R=s(2227),_=s(8927),V=s(2339),B=s(579);const O=()=>{var e,t,s,u,g,p;const{id:j}=(0,a.g)(),N=(0,a.Zp)(),{announcements:E}=(0,i.b)(),{user:L}=(0,l.A)(),{showVerificationModal:O,setShowVerificationModal:W,checkVerification:Z}=(0,o.R)(),[T,P]=r.useState(!1),[z,D]=r.useState(null),[H,U]=r.useState([]),[q,F]=r.useState(!1),[K,G]=r.useState(!1),[J,Y]=r.useState(""),{sendMessage:Q}=(0,_.J)(),[X,$]=(0,r.useState)(!1);r.useEffect(()=>{const e=E.find(e=>String(e.id)===String(j));if(e)return D(e),void ee(e);(async()=>{P(!0);try{const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL||"http://localhost:5000",t=await fetch("".concat(e,"/api/announcements/get_by_id/").concat(j)),s=await t.json();t.ok&&s.success?(D(s.data),ee(s.data)):D(null)}catch(e){console.error("Erreur chargement annonce:",e),D(null)}finally{P(!1)}})()},[j,E]);const ee=e=>{if(!e||!e.author)return void U([]);const t=E.filter(t=>{var s,r,a;return String(t.id)!==String(j)&&"student"===(null===(s=t.author)||void 0===s?void 0:s.userType)&&(null===(r=t.author)||void 0===r?void 0:r.id)!==(null===(a=e.author)||void 0===a?void 0:a.id)}).slice(0,4);U(t)},te=e=>e?e.startsWith("http")?e:e.startsWith("/")?"http://localhost".concat(e):e:"/api/placeholder/400/300";if(!j)return(0,B.jsx)("div",{className:"p-6",children:"Annonce invalide"});if(T)return(0,B.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,B.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})});if(!z)return(0,B.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,B.jsxs)("div",{className:"text-center",children:[(0,B.jsx)("div",{className:"text-gray-700 mb-4 text-lg",children:"Annonce introuvable."}),(0,B.jsx)("button",{onClick:()=>N(-1),className:"btn-secondary",children:"Retour"})]})});const se=z.content.length>300,re=X?z.content:z.content.slice(0,300)+(se?"...":""),ae=L&&Number(null===(e=z.author)||void 0===e?void 0:e.id)===Number(L.id);let ne=0;try{ne=Math.floor(((new Date).getTime()-new Date(z.createdAt).getTime())/864e5)}catch(ie){}return(0,B.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-blue-50 py-8",children:[(0,B.jsx)(c.A,{isOpen:O,onClose:()=>W(!1),backButtonText:"Retour \xe0 l'annonce"}),(0,B.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,B.jsxs)("div",{className:"mb-8",children:[(0,B.jsxs)("nav",{className:"flex items-center space-x-2 text-sm text-gray-600 mb-6",children:[(0,B.jsx)(n.N_,{to:"/",className:"hover:text-primary-600 transition-colors",children:"Accueil"}),(0,B.jsx)("span",{children:"\u203a"}),(0,B.jsx)(n.N_,{to:"/announcements",className:"hover:text-primary-600 transition-colors",children:"Annonces"}),(0,B.jsx)("span",{children:"\u203a"}),(0,B.jsx)("span",{className:"text-gray-900 font-medium",children:"D\xe9tails de l'annonce"})]}),(0,B.jsxs)("div",{className:"flex justify-between items-start",children:[(0,B.jsxs)("div",{children:[(0,B.jsx)("h1",{className:"text-4xl font-bold text-gray-900 mb-3",children:"Recherche de colocation"}),(0,B.jsxs)("div",{className:"flex items-center space-x-4 text-gray-600",children:[(0,B.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,B.jsx)(d.A,{className:"w-5 h-5"}),(0,B.jsxs)("span",{children:["Publi\xe9e ",ne<=0?"aujourd'hui":"il y a ".concat(ne," jour").concat(ne>1?"s":"")]})]}),(0,B.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,B.jsx)(m.A,{className:"w-5 h-5"}),(0,B.jsxs)("span",{children:[z.views||0," vues"]})]})]})]}),(0,B.jsxs)("div",{className:"flex space-x-3",children:[(0,B.jsx)("button",{onClick:()=>{F(!q)},className:"p-3 rounded-full border transition-all ".concat(q?"bg-red-50 border-red-200 text-red-600":"bg-white border-gray-300 text-gray-600 hover:border-red-300 hover:text-red-500"),title:q?"Retirer des favoris":"Sauvegarder",children:(0,B.jsx)(x.A,{className:"w-5 h-5 ".concat(q?"fill-current":"")})}),(0,B.jsx)("button",{onClick:async()=>{if(z)if(navigator.share)try{var e,t;await navigator.share({title:"Annonce de ".concat(null===(e=z.author)||void 0===e?void 0:e.firstName," ").concat(null===(t=z.author)||void 0===t?void 0:t.lastName),text:z.content,url:window.location.href})}catch(s){console.log("Partage annul\xe9")}else navigator.clipboard.writeText(window.location.href),V.Ay.success("Lien copi\xe9 dans le presse-papiers !")},className:"p-3 rounded-full bg-white border border-gray-300 text-gray-600 hover:border-primary-300 hover:text-primary-600 transition-all",title:"Partager",children:(0,B.jsx)(h.A,{className:"w-5 h-5"})}),!ae&&(0,B.jsx)("button",{onClick:()=>{V.Ay.success("Fonctionnalit\xe9 de signalement \xe0 impl\xe9menter")},className:"p-3 rounded-full bg-white border border-gray-300 text-gray-600 hover:border-red-300 hover:text-red-600 transition-all",title:"Signaler",children:(0,B.jsx)(f,{className:"w-5 h-5"})})]})]})]}),(0,B.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[(0,B.jsxs)("div",{className:"lg:col-span-3 space-y-8",children:[(0,B.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-200 overflow-hidden",children:[(0,B.jsx)("div",{className:"p-8 border-b border-gray-200",children:(0,B.jsxs)("div",{className:"flex items-start justify-between",children:[(0,B.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,B.jsx)("div",{className:"w-16 h-16 bg-gradient-to-br from-primary-500 to-primary-600 rounded-full flex items-center justify-center shadow-lg",children:(0,B.jsx)(v.A,{className:"w-8 h-8 text-white"})}),(0,B.jsxs)("div",{children:[(0,B.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:z.author?"".concat(z.author.firstName," ").concat(z.author.lastName):"Utilisateur inconnu"}),(0,B.jsxs)("div",{className:"flex items-center space-x-4 text-gray-600 mt-2",children:[(0,B.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,B.jsx)(d.A,{className:"w-4 h-4"}),(0,B.jsx)("span",{className:"text-sm",children:(e=>{try{const t=new Date(e);return isNaN(t.getTime())?"Date invalide":t.toLocaleDateString("fr-FR",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})}catch(ie){return"Date indisponible"}})(z.createdAt)})]}),z.budget&&(0,B.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,B.jsx)(b.A,{className:"w-4 h-4"}),(0,B.jsxs)("span",{className:"text-sm font-semibold text-primary-600",children:["Budget: ",Number(z.budget).toLocaleString()," Ar/mois"]})]})]})]})]}),z.budget&&(0,B.jsxs)("div",{className:"text-right bg-gradient-to-br from-primary-50 to-blue-50 rounded-xl p-4 border border-primary-200",children:[(0,B.jsx)("div",{className:"text-sm text-gray-600",children:"Budget maximum"}),(0,B.jsxs)("div",{className:"text-3xl font-bold text-primary-600",children:[Number(z.budget).toLocaleString()," Ar"]}),(0,B.jsx)("div",{className:"text-xs text-gray-500",children:"/mois"})]})]})}),z.images&&z.images.length>0&&(0,B.jsxs)("div",{className:"p-8 border-b border-gray-200",children:[(0,B.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,B.jsx)("h3",{className:"text-xl font-semibold text-gray-900",children:"Galerie photos"}),(0,B.jsxs)("span",{className:"text-sm text-gray-500",children:[z.images.length," photo(s)"]})]}),(0,B.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:z.images.map((e,t)=>(0,B.jsxs)("div",{className:"relative rounded-xl overflow-hidden cursor-pointer transform transition-all hover:scale-105 ".concat(0===t?"md:col-span-2 lg:col-span-2":""),onClick:()=>window.open(te(e),"_blank"),children:[(0,B.jsx)("img",{src:te(e),alt:"annonce ".concat(t+1),className:"w-full h-64 object-cover"}),0===t&&(0,B.jsx)("div",{className:"absolute top-4 left-4 bg-primary-600 text-white px-3 py-1 rounded-full text-sm font-semibold",children:"Photo principale"})]},t))})]}),(0,B.jsxs)("div",{className:"p-8 border-b border-gray-200",children:[(0,B.jsxs)("h3",{className:"text-xl font-semibold text-gray-900 mb-6 flex items-center space-x-2",children:[(0,B.jsx)(y,{className:"w-6 h-6 text-primary-600"}),(0,B.jsx)("span",{children:"Description de la recherche"})]}),(0,B.jsxs)("div",{className:"bg-gradient-to-br from-gray-50 to-blue-50 rounded-2xl p-8",children:[(0,B.jsx)("p",{className:"text-gray-800 leading-relaxed text-lg whitespace-pre-wrap break-words",children:re}),se&&(0,B.jsx)("button",{onClick:()=>$(!X),className:"mt-4 text-primary-600 hover:text-primary-800 font-medium transition-colors",children:X?"Afficher moins \u25b2":"Afficher plus \u25bc"})]})]}),(0,B.jsx)("div",{className:"p-8",children:(0,B.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[(0,B.jsxs)("div",{className:"bg-gradient-to-br from-primary-50 to-primary-100 rounded-2xl p-6",children:[(0,B.jsxs)("h4",{className:"font-semibold text-gray-900 mb-4 flex items-center space-x-2",children:[(0,B.jsx)(w.A,{className:"w-5 h-5 text-primary-600"}),(0,B.jsx)("span",{children:"Pr\xe9f\xe9rences de colocation"})]}),(0,B.jsx)("div",{className:"space-y-3",children:(null===(t=z.preferences)||void 0===t?void 0:t.length)>0?z.preferences.map((e,t)=>(0,B.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,B.jsx)("div",{className:"w-2 h-2 bg-primary-500 rounded-full"}),(0,B.jsx)("span",{className:"text-gray-700",children:e})]},t)):(0,B.jsx)("p",{className:"text-gray-600 italic",children:"Aucune pr\xe9f\xe9rence sp\xe9cifique mentionn\xe9e"})})]}),(0,B.jsxs)("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-2xl p-6",children:[(0,B.jsxs)("h4",{className:"font-semibold text-gray-900 mb-4 flex items-center space-x-2",children:[(0,B.jsx)(k.A,{className:"w-5 h-5 text-blue-600"}),(0,B.jsx)("span",{children:"Informations \xe9tudiantes"})]}),(0,B.jsxs)("div",{className:"space-y-4",children:[(0,B.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-blue-200",children:[(0,B.jsx)("span",{className:"text-gray-700",children:"Statut:"}),(0,B.jsx)("span",{className:"font-semibold text-gray-900",children:"student"===(null===(s=z.author)||void 0===s?void 0:s.userType)?"\ud83c\udf93 \xc9tudiant":"Non sp\xe9cifi\xe9"})]}),(0,B.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-blue-200",children:[(0,B.jsx)("span",{className:"text-gray-700",children:"Universit\xe9:"}),(0,B.jsx)("span",{className:"font-semibold text-gray-900",children:z.university||"Non sp\xe9cifi\xe9e"})]}),(0,B.jsxs)("div",{className:"flex justify-between items-center py-2",children:[(0,B.jsx)("span",{className:"text-gray-700",children:"Ann\xe9e d'\xe9tude:"}),(0,B.jsx)("span",{className:"font-semibold text-gray-900",children:z.studyYear||"Non sp\xe9cifi\xe9e"})]})]})]})]})})]}),H.length>0&&(0,B.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-200 p-8",children:[(0,B.jsx)("h3",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Annonces similaires"}),(0,B.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:H.map(e=>{var t,s;return(0,B.jsxs)(n.N_,{to:"/announcements/".concat(e.id),className:"group border border-gray-200 rounded-xl p-4 hover:border-primary-300 hover:shadow-lg transition-all duration-300",children:[(0,B.jsxs)("div",{className:"flex items-center space-x-3 mb-3",children:[(0,B.jsx)("div",{className:"w-10 h-10 bg-primary-100 rounded-full flex items-center justify-center",children:(0,B.jsx)(v.A,{className:"w-5 h-5 text-primary-600"})}),(0,B.jsxs)("div",{children:[(0,B.jsxs)("h4",{className:"font-semibold text-gray-900 group-hover:text-primary-600 transition-colors",children:[null===(t=e.author)||void 0===t?void 0:t.firstName," ",null===(s=e.author)||void 0===s?void 0:s.lastName]}),(0,B.jsx)("p",{className:"text-xs text-gray-500",children:(0,I.m)(new Date(e.createdAt),{addSuffix:!0,locale:R.fr})})]})]}),(0,B.jsx)("p",{className:"text-gray-700 text-sm line-clamp-2 mb-2",children:e.content}),e.budget&&(0,B.jsxs)("div",{className:"text-primary-600 font-semibold text-sm",children:["Budget: ",Number(e.budget).toLocaleString()," Ar/mois"]})]},e.id)})})]})]}),(0,B.jsxs)("div",{className:"space-y-6",children:[(0,B.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-200 p-6",children:[(0,B.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Contacter ",null===(u=z.author)||void 0===u?void 0:u.firstName]}),ae?(0,B.jsxs)("div",{className:"text-center py-4",children:[(0,B.jsx)("div",{className:"w-16 h-16 bg-primary-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,B.jsx)(v.A,{className:"w-8 h-8 text-primary-600"})}),(0,B.jsx)("p",{className:"text-gray-600 mb-4",children:"C'est votre annonce"}),(0,B.jsx)("button",{onClick:()=>N("/dashboard"),className:"w-full btn-primary py-3",children:"G\xe9rer mes annonces"})]}):(0,B.jsxs)("div",{className:"space-y-4",children:[(0,B.jsx)("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-xl p-4 border border-green-200",children:(0,B.jsx)("p",{className:"text-sm text-green-800 text-center",children:"\ud83d\udccd Recherche active dans votre r\xe9gion"})}),(0,B.jsxs)("div",{className:"space-y-3",children:[(0,B.jsxs)("button",{onClick:e=>{e.preventDefault(),Z(e)&&G(!0)},className:"flex-1 btn-primary flex items-center justify-center space-x-2",children:[(0,B.jsx)(A.A,{className:"w-4 h-4"}),(0,B.jsx)("span",{children:"Contacter"})]}),(null===(g=z.author)||void 0===g?void 0:g.phone)&&(0,B.jsxs)("a",{href:"tel:".concat(z.author.phone),className:"w-full btn-secondary py-3 flex items-center justify-center space-x-2 text-lg",children:[(0,B.jsx)(C.A,{className:"w-5 h-5"}),(0,B.jsx)("span",{children:"Appeler maintenant"})]})]}),(0,B.jsx)("div",{className:"pt-4 border-t border-gray-200",children:(0,B.jsxs)("div",{className:"text-xs text-gray-500 space-y-2",children:[(0,B.jsx)("p",{children:"\ud83d\udca1 Pr\xe9sentez-vous bri\xe8vement dans votre message"}),(0,B.jsx)("p",{children:"\ud83c\udfe0 Pr\xe9cisez vos disponibilit\xe9s pour une visite"}),(0,B.jsx)("p",{children:"\ud83d\udcb0 N\xe9gociez le budget si n\xe9cessaire"})]})})]})]}),(0,B.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-200 p-6",children:[(0,B.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Statistiques de l'annonce"}),(0,B.jsxs)("div",{className:"space-y-4",children:[(0,B.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-gray-200",children:[(0,B.jsxs)("span",{className:"text-gray-600 flex items-center space-x-2",children:[(0,B.jsx)(m.A,{className:"w-4 h-4"}),(0,B.jsx)("span",{children:"Vues totales:"})]}),(0,B.jsx)("span",{className:"font-semibold text-gray-900",children:z.views||0})]}),(0,B.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-gray-200",children:[(0,B.jsxs)("span",{className:"text-gray-600 flex items-center space-x-2",children:[(0,B.jsx)(y,{className:"w-4 h-4"}),(0,B.jsx)("span",{children:"Messages re\xe7us:"})]}),(0,B.jsx)("span",{className:"font-semibold text-gray-900",children:z.messageCount||0})]}),(0,B.jsxs)("div",{className:"flex justify-between items-center py-2",children:[(0,B.jsxs)("span",{className:"text-gray-600 flex items-center space-x-2",children:[(0,B.jsx)(x.A,{className:"w-4 h-4"}),(0,B.jsx)("span",{children:"Favoris:"})]}),(0,B.jsx)("span",{className:"font-semibold text-gray-900",children:z.favoriteCount||0})]})]})]}),(0,B.jsxs)("div",{className:"bg-gradient-to-br from-orange-50 to-orange-100 rounded-2xl shadow-lg border border-orange-200 p-6",children:[(0,B.jsxs)("h3",{className:"text-lg font-semibold text-orange-900 mb-4 flex items-center space-x-2",children:[(0,B.jsx)(M,{className:"w-5 h-5"}),(0,B.jsx)("span",{children:"Pour les propri\xe9taires"})]}),(0,B.jsxs)("div",{className:"space-y-3 text-sm text-orange-800",children:[(0,B.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,B.jsx)("div",{className:"w-2 h-2 bg-orange-500 rounded-full mt-1.5 flex-shrink-0"}),(0,B.jsx)("p",{children:"Cet \xe9tudiant recherche activement une colocation"})]}),(0,B.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,B.jsx)("div",{className:"w-2 h-2 bg-orange-500 rounded-full mt-1.5 flex-shrink-0"}),(0,B.jsx)("p",{children:"R\xe9pondez rapidement pour maximiser vos chances"})]}),(0,B.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,B.jsx)("div",{className:"w-2 h-2 bg-orange-500 rounded-full mt-1.5 flex-shrink-0"}),(0,B.jsx)("p",{children:"Pr\xe9parez les informations sur votre logement"})]})]})]}),(0,B.jsxs)("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-2xl shadow-lg border border-blue-200 p-6",children:[(0,B.jsx)("h3",{className:"text-lg font-semibold text-blue-900 mb-4",children:"\ud83d\udd12 S\xe9curit\xe9"}),(0,B.jsxs)("div",{className:"space-y-2 text-sm text-blue-800",children:[(0,B.jsx)("p",{children:"\u2022 Rencontrez-vous dans un lieu public"}),(0,B.jsx)("p",{children:"\u2022 V\xe9rifiez l'identit\xe9 de l'interlocuteur"}),(0,B.jsx)("p",{children:"\u2022 Utilisez notre messagerie s\xe9curis\xe9e"}),(0,B.jsx)("p",{children:"\u2022 Signalez tout comportement suspect"})]})]})]})]}),(0,B.jsx)("div",{className:"flex items-center justify-between mt-12 pt-8 border-t border-gray-200",children:(0,B.jsxs)("button",{onClick:()=>N(-1),className:"btn-secondary flex items-center space-x-2 px-6 py-3",children:[(0,B.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,B.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),(0,B.jsx)("span",{children:"Retour aux annonces"})]})})]}),K&&(0,B.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,B.jsxs)("div",{className:"bg-white rounded-lg max-w-md w-full p-6",children:[(0,B.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,B.jsxs)("h3",{className:"text-lg font-semibold text-gray-900",children:["Envoyer un message \xe0 ",null===(p=z.author)||void 0===p?void 0:p.firstName]}),(0,B.jsx)("button",{onClick:()=>G(!1),className:"text-gray-400 hover:text-gray-600",children:(0,B.jsx)(S.A,{className:"w-5 h-5"})})]}),(0,B.jsx)("div",{className:"mb-4",children:(0,B.jsx)("textarea",{value:J,onChange:e=>Y(e.target.value),placeholder:"Tapez votre message...",rows:4,className:"w-full input-field resize-none"})}),(0,B.jsxs)("div",{className:"flex space-x-2",children:[(0,B.jsx)("button",{onClick:async()=>{var e;if(J.trim())if(null!==z&&void 0!==z&&null!==(e=z.author)&&void 0!==e&&e.id)try{await Q(z.author.id,J),Y(""),G(!1),V.Ay.success("Message envoy\xe9 avec succ\xe8s !")}catch(t){V.Ay.error("Erreur lors de l'envoi du message")}else V.Ay.error("Impossible de contacter cet utilisateur");else V.Ay.error("Veuillez saisir un message")},className:"flex-1 btn-primary",disabled:!J.trim(),children:"Envoyer"}),(0,B.jsx)("button",{onClick:()=>G(!1),className:"flex-1 btn-secondary",children:"Annuler"})]})]})})]})}},7988:(e,t,s)=>{s.d(t,{A:()=>l});var r=s(3986),a=s(5043);const n=["title","titleId"];function i(e,t){let{title:s,titleId:i}=e,l=(0,r.A)(e,n);return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":i},l),s?a.createElement("title",{id:i},s):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}))}const l=a.forwardRef(i)},9531:(e,t,s)=>{s.d(t,{A:()=>l});var r=s(3986),a=s(5043);const n=["title","titleId"];function i(e,t){let{title:s,titleId:i}=e,l=(0,r.A)(e,n);return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":i},l),s?a.createElement("title",{id:i},s):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const l=a.forwardRef(i)},9850:(e,t,s)=>{s.d(t,{A:()=>l});var r=s(3986),a=s(5043);const n=["title","titleId"];function i(e,t){let{title:s,titleId:i}=e,l=(0,r.A)(e,n);return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":i},l),s?a.createElement("title",{id:i},s):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 0 0 2.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 0 1-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 0 0-1.091-.852H4.5A2.25 2.25 0 0 0 2.25 4.5v2.25Z"}))}const l=a.forwardRef(i)},9897:(e,t,s)=>{s.d(t,{A:()=>l});var r=s(3986),a=s(5043);const n=["title","titleId"];function i(e,t){let{title:s,titleId:i}=e,l=(0,r.A)(e,n);return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":i},l),s?a.createElement("title",{id:i},s):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.217 10.907a2.25 2.25 0 1 0 0 2.186m0-2.186c.18.324.283.696.283 1.093s-.103.77-.283 1.093m0-2.186 9.566-5.314m-9.566 7.5 9.566 5.314m0 0a2.25 2.25 0 1 0 3.935 2.186 2.25 2.25 0 0 0-3.935-2.186Zm0-12.814a2.25 2.25 0 1 0 3.933-2.185 2.25 2.25 0 0 0-3.933 2.185Z"}))}const l=a.forwardRef(i)}}]);
//# sourceMappingURL=854.5d86d880.chunk.js.map