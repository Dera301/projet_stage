"use strict";(self.webpackChunkcolocation_antananarivo=self.webpackChunkcolocation_antananarivo||[]).push([[946],{2683:(e,t,s)=>{s.d(t,{A:()=>n});var a=s(3986),l=s(5043);const r=["title","titleId"];function i(e,t){let{title:s,titleId:i}=e,n=(0,a.A)(e,r);return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":i},n),s?l.createElement("title",{id:i},s):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v12m-3-2.818.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const n=l.forwardRef(i)},5501:(e,t,s)=>{s.d(t,{A:()=>n});var a=s(3986),l=s(5043);const r=["title","titleId"];function i(e,t){let{title:s,titleId:i}=e,n=(0,a.A)(e,r);return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":i},n),s?l.createElement("title",{id:i},s):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"}))}const n=l.forwardRef(i)},5590:(e,t,s)=>{s.d(t,{A:()=>n});var a=s(3986),l=s(5043);const r=["title","titleId"];function i(e,t){let{title:s,titleId:i}=e,n=(0,a.A)(e,r);return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":i},n),s?l.createElement("title",{id:i},s):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19.128a9.38 9.38 0 0 0 2.625.372 9.337 9.337 0 0 0 4.121-.952 4.125 4.125 0 0 0-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 0 1 8.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0 1 11.964-3.07M12 6.375a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0Zm8.25 2.25a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z"}))}const n=l.forwardRef(i)},6266:(e,t,s)=>{s.d(t,{A:()=>n});var a=s(3986),l=s(5043);const r=["title","titleId"];function i(e,t){let{title:s,titleId:i}=e,n=(0,a.A)(e,r);return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":i},n),s?l.createElement("title",{id:i},s):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12Z"}))}const n=l.forwardRef(i)},6838:(e,t,s)=>{s.d(t,{A:()=>n});var a=s(3986),l=s(5043);const r=["title","titleId"];function i(e,t){let{title:s,titleId:i}=e,n=(0,a.A)(e,r);return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":i},n),s?l.createElement("title",{id:i},s):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.48 3.499a.562.562 0 0 1 1.04 0l2.125 5.111a.563.563 0 0 0 .475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 0 0-.182.557l1.285 5.385a.562.562 0 0 1-.84.61l-4.725-2.885a.562.562 0 0 0-.586 0L6.982 20.54a.562.562 0 0 1-.84-.61l1.285-5.386a.562.562 0 0 0-.182-.557l-4.204-3.602a.562.562 0 0 1 .321-.988l5.518-.442a.563.563 0 0 0 .475-.345L11.48 3.5Z"}))}const n=l.forwardRef(i)},7459:(e,t,s)=>{s.d(t,{A:()=>n});var a=s(3986),l=s(5043);const r=["title","titleId"];function i(e,t){let{title:s,titleId:i}=e,n=(0,a.A)(e,r);return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":i},n),s?l.createElement("title",{id:i},s):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}),l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z"}))}const n=l.forwardRef(i)},8010:(e,t,s)=>{s.d(t,{A:()=>n});var a=s(3986),l=s(5043);const r=["title","titleId"];function i(e,t){let{title:s,titleId:i}=e,n=(0,a.A)(e,r);return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":i},n),s?l.createElement("title",{id:i},s):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 0 1-.659 1.591l-5.432 5.432a2.25 2.25 0 0 0-.659 1.591v2.927a2.25 2.25 0 0 1-1.244 2.013L9.75 21v-6.568a2.25 2.25 0 0 0-.659-1.591L3.659 7.409A2.25 2.25 0 0 1 3 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0 1 12 3Z"}))}const n=l.forwardRef(i)},8946:(e,t,s)=>{s.r(t),s.d(t,{default:()=>v});var a=s(9379),l=s(5043),r=s(5475),i=s(129),n=s(2683),c=s(8010),o=s(6266),d=s(5501),m=s(7459),x=s(6838),h=s(5590),u=s(4558),p=s(579);const v=()=>{const{searchProperties:e,loading:t}=(0,i.N)(),[s,v]=(0,l.useState)([]),[j,g]=(0,l.useState)({}),[b,f]=(0,l.useState)(!1),[N,w]=(0,l.useState)(""),[y,k]=(0,l.useState)(!1),A=(0,l.useCallback)(async t=>{try{const s=await e(t);v(s),k(!0)}catch(s){console.error("Erreur lors de la recherche:",s),v([]),k(!0)}},[e]);(0,l.useEffect)(()=>{y||A(j)},[j,y,A]),(0,l.useEffect)(()=>{k(!1)},[j.district,j.propertyType,j.minPrice,j.maxPrice,j.availableRooms]);const C=(e,t)=>{g(s=>(0,a.A)((0,a.A)({},s),{},{[e]:t}))},E=()=>{g({}),w(""),k(!1)},L=s.filter(e=>e.title.toLowerCase().includes(N.toLowerCase())||e.address.toLowerCase().includes(N.toLowerCase())||e.description.toLowerCase().includes(N.toLowerCase()));return(0,p.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,p.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,p.jsxs)("div",{className:"mb-8",children:[(0,p.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Rechercher un logement"}),(0,p.jsx)("p",{className:"text-gray-600",children:"Trouvez la colocation id\xe9ale dans les meilleurs quartiers d'Antananarivo"})]}),(0,p.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-8",children:(0,p.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,p.jsx)("div",{className:"flex-1",children:(0,p.jsx)("input",{type:"text",placeholder:"Rechercher par titre, adresse ou description...",value:N,onChange:e=>w(e.target.value),className:"w-full input-field"})}),(0,p.jsxs)("button",{onClick:()=>f(!b),className:"btn-secondary flex items-center space-x-2",children:[(0,p.jsx)(c.A,{className:"w-5 h-5"}),(0,p.jsx)("span",{children:"Filtres"})]}),(0,p.jsx)("button",{onClick:()=>{A(j)},className:"btn-primary",disabled:t,children:t?"Recherche...":"Rechercher"})]})}),(0,p.jsxs)("div",{className:"flex flex-col lg:flex-row gap-8",children:[(0,p.jsx)("div",{className:"lg:w-80 ".concat(b?"block":"hidden lg:block"),children:(0,p.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 sticky top-8",children:[(0,p.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,p.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Filtres"}),(0,p.jsx)("button",{onClick:E,className:"text-sm text-primary-600 hover:text-primary-700",children:"Effacer tout"})]}),(0,p.jsxs)("div",{className:"space-y-6",children:[(0,p.jsxs)("div",{children:[(0,p.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Prix mensuel (Ar)"}),(0,p.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,p.jsx)("input",{type:"number",placeholder:"Min",value:j.minPrice||"",onChange:e=>C("minPrice",e.target.value?Number(e.target.value):void 0),className:"input-field text-sm"}),(0,p.jsx)("input",{type:"number",placeholder:"Max",value:j.maxPrice||"",onChange:e=>C("maxPrice",e.target.value?Number(e.target.value):void 0),className:"input-field text-sm"})]})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Type de logement"}),(0,p.jsxs)("select",{value:j.propertyType||"",onChange:e=>C("propertyType",e.target.value||void 0),className:"input-field",children:[(0,p.jsx)("option",{value:"",children:"Tous les types"}),[{value:"apartment",label:"Appartement"},{value:"house",label:"Maison"},{value:"studio",label:"Studio"}].map(e=>(0,p.jsx)("option",{value:e.value,children:e.label},e.value))]})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Quartier"}),(0,p.jsxs)("select",{value:j.district||"",onChange:e=>C("district",e.target.value||void 0),className:"input-field",children:[(0,p.jsx)("option",{value:"",children:"Tous les quartiers"}),["Analakely","Ambohijatovo","Ankadifotsy","Ankatso","Antaninarenina","Behoririka","Isoraka","Mahamasina","Tsaralalana","67ha"].map(e=>(0,p.jsx)("option",{value:e,children:e},e))]})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Chambres disponibles"}),(0,p.jsxs)("select",{value:j.availableRooms||"",onChange:e=>C("availableRooms",e.target.value?Number(e.target.value):void 0),className:"input-field",children:[(0,p.jsx)("option",{value:"",children:"Toutes"}),(0,p.jsx)("option",{value:"1",children:"1 chambre"}),(0,p.jsx)("option",{value:"2",children:"2 chambres"}),(0,p.jsx)("option",{value:"3",children:"3 chambres"}),(0,p.jsx)("option",{value:"4",children:"4+ chambres"})]})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\xc9quipements"}),(0,p.jsx)("div",{className:"space-y-2",children:["Internet","Eau chaude","S\xe9curit\xe9","Parking","Jardin","Climatisation","Machine \xe0 laver","Cuisine \xe9quip\xe9e","Balcon","Ascenseur"].map(e=>{var t;return(0,p.jsxs)("label",{className:"flex items-center",children:[(0,p.jsx)("input",{type:"checkbox",checked:(null===(t=j.amenities)||void 0===t?void 0:t.includes(e))||!1,onChange:t=>{const s=j.amenities||[];t.target.checked?C("amenities",[...s,e]):C("amenities",s.filter(t=>t!==e))},className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),(0,p.jsx)("span",{className:"ml-2 text-sm text-gray-700",children:e})]},e)})})]})]})]})}),(0,p.jsx)("div",{className:"flex-1",children:t&&!y?(0,p.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,p.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,p.jsxs)("p",{className:"text-gray-600",children:[L.length," logement(s) trouv\xe9(s)"]}),(0,p.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,p.jsx)("span",{className:"text-sm text-gray-600",children:"Trier par:"}),(0,p.jsxs)("select",{className:"input-field text-sm",value:j.sort||"",onChange:e=>C("sort",e.target.value||void 0),children:[(0,p.jsx)("option",{value:"",children:"Par d\xe9faut"}),(0,p.jsx)("option",{value:"price ASC",children:"Prix croissant"}),(0,p.jsx)("option",{value:"price DESC",children:"Prix d\xe9croissant"}),(0,p.jsx)("option",{value:"createdAt DESC",children:"Plus r\xe9cent"}),(0,p.jsx)("option",{value:"createdAt ASC",children:"Plus ancien"})]})]})]}),(0,p.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-8",children:L.map(e=>{var t;return(0,p.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden hover:shadow-md transition-shadow",children:[(0,p.jsx)("div",{className:"aspect-w-16 aspect-h-9 bg-gray-200",children:(0,p.jsx)("img",{src:(0,u.VG)(null===(t=e.images)||void 0===t?void 0:t[0]),alt:e.title,className:"w-full h-48 object-cover",onError:e=>{e.currentTarget.src="/api/placeholder/400/300"}})}),(0,p.jsxs)("div",{className:"p-6",children:[(0,p.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,p.jsx)("h3",{className:"text-lg font-semibold text-gray-900 line-clamp-1",children:e.title}),(0,p.jsx)("button",{className:"text-gray-400 hover:text-red-500 transition-colors",children:(0,p.jsx)(o.A,{className:"w-5 h-5"})})]}),(0,p.jsxs)("div",{className:"flex items-center text-gray-600 mb-2",children:[(0,p.jsx)(m.A,{className:"w-4 h-4 mr-1"}),(0,p.jsx)("span",{className:"text-sm",children:e.address})]}),(0,p.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,p.jsxs)("div",{className:"flex items-center text-primary-600",children:[(0,p.jsx)(n.A,{className:"w-4 h-4 mr-1"}),(0,p.jsxs)("span",{className:"font-semibold",children:[e.price.toLocaleString()," Ar"]}),(0,p.jsx)("span",{className:"text-gray-500 text-sm ml-1",children:"/mois"})]}),(0,p.jsxs)("div",{className:"flex items-center text-gray-600",children:[(0,p.jsx)(h.A,{className:"w-4 h-4 mr-1"}),(0,p.jsxs)("span",{className:"text-sm",children:[e.availableRooms,"/",e.totalRooms," ch."]})]})]}),(0,p.jsx)("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2",children:e.description}),(0,p.jsxs)("div",{className:"flex flex-wrap gap-1 mb-4",children:[e.amenities.slice(0,3).map(e=>(0,p.jsx)("span",{className:"badge badge-primary text-xs",children:e},e)),e.amenities.length>3&&(0,p.jsxs)("span",{className:"badge badge-primary text-xs",children:["+",e.amenities.length-3]})]}),(0,p.jsxs)("div",{className:"flex items-center justify-between",children:[(0,p.jsxs)("div",{className:"flex items-center",children:[(0,p.jsx)("div",{className:"w-8 h-8 bg-primary-100 rounded-full flex items-center justify-center mr-2",children:(0,p.jsx)("span",{className:"text-primary-600 font-medium text-sm",children:e.owner.firstName[0]})}),(0,p.jsxs)("div",{children:[(0,p.jsxs)("p",{className:"text-sm font-medium text-gray-900",children:[e.owner.firstName," ",e.owner.lastName]}),(0,p.jsxs)("div",{className:"flex items-center",children:[[...Array(5)].map((e,t)=>(0,p.jsx)(x.A,{className:"w-3 h-3 text-yellow-400 fill-current"},t)),(0,p.jsx)("span",{className:"text-xs text-gray-500 ml-1",children:"(4.8)"})]})]})]}),(0,p.jsx)(r.N_,{to:"/properties/".concat(e.id),className:"btn-primary text-sm",children:"Voir d\xe9tails"})]})]})]},e.id)})}),0===L.length&&y&&(0,p.jsxs)("div",{className:"text-center py-12",children:[(0,p.jsx)(d.A,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,p.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucun logement trouv\xe9"}),(0,p.jsx)("p",{className:"text-gray-600 mb-4",children:"Essayez de modifier vos crit\xe8res de recherche"}),(0,p.jsx)("button",{onClick:E,className:"btn-primary",children:"Effacer les filtres"})]})]})})]})]})})}}}]);
//# sourceMappingURL=946.e50a4acb.chunk.js.map