{"version":3,"file":"static/js/717.3ae69180.chunk.js","mappings":"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","sources":["../node_modules/@heroicons/react/24/outline/esm/PhotoIcon.js","../node_modules/@heroicons/react/24/outline/esm/IdentificationIcon.js","components/CINVerificationModal.tsx","../node_modules/lucide-react/src/defaultAttributes.ts","../node_modules/lucide-react/src/icons/map.ts","../node_modules/lucide-react/src/createLucideIcon.ts","pages/CreatePropertyPage.tsx","../node_modules/@heroicons/react/24/outline/esm/ClockIcon.js","../node_modules/@heroicons/react/24/outline/esm/MagnifyingGlassIcon.js","../node_modules/@heroicons/react/24/outline/esm/MapPinIcon.js","../node_modules/@heroicons/react/24/outline/esm/XMarkIcon.js","../node_modules/@heroicons/react/24/outline/esm/PlusIcon.js"],"sourcesContent":["import * as React from \"react\";\nfunction PhotoIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"m2.25 15.75 5.159-5.159a2.25 2.25 0 0 1 3.182 0l5.159 5.159m-1.5-1.5 1.409-1.409a2.25 2.25 0 0 1 3.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 0 0 1.5-1.5V6a1.5 1.5 0 0 0-1.5-1.5H3.75A1.5 1.5 0 0 0 2.25 6v12a1.5 1.5 0 0 0 1.5 1.5Zm10.5-11.25h.008v.008h-.008V8.25Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(PhotoIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction IdentificationIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M15 9h3.75M15 12h3.75M15 15h3.75M4.5 19.5h15a2.25 2.25 0 0 0 2.25-2.25V6.75A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25v10.5A2.25 2.25 0 0 0 4.5 19.5Zm6-10.125a1.875 1.875 0 1 1-3.75 0 1.875 1.875 0 0 1 3.75 0Zm1.294 6.336a6.721 6.721 0 0 1-3.17.789 6.721 6.721 0 0 1-3.168-.789 3.376 3.376 0 0 1 6.338 0Z\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(IdentificationIcon);\nexport default ForwardRef;","import React from 'react';\nimport { XMarkIcon, IdentificationIcon } from '@heroicons/react/24/outline';\nimport { Link } from 'react-router-dom';\n\ninterface CINVerificationModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n  showBackButton?: boolean;\n  backButtonText?: string;\n  onBackClick?: () => void;\n}\n\nconst CINVerificationModal: React.FC<CINVerificationModalProps> = ({\n  isOpen,\n  onClose,\n  showBackButton = true,\n  backButtonText = 'Retour',\n  onBackClick\n}) => {\n  \n  const handleClose = () => {\n    onClose();\n  };\n\n  const handleBack = () => {\n    if (onBackClick) {\n      onBackClick();\n    }\n    onClose();\n  };\n\n  if (!isOpen) return null;\n\n  return (\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\n      <div className=\"bg-white rounded-lg shadow-xl max-w-md w-full p-6 relative\">\n        <button\n          onClick={handleClose}\n          className=\"absolute top-4 right-4 text-gray-500 hover:text-gray-700\"\n        >\n          <XMarkIcon className=\"h-6 w-6\" />\n        </button>\n        \n        <div className=\"text-center\">\n          <div className=\"mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-yellow-100 mb-4\">\n            <IdentificationIcon className=\"h-8 w-8 text-yellow-600\" />\n          </div>\n          \n          <h3 className=\"text-xl font-bold text-gray-900 mb-2\">\n            V√©rification Requise\n          </h3>\n          \n          <p className=\"text-gray-600 mb-6\">\n            Vous devez v√©rifier votre CIN avant de pouvoir acc√©der √† cette fonctionnalit√©.\n          </p>\n          \n          <div className=\"space-y-3\">\n            <Link\n              to=\"/cin-verification\"\n              onClick={onClose}\n              className=\"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500\"\n            >\n              V√©rifier mon CIN\n            </Link>\n            \n            {showBackButton && (\n              <button\n                type=\"button\"\n                onClick={handleBack}\n                className=\"w-full flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500\"\n              >\n                {backButtonText}\n              </button>\n            )}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default CINVerificationModal;\n","export default {\n  xmlns: 'http://www.w3.org/2000/svg',\n  width: 24,\n  height: 24,\n  viewBox: '0 0 24 24',\n  fill: 'none',\n  stroke: 'currentColor',\n  strokeWidth: 2,\n  strokeLinecap: 'round',\n  strokeLinejoin: 'round',\n};\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Map\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cG9seWdvbiBwb2ludHM9IjMgNiA5IDMgMTUgNiAyMSAzIDIxIDE4IDE1IDIxIDkgMTggMyAyMSIgLz4KICA8bGluZSB4MT0iOSIgeDI9IjkiIHkxPSIzIiB5Mj0iMTgiIC8+CiAgPGxpbmUgeDE9IjE1IiB4Mj0iMTUiIHkxPSI2IiB5Mj0iMjEiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/map\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Map = createLucideIcon('Map', [\n  [\n    'polygon',\n    { points: '3 6 9 3 15 6 21 3 21 18 15 21 9 18 3 21', key: 'ok2ie8' },\n  ],\n  ['line', { x1: '9', x2: '9', y1: '3', y2: '18', key: 'w34qz5' }],\n  ['line', { x1: '15', x2: '15', y1: '6', y2: '21', key: 'volv9a' }],\n]);\n\nexport default Map;\n","import { forwardRef, createElement, ReactSVG, SVGProps, ForwardRefExoticComponent, RefAttributes } from 'react';\nimport defaultAttributes from './defaultAttributes';\n\nexport type IconNode = [elementName: keyof ReactSVG, attrs: Record<string, string>][]\n\nexport type SVGAttributes = Partial<SVGProps<SVGSVGElement>>\ntype ComponentAttributes = RefAttributes<SVGSVGElement> & SVGAttributes\n\nexport interface LucideProps extends ComponentAttributes {\n  size?: string | number\n  absoluteStrokeWidth?: boolean\n}\n\nexport type LucideIcon = ForwardRefExoticComponent<LucideProps>;\n/**\n * Converts string to KebabCase\n * Copied from scripts/helper. If anyone knows how to properly import it here\n * then please fix it.\n *\n * @param {string} string\n * @returns {string} A kebabized string\n */\nexport const toKebabCase = (string: string) => string.replace(/([a-z0-9])([A-Z])/g, '$1-$2').toLowerCase();\n\nconst createLucideIcon = (iconName: string, iconNode: IconNode): LucideIcon => {\n  const Component = forwardRef<SVGSVGElement, LucideProps>(\n    ({ color = 'currentColor', size = 24, strokeWidth = 2, absoluteStrokeWidth, children, ...rest }, ref) =>\n      createElement(\n        'svg',\n        {\n          ref,\n          ...defaultAttributes,\n          width: size,\n          height: size,\n          stroke: color,\n          strokeWidth: absoluteStrokeWidth ? Number(strokeWidth) * 24 / Number(size) : strokeWidth,\n          className: `lucide lucide-${toKebabCase(iconName)}`,\n          ...rest,\n        },\n        [\n          ...iconNode.map(([tag, attrs]) => createElement(tag, attrs)),\n          ...(\n            (Array.isArray(children) ? children : [children]) || []\n          )\n        ],\n      ),\n  );\n\n  Component.displayName = `${iconName}`;\n\n  return Component;\n};\n\nexport default createLucideIcon\n","import React, { useState, useRef } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { useAuth } from '../contexts/AuthContext';\nimport CINVerificationModal from '../components/CINVerificationModal';\nimport { useProperty } from '../contexts/PropertyContext';\nimport { CreatePropertyData, ImageFile } from '../types';\nimport { apiUpload } from '../config';\nimport { \n  PhotoIcon,\n  PlusIcon,\n  XMarkIcon,\n  MapPinIcon,\n  MagnifyingGlassIcon,\n  ClockIcon\n} from '@heroicons/react/24/outline';\nimport toast from 'react-hot-toast';\nimport { MapIcon } from 'lucide-react';\n\ninterface Coordinates {\n  lat: number;\n  lng: number;\n}\n\n// Fonction d'upload d'image - utilise la config centralis√©e\nconst uploadImageToServer = async (file: File): Promise<string> => {\n  const formData = new FormData();\n  formData.append('image', file);\n  \n  try {\n    const data = await apiUpload('/api/upload/image', formData);\n    \n    if (!data.success) {\n      throw new Error(data.message || 'Erreur lors de l\\'upload');\n    }\n    \n    // Retourner l'URL de l'image (peut √™tre base64 sur Vercel)\n    return data.data?.url || data.data?.path || '';\n    \n  } catch (error: any) {\n    console.error('‚ùå Erreur upload:', error);\n    throw new Error(error.message || 'Impossible d\\'uploader l\\'image');\n  }\n};\nconst uploadMultipleImages = async (files: File[]): Promise<string[]> => {\n  const uploadPromises = files.map(file => uploadImageToServer(file));\n  return Promise.all(uploadPromises);\n};\n\nconst CreatePropertyPage: React.FC = () => {\n  const navigate = useNavigate();\n  const { createProperty, loading } = useProperty();\n  const { user } = useAuth(); \n  \n  const [formData, setFormData] = useState<CreatePropertyData>({\n    title: '',\n    description: '',\n    address: '',\n    district: '',\n    price: 0,\n    deposit: 0,\n    availableRooms: 1,\n    totalRooms: 1,\n    propertyType: 'apartment',\n    amenities: [],\n    images: []\n  });\n\n  const [imageFiles, setImageFiles] = useState<ImageFile[]>([]);\n  const [coordinates, setCoordinates] = useState<Coordinates | null>(null);\n  const [isMapModalOpen, setIsMapModalOpen] = useState(false);\n  const [tempCoordinates, setTempCoordinates] = useState<Coordinates | null>(null);\n  const [isUploading, setIsUploading] = useState(false);\n  const [isGeolocating, setIsGeolocating] = useState(false);\n  const [addressSuggestions, setAddressSuggestions] = useState<string[]>([]);\n  const [showSuggestions, setShowSuggestions] = useState(false);\n  \n// AJOUTER CES 3 LIGNES ICI :\n  const [manualLat, setManualLat] = useState<string>('');\n  const [manualLng, setManualLng] = useState<string>('');\n  const [showManualInput, setShowManualInput] = useState(false);\n  \n  const fileInputRef = useRef<HTMLInputElement>(null);\n  const mapRef = useRef<HTMLDivElement>(null);\n  const addressInputRef = useRef<HTMLInputElement>(null);\n  const geocodingTimeoutRef = useRef<NodeJS.Timeout>();\n\n  const isCinVerified = user?.cinVerified || user?.cin_verified;\n  const isCinPending = user?.cinPending || user?.cin_verification_requested_at;\n  const [showCINModal, setShowCINModal] = React.useState(false);\n  \n  // V√©rifier la v√©rification CIN au chargement de la page\n  React.useEffect(() => {\n    if (user?.userType === 'owner' && !isCinVerified && !isCinPending) {\n      setShowCINModal(true);\n    }\n  }, [user, isCinVerified, isCinPending]);\n  \n  if (user?.userType === 'owner' && !isCinVerified && !isCinPending) {\n    return (\n      <CINVerificationModal \n        isOpen={showCINModal} \n        onClose={() => setShowCINModal(false)}\n        backButtonText=\"Retour au tableau de bord\"\n        onBackClick={() => navigate('/dashboard')}\n      />\n    );\n  }\n\n  // Afficher un message \"en attente\" si la v√©rification est en cours\n  if (user?.userType === 'owner' && !isCinVerified && isCinPending) {\n    return (\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8\">\n        <div className=\"max-w-md w-full text-center\">\n          <ClockIcon className=\"w-16 h-16 text-blue-500 mx-auto mb-4\" />\n          <h2 className=\"text-2xl font-bold text-gray-900 mb-2\">\n            V√©rification en cours\n          </h2>\n          <p className=\"text-gray-600 mb-4\">\n            Votre CIN est en cours de validation. Vous pourrez publier un logement d√®s qu'elle sera approuv√©e.\n          </p>\n          <button\n            onClick={() => navigate('/dashboard')}\n            className=\"w-full btn-secondary\"\n          >\n            Retour au tableau de bord\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n\n  const districts = [\n    'Analakely', 'Ambohijatovo', 'Ankadifotsy', 'Ankatso', 'Antaninarenina',\n    'Behoririka', 'Isoraka', 'Mahamasina', 'Tsaralalana', '67ha'\n  ];\n\n  const amenitiesOptions = [\n    'Internet', 'Eau chaude', 'S√©curit√©', 'Parking', 'Jardin', 'Climatisation',\n    'Machine √† laver', 'Cuisine √©quip√©e', 'Balcon', 'Ascenseur', 'Piscine', 'Gym'\n  ];\n\n  const propertyTypes = [\n    { value: 'apartment', label: 'Appartement' },\n    { value: 'house', label: 'Maison' },\n    { value: 'studio', label: 'Studio' }\n  ];\n\n  const getCurrentLocation = () => {\n  if (!navigator.geolocation) {\n    toast.error(\"La g√©olocalisation n'est pas support√©e par votre navigateur\");\n    return;\n  }\n\n  setIsGeolocating(true);\n  toast.loading(\"R√©cup√©ration de votre position actuelle...\");\n\n  navigator.geolocation.getCurrentPosition(\n    (position) => {\n      const { latitude, longitude } = position.coords;\n\n      // ‚úÖ Utilise la position GPS r√©elle\n      setCoordinates({ lat: latitude, lng: longitude });\n      setTempCoordinates({ lat: latitude, lng: longitude });\n\n      // Reverse geocoding pour remplir adresse\n      reverseGeocode(latitude, longitude);\n\n      toast.dismiss();\n      toast.success(`Position d√©tect√©e : ${latitude.toFixed(5)}, ${longitude.toFixed(5)}`);\n      setIsGeolocating(false);\n    },\n    (error) => {\n      toast.dismiss();\n      setIsGeolocating(false);\n      \n      switch (error.code) {\n        case error.PERMISSION_DENIED:\n          toast.error(\"Permission de g√©olocalisation refus√©e\");\n          break;\n        case error.POSITION_UNAVAILABLE:\n          toast.error(\"Position GPS indisponible\");\n          break;\n        case error.TIMEOUT:\n          toast.error(\"Timeout de la g√©olocalisation\");\n          break;\n        default:\n          toast.error(\"Erreur de g√©olocalisation inconnue\");\n      }\n    },\n    {\n      enableHighAccuracy: true, // üõ∞Ô∏è GPS haute pr√©cision\n      timeout: 15000,           // 15 secondes max\n      maximumAge: 0             // Pas de cache\n    }\n  );\n  };\n\n  // Reverse geocoding pour obtenir l'adresse √† partir des coordonn√©es\n  const reverseGeocode = async (lat: number, lng: number): Promise<void> => {\n    try {\n      // Utilisation de l'API Nominatim (OpenStreetMap)\n      const response = await fetch(\n        `https://nominatim.openstreetmap.org/reverse?format=json&lat=${lat}&lon=${lng}&zoom=18&addressdetails=1`\n      );\n      \n      const data = await response.json();\n      \n      if (data && data.display_name) {\n        const address = data.display_name;\n        setFormData(prev => ({\n          ...prev,\n          address: address\n        }));\n        \n        // Essayer de d√©terminer le quartier\n        if (data.address) {\n          const district = data.address.suburb || data.address.neighbourhood || data.address.quarter;\n          if (district && districts.includes(district)) {\n            setFormData(prev => ({\n              ...prev,\n              district: district\n            }));\n          }\n        }\n      }\n    } catch (error) {\n      console.error('Erreur reverse geocoding:', error);\n    }\n  };\n\n  // Geocoding pour obtenir les coordonn√©es √† partir de l'adresse\n  const geocodeAddress = async (address: string): Promise<Coordinates | null> => {\n    try {\n      const response = await fetch(\n        `https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(address)}&limit=5&countrycodes=mg`\n      );\n      \n      const data = await response.json();\n      \n      if (data && data.length > 0) {\n        const firstResult = data[0];\n        return {\n          lat: parseFloat(firstResult.lat),\n          lng: parseFloat(firstResult.lon)\n        };\n      }\n      \n      return null;\n    } catch (error) {\n      console.error('Erreur geocoding:', error);\n      return null;\n    }\n  };\n\n  // Recherche d'adresses avec suggestions\n  const searchAddress = async (query: string) => {\n    if (query.length < 3) {\n      setAddressSuggestions([]);\n      setShowSuggestions(false);\n      return;\n    }\n\n    try {\n      const response = await fetch(\n        `https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(query)}&limit=5&countrycodes=mg`\n      );\n      \n      const data = await response.json();\n      \n      if (data && data.length > 0) {\n        const suggestions = data.map((item: any) => item.display_name);\n        setAddressSuggestions(suggestions);\n        setShowSuggestions(true);\n      } else {\n        setAddressSuggestions([]);\n        setShowSuggestions(false);\n      }\n    } catch (error) {\n      console.error('Erreur recherche adresse:', error);\n      setAddressSuggestions([]);\n      setShowSuggestions(false);\n    }\n  };\n\n  // Gestion du changement d'adresse avec debounce\n  const handleAddressChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const value = e.target.value;\n    setFormData(prev => ({\n      ...prev,\n      address: value\n    }));\n\n    // Clear previous timeout\n    if (geocodingTimeoutRef.current) {\n      clearTimeout(geocodingTimeoutRef.current);\n    }\n\n    // Set new timeout for address search\n    geocodingTimeoutRef.current = setTimeout(() => {\n      searchAddress(value);\n    }, 500);\n  };\n\n  // S√©lection d'une suggestion d'adresse\n  const handleAddressSelect = async (suggestion: string) => {\n    setFormData(prev => ({\n      ...prev,\n      address: suggestion\n    }));\n    setShowSuggestions(false);\n    setAddressSuggestions([]);\n\n    // G√©ocoder l'adresse s√©lectionn√©e\n    toast.loading('R√©cup√©ration des coordonn√©es...');\n    const coords = await geocodeAddress(suggestion);\n    \n    if (coords) {\n      setCoordinates(coords);\n      setTempCoordinates(coords);\n      toast.dismiss();\n      toast.success('Adresse localis√©e sur la carte !');\n    } else {\n      toast.dismiss();\n      toast.error('Impossible de localiser cette adresse');\n    }\n  };\n  // G√©olocalisation manuelle\n  const handleManualGeolocate = async () => {\n    if (!formData.address.trim()) {\n      toast.error('Veuillez d\\'abord saisir une adresse');\n      return;\n    }\n\n    try {\n      toast.loading('Recherche des coordonn√©es...');\n      const coords = await geocodeAddress(formData.address);\n      \n      if (coords) {\n        setCoordinates(coords);\n        setTempCoordinates(coords);\n        setIsMapModalOpen(true);\n        toast.dismiss();\n        toast.success('Coordonn√©es trouv√©es ! Ajustez la position sur la carte.');\n      } else {\n        toast.dismiss();\n        toast.error('Impossible de trouver les coordonn√©es pour cette adresse');\n      }\n    } catch (error) {\n      toast.dismiss();\n      toast.error('Erreur lors de la g√©olocalisation');\n    }\n  };\n\n  const handleMapClick = (e: React.MouseEvent<HTMLDivElement>) => {\n  if (!mapRef.current || !coordinates) return;\n\n  const rect = mapRef.current.getBoundingClientRect();\n  const xRatio = (e.clientX - rect.left) / rect.width;\n  const yRatio = (e.clientY - rect.top) / rect.height;\n\n  // D√©placement local (petit ajustement autour de la position actuelle)\n  const newCoords: Coordinates = {\n    lat: coordinates.lat + (0.01 * (yRatio - 0.5)),\n    lng: coordinates.lng + (0.01 * (xRatio - 0.5)),\n  };\n\n  setTempCoordinates(newCoords);\n  };\n\n  const confirmLocation = () => {\n    if (tempCoordinates) {\n      setCoordinates(tempCoordinates);\n      toast.success('Emplacement confirm√© !');\n    }\n    setIsMapModalOpen(false);\n  };\n\n  const handleManualCoordinatesSubmit = () => {\n  const lat = parseFloat(manualLat);\n  const lng = parseFloat(manualLng);\n  \n  if (isNaN(lat) || isNaN(lng)) {\n    toast.error('Veuillez saisir des coordonn√©es valides');\n    return;\n  }\n  \n  if (lat < -90 || lat > 90) {\n    toast.error('La latitude doit √™tre entre -90 et 90');\n    return;\n  }\n  \n  if (lng < -180 || lng > 180) {\n    toast.error('La longitude doit √™tre entre -180 et 180');\n    return;\n  }\n  \n  const newCoords: Coordinates = { lat, lng };\n  setCoordinates(newCoords);\n  setTempCoordinates(newCoords);\n  setShowManualInput(false);\n  setManualLat('');\n  setManualLng('');\n  toast.success('Coordonn√©es manuelles enregistr√©es !');\n};\n\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement | HTMLSelectElement>) => {\n    const { name, value } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: name === 'price' || name === 'deposit' || name === 'availableRooms' || name === 'totalRooms' \n        ? Number(value) \n        : value\n    }));\n  };\n\n  const handleAmenityChange = (amenity: string) => {\n    setFormData(prev => ({\n      ...prev,\n      amenities: prev.amenities.includes(amenity)\n        ? prev.amenities.filter(a => a !== amenity)\n        : [...prev.amenities, amenity]\n    }));\n  };\n\n  const handleImageUpload = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const files = e.target.files;\n    if (!files) return;\n\n    const newImages: ImageFile[] = [];\n\n    for (let i = 0; i < files.length; i++) {\n      const file = files[i];\n      \n      if (!file.type.startsWith('image/')) {\n        toast.error(`${file.name} n'est pas une image valide`);\n        continue;\n      }\n      \n      if (file.size > 5 * 1024 * 1024) {\n        toast.error(`${file.name} est trop volumineux (max 5MB)`);\n        continue;\n      }\n      \n      if (imageFiles.length + newImages.length >= 10) {\n        toast.error('Maximum 10 images autoris√©es');\n        break;\n      }\n      \n      const imageFile: ImageFile = {\n        file: file,\n        preview: URL.createObjectURL(file),\n        id: Math.random().toString(36).substr(2, 9)\n      };\n      \n      newImages.push(imageFile);\n    }\n    \n    if (newImages.length > 0) {\n      setImageFiles(prev => [...prev, ...newImages]);\n      toast.success(`${newImages.length} image(s) ajout√©e(s) avec succ√®s`);\n    }\n    \n    if (fileInputRef.current) {\n      fileInputRef.current.value = '';\n    }\n  };\n\n  const removeImage = (index: number) => {\n    URL.revokeObjectURL(imageFiles[index].preview);\n    setImageFiles(prev => prev.filter((_, i) => i !== index));\n    toast.success('Image supprim√©e');\n  };\n\n  // Fonction pour uploader toutes les images\n  const uploadAllImages = async (): Promise<string[]> => {\n    if (imageFiles.length === 0) return [];\n    \n    setIsUploading(true);\n    try {\n      const files = imageFiles.map(img => img.file);\n      const imageUrls = await uploadMultipleImages(files);\n      toast.success('Toutes les images ont √©t√© upload√©es avec succ√®s');\n      return imageUrls;\n    } catch (error: any) {\n      toast.error(`Erreur lors de l'upload des images: ${error.message}`);\n      throw error;\n    } finally {\n      setIsUploading(false);\n    }\n  };\n\n  \n\n   const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    \n    if (!user) {\n      toast.error('Vous devez √™tre connect√© pour cr√©er une propri√©t√©');\n      navigate('/login');\n      return;\n    }\n\n    // Validation des champs requis\n    if (!formData.title.trim()) {\n      toast.error('Le titre est requis');\n      return;\n    }\n    \n    if (!formData.description.trim()) {\n      toast.error('La description est requise');\n      return;\n    }\n    \n    if (!formData.address.trim()) {\n      toast.error('L\\'adresse est requise');\n      return;\n    }\n    \n    if (!formData.district) {\n      toast.error('Le quartier est requis');\n      return;\n    }\n    \n    if (formData.price <= 0) {\n      toast.error('Le prix doit √™tre sup√©rieur √† 0');\n      return;\n    }\n\n    // Validation prix appartement entre 50000 et 150000 Ar\n    if (formData.propertyType === 'apartment') {\n      if (formData.price < 50000 || formData.price > 150000) {\n        toast.error('Le prix d\\'un appartement doit √™tre entre 50 000 Ar et 150 000 Ar par mois');\n        return;\n      }\n    }\n    \n    if (formData.deposit < 0) {\n      toast.error('La caution ne peut pas √™tre n√©gative');\n      return;\n    }\n    \n    if (formData.availableRooms > formData.totalRooms) {\n      toast.error('Le nombre de chambres disponibles ne peut pas √™tre sup√©rieur au total');\n      return;\n    }\n\n    if (formData.availableRooms <= 0) {\n      toast.error('Il doit y avoir au moins une chambre disponible');\n      return;\n    }\n\n    if (imageFiles.length === 0) {\n      toast.error('Veuillez ajouter au moins une image');\n      return;\n    }\n\n    if (!coordinates) {\n      toast.error('Veuillez confirmer la localisation sur la carte');\n      return;\n    }\n\n    try {\n      // √âtape 1: Uploader toutes les images\n      toast.loading('Upload des images en cours...');\n      const uploadedImageUrls = await uploadAllImages();\n      \n      if (uploadedImageUrls.length === 0) {\n        toast.error('Aucune image n\\'a pu √™tre upload√©e');\n        return;\n      }\n\n      toast.dismiss();\n      \n      // Log des coordonn√©es pour d√©bogage\n      console.log('Coordonn√©es avant envoi:', coordinates);\n      \n      // √âtape 2: Cr√©er la propri√©t√© avec les URLs permanentes et les coordonn√©es\n      await createProperty({\n        ...formData,\n        images: uploadedImageUrls,\n        latitude: coordinates.lat,\n        longitude: coordinates.lng\n      });\n      \n      // Nettoyer les URLs temporaires\n      imageFiles.forEach(img => URL.revokeObjectURL(img.preview));\n      navigate('/dashboard');\n    } catch (error) {\n      console.error('Erreur lors de la cr√©ation:', error);\n      toast.dismiss();\n      toast.error(error instanceof Error ? error.message : 'Une erreur est survenue lors de la cr√©ation de la propri√©t√©');\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gray-50 py-8\">\n      <div className=\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8\">\n        {/* Header */}\n        <div className=\"mb-8\">\n          <h1 className=\"text-3xl font-bold text-gray-900 mb-4\">\n            Publier un logement\n          </h1>\n          <p className=\"text-gray-600\">\n            Partagez votre logement avec des √©tudiants √† la recherche d'une colocation\n          </p>\n        </div>\n\n        <form onSubmit={handleSubmit} className=\"space-y-8\">\n          {/* Section Informations de base (garder le titre et description) */}\n          <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\n            <h2 className=\"text-xl font-semibold text-gray-900 mb-6\">Informations de base</h2>\n            \n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n              <div className=\"md:col-span-2\">\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Titre de l'annonce *\n                </label>\n                <input\n                  type=\"text\"\n                  name=\"title\"\n                  value={formData.title}\n                  onChange={handleChange}\n                  className=\"input-field\"\n                  placeholder=\"Ex: Appartement 3 chambres √† Analakely\"\n                  required\n                />\n              </div>\n\n              <div className=\"md:col-span-2\">\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Description *\n                </label>\n                <textarea\n                  name=\"description\"\n                  value={formData.description}\n                  onChange={handleChange}\n                  rows={4}\n                  className=\"input-field\"\n                  placeholder=\"D√©crivez votre logement, ses avantages, le quartier...\"\n                  required\n                />\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Type de logement *\n                </label>\n                <select\n                  name=\"propertyType\"\n                  value={formData.propertyType}\n                  onChange={handleChange}\n                  className=\"input-field\"\n                  required\n                >\n                  {propertyTypes.map((type) => (\n                    <option key={type.value} value={type.value}>\n                      {type.label}\n                    </option>\n                  ))}\n                </select>\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Quartier *\n                </label>\n                <select\n                  name=\"district\"\n                  value={formData.district}\n                  onChange={handleChange}\n                  className=\"input-field\"\n                  required\n                >\n                  <option value=\"\">S√©lectionnez un quartier</option>\n                  {districts.map((district) => (\n                    <option key={district} value={district}>\n                      {district}\n                    </option>\n                  ))}\n                </select>\n              </div>\n            </div>\n          </div>\n          <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\n            <h2 className=\"text-xl font-semibold text-gray-900 mb-6\">Localisation</h2>\n            \n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n              <div className=\"md:col-span-2\">\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Adresse compl√®te *\n                </label>\n                <div className=\"relative\">\n                  <div className=\"flex space-x-2\">\n                    <div className=\"flex-1 relative\">\n                      <input\n                        ref={addressInputRef}\n                        type=\"text\"\n                        name=\"address\"\n                        value={formData.address}\n                        onChange={handleAddressChange}\n                        className=\"input-field pr-10\"\n                        placeholder=\"Ex: Rue de l'Ind√©pendance, Analakely, Antananarivo\"\n                        required\n                        onFocus={() => {\n                          if (addressSuggestions.length > 0) {\n                            setShowSuggestions(true);\n                          }\n                        }}\n                        onBlur={() => {\n                          setTimeout(() => setShowSuggestions(false), 200);\n                        }}\n                      />\n                      <MagnifyingGlassIcon className=\"w-5 h-5 text-gray-400 absolute right-3 top-1/2 transform -translate-y-1/2\" />\n                    </div>\n                    \n                    {/* Bouton g√©olocalisation automatique */}\n                    <button\n                      type=\"button\"\n                      onClick={getCurrentLocation}\n                      className=\"btn-secondary flex items-center space-x-2 whitespace-nowrap\"\n                      disabled={isGeolocating}\n                      title=\"Utiliser ma position actuelle\"\n                    >\n                      {isGeolocating ? (\n                        <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-gray-600\"></div>\n                      ) : (\n                        <MapIcon className=\"w-4 h-4\" />\n                      )}\n                      <span>Ma position</span>\n                    </button>\n\n                    {/* Bouton g√©olocalisation manuelle */}\n                    <button\n                      type=\"button\"\n                      onClick={handleManualGeolocate}\n                      className=\"btn-secondary flex items-center space-x-2 whitespace-nowrap\"\n                      disabled={!formData.address.trim()}\n                      title=\"Localiser cette adresse\"\n                    >\n                      <MapPinIcon className=\"w-4 h-4\" />\n                      <span>Localiser</span>\n                    </button>\n                  </div>\n\n                  {/* Suggestions d'adresses */}\n                  {showSuggestions && addressSuggestions.length > 0 && (\n                    <div className=\"absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-60 overflow-auto\">\n                      {addressSuggestions.map((suggestion, index) => (\n                        <button\n                          key={index}\n                          type=\"button\"\n                          className=\"w-full px-4 py-2 text-left hover:bg-gray-100 border-b border-gray-100 last:border-b-0\"\n                          onClick={() => handleAddressSelect(suggestion)}\n                        >\n                          <div className=\"flex items-start space-x-2\">\n                            <MapPinIcon className=\"w-4 h-4 text-gray-400 mt-0.5 flex-shrink-0\" />\n                            <span className=\"text-sm text-gray-700\">{suggestion}</span>\n                          </div>\n                        </button>\n                      ))}\n                    </div>\n                  )}\n                </div>\n\n                <div className=\"mt-2 text-xs text-gray-500\">\n                  <p>Commencez √† taper pour voir les suggestions d'adresse</p>\n                  <p>Ou sur \"Mobile\" utilisez \"Ma position\" pour d√©tecter automatiquement votre localisation actuelle</p>\n                </div>\n              </div>\n\n              {/* Section Coordonn√©es G√©ographiques */}\n              {/* Section Coordonn√©es G√©ographiques */}\n              <div className=\"md:col-span-2\">\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Localisation sur la carte\n                </label>\n                \n                {/* REMPLACER TOUTE CETTE SECTION PAR : */}\n                {/* Bouton pour saisie manuelle */}\n                <div className=\"mb-4\">\n                  <button\n                    type=\"button\"\n                    onClick={() => setShowManualInput(!showManualInput)}\n                    className=\"btn-secondary flex items-center space-x-2 text-sm\"\n                  >\n                    <PlusIcon className=\"w-4 h-4\" />\n                    <span>Saisir les coordonn√©es manuellement</span>\n                  </button>\n                </div>\n\n                {/* Formulaire de saisie manuelle */}\n                {showManualInput && (\n                  <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4\">\n                    <h4 className=\"text-sm font-medium text-blue-900 mb-3\">\n                      Saisie manuelle des coordonn√©es\n                    </h4>\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 gap-3\">\n                      <div>\n                        <label className=\"block text-xs font-medium text-blue-700 mb-1\">\n                          Latitude *\n                        </label>\n                        <input\n                          type=\"text\"\n                          value={manualLat}\n                          onChange={(e) => setManualLat(e.target.value)}\n                          className=\"input-field text-sm\"\n                          placeholder=\"Ex: -18.8792\"\n                        />\n                        <p className=\"text-xs text-blue-600 mt-1\">Entre -90 et 90</p>\n                      </div>\n                      <div>\n                        <label className=\"block text-xs font-medium text-blue-700 mb-1\">\n                          Longitude *\n                        </label>\n                        <input\n                          type=\"text\"\n                          value={manualLng}\n                          onChange={(e) => setManualLng(e.target.value)}\n                          className=\"input-field text-sm\"\n                          placeholder=\"Ex: 47.5079\"\n                        />\n                        <p className=\"text-xs text-blue-600 mt-1\">Entre -180 et 180</p>\n                      </div>\n                    </div>\n                    <div className=\"flex space-x-2 mt-3\">\n                      <button\n                        type=\"button\"\n                        onClick={handleManualCoordinatesSubmit}\n                        className=\"btn-primary text-sm px-3 py-2\"\n                      >\n                        Valider les coordonn√©es\n                      </button>\n                      <button\n                        type=\"button\"\n                        onClick={() => {\n                          setShowManualInput(false);\n                          setManualLat('');\n                          setManualLng('');\n                        }}\n                        className=\"btn-secondary text-sm px-3 py-2\"\n                      >\n                        Annuler\n                      </button>\n                    </div>\n                  </div>\n                )}\n\n                <div className=\"border-2 border-dashed border-gray-300 rounded-lg p-4 bg-gray-50\">\n                  {coordinates ? (\n                    <div className=\"text-center\">\n                      <div className=\"w-full h-48 rounded-lg flex items-center justify-center relative overflow-hidden\">\n                        {/* Carte Google Maps r√©elle */}\n                        <iframe\n                          className=\"absolute inset-0 w-full h-full pointer-events-none\"\n                          style={{ border: 0 }}\n                          loading=\"lazy\"\n                          allowFullScreen\n                          title=\"Carte de localisation du logement\"\n                          src={`https://www.google.com/maps?q=${coordinates.lat},${coordinates.lng}&z=16&output=embed`}\n                        />\n\n                        {/* Calque interactif pour ajuster la position */}\n                        <div\n                          ref={mapRef}\n                          className=\"absolute inset-0 cursor-pointer\"\n                          onClick={handleMapClick}\n                        >\n                          {/* Marqueur centr√© */}\n                          <div\n                            className=\"absolute w-6 h-6 transform -translate-x-1/2 -translate-y-1/2\"\n                            style={{ left: '50%', top: '50%' }}\n                          >\n                            <div className=\"w-6 h-6 bg-red-500 rounded-full border-2 border-white shadow-lg\"></div>\n                            <div className=\"w-2 h-2 bg-white rounded-full absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2\"></div>\n                          </div>\n                        </div>\n                      </div>\n                      <div className=\"mt-3 text-sm text-gray-600\">\n                        <p>Latitude: {coordinates.lat.toFixed(6)}</p>\n                        <p>Longitude: {coordinates.lng.toFixed(6)}</p>\n                      </div>\n                      <div className=\"flex justify-center space-x-2 mt-2\">\n                        <button\n                          type=\"button\"\n                          onClick={() => setIsMapModalOpen(true)}\n                          className=\"btn-secondary text-sm\"\n                        >\n                          Ajuster sur la carte\n                        </button>\n                        <button\n                          type=\"button\"\n                          onClick={() => setShowManualInput(true)}\n                          className=\"btn-secondary text-sm\"\n                        >\n                          Modifier manuellement\n                        </button>\n                      </div>\n                    </div>\n                  ) : (\n                    <div className=\"text-center py-8\">\n                      <MapPinIcon className=\"w-12 h-12 text-gray-400 mx-auto mb-4\" />\n                      <p className=\"text-gray-500 mb-2\">\n                        Aucune localisation d√©finie\n                      </p>\n                      <p className=\"text-sm text-gray-400 mb-4\">\n                        Saisissez une adresse, utilisez \"Ma position\" ou entrez les coordonn√©es manuellement\n                      </p>\n                      <div className=\"flex flex-col sm:flex-row gap-2 justify-center\">\n                        <button\n                          type=\"button\"\n                          onClick={getCurrentLocation}\n                          className=\"btn-primary flex items-center space-x-2 text-sm\"\n                          disabled={isGeolocating}\n                        >\n                          {isGeolocating ? (\n                            <>\n                              <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-white\"></div>\n                              <span>D√©tection...</span>\n                            </>\n                          ) : (\n                            <>\n                              <MapIcon className=\"w-4 h-4\" />\n                              <span>Utiliser ma position</span>\n                            </>\n                          )}\n                        </button>\n                        <button\n                          type=\"button\"\n                          onClick={() => setShowManualInput(true)}\n                          className=\"btn-secondary flex items-center space-x-2 text-sm\"\n                        >\n                          <PlusIcon className=\"w-4 h-4\" />\n                          <span>Saisir manuellement</span>\n                        </button>\n                      </div>\n                    </div>\n                  )}\n                </div>\n              </div>\n            </div>\n            </div>\n\n\n          {/* Pricing */}\n          <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\n            <h2 className=\"text-xl font-semibold text-gray-900 mb-6\">Tarification</h2>\n            \n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Prix mensuel (Ar) *\n                </label>\n                <input\n                  type=\"number\"\n                  name=\"price\"\n                  value={formData.price || ''}\n                  onChange={handleChange}\n                  className=\"input-field\"\n                  placeholder=\"200000\"\n                  min=\"1\"\n                  required\n                />\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Caution (Ar) *\n                </label>\n                <input\n                  type=\"number\"\n                  name=\"deposit\"\n                  value={formData.deposit || ''}\n                  onChange={handleChange}\n                  className=\"input-field\"\n                  placeholder=\"100000\"\n                  min=\"0\"\n                  required\n                />\n              </div>\n            </div>\n          </div>\n\n          {/* Rooms */}\n          <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\n            <h2 className=\"text-xl font-semibold text-gray-900 mb-6\">Chambres</h2>\n            \n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Nombre total de chambres *\n                </label>\n                <input\n                  type=\"number\"\n                  name=\"totalRooms\"\n                  value={formData.totalRooms}\n                  onChange={handleChange}\n                  className=\"input-field\"\n                  min=\"1\"\n                  required\n                />\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Chambres disponibles *\n                </label>\n                <input\n                  type=\"number\"\n                  name=\"availableRooms\"\n                  value={formData.availableRooms}\n                  onChange={handleChange}\n                  className=\"input-field\"\n                  min=\"1\"\n                  max={formData.totalRooms}\n                  required\n                />\n              </div>\n            </div>\n          </div>\n\n          {/* Amenities */}\n          <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\n            <h2 className=\"text-xl font-semibold text-gray-900 mb-6\">√âquipements</h2>\n            \n            <div className=\"grid grid-cols-2 md:grid-cols-3 gap-3\">\n              {amenitiesOptions.map((amenity) => (\n                <label key={amenity} className=\"flex items-center\">\n                  <input\n                    type=\"checkbox\"\n                    checked={formData.amenities.includes(amenity)}\n                    onChange={() => handleAmenityChange(amenity)}\n                    className=\"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded\"\n                  />\n                  <span className=\"ml-2 text-sm text-gray-700\">{amenity}</span>\n                </label>\n              ))}\n            </div>\n          </div>\n\n          {/* Images */}\n          <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\n            <h2 className=\"text-xl font-semibold text-gray-900 mb-6\">Photos</h2>\n            \n            <div className=\"space-y-4\">\n              <div className=\"flex flex-col sm:flex-row sm:items-center space-y-2 sm:space-y-0 sm:space-x-2\">\n                <input\n                  ref={fileInputRef}\n                  type=\"file\"\n                  accept=\"image/*\"\n                  multiple\n                  onChange={handleImageUpload}\n                  className=\"hidden\"\n                />\n                <div className=\"flex-1 text-sm text-gray-500\">\n                  <p>Formats accept√©s: JPG, PNG, WebP ‚Ä¢ Max 5MB par image ‚Ä¢ Maximum 10 images</p>\n                  <p className=\"text-green-600 font-medium\">Les images seront sauvegard√©es d√©finitivement</p>\n                </div>\n              </div>\n\n              {/* Compteur d'images */}\n              {imageFiles.length > 0 && (\n                <div className=\"flex items-center justify-between bg-blue-50 border border-blue-200 rounded-lg p-3\">\n                  <span className=\"text-sm font-medium text-blue-800\">\n                    {imageFiles.length} image(s) s√©lectionn√©e(s) sur 10 maximum\n                  </span>\n                  {isUploading && (\n                    <div className=\"flex items-center space-x-2\">\n                      \n                      <span className=\"text-xs text-blue-600\">Upload en cours...</span>\n                    </div>\n                  )}\n                </div>\n              )}\n\n              {/* Grille d'aper√ßu des images */}\n              {imageFiles.length > 0 && (\n                <div className=\"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4\">\n                  {imageFiles.map((image, index) => (\n                    <div key={image.id} className=\"relative group bg-gray-100 rounded-lg overflow-hidden\">\n                      <img\n                        src={image.preview}\n                        alt={`Aper√ßu ${index + 1}`}\n                        className=\"w-full h-32 object-cover transition-transform group-hover:scale-105\"\n                      />\n                      \n                      {/* Overlay au survol */}\n                      <div className=\"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-40 transition-all flex items-center justify-center\">\n                        <button\n                          type=\"button\"\n                          onClick={() => removeImage(index)}\n                          className=\"opacity-0 group-hover:opacity-100 bg-red-500 text-white rounded-full p-2 hover:bg-red-600 transition-all transform scale-90 group-hover:scale-100\"\n                          title=\"Supprimer l'image\"\n                          disabled={isUploading}\n                        >\n                          <XMarkIcon className=\"w-4 h-4\" />\n                        </button>\n                      </div>\n                      \n                      {/* Info fichier en bas */}\n                      <div className=\"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black to-transparent p-2\">\n                        <p className=\"text-xs text-white truncate\">\n                          {image.file.name}\n                        </p>\n                        <p className=\"text-xs text-gray-300\">\n                          {(image.file.size / (1024 * 1024)).toFixed(1)} MB\n                        </p>\n                      </div>\n                      \n                      {/* Num√©ro de l'image */}\n                      <div className=\"absolute top-2 left-2 bg-black bg-opacity-60 text-white text-xs px-2 py-1 rounded-full\">\n                        {index + 1}\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              )}\n\n              {/* √âtat vide */}\n              {imageFiles.length === 0 && (\n                <div className=\"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg bg-gray-50\">\n                  <PhotoIcon className=\"w-16 h-16 text-gray-400 mx-auto mb-4\" />\n                  <h3 className=\"text-lg font-medium text-gray-900 mb-2\">\n                    Aucune image s√©lectionn√©e\n                  </h3>\n                  <p className=\"text-gray-500 mb-4\">\n                    Ajoutez des photos attractives de votre logement\n                  </p>\n                  <button\n                    type=\"button\"\n                    onClick={() => fileInputRef.current?.click()}\n                    className=\"btn-secondary flex items-center space-x-2 mx-auto\"\n                    disabled={isUploading}\n                  >\n                    <PlusIcon className=\"w-4 h-4\" />\n                    <span>S√©lectionner des images</span>\n                  </button>\n                </div>\n              )}\n            </div>\n          </div>\n\n          {/* Submit */}\n          <div className=\"flex justify-end space-x-4\">\n            <button\n              type=\"button\"\n              onClick={() => navigate('/dashboard')}\n              className=\"btn-secondary\"\n              disabled={loading || isUploading}\n            >\n              Annuler\n            </button>\n            <button\n              type=\"submit\"\n              disabled={loading || isUploading || imageFiles.length === 0}\n              className=\"btn-primary flex items-center space-x-2\"\n            >\n              {(loading || isUploading) ? (\n                <>\n                  <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-white\"></div>\n                  <span>{isUploading ? 'Upload...' : 'Publication...'}</span>\n                </>\n              ) : (\n                'Publier le logement'\n              )}\n            </button>\n          </div>\n        </form>\n\n        {/* Modal de la carte */}\n        {isMapModalOpen && (\n          <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\n            <div className=\"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-auto\">\n              <div className=\"p-6\">\n                <h3 className=\"text-xl font-semibold text-gray-900 mb-4\">\n                  Ajuster la position sur la carte\n                </h3>\n                <div className=\"mb-3\">\n                  <button\n                    type=\"button\"\n                    onClick={() => {\n                      // Pr√©-remplir avec les coordonn√©es actuelles si disponibles\n                      if (tempCoordinates) {\n                        setManualLat(tempCoordinates.lat.toString());\n                        setManualLng(tempCoordinates.lng.toString());\n                      }\n                      setShowManualInput(true);\n                      setIsMapModalOpen(false);\n                    }}\n                    className=\"btn-secondary flex items-center space-x-2 text-sm\"\n                  >\n                    <PlusIcon className=\"w-4 h-4\" />\n                    <span>Saisir les coordonn√©es manuellement</span>\n                  </button>\n                </div>\n                \n                <div className=\"mb-4\">\n                  <p className=\"text-sm text-gray-600 mb-2\">\n                    Cliquez sur la carte pour positionner le marqueur\n                  </p>\n                  <div className=\"text-xs text-gray-500\">\n                    {tempCoordinates && (\n                      <p>Position actuelle: {tempCoordinates.lat.toFixed(6)}, {tempCoordinates.lng.toFixed(6)}</p>\n                    )}\n                  </div>\n                </div>\n\n                <div \n                  ref={mapRef}\n                  className=\"w-full h-64 rounded-lg cursor-pointer relative mb-4 border-2 border-gray-300 overflow-hidden\"\n                  onClick={handleMapClick}\n                >\n                  {/* Carte Google Maps r√©elle */}\n                  <iframe\n                    className=\"absolute inset-0 w-full h-full pointer-events-none\"\n                    style={{ border: 0 }}\n                    loading=\"lazy\"\n                    allowFullScreen\n                    title=\"Carte d'ajustement de la position\"\n                    src={(() => {\n                      const baseLat = tempCoordinates?.lat ?? coordinates?.lat ?? 0;\n                      const baseLng = tempCoordinates?.lng ?? coordinates?.lng ?? 0;\n                      return `https://www.google.com/maps?q=${baseLat},${baseLng}&z=16&output=embed`;\n                    })()}\n                  />\n\n                  {/* Marqueur centr√© */}\n                  {tempCoordinates && (\n                    <div \n                      className=\"absolute w-6 h-6 transform -translate-x-1/2 -translate-y-1/2\"\n                      style={{\n                        left: '50%',\n                        top: '50%'\n                      }}\n                    >\n                      <div className=\"w-6 h-6 bg-red-500 rounded-full border-2 border-white shadow-lg\"></div>\n                      <div className=\"w-2 h-2 bg-white rounded-full absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2\"></div>\n                    </div>\n                  )}\n                </div>\n\n                <div className=\"flex justify-end space-x-3\">\n                  <button\n                    type=\"button\"\n                    onClick={() => setIsMapModalOpen(false)}\n                    className=\"btn-secondary\"\n                  >\n                    Annuler\n                  </button>\n                  <button\n                    type=\"button\"\n                    onClick={confirmLocation}\n                    className=\"btn-primary\"\n                    disabled={!tempCoordinates}\n                  >\n                    Confirmer l'emplacement\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default CreatePropertyPage;","import * as React from \"react\";\nfunction ClockIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(ClockIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction MagnifyingGlassIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(MagnifyingGlassIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction MapPinIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(MapPinIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction XMarkIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M6 18 18 6M6 6l12 12\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(XMarkIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction PlusIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M12 4.5v15m7.5-7.5h-15\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(PlusIcon);\nexport default ForwardRef;"],"names":["PhotoIcon","_ref","svgRef","title","titleId","props","_objectWithoutProperties","_excluded","React","Object","assign","xmlns","fill","viewBox","strokeWidth","stroke","ref","id","strokeLinecap","strokeLinejoin","d","IdentificationIcon","isOpen","onClose","showBackButton","backButtonText","onBackClick","_jsx","className","children","_jsxs","onClick","handleClose","XMarkIcon","Link","to","type","handleBack","defaultAttributes","width","height","Map","createLucideIcon","iconName","iconNode","Component","forwardRef","color","size","absoluteStrokeWidth","rest","createElement","_objectSpread","Number","concat","string","replace","toLowerCase","map","_ref2","tag","attrs","Array","isArray","displayName","points","key","x1","x2","y1","y2","uploadMultipleImages","async","uploadPromises","files","file","formData","FormData","append","_data$data","_data$data2","data","apiUpload","success","Error","message","url","path","error","console","uploadImageToServer","Promise","all","CreatePropertyPage","navigate","useNavigate","createProperty","loading","useProperty","user","useAuth","setFormData","useState","description","address","district","price","deposit","availableRooms","totalRooms","propertyType","amenities","images","imageFiles","setImageFiles","coordinates","setCoordinates","isMapModalOpen","setIsMapModalOpen","tempCoordinates","setTempCoordinates","isUploading","setIsUploading","isGeolocating","setIsGeolocating","addressSuggestions","setAddressSuggestions","showSuggestions","setShowSuggestions","manualLat","setManualLat","manualLng","setManualLng","showManualInput","setShowManualInput","fileInputRef","useRef","mapRef","addressInputRef","geocodingTimeoutRef","isCinVerified","cinVerified","cin_verified","isCinPending","cinPending","cin_verification_requested_at","showCINModal","setShowCINModal","userType","CINVerificationModal","ClockIcon","districts","getCurrentLocation","navigator","geolocation","toast","getCurrentPosition","position","latitude","longitude","coords","lat","lng","reverseGeocode","dismiss","toFixed","code","PERMISSION_DENIED","POSITION_UNAVAILABLE","TIMEOUT","enableHighAccuracy","timeout","maximumAge","response","fetch","json","display_name","prev","suburb","neighbourhood","quarter","includes","geocodeAddress","encodeURIComponent","length","firstResult","parseFloat","lon","handleMapClick","e","current","rect","getBoundingClientRect","xRatio","clientX","left","yRatio","clientY","top","newCoords","handleChange","name","value","target","onSubmit","preventDefault","trim","uploadedImageUrls","img","imageUrls","uploadAllImages","log","forEach","URL","revokeObjectURL","preview","onChange","placeholder","required","rows","label","clearTimeout","setTimeout","query","suggestions","item","searchAddress","onFocus","onBlur","MagnifyingGlassIcon","disabled","MapIcon","MapPinIcon","suggestion","index","handleAddressSelect","PlusIcon","handleManualCoordinatesSubmit","isNaN","style","border","allowFullScreen","src","_Fragment","min","max","amenity","checked","filter","a","handleAmenityChange","accept","multiple","newImages","i","startsWith","imageFile","createObjectURL","Math","random","toString","substr","push","image","alt","_","removeImage","_fileInputRef$current","click","_tempCoordinates$lat","_tempCoordinates$lng","baseLat","baseLng","confirmLocation"],"sourceRoot":""}