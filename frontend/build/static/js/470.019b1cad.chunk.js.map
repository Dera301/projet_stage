{"version":3,"file":"static/js/470.019b1cad.chunk.js","mappings":"gMAGA,MAAMA,EAAQ,CACZ,CACEC,MAAO,yBACPC,YAAa,qFAEf,CACED,MAAO,sCACPC,YAAa,2FAEf,CACED,MAAO,kCACPC,YAAa,4FAEf,CACED,MAAO,6CACPC,YAAa,4GAIXC,EAAcC,GAAc,oBAAAC,OAAyBD,GAwH3D,EAtHkCE,KAChC,MAAM,KAAEC,IAASC,EAAAA,EAAAA,MACVC,EAAQC,IAAaC,EAAAA,EAAAA,WAAS,IAC9BC,EAAWC,IAAgBF,EAAAA,EAAAA,UAAS,GAErCG,EAAUC,QAAY,OAAJR,QAAI,IAAJA,OAAI,EAAJA,EAAMS,KAE9BC,EAAAA,EAAAA,WAAU,KACR,IAAKH,EAGH,OAFAJ,GAAU,QACVG,EAAa,GAIf,IACeK,aAAaC,QAAQhB,EAAWI,EAAMS,OAEjDN,GAAU,GACVG,EAAa,GAEjB,CAAE,MAAOO,GACPC,QAAQC,KAAK,wEAAoEF,EACnF,GACC,CAACN,EAAa,OAAJP,QAAI,IAAJA,OAAI,EAAJA,EAAMS,KAEnB,MAAMO,EAAaA,KACjB,GAAQ,OAAJhB,QAAI,IAAJA,GAAAA,EAAMS,GACR,IACEE,aAAaM,QAAQrB,EAAWI,EAAKS,IAAK,OAC5C,CAAE,MAAOI,GACPC,QAAQC,KAAK,mDAAkDF,EACjE,CAEFV,GAAU,IAeNe,GAAcC,EAAAA,EAAAA,SAAQ,IAAM1B,EAAMY,GAAY,CAACA,IAErD,OAAKH,GAAWF,GAKdoB,EAAAA,EAAAA,KAAA,OAAKC,UAAU,uEAAsEC,UACnFC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,gEAA+DC,SAAA,EAC5EC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,mCAAkCC,SAAA,EAC/CC,EAAAA,EAAAA,MAAA,OAAAD,SAAA,EACEF,EAAAA,EAAAA,KAAA,KAAGC,UAAU,iEAAgEC,SAAC,2BAC9EF,EAAAA,EAAAA,KAAA,MAAIC,UAAU,wCAAuCC,SAAEJ,EAAYxB,YAErE0B,EAAAA,EAAAA,KAAA,UACEI,QAASR,EACTK,UAAU,sDACV,aAAW,kBAAiBC,SAC7B,aAKHF,EAAAA,EAAAA,KAAA,KAAGC,UAAU,gCAA+BC,SAAEJ,EAAYvB,eAE1D4B,EAAAA,EAAAA,MAAA,OAAKF,UAAU,0DAAyDC,SAAA,EACtEC,EAAAA,EAAAA,MAAA,QAAAD,SAAA,CAAM,YAAOjB,EAAY,EAAE,MAAIZ,EAAMgC,WACrCL,EAAAA,EAAAA,KAAA,OAAKC,UAAU,iBAAgBC,SAC5B7B,EAAMiC,IAAI,CAACC,EAAGC,KACbR,EAAAA,EAAAA,KAAA,QAEEC,UAAS,uCAAAvB,OACP8B,GAASvB,EAAY,iBAAmB,gBAFrCuB,UASbL,EAAAA,EAAAA,MAAA,OAAKF,UAAU,uBAAsBC,SAAA,EACnCF,EAAAA,EAAAA,KAAA,UACES,KAAK,SACLL,QA9CeM,KACvBxB,EAAcyB,GAASC,KAAKC,IAAI,EAAGF,EAAO,KA8ClCG,SAAwB,IAAd7B,EACVgB,UAAU,iGAAgGC,SAC3G,qBAGDC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,YAAWC,SAAA,EACxBF,EAAAA,EAAAA,KAAA,UACES,KAAK,SACLL,QAASR,EACTK,UAAU,iFAAgFC,SAC3F,YAGDF,EAAAA,EAAAA,KAAA,UACES,KAAK,SACLL,QAtESW,KACf9B,EAAYZ,EAAMgC,OAAS,EAC7BnB,EAAcyB,GAASA,EAAO,GAGhCf,KAkEUK,UAAU,6EAA4EC,SAErFjB,IAAcZ,EAAMgC,OAAS,EAAI,WAAa,uBA1DlD,K","sources":["components/FirstLoginGuide.tsx"],"sourcesContent":["import React, { useEffect, useMemo, useState } from 'react';\r\nimport { useAuth } from '../contexts/AuthContext';\r\n\r\nconst steps = [\r\n  {\r\n    title: 'Bienvenue üéâ',\r\n    description: 'Configurez votre profil pour aider la communaut√© √† mieux vous conna√Ætre.'\r\n  },\r\n  {\r\n    title: 'Explorez les logements üè†',\r\n    description: 'Filtrez par quartier, budget ou type pour trouver rapidement une colocation compatible.'\r\n  },\r\n  {\r\n    title: 'Discutez en direct üí¨',\r\n    description: 'Utilisez la messagerie int√©gr√©e pour planifier des visites ou poser vos questions.'\r\n  },\r\n  {\r\n    title: 'V√©rifiez votre identit√© ü™™',\r\n    description: 'Soumettez votre CIN pour s√©curiser les √©changes et acc√©der √† toutes les fonctionnalit√©s.'\r\n  }\r\n];\r\n\r\nconst storageKey = (userId: string) => `coloc.guide.seen.${userId}`;\r\n\r\nconst FirstLoginGuide: React.FC = () => {\r\n  const { user } = useAuth();\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const [stepIndex, setStepIndex] = useState(0);\r\n\r\n  const hasUser = Boolean(user?.id);\r\n\r\n  useEffect(() => {\r\n    if (!hasUser) {\r\n      setIsOpen(false);\r\n      setStepIndex(0);\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const seen = localStorage.getItem(storageKey(user!.id));\r\n      if (!seen) {\r\n        setIsOpen(true);\r\n        setStepIndex(0);\r\n      }\r\n    } catch (error) {\r\n      console.warn('Impossible d\\'acc√©der √† localStorage pour le guide de bienvenue:', error);\r\n    }\r\n  }, [hasUser, user?.id]);\r\n\r\n  const closeGuide = () => {\r\n    if (user?.id) {\r\n      try {\r\n        localStorage.setItem(storageKey(user.id), 'true');\r\n      } catch (error) {\r\n        console.warn('Impossible de m√©moriser l\\'affichage du guide:', error);\r\n      }\r\n    }\r\n    setIsOpen(false);\r\n  };\r\n\r\n  const goToNextStep = () => {\r\n    if (stepIndex < steps.length - 1) {\r\n      setStepIndex((prev) => prev + 1);\r\n      return;\r\n    }\r\n    closeGuide();\r\n  };\r\n\r\n  const goToPreviousStep = () => {\r\n    setStepIndex((prev) => Math.max(0, prev - 1));\r\n  };\r\n\r\n  const currentStep = useMemo(() => steps[stepIndex], [stepIndex]);\r\n\r\n  if (!isOpen || !user) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-black/60 px-4\">\r\n      <div className=\"w-full max-w-lg rounded-2xl bg-white shadow-2xl p-6 space-y-6\">\r\n        <div className=\"flex items-start justify-between\">\r\n          <div>\r\n            <p className=\"text-sm uppercase tracking-wide text-primary-600 font-semibold\">Guide de d√©marrage</p>\r\n            <h2 className=\"text-2xl font-bold text-gray-900 mt-1\">{currentStep.title}</h2>\r\n          </div>\r\n          <button\r\n            onClick={closeGuide}\r\n            className=\"text-gray-400 hover:text-gray-600 transition-colors\"\r\n            aria-label=\"Fermer le guide\"\r\n          >\r\n            √ó\r\n          </button>\r\n        </div>\r\n\r\n        <p className=\"text-gray-600 leading-relaxed\">{currentStep.description}</p>\r\n\r\n        <div className=\"flex items-center justify-between text-sm text-gray-500\">\r\n          <span>√âtape {stepIndex + 1} / {steps.length}</span>\r\n          <div className=\"flex space-x-1\">\r\n            {steps.map((_, index) => (\r\n              <span\r\n                key={index}\r\n                className={`h-2 w-8 rounded-full transition-all ${\r\n                  index <= stepIndex ? 'bg-primary-600' : 'bg-gray-200'\r\n                }`}\r\n              />\r\n            ))}\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"flex justify-between\">\r\n          <button\r\n            type=\"button\"\r\n            onClick={goToPreviousStep}\r\n            disabled={stepIndex === 0}\r\n            className=\"px-4 py-2 rounded-lg border border-gray-300 text-gray-600 hover:bg-gray-50 disabled:opacity-40\"\r\n          >\r\n            Pr√©c√©dent\r\n          </button>\r\n          <div className=\"space-x-3\">\r\n            <button\r\n              type=\"button\"\r\n              onClick={closeGuide}\r\n              className=\"px-4 py-2 rounded-lg border border-transparent text-gray-500 hover:bg-gray-100\"\r\n            >\r\n              Passer\r\n            </button>\r\n            <button\r\n              type=\"button\"\r\n              onClick={goToNextStep}\r\n              className=\"px-4 py-2 rounded-lg bg-primary-600 text-white hover:bg-primary-700 shadow\"\r\n            >\r\n              {stepIndex === steps.length - 1 ? 'Terminer' : 'Suivant'}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FirstLoginGuide;\r\n\r\n"],"names":["steps","title","description","storageKey","userId","concat","FirstLoginGuide","user","useAuth","isOpen","setIsOpen","useState","stepIndex","setStepIndex","hasUser","Boolean","id","useEffect","localStorage","getItem","error","console","warn","closeGuide","setItem","currentStep","useMemo","_jsx","className","children","_jsxs","onClick","length","map","_","index","type","goToPreviousStep","prev","Math","max","disabled","goToNextStep"],"sourceRoot":""}