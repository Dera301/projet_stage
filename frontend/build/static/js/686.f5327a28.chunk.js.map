{"version":3,"file":"static/js/686.f5327a28.chunk.js","mappings":"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","sources":["hooks/useCINVerification.ts","../node_modules/@heroicons/react/24/outline/esm/IdentificationIcon.js","../node_modules/@heroicons/react/24/outline/esm/CurrencyDollarIcon.js","components/ScheduleAppointmentModal.tsx","../node_modules/@heroicons/react/24/outline/esm/ChatBubbleLeftRightIcon.js","components/CINVerificationModal.tsx","../node_modules/@heroicons/react/24/outline/esm/CheckCircleIcon.js","../node_modules/@heroicons/react/24/outline/esm/ArrowLeftIcon.js","../node_modules/@heroicons/react/24/outline/esm/HomeIcon.js","../node_modules/@heroicons/react/24/outline/esm/UsersIcon.js","../node_modules/@heroicons/react/24/outline/esm/HeartIcon.js","../node_modules/@heroicons/react/24/outline/esm/StarIcon.js","../node_modules/@heroicons/react/24/outline/esm/MapPinIcon.js","../node_modules/@heroicons/react/24/outline/esm/XMarkIcon.js","../node_modules/@heroicons/react/24/outline/esm/CalendarIcon.js","pages/PropertyDetailPage.tsx","../node_modules/@heroicons/react/24/outline/esm/PhoneIcon.js","../node_modules/@heroicons/react/24/outline/esm/ShareIcon.js"],"sourcesContent":["import { useState, useCallback } from 'react';\nimport { useAuth } from '../contexts/AuthContext';\nimport { useNavigate } from 'react-router-dom';\n\ninterface CINVerificationResult {\n  isVerified: boolean;\n  isPending: boolean;\n  requiresVerification: boolean;\n  showVerificationModal: boolean;\n  setShowVerificationModal: (show: boolean) => void;\n  checkVerification: (e?: React.MouseEvent) => boolean;\n  onClickHandler: (e: React.MouseEvent, path: string) => void;\n}\n\nexport const useCINVerification = (): CINVerificationResult => {\n  const { user } = useAuth();\n  const navigate = useNavigate();\n  const [showVerificationModal, setShowVerificationModal] = useState(false);\n  \n  const isVerified = user?.cinVerified || user?.cin_verified || false;\n  const isPending = user?.cinPending || !!user?.cin_verification_requested_at;\n  const requiresVerification = user?.userType === 'owner' && !isVerified && !isPending;\n\n  // Vérifier la vérification CIN si nécessaire\n  const checkVerification = useCallback((e?: React.MouseEvent): boolean => {\n    if (e) {\n      e.preventDefault();\n    }\n    \n    // Si l'utilisateur n'est pas connecté, on le redirige vers la page de connexion\n    if (!user) {\n      navigate('/login', { state: { from: window.location.pathname } });\n      return false;\n    }\n    \n    // Vérifier si la vérification CIN est requise\n    if (requiresVerification) {\n      setShowVerificationModal(true);\n      return false;\n    }\n    \n    // Si l'utilisateur est connecté et vérifié, on retourne true\n    return true;\n  }, [requiresVerification, user, navigate]);\n\n  return {\n    isVerified,\n    isPending,\n    requiresVerification,\n    showVerificationModal,\n    setShowVerificationModal,\n    checkVerification,\n    // Ajout d'un gestionnaire de clic pour les liens\n    onClickHandler: (e: React.MouseEvent, path: string) => {\n      if (checkVerification(e)) {\n        navigate(path);\n      }\n    }\n  };\n};\n\nexport default useCINVerification;\n","import * as React from \"react\";\nfunction IdentificationIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M15 9h3.75M15 12h3.75M15 15h3.75M4.5 19.5h15a2.25 2.25 0 0 0 2.25-2.25V6.75A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25v10.5A2.25 2.25 0 0 0 4.5 19.5Zm6-10.125a1.875 1.875 0 1 1-3.75 0 1.875 1.875 0 0 1 3.75 0Zm1.294 6.336a6.721 6.721 0 0 1-3.17.789 6.721 6.721 0 0 1-3.168-.789 3.376 3.376 0 0 1 6.338 0Z\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(IdentificationIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction CurrencyDollarIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M12 6v12m-3-2.818.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(CurrencyDollarIcon);\nexport default ForwardRef;","import React, { useState, useEffect } from 'react';\nimport { CalendarIcon, XMarkIcon } from '@heroicons/react/24/outline';\nimport { apiJson, apiGet } from '../config';\nimport toast from 'react-hot-toast';\nimport { useAuth } from '../contexts/AuthContext';\n\ninterface ScheduleAppointmentModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n  propertyId: string;\n  ownerId: string;\n  propertyTitle: string;\n  appointment?: any; // Pour l'édition\n  onUpdate?: (data: any) => void; // Pour l'édition\n}\n\nconst ScheduleAppointmentModal: React.FC<ScheduleAppointmentModalProps> = ({\n  isOpen,\n  onClose,\n  propertyId,\n  ownerId,\n  propertyTitle,\n  appointment,\n  onUpdate\n}) => {\n  const { user } = useAuth();\n  const [selectedDate, setSelectedDate] = useState('');\n  const [selectedTime, setSelectedTime] = useState('');\n  const [message, setMessage] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [existingAppointments, setExistingAppointments] = useState<any[]>([]);\n  const [checkingAvailability, setCheckingAvailability] = useState(false);\n\n  const timeSlots = [\n    '08:00', '09:00', '10:00', '11:00', \n    '14:00', '15:00', '16:00', '17:00'\n  ];\n\n  // Charger les rendez-vous existants pour vérifier les disponibilités\n  useEffect(() => {\n\n    const loadExistingAppointments = async () => {\n    if (!user) return;\n    \n    setCheckingAvailability(true);\n    try {\n      const data = await apiGet('/api/appointments/get_all');\n      \n      if (data.success) {\n        setExistingAppointments(data.data || []);\n      }\n    } catch (error) {\n      console.error('Erreur lors du chargement des rendez-vous existants');\n    } finally {\n      setCheckingAvailability(false);\n    }\n  };\n    if (isOpen && user) {\n      loadExistingAppointments();\n    }\n  }, [isOpen, user]);\n\n  // Pré-remplir le formulaire en mode édition\n  useEffect(() => {\n    if (appointment) {\n      const appointmentDate = new Date(appointment.appointmentDate);\n      setSelectedDate(appointmentDate.toISOString().split('T')[0]);\n      setSelectedTime(appointmentDate.toTimeString().slice(0, 5));\n      setMessage(appointment.message);\n    } else {\n      setSelectedDate('');\n      setSelectedTime('');\n      setMessage('');\n    }\n  }, [appointment]);\n\n  \n\n  const isTimeSlotTaken = (date: string, time: string) => {\n    const selectedDateTime = new Date(`${date}T${time}:00`);\n    const now = new Date();\n    \n    return existingAppointments.some(apt => {\n      if (apt.id === appointment?.id) return false; // Ignorer le rendez-vous en cours d'édition\n      \n      const aptDateTime = new Date(apt.appointmentDate);\n      // Ignorer les rendez-vous passés\n      if (aptDateTime.getTime() < now.getTime()) return false;\n      // Ignorer les rendez-vous complétés\n      if (apt.status === 'completed') return false;\n\n      const timeDiff = Math.abs(selectedDateTime.getTime() - aptDateTime.getTime());\n      const hoursDiff = timeDiff / (1000 * 60 * 60);\n      \n      // Considérer comme pris si dans les 2 heures et non annulé\n      return hoursDiff < 2 && apt.status !== 'cancelled';\n    });\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    \n    if (!selectedDate || !selectedTime) {\n      toast.error('Veuillez sélectionner une date et une heure');\n      return;\n    }\n\n    if (!user) {\n      toast.error('Veuillez vous connecter pour planifier un rendez-vous');\n      return;\n    }\n\n    // Vérifier si le créneau est déjà pris\n    if (isTimeSlotTaken(selectedDate, selectedTime)) {\n      toast.error('Ce créneau horaire est déjà réservé. Veuillez choisir un autre horaire.');\n      return;\n    }\n\n    setLoading(true);\n    try {\n      const appointmentDateTime = `${selectedDate}T${selectedTime}:00`;\n      \n      if (appointment && onUpdate) {\n        // Mode édition\n        await onUpdate({\n          appointmentDate: appointmentDateTime,\n          message: message || `Je souhaite visiter le logement \"${propertyTitle}\"`\n        });\n      } else {\n        // Mode création\n        const data = await apiJson('/api/appointments/create', 'POST', {\n          propertyId,\n          appointmentDate: appointmentDateTime,\n          message: message || `Je souhaite visiter le logement \"${propertyTitle}\"`\n        });\n\n        if (data.success) {\n          toast.success('Rendez-vous planifié avec succès !');\n          onClose();\n        } else {\n          toast.error(data.message || 'Erreur lors de la planification');\n        }\n      }\n    } catch (error) {\n      console.error('Erreur:', error);\n      toast.error('Erreur lors de la planification du rendez-vous');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  if (!isOpen) return null;\n\n  // Calcul de la date minimale (aujourd'hui) et maximale (dans 30 jours)\n  const today = new Date().toISOString().split('T')[0];\n  const maxDate = new Date();\n  maxDate.setDate(maxDate.getDate() + 30);\n  const maxDateStr = maxDate.toISOString().split('T')[0];\n\n  return (\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\n      <div className=\"bg-white rounded-lg max-w-md w-full max-h-[90vh] overflow-y-auto\">\n        <div className=\"flex items-center justify-between p-6 border-b border-gray-200\">\n          <h2 className=\"text-xl font-semibold text-gray-900\">\n            {appointment ? 'Modifier la visite' : 'Planifier une visite'}\n          </h2>\n          <button\n            onClick={onClose}\n            className=\"text-gray-400 hover:text-gray-600 transition-colors\"\n          >\n            <XMarkIcon className=\"w-6 h-6\" />\n          </button>\n        </div>\n\n        <form onSubmit={handleSubmit} className=\"p-6 space-y-6\">\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n              Logement\n            </label>\n            <p className=\"text-gray-900 font-medium\">{propertyTitle}</p>\n          </div>\n\n          <div>\n            <label htmlFor=\"date\" className=\"block text-sm font-medium text-gray-700 mb-2\">\n              Date de visite *\n            </label>\n            <div className=\"relative\">\n              <CalendarIcon className=\"w-5 h-5 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2\" />\n              <input\n                type=\"date\"\n                id=\"date\"\n                required\n                min={today}\n                max={maxDateStr}\n                value={selectedDate}\n                onChange={(e) => setSelectedDate(e.target.value)}\n                className=\"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500\"\n              />\n            </div>\n          </div>\n\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n              Heure de visite *\n            </label>\n            {checkingAvailability ? (\n              <div className=\"flex justify-center py-4\">\n                <div className=\"animate-spin rounded-full h-6 w-6 border-b-2 border-primary-600\"></div>\n              </div>\n            ) : (\n              <div className=\"grid grid-cols-2 gap-2\">\n                {timeSlots.map((time) => {\n                  const isTaken = selectedDate ? isTimeSlotTaken(selectedDate, time) : false;\n                  return (\n                    <button\n                      key={time}\n                      type=\"button\"\n                      onClick={() => !isTaken && setSelectedTime(time)}\n                      disabled={isTaken}\n                      className={`p-3 border rounded-lg text-sm font-medium transition-colors ${\n                        selectedTime === time\n                          ? 'border-primary-500 bg-primary-50 text-primary-700'\n                          : isTaken\n                          ? 'border-gray-200 bg-gray-100 text-gray-400 cursor-not-allowed'\n                          : 'border-gray-300 text-gray-700 hover:border-primary-400'\n                      }`}\n                      title={isTaken ? 'Créneau indisponible' : ''}\n                    >\n                      {time}\n                      {isTaken && (\n                        <div className=\"text-xs text-red-500 mt-1\">Indisponible</div>\n                      )}\n                    </button>\n                  );\n                })}\n              </div>\n            )}\n          </div>\n\n          <div>\n            <label htmlFor=\"message\" className=\"block text-sm font-medium text-gray-700 mb-2\">\n              Message au propriétaire (optionnel)\n            </label>\n            <textarea\n              id=\"message\"\n              rows={4}\n              value={message}\n              onChange={(e) => setMessage(e.target.value)}\n              placeholder=\"Bonjour, je souhaite visiter votre logement...\"\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500\"\n            />\n          </div>\n\n          <div className=\"flex space-x-3 pt-4\">\n            <button\n              type=\"button\"\n              onClick={onClose}\n              className=\"flex-1 btn-secondary\"\n            >\n              Annuler\n            </button>\n            <button\n              type=\"submit\"\n              disabled={loading || !selectedDate || !selectedTime || checkingAvailability}\n              className=\"flex-1 btn-primary disabled:opacity-50 disabled:cursor-not-allowed\"\n            >\n              {loading \n                ? (appointment ? 'Modification...' : 'Planification...') \n                : (appointment ? 'Modifier' : 'Confirmer')\n              }\n            </button>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nexport default ScheduleAppointmentModal;","import * as React from \"react\";\nfunction ChatBubbleLeftRightIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M20.25 8.511c.884.284 1.5 1.128 1.5 2.097v4.286c0 1.136-.847 2.1-1.98 2.193-.34.027-.68.052-1.02.072v3.091l-3-3c-1.354 0-2.694-.055-4.02-.163a2.115 2.115 0 0 1-.825-.242m9.345-8.334a2.126 2.126 0 0 0-.476-.095 48.64 48.64 0 0 0-8.048 0c-1.131.094-1.976 1.057-1.976 2.192v4.286c0 .837.46 1.58 1.155 1.951m9.345-8.334V6.637c0-1.621-1.152-3.026-2.76-3.235A48.455 48.455 0 0 0 11.25 3c-2.115 0-4.198.137-6.24.402-1.608.209-2.76 1.614-2.76 3.235v6.226c0 1.621 1.152 3.026 2.76 3.235.577.075 1.157.14 1.74.194V21l4.155-4.155\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(ChatBubbleLeftRightIcon);\nexport default ForwardRef;","import React from 'react';\nimport { XMarkIcon, IdentificationIcon } from '@heroicons/react/24/outline';\nimport { Link } from 'react-router-dom';\n\ninterface CINVerificationModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n  showBackButton?: boolean;\n  backButtonText?: string;\n  onBackClick?: () => void;\n}\n\nconst CINVerificationModal: React.FC<CINVerificationModalProps> = ({\n  isOpen,\n  onClose,\n  showBackButton = true,\n  backButtonText = 'Retour',\n  onBackClick\n}) => {\n  \n  const handleClose = () => {\n    onClose();\n  };\n\n  const handleBack = () => {\n    if (onBackClick) {\n      onBackClick();\n    }\n    onClose();\n  };\n\n  if (!isOpen) return null;\n\n  return (\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\n      <div className=\"bg-white rounded-lg shadow-xl max-w-md w-full p-6 relative\">\n        <button\n          onClick={handleClose}\n          className=\"absolute top-4 right-4 text-gray-500 hover:text-gray-700\"\n        >\n          <XMarkIcon className=\"h-6 w-6\" />\n        </button>\n        \n        <div className=\"text-center\">\n          <div className=\"mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-yellow-100 mb-4\">\n            <IdentificationIcon className=\"h-8 w-8 text-yellow-600\" />\n          </div>\n          \n          <h3 className=\"text-xl font-bold text-gray-900 mb-2\">\n            Vérification Requise\n          </h3>\n          \n          <p className=\"text-gray-600 mb-6\">\n            Vous devez vérifier votre CIN avant de pouvoir accéder à cette fonctionnalité.\n          </p>\n          \n          <div className=\"space-y-3\">\n            <Link\n              to=\"/cin-verification\"\n              onClick={onClose}\n              className=\"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500\"\n            >\n              Vérifier mon CIN\n            </Link>\n            \n            {showBackButton && (\n              <button\n                type=\"button\"\n                onClick={handleBack}\n                className=\"w-full flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500\"\n              >\n                {backButtonText}\n              </button>\n            )}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default CINVerificationModal;\n","import * as React from \"react\";\nfunction CheckCircleIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(CheckCircleIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction ArrowLeftIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(ArrowLeftIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction HomeIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(HomeIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction UsersIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M15 19.128a9.38 9.38 0 0 0 2.625.372 9.337 9.337 0 0 0 4.121-.952 4.125 4.125 0 0 0-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 0 1 8.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0 1 11.964-3.07M12 6.375a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0Zm8.25 2.25a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(UsersIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction HeartIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12Z\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(HeartIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction StarIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M11.48 3.499a.562.562 0 0 1 1.04 0l2.125 5.111a.563.563 0 0 0 .475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 0 0-.182.557l1.285 5.385a.562.562 0 0 1-.84.61l-4.725-2.885a.562.562 0 0 0-.586 0L6.982 20.54a.562.562 0 0 1-.84-.61l1.285-5.386a.562.562 0 0 0-.182-.557l-4.204-3.602a.562.562 0 0 1 .321-.988l5.518-.442a.563.563 0 0 0 .475-.345L11.48 3.5Z\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(StarIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction MapPinIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(MapPinIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction XMarkIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M6 18 18 6M6 6l12 12\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(XMarkIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction CalendarIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(CalendarIcon);\nexport default ForwardRef;","import React, { useState, useEffect } from 'react';\nimport { useParams, Link } from 'react-router-dom';\nimport { useProperty } from '../contexts/PropertyContext';\nimport { useMessage } from '../contexts/MessageContext';\nimport { useAuth } from '../contexts/AuthContext';\nimport { useCINVerification } from '../hooks/useCINVerification';\nimport CINVerificationModal from '../components/CINVerificationModal';\nimport { \n  MapPinIcon, \n  CurrencyDollarIcon, \n  UsersIcon,\n  HomeIcon,\n  StarIcon,\n  HeartIcon,\n  ShareIcon,\n  PhoneIcon,\n  ChatBubbleLeftRightIcon as ChatIcon,\n  CalendarIcon,\n  CheckCircleIcon,XMarkIcon,\n  ArrowLeftIcon\n} from '@heroicons/react/24/outline';\nimport toast from 'react-hot-toast';\nimport { Property } from '../types';\nimport ScheduleAppointmentModal from '../components/ScheduleAppointmentModal';\nimport { getImageUrl } from '../config';\n\nconst PropertyDetailPage: React.FC = () => {\n  const { id } = useParams<{ id: string }>();\n  const { properties, fetchPropertyById } = useProperty();\n  const { sendMessage } = useMessage();\n  const { user } = useAuth();\n  const { \n    showVerificationModal, \n    setShowVerificationModal, \n    checkVerification \n  } = useCINVerification();\n\n  const [property, setProperty] = useState<Property | null>(null);\n  const [loading, setLoading] = useState(true);\n  const [selectedImage, setSelectedImage] = useState(0);\n  const [isFavorite, setIsFavorite] = useState(false);\n  const [showContactForm, setShowContactForm] = useState(false);\n  const [message, setMessage] = useState('');\n  const [showMap, setShowMap] = useState(false);\n  const [showAppointmentModal, setShowAppointmentModal] = useState(false); // Nouvel état\n  const [showPhoneModal, setShowPhoneModal] = useState(false);\n  const isOwner = user && property && String(property.ownerId) === String(user.id);\n\n  const handleContactClick = (e: React.MouseEvent) => {\n    e.preventDefault();\n    if (!user) {\n      toast.error('Veuillez vous connecter pour contacter le propriétaire');\n      return;\n    }\n    \n    // Vérifier la vérification CIN avant d'afficher le formulaire de contact\n    if (!checkVerification(e)) {\n      return;\n    }\n    \n    setShowContactForm(true);\n  };\n\n  const otherApartments = React.useMemo(() => {\n    if (!property) return [];\n    return properties\n      .filter(p => p.id !== id && p.propertyType === 'apartment')\n      .slice(0, 5);\n  }, [properties, id, property]);\n\n  // Charger la propriété\n  useEffect(() => {\n    const loadProperty = async () => {\n      if (!id) return;\n\n      setLoading(true);\n      try {\n        // Essayer d'abord de trouver la propriété dans le contexte\n        const propertyFromContext = properties.find(p => p.id === id);\n        if (propertyFromContext) {\n          setProperty(propertyFromContext);\n        } else {\n          // Si pas trouvé dans le contexte, charger depuis l'API\n          const propertyData = await fetchPropertyById(id);\n          setProperty(propertyData);\n        }\n      } catch (error) {\n        console.error('Erreur lors du chargement de la propriété:', error);\n        toast.error('Erreur lors du chargement du logement');\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    loadProperty();\n  }, [id, properties, fetchPropertyById]);\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center\">\n        <div className=\"text-center\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto mb-4\"></div>\n          <p className=\"text-gray-600\">Chargement du logement...</p>\n        </div>\n      </div>\n    );\n  }\n\n  if (!property) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center\">\n        <div className=\"text-center\">\n          <HomeIcon className=\"w-16 h-16 text-gray-400 mx-auto mb-4\" />\n          <h2 className=\"text-2xl font-bold text-gray-900 mb-2\">Logement non trouvé</h2>\n          <p className=\"text-gray-600 mb-4\">Le logement que vous recherchez n'existe pas.</p>\n          <Link to=\"/properties\" className=\"btn-primary\">\n            Voir tous les logements\n          </Link>\n        </div>\n      </div>\n    );\n  }\n\n  const handleSendMessage = async () => {\n    if (!message.trim()) {\n      toast.error('Veuillez saisir un message');\n      return;\n    }\n\n    try {\n      await sendMessage(property.ownerId, message);\n      setMessage('');\n      setShowContactForm(false);\n    } catch (error) {\n      toast.error('Erreur lors de l\\'envoi du message');\n    }\n  };\n\n  const handleFavorite = () => {\n    setIsFavorite(!isFavorite);\n    toast.success(isFavorite ? 'Retiré des favoris' : 'Ajouté aux favoris');\n  };\n\n  const handleShare = () => {\n    if (navigator.share) {\n      navigator.share({\n        title: property.title,\n        text: property.description,\n        url: window.location.href,\n      });\n    } else {\n      navigator.clipboard.writeText(window.location.href);\n      toast.success('Lien copié dans le presse-papiers');\n    }\n  };\n\n\n  const content = (\n    <div className=\"min-h-screen bg-gray-50\">\n      {/* Header */}\n      <div className=\"bg-white border-b border-gray-200\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4\">\n          <div className=\"flex items-center justify-between\">\n            <Link\n              to=\"/properties\"\n              className=\"flex items-center text-gray-600 hover:text-gray-900 transition-colors\"\n            >\n              <ArrowLeftIcon className=\"w-5 h-5 mr-2\" />\n              Retour aux logements\n            </Link>\n            <div className=\"flex items-center space-x-2\">\n              <button\n                onClick={handleFavorite}\n                className={`p-2 rounded-lg transition-colors ${\n                  isFavorite \n                    ? 'text-red-500 bg-red-50' \n                    : 'text-gray-400 hover:text-red-500 hover:bg-red-50'\n                }`}\n              >\n                <HeartIcon className=\"w-5 h-5\" />\n              </button>\n              <button\n                onClick={handleShare}\n                className=\"p-2 rounded-lg text-gray-400 hover:text-gray-600 hover:bg-gray-100 transition-colors\"\n              >\n                <ShareIcon className=\"w-5 h-5\" />\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n        <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-8\">\n          {/* Main Content */}\n          <div className=\"lg:col-span-2 space-y-8\">\n            {/* Images */}\n            <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden\">\n              <div className=\"aspect-w-16 aspect-h-9\">\n                <img\n                  src={getImageUrl(property.images?.[selectedImage])}\n                  alt={property.title}\n                  className=\"w-full h-96 object-cover\"\n                  onError={(e) => {\n                    e.currentTarget.src = '/api/placeholder/800/600';\n                  }}\n                />\n              </div>\n              {property.images && property.images.length > 1 && (\n                <div className=\"p-4\">\n                  <div className=\"flex space-x-2 overflow-x-auto\">\n                    {property.images.map((image, index) => (\n                      <button\n                        key={index}\n                        onClick={() => setSelectedImage(index)}\n                        className={`flex-shrink-0 w-20 h-20 rounded-lg overflow-hidden border-2 ${\n                          selectedImage === index \n                            ? 'border-primary-500' \n                            : 'border-gray-200 hover:border-gray-300'\n                        }`}\n                      >\n                        <img\n                          src={getImageUrl(image)}\n                          alt={`${property.title} ${index + 1}`}\n                          className=\"w-full h-full object-cover\"\n                          onError={(e) => {\n                            e.currentTarget.src = '/api/placeholder/80/80';\n                          }}\n                        />\n                      </button>\n                    ))}\n                  </div>\n                </div>\n              )}\n            </div>\n\n            {/* Property Details */}\n            <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\n              <div className=\"flex items-start justify-between mb-4\">\n                <div>\n                  <h1 className=\"text-2xl font-bold text-gray-900 mb-2\">\n                    {property.title}\n                  </h1>\n                  <div className=\"flex items-center text-gray-600 mb-2\">\n                    <MapPinIcon className=\"w-5 h-5 mr-2\" />\n                    <span>{property.address}</span>\n                  </div>\n                  {property.latitude && property.longitude && (\n                    <div className=\"text-xs text-gray-500 mb-2\">\n                      <span>Lat: {property.latitude.toFixed(6)} • Lng: {property.longitude.toFixed(6)}</span>\n                    </div>\n                  )}\n                  <div className=\"flex items-center space-x-4\">\n                    <span className=\"badge badge-primary\">\n                      {property.propertyType === 'apartment' ? 'Appartement' : \n                       property.propertyType === 'house' ? 'Maison' : 'Studio'}\n                    </span>\n                    <span className={`badge ${property.isAvailable ? 'badge-success' : 'badge-warning'}`}>\n                      {property.isAvailable ? 'Disponible' : 'Occupé'}\n                    </span>\n                    {property.latitude && property.longitude && (\n                      <span className=\"badge badge-success\" title=\"Coordonnées disponibles\">\n                        Coordonnées vérifiées\n                      </span>\n                    )}\n                  </div>\n                </div>\n                <div className=\"text-right\">\n                  <div className=\"text-3xl font-bold text-primary-600\">\n                    {property.price?.toLocaleString()} Ar\n                  </div>\n                  <div className=\"text-gray-500\">par mois</div>\n                </div>\n              </div>\n\n              <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6\">\n                <div className=\"text-center p-4 bg-gray-50 rounded-lg\">\n                  <UsersIcon className=\"w-6 h-6 text-primary-600 mx-auto mb-2\" />\n                  <div className=\"text-sm text-gray-600\">Chambres</div>\n                  <div className=\"font-semibold\">{property.availableRooms}/{property.totalRooms}</div>\n                </div>\n                <div className=\"text-center p-4 bg-gray-50 rounded-lg\">\n                  <CurrencyDollarIcon className=\"w-6 h-6 text-primary-600 mx-auto mb-2\" />\n                  <div className=\"text-sm text-gray-600\">Caution</div>\n                  <div className=\"font-semibold\">{property.deposit?.toLocaleString()} Ar</div>\n                </div>\n                <div className=\"text-center p-4 bg-gray-50 rounded-lg\">\n                  <HomeIcon className=\"w-6 h-6 text-primary-600 mx-auto mb-2\" />\n                  <div className=\"text-sm text-gray-600\">Type</div>\n                  <div className=\"font-semibold\">\n                    {property.propertyType === 'apartment' ? 'Appartement' : \n                     property.propertyType === 'house' ? 'Maison' : 'Studio'}\n                  </div>\n                </div>\n                <div\n                  className=\"text-center p-4 bg-gray-50 rounded-lg cursor-pointer hover:bg-gray-100 transition\"\n                  onClick={() => setShowMap(!showMap)}\n                  title=\"Voir sur la carte\"\n                >\n                  <MapPinIcon className=\"w-6 h-6 text-primary-600 mx-auto mb-2\" />\n                  <div className=\"text-sm text-gray-600\">Quartier</div>\n                  <div className=\"font-semibold\">{property.district}</div>\n                  <div className=\"text-xs text-primary-600 mt-1 underline\">Voir sur la carte</div>\n                </div>\n              </div>\n\n              <div>\n                <h3 className=\"text-lg font-semibold text-gray-900 mb-3\">Description</h3>\n                <p className=\"text-gray-600 leading-relaxed\">\n                  {property.description}\n                </p>\n              </div>\n            </div>\n\n            {/* Amenities */}\n            <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\n              <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Équipements</h3>\n              <div className=\"grid grid-cols-2 md:grid-cols-3 gap-3\">\n                {property.amenities?.map((amenity, index) => (\n                  <div key={index} className=\"flex items-center\">\n                    <CheckCircleIcon className=\"w-5 h-5 text-green-500 mr-2\" />\n                    <span className=\"text-gray-700\">{amenity}</span>\n                  </div>\n                ))}\n                {(!property.amenities || property.amenities.length === 0) && (\n                  <p className=\"text-gray-500 col-span-3\">Aucun équipement listé</p>\n                )}\n              </div>\n            </div>\n\n            {showMap && (\n              <div className=\"my-6\">\n                <h4 className=\"text-md font-semibold mb-2\">Emplacement sur la carte</h4>\n                <div className=\"rounded-lg overflow-hidden border border-gray-200\">\n                  <div className=\"relative w-full h-[300px]\">\n                    <iframe\n                      width=\"100%\"\n                      height=\"300\"\n                      className=\"absolute inset-0 w-full h-full\"\n                      style={{ border: 0 }}\n                      loading=\"lazy\"\n                      allowFullScreen\n                      title={`Carte montrant la localisation de ${property.title || 'la propriété'} à ${property.address}`}\n                      src={\n                        property.latitude && property.longitude\n                          ? `https://www.google.com/maps?q=${property.latitude},${property.longitude}&z=16&output=embed`\n                          : `https://www.google.com/maps?q=${encodeURIComponent(property.address)}&output=embed`\n                      }\n                    />\n\n                    {property.latitude && property.longitude && (\n                      <div className=\"pointer-events-none absolute inset-0 flex items-center justify-center\">\n                        <div className=\"flex flex-col items-center\">\n                          <div className=\"w-9 h-9 rounded-full bg-blue-600 flex items-center justify-center shadow-lg border-2 border-white\">\n                            <HomeIcon className=\"w-4 h-4 text-white\" />\n                          </div>\n                          <div className=\"w-2 h-2 bg-blue-600 rounded-full mt-1 opacity-80\" />\n                        </div>\n                      </div>\n                    )}\n                  </div>\n\n                  {property.latitude && property.longitude && (\n                    <div className=\"px-4 py-2 bg-gray-50 border-t border-gray-200 text-xs text-gray-600 flex justify-between\">\n                      <span>Latitude : {property.latitude.toFixed(6)}</span>\n                      <span>Longitude : {property.longitude.toFixed(6)}</span>\n                    </div>\n                  )}\n                </div>\n              </div>\n            )}\n          </div>\n\n          {/* Sidebar */}\n          <div className=\"space-y-6\">\n            {/* Other Apartments */}\n            <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\n              <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Autres appartements</h3>\n              {otherApartments.length === 0 ? (\n                <p className=\"text-gray-500 text-sm\">Aucun autre appartement disponible.</p>\n              ) : (\n                <div className=\"space-y-3\">\n                  {otherApartments.map(ap => (\n                    <Link\n                      key={ap.id}\n                      to={`/properties/${ap.id}`}\n                      className=\"flex items-center p-3 border border-gray-200 rounded-lg hover:border-primary-300 hover:bg-primary-50 transition-colors\"\n                    >\n                      <div className=\"w-14 h-14 rounded-md overflow-hidden bg-gray-100 mr-3 flex-shrink-0\">\n                        <img\n                          src={getImageUrl(ap.images?.[0])}\n                          alt={ap.title}\n                          className=\"w-full h-full object-cover\"\n                          onError={(e) => { e.currentTarget.src = '/api/placeholder/80/80'; }}\n                        />\n                      </div>\n                      <div className=\"min-w-0\">\n                        <p className=\"font-medium text-gray-900 truncate\">{ap.title}</p>\n                        <p className=\"text-sm text-gray-600 truncate\">{ap.address}</p>\n                        <p className=\"text-sm text-primary-600 font-semibold\">{ap.price.toLocaleString()} Ar</p>\n                      </div>\n                    </Link>\n                  ))}\n                </div>\n              )}\n            </div>\n\n            {/* Owner Info */}\n            <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\n              <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Propriétaire</h3>\n              <div className=\"flex items-center mb-4\">\n                <div className=\"w-12 h-12 bg-primary-100 rounded-full flex items-center justify-center mr-3\">\n                  <span className=\"text-primary-600 font-medium text-lg\">\n                    {property.owner?.firstName?.[0] || 'U'}\n                  </span>\n                </div>\n                <div>\n                  <h4 className=\"font-semibold text-gray-900\">\n                    {property.owner?.firstName} {property.owner?.lastName}\n                  </h4>\n                  <div className=\"flex items-center\">\n                    {[...Array(5)].map((_, i) => (\n                      <StarIcon key={i} className=\"w-4 h-4 text-yellow-400 fill-current\" />\n                    ))}\n                    <span className=\"text-sm text-gray-500 ml-1\">(4.8)</span>\n                  </div>\n                </div>\n              </div>\n              \n              {/* Afficher si le propriétaire est vérifié */}\n              {property.owner?.is_verified && (\n                <div className=\"flex items-center text-green-600 mb-4\">\n                  <CheckCircleIcon className=\"w-4 h-4 mr-1\" />\n                  <span className=\"text-sm\">Propriétaire vérifié</span>\n                </div>\n              )}\n\n              \n              {/* Afficher les boutons de contact seulement si ce n'est PAS le propriétaire */}\n              {!isOwner && (\n                <div className=\"space-y-3\">\n                  <button\n                    onClick={handleContactClick}\n                    className=\"w-full btn-primary flex items-center justify-center space-x-2\"\n                  >\n                    <ChatIcon className=\"w-4 h-4\" />\n                    <span>Contacter</span>\n                  </button>\n                  \n                  <button \n                    onClick={() => setShowPhoneModal(true)}\n                    className=\"w-full btn-secondary flex items-center justify-center space-x-2\"\n                  >\n                    <PhoneIcon className=\"w-4 h-4\" />\n                    <span>Appeler</span>\n                  </button>\n                  \n                  <button \n                    onClick={(e) => {\n                      e.preventDefault();\n                      if (checkVerification(e)) {\n                        setShowAppointmentModal(true);\n                      }\n                    }}\n                    className=\"w-full btn-secondary flex items-center justify-center space-x-2\"\n                  >\n                    <CalendarIcon className=\"w-4 h-4\" />\n                    <span>Planifier une visite</span>\n                  </button>\n                </div>\n              )}\n\n              {/* Afficher si c'est le propriétaire */}\n              {isOwner && (\n                <div className=\"text-center p-4 bg-gray-50 rounded-lg border border-green-200\">\n                  <div className=\"flex items-center justify-center mb-2\">\n                    <CheckCircleIcon className=\"w-5 h-5 text-green-600 mr-2\" />\n                    <p className=\"text-green-800 font-semibold\">C'est votre propriété</p>\n                  </div>\n                  <p className=\"text-gray-600 mb-4 text-sm\">Vous pouvez modifier les informations de cette propriété</p>\n                  <Link\n                    to={`/edit-property/${property.id}`}\n                    className=\"btn-primary w-full\"\n                  >\n                    Modifier la propriété\n                  </Link>\n                </div>\n              )}\n            </div>\n\n            {/* Modal pour afficher le numéro de téléphone */}\n            {showPhoneModal && (\n              <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\n                <div className=\"bg-white rounded-lg max-w-sm w-full p-6\">\n                  <div className=\"flex justify-between items-center mb-4\">\n                    <h3 className=\"text-lg font-semibold text-gray-900\">\n                      Numéro de téléphone\n                    </h3>\n                    <button\n                      onClick={() => setShowPhoneModal(false)}\n                      className=\"text-gray-400 hover:text-gray-600\"\n                    >\n                      <XMarkIcon className=\"w-5 h-5\" />\n                    </button>\n                  </div>\n                  \n                  <div className=\"text-center\">\n                    <PhoneIcon className=\"w-12 h-12 text-primary-600 mx-auto mb-4\" />\n                    <p className=\"text-gray-600 mb-2\">Numéro du propriétaire :</p>\n                    <p className=\"text-2xl font-bold text-primary-600 mb-6\">\n                      {property.owner?.phone || 'Non disponible'}\n                    </p>\n                    <button\n                      onClick={() => setShowPhoneModal(false)}\n                      className=\"btn-primary w-full\"\n                    >\n                      Fermer\n                    </button>\n                  </div>\n                </div>\n              </div>\n            )}\n\n            {/* Contact Form */}\n            {showContactForm && (\n              <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\n                <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Envoyer un message</h3>\n                <div className=\"space-y-4\">\n                  <textarea\n                    value={message}\n                    onChange={(e) => setMessage(e.target.value)}\n                    placeholder=\"Bonjour, je suis intéressé(e) par votre logement...\"\n                    rows={4}\n                    className=\"w-full input-field\"\n                  />\n                  <div className=\"flex space-x-2\">\n                    <button\n                      onClick={handleSendMessage}\n                      className=\"flex-1 btn-primary\"\n                    >\n                      Envoyer\n                    </button>\n                    <button\n                      onClick={() => setShowContactForm(false)}\n                      className=\"flex-1 btn-secondary\"\n                    >\n                      Annuler\n                    </button>\n                  </div>\n                </div>\n              </div>\n            )}\n\n            {/* Safety Tips */}\n            <div className=\"bg-blue-50 rounded-lg p-6\">\n              <h3 className=\"text-lg font-semibold text-blue-900 mb-3\">Conseils de sécurité</h3>\n              <ul className=\"space-y-2 text-sm text-blue-800\">\n                <li>• Visitez toujours le logement avant de signer</li>\n                <li>• Vérifiez l'identité du propriétaire</li>\n                <li>• Ne payez jamais d'avance sans contrat</li>\n                <li>• Utilisez notre messagerie sécurisée</li>\n              </ul>\n            </div>\n          </div>\n        </div>\n      </div>\n      {property && (\n        <ScheduleAppointmentModal\n          isOpen={showAppointmentModal}\n          onClose={() => setShowAppointmentModal(false)}\n          propertyId={property.id}\n          ownerId={property.ownerId}\n          propertyTitle={property.title}\n        />\n      )}\n      {/* Modal de vérification CIN */}\n      <CINVerificationModal \n        isOpen={showVerificationModal} \n        onClose={() => setShowVerificationModal(false)}\n        backButtonText=\"Retour au logement\"\n      />\n    </div>\n  );\n\n  return content;\n};\n\nexport default PropertyDetailPage;","import * as React from \"react\";\nfunction PhoneIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 0 0 2.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 0 1-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 0 0-1.091-.852H4.5A2.25 2.25 0 0 0 2.25 4.5v2.25Z\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(PhoneIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction ShareIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M7.217 10.907a2.25 2.25 0 1 0 0 2.186m0-2.186c.18.324.283.696.283 1.093s-.103.77-.283 1.093m0-2.186 9.566-5.314m-9.566 7.5 9.566 5.314m0 0a2.25 2.25 0 1 0 3.935 2.186 2.25 2.25 0 0 0-3.935-2.186Zm0-12.814a2.25 2.25 0 1 0 3.933-2.185 2.25 2.25 0 0 0-3.933 2.185Z\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(ShareIcon);\nexport default ForwardRef;"],"names":["useCINVerification","user","useAuth","navigate","useNavigate","showVerificationModal","setShowVerificationModal","useState","isVerified","cinVerified","cin_verified","isPending","cinPending","cin_verification_requested_at","requiresVerification","userType","checkVerification","useCallback","e","preventDefault","state","from","window","location","pathname","onClickHandler","path","IdentificationIcon","_ref","svgRef","title","titleId","props","_objectWithoutProperties","_excluded","React","Object","assign","xmlns","fill","viewBox","strokeWidth","stroke","ref","id","strokeLinecap","strokeLinejoin","d","CurrencyDollarIcon","isOpen","onClose","propertyId","ownerId","propertyTitle","appointment","onUpdate","selectedDate","setSelectedDate","selectedTime","setSelectedTime","message","setMessage","loading","setLoading","existingAppointments","setExistingAppointments","checkingAvailability","setCheckingAvailability","useEffect","async","data","apiGet","success","error","console","loadExistingAppointments","appointmentDate","Date","toISOString","split","toTimeString","slice","isTimeSlotTaken","date","time","selectedDateTime","concat","now","some","apt","aptDateTime","getTime","status","Math","abs","today","maxDate","setDate","getDate","maxDateStr","_jsx","className","children","_jsxs","onClick","XMarkIcon","onSubmit","toast","appointmentDateTime","apiJson","htmlFor","CalendarIcon","type","required","min","max","value","onChange","target","map","isTaken","disabled","rows","placeholder","ChatBubbleLeftRightIcon","showBackButton","backButtonText","onBackClick","handleClose","Link","to","handleBack","CheckCircleIcon","ArrowLeftIcon","HomeIcon","UsersIcon","HeartIcon","StarIcon","MapPinIcon","PropertyDetailPage","_property$images","_property$price","_property$deposit","_property$amenities","_property$owner","_property$owner$first","_property$owner2","_property$owner3","_property$owner4","_property$owner5","useParams","properties","fetchPropertyById","useProperty","sendMessage","useMessage","property","setProperty","selectedImage","setSelectedImage","isFavorite","setIsFavorite","showContactForm","setShowContactForm","showMap","setShowMap","showAppointmentModal","setShowAppointmentModal","showPhoneModal","setShowPhoneModal","isOwner","String","otherApartments","filter","p","propertyType","propertyFromContext","find","propertyData","loadProperty","handleFavorite","handleShare","navigator","share","text","description","url","href","clipboard","writeText","ShareIcon","src","getImageUrl","images","alt","onError","currentTarget","length","image","index","address","latitude","longitude","toFixed","isAvailable","price","toLocaleString","availableRooms","totalRooms","deposit","district","amenities","amenity","width","height","style","border","allowFullScreen","encodeURIComponent","ap","_ap$images","owner","firstName","lastName","Array","_","i","is_verified","ChatIcon","PhoneIcon","phone","trim","ScheduleAppointmentModal","CINVerificationModal"],"sourceRoot":""}