{"version":3,"file":"static/js/58.a9655207.chunk.js","mappings":"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","sources":["pages/DashboardPage.tsx"],"sourcesContent":["import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { useAuth } from '../contexts/AuthContext';\nimport { useProperty } from '../contexts/PropertyContext';\nimport { useAnnouncement } from '../contexts/AnnouncementContext';\nimport { TrashIcon } from '@heroicons/react/24/solid';\nimport { apiGet, getImageUrl } from '../config';\nimport { useMessage } from '../contexts/MessageContext';\nimport {\n  HomeIcon,\n  PlusIcon,\n  EyeIcon,\n  PencilIcon,\n  ChatBubbleLeftRightIcon as ChatIcon,\n  UsersIcon,\n  CurrencyDollarIcon,\n  ArrowTrendingUpIcon as TrendingUpIcon,\n  BellIcon,\n  CheckCircleIcon,\n  ClockIcon,\n  XCircleIcon,\n  MapPinIcon,\n  PhotoIcon,\n  IdentificationIcon,\n  ExclamationTriangleIcon,\n  CalendarIcon\n} from '@heroicons/react/24/outline';\n\nconst DashboardPage: React.FC = () => {\n  const { user } = useAuth();\n  const { properties, userProperties, deleteProperty,  } = useProperty(); // Maintenant deleteProperty est disponible\n  const { userAnnouncements, deleteAnnouncement, updateAnnouncement, fetchUserAnnouncements } = useAnnouncement();\n  const { conversations } = useMessage();\n  const [deleteLoading, setDeleteLoading] = React.useState<string | null>(null);\n  const [editingAnnId, setEditingAnnId] = React.useState<number | null>(null);\n  const [editAnnContent, setEditAnnContent] = React.useState<string>('');\n  const [showFullMap, setShowFullMap] = React.useState<Record<number, boolean>>({});\n  const [stats, setStats] = React.useState<Array<{\n    name: string;\n    value: string;\n    change?: string;\n    changeType?: 'positive' | 'negative' | 'neutral';\n    icon: React.ReactNode;\n  }>>([]);\n  const [loadingAnnouncements, setLoadingAnnouncements] = React.useState(false); // Nouvel état\n\n  React.useEffect(() => {\n    const loadUserAnnouncements = async () => {\n      if (user?.userType === 'student') {\n        setLoadingAnnouncements(true);\n        try {\n          await fetchUserAnnouncements();\n        } catch (error) {\n          console.error('Erreur chargement annonces:', error);\n        } finally {\n          setLoadingAnnouncements(false);\n        }\n      }\n    };\n\n    loadUserAnnouncements();\n  }, [user, fetchUserAnnouncements]); // Dépendances\n\n\n  React.useEffect(() => {\n    if (!user) return; // attendre que l'utilisateur soit présent\n    const loadStats = async () => {\n      try {\n        const statsPath = user.userType === 'admin' ? '/api/properties/stats' : '/api/properties/stats_public';\n        const data = await apiGet(statsPath);\n        if (!data.success) return;\n        const s = data.data || {};\n        if (user.userType === 'owner') {\n          const totalOwnerProps = userProperties.length || (s.totalProperties || 0);\n          const availableOwnerProps = userProperties.length\n            ? userProperties.filter(p => p.isAvailable).length\n            : (s.availableProperties ?? s.totalProperties ?? 0);\n\n          setStats([\n            {\n              name: 'Logements publiés',\n              value: String(totalOwnerProps),\n              change: availableOwnerProps > 0\n                ? `${availableOwnerProps} disponibles`\n                : 'Aucun disponible',\n              changeType: totalOwnerProps > 0 ? 'positive' : 'neutral',\n              icon: <HomeIcon className=\"w-6 h-6\" />\n            },\n            {\n              name: 'Messages reçus',\n              value: String(s.messagesReceived || 0),\n              changeType: 'neutral',\n              icon: <ChatIcon className=\"w-6 h-6\" />\n            },\n          ]);\n        } else {\n          setStats([\n            {\n              name: 'Messages reçus',\n              value: String(s.messagesReceived || 0),\n              changeType: 'neutral',\n              icon: <ChatIcon className=\"w-6 h-6\" />\n            },\n            {\n              name: 'Logements disponibles',\n              value: String((s.availableProperties ?? s.totalProperties ?? 0) || 0),\n              changeType: 'positive',\n              icon: <HomeIcon className=\"w-6 h-6\" />\n            },\n          ]);\n        }\n      } catch (e) {\n        console.error('Erreur chargement stats:', e);\n      }\n    };\n    loadStats();\n  }, [user, setStats, userProperties]);\n\n  // Pagination pour les logements du propriétaire\n  const [currentPage, setCurrentPage] = React.useState(1);\n  const pageSize = 4;\n  const totalPages = Math.max(1, Math.ceil(userProperties.length / pageSize));\n  const paginatedUserProperties = React.useMemo(() => {\n    const start = (currentPage - 1) * pageSize;\n    return userProperties.slice(start, start + pageSize);\n  }, [userProperties, currentPage]);\n\n  // Always declare hooks before any conditional returns\n  const recentStudentProperties = React.useMemo(() => {\n    const sorted = [...(properties || [])].sort((a, b) => new Date(b.createdAt as any).getTime() - new Date(a.createdAt as any).getTime());\n    return sorted.slice(0, 3);\n  }, [properties]);\n\n  const recentActivities = React.useMemo(() => {\n    return (conversations || []).slice(0, 5).map((c) => {\n      const sender = c.lastMessage?.sender?.firstName ? `${c.lastMessage?.sender?.firstName} ${c.lastMessage?.sender?.lastName || ''}`.trim() : 'Utilisateur';\n      const title = c.lastMessage ? `Nouveau message de ${sender}` : 'Conversation mise à jour';\n      const description = c.lastMessage?.content || '';\n      const time = (c.lastMessage?.createdAt || c.updatedAt).toLocaleString('fr-FR');\n      return {\n        id: c.id,\n        title,\n        description,\n        time,\n        icon: <ChatIcon className=\"w-5 h-5\" />\n      } as any;\n    });\n  }, [conversations]);\n\n\n   // Vérification CIN - Permettre l'accès pendant 24h\n  const isWithinGracePeriod = user?.accountActivationDeadline \n    ? new Date() < new Date(user.accountActivationDeadline)\n    : false;\n\n  // Bloquer seulement si le délai de 24h est dépassé ET que la CIN n'est pas vérifiée\n  if (user?.userType === 'owner' && !user?.cinVerified && !isWithinGracePeriod && !user?.cinPending) {\n    return (\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8\">\n        <div className=\"max-w-md w-full text-center\">\n          <ExclamationTriangleIcon className=\"w-16 h-16 text-yellow-500 mx-auto mb-4\" />\n          <h2 className=\"text-2xl font-bold text-gray-900 mb-2\">\n            Vérification Requise\n          </h2>\n          <p className=\"text-gray-600 mb-4\">\n            Pour publier des annonces, vous devez d'abord vérifier votre carte d'identité nationale.\n            Cette mesure permet d'assurer la sécurité et la confiance sur notre plateforme.\n          </p>\n          <div className=\"space-y-3\">                       \n            <Link\n              to=\"/cin-verification\"\n              className=\"w-full btn-primary flex items-center justify-center space-x-2\"\n            >\n              <IdentificationIcon className=\"w-5 h-5\" />\n              <span>Vérifier mon CIN</span>\n            </Link>\n            <Link\n              to=\"/logements\"\n              className=\"w-full btn-secondary\"\n            >\n              Parcourir les logements\n            </Link>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  if (!user) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center\">\n        <div className=\"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-600\"></div>\n      </div>\n    );\n  }\n  \n  \n\n  const handleDeleteProperty = async (propertyId: string) => {\n    if (!window.confirm('Êtes-vous sûr de vouloir supprimer ce logement ? Cette action est irréversible.')) {\n      return;\n    }\n\n    setDeleteLoading(propertyId);\n    try {\n      await deleteProperty(propertyId);\n    } catch (error) {\n      console.error('Erreur lors de la suppression:', error);\n      alert('Erreur lors de la suppression du logement');\n    } finally {\n      setDeleteLoading(null);\n    }\n  };\n\n  const handleSaveAnnouncement = async () => {\n    if (!editingAnnId) return;\n    try {\n      await updateAnnouncement(editingAnnId, { content: editAnnContent });\n      setEditingAnnId(null);\n      setEditAnnContent('');\n    } catch (e) {\n      // handled by context toast\n    }\n  };\n\n  const handleDeleteAnnouncement = async (id: number) => {\n    if (!window.confirm('Supprimer cette annonce ?')) return;\n    try {\n      await deleteAnnouncement(id);\n    } catch (e) {}\n  };\n\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-b from-slate-50 to-slate-100 py-8\">\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n        {/* Header */}\n        <div className=\"mb-8\">\n          <h1 className=\"text-3xl font-bold text-gray-900\">\n            Bonjour, {user.firstName} !\n          </h1>\n          <p className=\"text-gray-600 mt-2\">\n            Voici un aperçu de votre activité sur ColocAntananarivo\n          </p>\n        </div>\n\n        {/* Stats Grid */}\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8\">\n          {stats.map((stat, index) => (\n            <div key={index} className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6 transition-transform hover:scale-[1.01]\">\n              <div className=\"flex items-center justify-between\">\n                <div>\n                  <p className=\"text-sm font-medium text-gray-600\">{stat.name}</p>\n                  <p className=\"text-2xl font-bold text-gray-900\">{stat.value}</p>\n                  <p className={`text-sm ${\n                    stat.changeType === 'positive' ? 'text-green-600' : \n                    stat.changeType === 'negative' ? 'text-red-600' : 'text-gray-600'\n                  }`}>\n                    {stat.change}\n                  </p>\n                </div>\n                <div className=\"p-3 bg-primary-100 rounded-lg\">\n                  <div className=\"text-primary-600\">\n                    {stat.icon}\n                  </div>\n                </div>\n              </div>\n            </div>\n          ))}\n        </div>\n\n        <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-8\">\n          {/* Main Content */}\n          <div className=\"lg:col-span-2 space-y-8\">\n\n            {/* Student Announcements CRUD */}\n            {user.userType === 'student' && (\n              <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\n                <div className=\"flex items-center justify-between mb-4\">\n                  <h2 className=\"text-lg font-semibold text-gray-900\">Mes annonces</h2>\n                  <Link to=\"/create-announcement\" className=\"btn-primary text-sm flex items-center space-x-2\">\n                    <PlusIcon className=\"w-4 h-4\" />\n                    <span>Nouvelle annonce</span>\n                  </Link>\n                </div>\n                \n                {loadingAnnouncements ? (\n                  <div className=\"flex justify-center py-8\">\n                    <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600\"></div>\n                  </div>\n                ) : userAnnouncements.length === 0 ? (\n                  <div className=\"text-center py-8 text-gray-600\">\n                    Vous n'avez pas encore publié d'annonce.\n                  </div>\n                ) : (\n                  <div className=\"space-y-4\">\n                    {userAnnouncements.map((a) => (\n                      <div key={a.id} className=\"border border-gray-200 rounded-lg p-4\">\n                        {editingAnnId === a.id ? (\n                          <div className=\"space-y-3\">\n                            <textarea\n                              className=\"w-full border border-gray-300 rounded-md p-2 focus:outline-none focus:ring-2 focus:ring-primary-300\"\n                              rows={3}\n                              value={editAnnContent}\n                              onChange={(e) => setEditAnnContent(e.target.value)}\n                            />\n                            <div className=\"flex items-center gap-2\">\n                              <button onClick={handleSaveAnnouncement} className=\"btn-primary text-sm\">Enregistrer</button>\n                              <button onClick={() => setEditingAnnId(null)} className=\"btn-secondary text-sm\">Annuler</button>\n                            </div>\n                          </div>\n                        ) : (\n                          <div className=\"flex items-start justify-between gap-4\">\n                            <div className=\"flex-1\">\n                              <div className=\"bg-gradient-to-br from-gray-50 to-blue-50 rounded-2xl p-4\">\n                                {(() => {\n                                  const isLong = (a.content || '').length > 220;\n                                  const showFull = !!showFullMap[a.id];\n                                  const displayedText = showFull ? a.content : (isLong ? `${(a.content || '').slice(0, 220)}...` : a.content);\n                                  return (\n                                    <>\n                                      <p className=\"text-gray-800 leading-relaxed text-base whitespace-pre-wrap break-all md:break-words max-w-full overflow-hidden\">{displayedText}</p>\n                                      {isLong && (\n                                        <button\n                                          onClick={() => setShowFullMap(prev => ({ ...prev, [a.id]: !prev[a.id] }))}\n                                          className=\"mt-3 text-primary-600 hover:text-primary-800 font-medium transition-colors text-sm\"\n                                        >\n                                          {showFull ? 'Afficher moins ▲' : 'Afficher plus ▼'}\n                                        </button>\n                                      )}\n                                    </>\n                                  );\n                                })()}\n                              </div>\n                              <p className=\"text-xs text-gray-500 mt-1\">\n                                {new Date(a.createdAt).toLocaleString('fr-FR')}\n                              </p>\n                            </div>\n                            <div className=\"flex items-center gap-2\">\n                              <Link \n                                to={`/edit-announcement/${a.id}`}\n                                className=\"btn-primary text-sm flex items-center space-x-1\"\n                              >\n                                <PencilIcon className=\"w-4 h-4\" />\n                                <span>Modifier</span>\n                              </Link>\n                              <button \n                                onClick={() => handleDeleteAnnouncement(a.id)} \n                                className=\"btn-danger text-sm flex items-center gap-1\"\n                              >\n                                <TrashIcon className=\"w-4 h-4\" />\n                                Supprimer\n                              </button>\n                            </div>\n                          </div>\n                        )}\n                      </div>\n                    ))}\n\n                    {userProperties.length > pageSize && (\n                      <div className=\"flex items-center justify-between pt-2 border-t border-gray-200\">\n                        <button\n                          type=\"button\"\n                          className=\"text-sm text-gray-600 hover:text-primary-600 disabled:opacity-50\"\n                          disabled={currentPage === 1}\n                          onClick={() => setCurrentPage(p => Math.max(1, p - 1))}\n                        >\n                          Précédent\n                        </button>\n                        <div className=\"text-sm text-gray-600\">\n                          Page {currentPage} / {totalPages}\n                        </div>\n                        <button\n                          type=\"button\"\n                          className=\"text-sm text-gray-600 hover:text-primary-600 disabled:opacity-50\"\n                          disabled={currentPage === totalPages}\n                          onClick={() => setCurrentPage(p => Math.min(totalPages, p + 1))}\n                        >\n                          Suivant\n                        </button>\n                      </div>\n                    )}\n                  </div>\n                )}\n              </div>\n            )}\n            {/* Quick Actions */}\n            <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\n              <h2 className=\"text-lg font-semibold text-gray-900 mb-4\">Actions rapides</h2>\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n              {user.userType === 'owner' ? (\n                <>\n                  <Link\n                    to=\"/create-property\"\n                    className=\"flex items-center p-4 border border-gray-200 rounded-lg hover:border-primary-300 hover:bg-primary-50 transition-colors\"\n                  >\n                    <PlusIcon className=\"w-8 h-8 text-primary-600 mr-4\" />\n                    <div>\n                      <h3 className=\"font-medium text-gray-900\">Publier un logement</h3>\n                      <p className=\"text-sm text-gray-600\">Ajouter un nouveau logement </p>\n                    </div>\n                  </Link>\n                  <Link\n                    to=\"/messages\"\n                    className=\"flex items-center p-4 border border-gray-200 rounded-lg hover:border-primary-300 hover:bg-primary-50 transition-colors\"\n                  >\n                    <ChatIcon className=\"w-8 h-8 text-primary-600 mr-4\" />\n                    <div>\n                      <h3 className=\"font-medium text-gray-900\">Messages</h3>\n                      <p className=\"text-sm text-gray-600\">Voir les conversations</p>\n                    </div>\n                  </Link>\n                  {/* AJOUTER POUR LES PROPRIÉTAIRES */}\n                  <Link\n                    to=\"/appointments\"\n                    className=\"flex items-center p-4 border border-gray-200 rounded-lg hover:border-primary-300 hover:bg-primary-50 transition-colors\"\n                  >\n                    <CalendarIcon className=\"w-8 h-8 text-primary-600 mr-4\" />\n                    <div>\n                      <h3 className=\"font-medium text-gray-900\">Visites planifiées</h3>\n                      <p className=\"text-sm text-gray-600\">Gérer les rendez-vous</p>\n                    </div>\n                  </Link>\n                </>\n              ) : (\n                <>\n                  <Link\n                    to=\"/logements\"\n                    className=\"flex items-center p-4 border border-gray-200 rounded-lg hover:border-primary-300 hover:bg-primary-50 transition-colors\"\n                  >\n                    <HomeIcon className=\"w-8 h-8 text-primary-600 mr-4\" />\n                    <div>\n                      <h3 className=\"font-medium text-gray-900\">Rechercher un logement</h3>\n                      <p className=\"text-sm text-gray-600\">Trouver votre colocation idéale</p>\n                    </div>\n                  </Link>\n                  <Link\n                    to=\"/messages\"\n                    className=\"flex items-center p-4 border border-gray-200 rounded-lg hover:border-primary-300 hover:bg-primary-50 transition-colors\"\n                  >\n                    <ChatIcon className=\"w-8 h-8 text-primary-600 mr-4\" />\n                    <div>\n                      <h3 className=\"font-medium text-gray-900\">Messages</h3>\n                      <p className=\"text-sm text-gray-600\">Contacter les propriétaires</p>\n                    </div>\n                  </Link>\n                  {/* AJOUTER POUR LES ÉTUDIANTS */}\n                  <Link\n                    to=\"/appointments\"\n                    className=\"flex items-center p-4 border border-gray-200 rounded-lg hover:border-primary-300 hover:bg-primary-50 transition-colors\"\n                  >\n                    <CalendarIcon className=\"w-8 h-8 text-primary-600 mr-4\" />\n                    <div>\n                      <h3 className=\"font-medium text-gray-900\">Mes visites planifiées</h3>\n                      <p className=\"text-sm text-gray-600\">Voir mes rendez-vous</p>\n                    </div>\n                  </Link>\n                </>\n              )}\n            </div>\n            </div>\n\n            {/* My Properties Section - Only for Owners */}\n            {user.userType === 'owner' && (\n              <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\n                <div className=\"flex items-center justify-between mb-6\">\n                  <h2 className=\"text-lg font-semibold text-gray-900\">Mes logements publiés</h2>\n                </div>\n\n                {userProperties.length === 0 ? (\n                  <div className=\"text-center py-8\">\n                    <HomeIcon className=\"w-16 h-16 text-gray-400 mx-auto mb-4\" />\n                    <h3 className=\"text-lg font-medium text-gray-900 mb-2\">\n                      Aucun logement publié\n                    </h3>\n                    <p className=\"text-gray-600 mb-6\">\n                      Commencez par publier votre premier logement pour le proposer en colocation\n                    </p>\n                    <Link\n                      to=\"/create-property\"\n                      className=\"btn-primary inline-flex items-center space-x-2\"\n                    >\n                      <PlusIcon className=\"w-5 h-5\" />\n                      <span>Publier un logement</span>\n                    </Link>\n                  </div>\n                ) : (\n                  <div className=\"space-y-6\">\n                    {paginatedUserProperties.map((property) => (\n                      <div key={property.id} className=\"border border-gray-200 rounded-lg overflow-hidden hover:shadow-md transition-shadow\">\n                        <div className=\"flex flex-col md:flex-row\">\n                          {/* Property Image */}\n                          <div className=\"md:w-48 h-48 bg-gray-200 flex-shrink-0\">\n                            {property.images && property.images.length > 0 ? (\n                              <img\n                                src={getImageUrl(property.images[0])}\n                                alt={property.title}\n                                className=\"w-full h-full object-cover\"\n                                onError={(e) => {\n                                  e.currentTarget.src = '/api/placeholder/400/300';\n                                }}\n                              />\n                            ) : (\n                              <div className=\"w-full h-full bg-gray-200 flex items-center justify-center\">\n                                <PhotoIcon className=\"w-12 h-12 text-gray-400\" />\n                              </div>\n                            )}\n                          </div>\n                          \n                          {/* Property Details */}\n                          <div className=\"flex-1 p-6\">\n                            <div className=\"flex items-start justify-between mb-3\">\n                              <div className=\"flex-1\">\n                                <h3 className=\"text-lg font-semibold text-gray-900 mb-1\">\n                                  {property.title}\n                                </h3>\n                                <div className=\"flex items-center text-gray-600 mb-2\">\n                                  <MapPinIcon className=\"w-4 h-4 mr-1\" />\n                                  <span className=\"text-sm\">{property.address}</span>\n                                </div>\n                              </div>\n                              <span className={`badge ${property.isAvailable ? 'badge-success' : 'badge-warning'} ml-4`}>\n                                {property.isAvailable ? 'Disponible' : 'Occupé'}\n                              </span>\n                            </div>\n                            \n                            <div className=\"flex items-center justify-between mb-4\">\n                              <div className=\"flex items-center text-primary-600\">\n                                <CurrencyDollarIcon className=\"w-4 h-4 mr-1\" />\n                                <span className=\"font-semibold\">{property.price.toLocaleString()} Ar</span>\n                                <span className=\"text-gray-500 text-sm ml-1\">/mois</span>\n                              </div>\n                              <div className=\"flex items-center text-gray-600\">\n                                <UsersIcon className=\"w-4 h-4 mr-1\" />\n                                <span className=\"text-sm\">{property.availableRooms}/{property.totalRooms} ch.</span>\n                              </div>\n                            </div>\n                            \n                            <p className=\"text-gray-600 text-sm mb-4 line-clamp-2\">\n                              {property.description}\n                            </p>\n                            \n                            {/* Actions */}\n                            <div className=\"flex items-center justify-between pt-4 border-t border-gray-200\">\n                              <div className=\"flex items-center space-x-3\">\n                                <Link\n                                  to={`/properties/${property.id}`}\n                                  className=\"btn-secondary text-sm flex items-center space-x-1\"\n                                >\n                                  <EyeIcon className=\"w-4 h-4\" />\n                                  <span>Voir</span>\n                                </Link>\n                                <Link\n                                  to={`/edit-property/${property.id}`}\n                                  className=\"btn-primary text-sm flex items-center space-x-1\"\n                                >\n                                  <PencilIcon className=\"w-4 h-4\" />\n                                  <span>Modifier</span>\n                                </Link>\n                              </div>\n                              <button\n                                onClick={() => handleDeleteProperty(property.id)}\n                                disabled={deleteLoading === property.id}\n                                className=\"btn-danger text-sm flex items-center space-x-1 disabled:opacity-50\"\n                              >\n                                {deleteLoading === property.id ? (\n                                  <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-white\"></div>\n                                ) : (\n                                  <TrashIcon className=\"w-4 h-4\" />\n                                )}\n                                <span>Supprimer</span>\n                              </button>\n                            </div>\n                          </div>\n                        </div>\n                      </div>\n                    ))}\n                  </div>\n                )}\n              </div>\n            )}\n\n            {/* Recent Properties for Students */}\n            {user.userType === 'student' && (\n              <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\n                <div className=\"flex items-center justify-between mb-4\">\n                  <h2 className=\"text-lg font-semibold text-gray-900\">Logements récents</h2>\n                  <Link\n                    to=\"/logements\"\n                    className=\"text-primary-600 hover:text-primary-700 text-sm font-medium\"\n                  >\n                    Voir tout\n                  </Link>\n                </div>\n                <div className=\"space-y-4\">\n                  {recentStudentProperties.map((property) => (\n                    <div key={property.id} className=\"flex items-center p-4 border border-gray-200 rounded-lg\">\n                      <div className=\"w-16 h-16 flex-shrink-0 rounded-md overflow-hidden bg-gray-100 mr-3\">\n                        {property.images && property.images.length > 0 ? (\n                          <img\n                            src={getImageUrl(property.images[0])}\n                            alt={property.title}\n                            className=\"w-full h-full object-cover\"\n                            onError={(e) => { e.currentTarget.src = '/api/placeholder/100/100'; }}\n                          />\n                        ) : (\n                          <div className=\"w-full h-full bg-gray-200\"></div>\n                        )}\n                      </div>\n                      <div className=\"flex-1 min-w-0\">\n                        <h3 className=\"font-medium text-gray-900 truncate\">{property.title}</h3>\n                        <p className=\"text-sm text-gray-600 truncate\">{property.address}</p>\n                        <p className=\"text-sm text-gray-500\">\n                          {property.availableRooms} chambre(s) • {property.price.toLocaleString()} Ar/mois\n                        </p>\n                      </div>\n                      <Link\n                        to={`/properties/${property.id}`}\n                        className=\"ml-3 text-primary-600 hover:text-primary-700 flex-shrink-0\"\n                      >\n                        <EyeIcon className=\"w-5 h-5\" />\n                      </Link>\n                    </div>\n                  ))}\n                </div>\n              </div>\n            )}\n          </div>\n\n          {/* Sidebar */}\n          <div className=\"space-y-8\">\n            {/* Recent Activity */}\n            <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\n              <div className=\"flex items-center justify-between mb-4\">\n                <h2 className=\"text-lg font-semibold text-gray-900\">Activité récente</h2>\n                <BellIcon className=\"w-5 h-5 text-gray-400\" />\n              </div>\n              <div className=\"space-y-4\">\n                {recentActivities.map((activity) => (\n                  <div key={activity.id} className=\"flex items-start space-x-3\">\n                    <div className=\"flex-shrink-0 p-2 bg-primary-100 rounded-lg\">\n                      <div className=\"text-primary-600\">\n                        {activity.icon}\n                      </div>\n                    </div>\n                    <div className=\"flex-1 min-w-0\">\n                      <p className=\"text-sm font-medium text-gray-900\">{activity.title}</p>\n                      <p className=\"text-sm text-gray-600\">{activity.description}</p>\n                      <p className=\"text-xs text-gray-500 mt-1\">{activity.time}</p>\n                    </div>\n                  </div>\n                ))}\n              </div>\n            </div>\n\n            {/* Profile Completion */}\n            <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\n              <h2 className=\"text-lg font-semibold text-gray-900 mb-4\">Complétion du profil</h2>\n              {(() => {\n                const hasBasicInfo = !!(user.firstName && user.lastName && user.phone);\n                const hasAvatar = !!user.avatar;\n                const hasBio = !!user.bio;\n                const hasCin = !!user.cinVerified;\n\n                const stepsTotal = 4;\n                const completedSteps = [hasBasicInfo, hasAvatar, hasBio, hasCin].filter(Boolean).length;\n                const completion = Math.round((completedSteps / stepsTotal) * 100);\n\n                return (\n                  <div className=\"space-y-4\">\n                    <div>\n                      <div className=\"flex justify-between text-sm mb-1\">\n                        <span className=\"text-gray-600\">Profil</span>\n                        <span className=\"text-gray-900\">{completion}%</span>\n                      </div>\n                      <div className=\"w-full bg-gray-200 rounded-full h-2\">\n                        <div\n                          className=\"bg-primary-600 h-2 rounded-full\"\n                          style={{ width: `${completion}%` }}\n                        ></div>\n                      </div>\n                    </div>\n                    <div className=\"space-y-2\">\n                      <div className=\"flex items-center text-sm\">\n                        {(hasBasicInfo ? (\n                          <CheckCircleIcon className=\"w-4 h-4 text-green-500 mr-2\" />\n                        ) : (\n                          <ClockIcon className=\"w-4 h-4 text-yellow-500 mr-2\" />\n                        ))}\n                        <span className=\"text-gray-600\">Informations de base</span>\n                      </div>\n                      <div className=\"flex items-center text-sm\">\n                        {(hasAvatar ? (\n                          <CheckCircleIcon className=\"w-4 h-4 text-green-500 mr-2\" />\n                        ) : (\n                          <ClockIcon className=\"w-4 h-4 text-yellow-500 mr-2\" />\n                        ))}\n                        <span className=\"text-gray-600\">Photo de profil</span>\n                      </div>\n                      <div className=\"flex items-center text-sm\">\n                        {(hasBio ? (\n                          <CheckCircleIcon className=\"w-4 h-4 text-green-500 mr-2\" />\n                        ) : (\n                          <ClockIcon className=\"w-4 h-4 text-yellow-500 mr-2\" />\n                        ))}\n                        <span className=\"text-gray-600\">Description personnelle</span>\n                      </div>\n                      <div className=\"flex items-center text-sm\">\n                        {(hasCin ? (\n                          <CheckCircleIcon className=\"w-4 h-4 text-green-500 mr-2\" />\n                        ) : (\n                          <XCircleIcon className=\"w-4 h-4 text-gray-400 mr-2\" />\n                        ))}\n                        <span className=\"text-gray-600\">Vérification d'identité</span>\n                      </div>\n                    </div>\n                    <Link\n                      to=\"/profile\"\n                      className=\"block w-full text-center btn-primary text-sm\"\n                    >\n                      Compléter le profil\n                    </Link>\n                  </div>\n                );\n              })()}\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default DashboardPage;\n"],"names":["DashboardPage","user","useAuth","properties","userProperties","deleteProperty","useProperty","userAnnouncements","deleteAnnouncement","updateAnnouncement","fetchUserAnnouncements","useAnnouncement","conversations","useMessage","deleteLoading","setDeleteLoading","React","editingAnnId","setEditingAnnId","editAnnContent","setEditAnnContent","showFullMap","setShowFullMap","stats","setStats","loadingAnnouncements","setLoadingAnnouncements","async","userType","error","console","loadUserAnnouncements","statsPath","data","apiGet","success","s","_ref","_s$availablePropertie","totalOwnerProps","length","totalProperties","availableOwnerProps","filter","p","isAvailable","availableProperties","name","value","String","change","concat","changeType","icon","_jsx","HomeIcon","className","messagesReceived","ChatIcon","_ref2","_s$availablePropertie2","e","loadStats","currentPage","setCurrentPage","totalPages","Math","max","ceil","paginatedUserProperties","start","slice","recentStudentProperties","sort","a","b","Date","createdAt","getTime","recentActivities","map","c","_c$lastMessage","_c$lastMessage$sender","_c$lastMessage2","_c$lastMessage2$sende","_c$lastMessage3","_c$lastMessage3$sende","_c$lastMessage4","_c$lastMessage5","sender","lastMessage","firstName","lastName","trim","title","description","content","time","updatedAt","toLocaleString","id","isWithinGracePeriod","accountActivationDeadline","cinVerified","cinPending","children","_jsxs","ExclamationTriangleIcon","Link","to","IdentificationIcon","handleSaveAnnouncement","stat","index","PlusIcon","rows","onChange","target","onClick","isLong","showFull","displayedText","_Fragment","prev","_objectSpread","PencilIcon","window","confirm","handleDeleteAnnouncement","TrashIcon","type","disabled","min","CalendarIcon","property","images","src","getImageUrl","alt","onError","currentTarget","PhotoIcon","MapPinIcon","address","CurrencyDollarIcon","price","UsersIcon","availableRooms","totalRooms","EyeIcon","propertyId","alert","handleDeleteProperty","BellIcon","activity","hasBasicInfo","phone","hasAvatar","avatar","hasBio","bio","hasCin","completedSteps","Boolean","completion","round","style","width","CheckCircleIcon","ClockIcon","XCircleIcon"],"sourceRoot":""}