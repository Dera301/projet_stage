"use strict";(self.webpackChunkcolocation_antananarivo=self.webpackChunkcolocation_antananarivo||[]).push([[101],{101:(e,t,s)=>{s.r(t),s.d(t,{default:()=>j});var a=s(9379),r=s(5043),l=s(9741),i=s(5475),n=s(129),c=s(3063),o=s(2683),d=s(8010),m=s(6266),x=s(5501),u=s(7459),h=s(6838),p=s(5590),v=s(4558),g=s(579);const j=()=>{const{properties:e,loading:t}=(0,n.N)(),{user:s}=(0,l.A)(),[j,f]=(0,r.useState)([]),[b,w]=(0,r.useState)(!1),[N,y]=(0,r.useState)("date-desc"),[k,A]=(0,r.useState)({district:"",propertyType:"",minPrice:"",maxPrice:"",availableRooms:""});(0,r.useEffect)(()=>{if(!e||!Array.isArray(e))return void f([]);let t=[...e];switch(k.district&&(t=t.filter(e=>e.district===k.district)),k.propertyType&&(t=t.filter(e=>e.propertyType===k.propertyType)),k.minPrice&&(t=t.filter(e=>e.price>=Number(k.minPrice))),k.maxPrice&&(t=t.filter(e=>e.price<=Number(k.maxPrice))),k.availableRooms&&(t=t.filter(e=>e.availableRooms>=Number(k.availableRooms))),N){case"price-asc":t.sort((e,t)=>e.price-t.price);break;case"price-desc":t.sort((e,t)=>t.price-e.price);break;case"date-desc":t.sort((e,t)=>new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime());break;case"date-asc":t.sort((e,t)=>new Date(e.createdAt).getTime()-new Date(t.createdAt).getTime())}f(t)},[e,k,N]);const E=(e,t)=>{A(s=>(0,a.A)((0,a.A)({},s),{},{[e]:t}))},C=()=>{A({district:"",propertyType:"",minPrice:"",maxPrice:"",availableRooms:""})};return(0,g.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,g.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,g.jsxs)("div",{className:"mb-8",children:[(0,g.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Tous les logements"}),(0,g.jsx)("p",{className:"text-gray-600",children:"D\xe9couvrez tous les logements disponibles pour la colocation \xe0 Antananarivo"})]}),(0,g.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-8",children:[(0,g.jsxs)("div",{className:"flex flex-col lg:flex-row gap-4 items-center justify-between",children:[(0,g.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 flex-1",children:[(0,g.jsxs)("button",{onClick:()=>w(!b),className:"btn-secondary flex items-center space-x-2",children:[(0,g.jsx)(d.A,{className:"w-5 h-5"}),(0,g.jsx)("span",{children:"Filtres"})]}),(0,g.jsxs)("select",{value:k.district,onChange:e=>E("district",e.target.value),className:"input-field",children:[(0,g.jsx)("option",{value:"",children:"Tous les quartiers"}),["Analakely","Ambohijatovo","Ankadifotsy","Ankatso","Antaninarenina","Behoririka","Isoraka","Mahamasina","Tsaralalana","67ha"].map(e=>(0,g.jsx)("option",{value:e,children:e},e))]}),(0,g.jsxs)("select",{value:k.propertyType,onChange:e=>E("propertyType",e.target.value),className:"input-field",children:[(0,g.jsx)("option",{value:"",children:"Tous les types"}),[{value:"apartment",label:"Appartement"},{value:"house",label:"Maison"},{value:"studio",label:"Studio"}].map(e=>(0,g.jsx)("option",{value:e.value,children:e.label},e.value))]})]}),(0,g.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,g.jsx)("span",{className:"text-sm text-gray-600",children:"Trier par:"}),(0,g.jsxs)("select",{value:N,onChange:e=>y(e.target.value),className:"input-field text-sm",children:[(0,g.jsx)("option",{value:"date-desc",children:"Plus r\xe9cent"}),(0,g.jsx)("option",{value:"date-asc",children:"Plus ancien"}),(0,g.jsx)("option",{value:"price-asc",children:"Prix croissant"}),(0,g.jsx)("option",{value:"price-desc",children:"Prix d\xe9croissant"})]})]})]}),b&&(0,g.jsx)("div",{className:"mt-6 pt-6 border-t border-gray-200",children:(0,g.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,g.jsxs)("div",{children:[(0,g.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Prix min (Ar)"}),(0,g.jsx)("input",{type:"number",value:k.minPrice,onChange:e=>E("minPrice",e.target.value),className:"input-field",placeholder:"0"})]}),(0,g.jsxs)("div",{children:[(0,g.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Prix max (Ar)"}),(0,g.jsx)("input",{type:"number",value:k.maxPrice,onChange:e=>E("maxPrice",e.target.value),className:"input-field",placeholder:"500000"})]}),(0,g.jsxs)("div",{children:[(0,g.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Chambres min"}),(0,g.jsxs)("select",{value:k.availableRooms,onChange:e=>E("availableRooms",e.target.value),className:"input-field",children:[(0,g.jsx)("option",{value:"",children:"Toutes"}),(0,g.jsx)("option",{value:"1",children:"1+"}),(0,g.jsx)("option",{value:"2",children:"2+"}),(0,g.jsx)("option",{value:"3",children:"3+"}),(0,g.jsx)("option",{value:"4",children:"4+"})]})]}),(0,g.jsx)("div",{className:"flex items-end",children:(0,g.jsx)("button",{onClick:C,className:"btn-secondary w-full",children:"Effacer"})})]})})]}),t?(0,g.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,g.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("div",{className:"flex items-center justify-between mb-6",children:(0,g.jsxs)("p",{className:"text-gray-600",children:[j.length," logement(s) trouv\xe9(s)"]})}),(0,g.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:j.map(e=>{var t,a,r,l,n,d,x;return(0,g.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden hover:shadow-md transition-shadow",children:[(0,g.jsx)("div",{className:"aspect-w-16 aspect-h-9 bg-gray-200",children:(0,g.jsx)("img",{src:(0,v.VG)(null===(t=e.images)||void 0===t?void 0:t[0]),alt:e.title,className:"w-full h-48 object-cover",onError:e=>{e.currentTarget.src="/api/placeholder/400/300"}})}),(0,g.jsxs)("div",{className:"p-6",children:[(0,g.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,g.jsx)("h3",{className:"text-lg font-semibold text-gray-900 line-clamp-1",children:e.title}),(0,g.jsx)("button",{className:"text-gray-400 hover:text-red-500 transition-colors",children:(0,g.jsx)(m.A,{className:"w-5 h-5"})})]}),(0,g.jsxs)("div",{className:"flex items-center text-gray-600 mb-2",children:[(0,g.jsx)(u.A,{className:"w-4 h-4 mr-1"}),(0,g.jsx)("span",{className:"text-sm",children:e.address})]}),(0,g.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,g.jsxs)("div",{className:"flex items-center text-primary-600",children:[(0,g.jsx)(o.A,{className:"w-4 h-4 mr-1"}),(0,g.jsxs)("span",{className:"font-semibold",children:[null===(a=e.price)||void 0===a?void 0:a.toLocaleString()," Ar"]}),(0,g.jsx)("span",{className:"text-gray-500 text-sm ml-1",children:"/mois"})]}),(0,g.jsxs)("div",{className:"flex items-center text-gray-600",children:[(0,g.jsx)(p.A,{className:"w-4 h-4 mr-1"}),(0,g.jsxs)("span",{className:"text-sm",children:[e.availableRooms,"/",e.totalRooms," ch."]})]})]}),(0,g.jsx)("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2",children:e.description}),(0,g.jsxs)("div",{className:"flex flex-wrap gap-1 mb-4",children:[null===(r=e.amenities)||void 0===r?void 0:r.slice(0,3).map(e=>(0,g.jsx)("span",{className:"badge badge-primary text-xs",children:e},e)),e.amenities&&e.amenities.length>3&&(0,g.jsxs)("span",{className:"badge badge-primary text-xs",children:["+",e.amenities.length-3]})]}),(0,g.jsxs)("div",{className:"flex items-center justify-between",children:[(0,g.jsxs)("div",{className:"flex items-center",children:[(0,g.jsx)("div",{className:"w-8 h-8 bg-primary-100 rounded-full flex items-center justify-center mr-2",children:(0,g.jsx)("span",{className:"text-primary-600 font-medium text-sm",children:(null===(l=e.owner)||void 0===l||null===(n=l.firstName)||void 0===n?void 0:n[0])||"U"})}),(0,g.jsxs)("div",{children:[(0,g.jsxs)("p",{className:"text-sm font-medium text-gray-900",children:[null===(d=e.owner)||void 0===d?void 0:d.firstName," ",null===(x=e.owner)||void 0===x?void 0:x.lastName]}),(0,g.jsxs)("div",{className:"flex items-center",children:[[...Array(5)].map((e,t)=>(0,g.jsx)(h.A,{className:"w-3 h-3 text-yellow-400 fill-current"},t)),(0,g.jsx)("span",{className:"text-xs text-gray-500 ml-1",children:"(4.8)"})]})]})]}),(0,g.jsxs)("div",{className:"flex gap-2",children:[(0,g.jsx)(i.N_,{to:"/properties/".concat(e.id),className:"btn-primary text-sm",children:"Voir d\xe9tails"}),s&&Number(e.ownerId)===Number(s.id)?null:(0,g.jsxs)(i.N_,{to:"/messages?to=".concat(e.ownerId,"&prefill=").concat(encodeURIComponent('Bonjour, je suis int\xe9ress\xe9(e) par votre logement "'.concat(e.title,'".\n\nLogement: ').concat(window.location.origin,"/properties/").concat(e.id))),className:"btn-secondary text-sm flex items-center space-x-1",title:"Contacter le propri\xe9taire",children:[(0,g.jsx)(c.A,{className:"w-4 h-4"}),(0,g.jsx)("span",{children:"Contacter"})]})]})]})]})]},e.id)})}),0===j.length&&(0,g.jsxs)("div",{className:"text-center py-12",children:[(0,g.jsx)(x.A,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,g.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:e&&e.length>0?"Aucun logement correspond aux filtres":"Aucun logement disponible"}),(0,g.jsx)("p",{className:"text-gray-600 mb-4",children:e&&e.length>0?"Essayez de modifier vos crit\xe8res de recherche":"Revenez plus tard pour d\xe9couvrir de nouveaux logements"}),(0,g.jsx)("button",{onClick:C,className:"btn-primary",children:"Effacer les filtres"})]})]})]})})}},2683:(e,t,s)=>{s.d(t,{A:()=>n});var a=s(3986),r=s(5043);const l=["title","titleId"];function i(e,t){let{title:s,titleId:i}=e,n=(0,a.A)(e,l);return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":i},n),s?r.createElement("title",{id:i},s):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v12m-3-2.818.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const n=r.forwardRef(i)},3063:(e,t,s)=>{s.d(t,{A:()=>n});var a=s(3986),r=s(5043);const l=["title","titleId"];function i(e,t){let{title:s,titleId:i}=e,n=(0,a.A)(e,l);return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":i},n),s?r.createElement("title",{id:i},s):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 8.511c.884.284 1.5 1.128 1.5 2.097v4.286c0 1.136-.847 2.1-1.98 2.193-.34.027-.68.052-1.02.072v3.091l-3-3c-1.354 0-2.694-.055-4.02-.163a2.115 2.115 0 0 1-.825-.242m9.345-8.334a2.126 2.126 0 0 0-.476-.095 48.64 48.64 0 0 0-8.048 0c-1.131.094-1.976 1.057-1.976 2.192v4.286c0 .837.46 1.58 1.155 1.951m9.345-8.334V6.637c0-1.621-1.152-3.026-2.76-3.235A48.455 48.455 0 0 0 11.25 3c-2.115 0-4.198.137-6.24.402-1.608.209-2.76 1.614-2.76 3.235v6.226c0 1.621 1.152 3.026 2.76 3.235.577.075 1.157.14 1.74.194V21l4.155-4.155"}))}const n=r.forwardRef(i)},5501:(e,t,s)=>{s.d(t,{A:()=>n});var a=s(3986),r=s(5043);const l=["title","titleId"];function i(e,t){let{title:s,titleId:i}=e,n=(0,a.A)(e,l);return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":i},n),s?r.createElement("title",{id:i},s):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"}))}const n=r.forwardRef(i)},5590:(e,t,s)=>{s.d(t,{A:()=>n});var a=s(3986),r=s(5043);const l=["title","titleId"];function i(e,t){let{title:s,titleId:i}=e,n=(0,a.A)(e,l);return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":i},n),s?r.createElement("title",{id:i},s):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19.128a9.38 9.38 0 0 0 2.625.372 9.337 9.337 0 0 0 4.121-.952 4.125 4.125 0 0 0-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 0 1 8.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0 1 11.964-3.07M12 6.375a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0Zm8.25 2.25a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z"}))}const n=r.forwardRef(i)},6266:(e,t,s)=>{s.d(t,{A:()=>n});var a=s(3986),r=s(5043);const l=["title","titleId"];function i(e,t){let{title:s,titleId:i}=e,n=(0,a.A)(e,l);return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":i},n),s?r.createElement("title",{id:i},s):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12Z"}))}const n=r.forwardRef(i)},6838:(e,t,s)=>{s.d(t,{A:()=>n});var a=s(3986),r=s(5043);const l=["title","titleId"];function i(e,t){let{title:s,titleId:i}=e,n=(0,a.A)(e,l);return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":i},n),s?r.createElement("title",{id:i},s):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.48 3.499a.562.562 0 0 1 1.04 0l2.125 5.111a.563.563 0 0 0 .475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 0 0-.182.557l1.285 5.385a.562.562 0 0 1-.84.61l-4.725-2.885a.562.562 0 0 0-.586 0L6.982 20.54a.562.562 0 0 1-.84-.61l1.285-5.386a.562.562 0 0 0-.182-.557l-4.204-3.602a.562.562 0 0 1 .321-.988l5.518-.442a.563.563 0 0 0 .475-.345L11.48 3.5Z"}))}const n=r.forwardRef(i)},7459:(e,t,s)=>{s.d(t,{A:()=>n});var a=s(3986),r=s(5043);const l=["title","titleId"];function i(e,t){let{title:s,titleId:i}=e,n=(0,a.A)(e,l);return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":i},n),s?r.createElement("title",{id:i},s):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}),r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z"}))}const n=r.forwardRef(i)},8010:(e,t,s)=>{s.d(t,{A:()=>n});var a=s(3986),r=s(5043);const l=["title","titleId"];function i(e,t){let{title:s,titleId:i}=e,n=(0,a.A)(e,l);return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":i},n),s?r.createElement("title",{id:i},s):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 0 1-.659 1.591l-5.432 5.432a2.25 2.25 0 0 0-.659 1.591v2.927a2.25 2.25 0 0 1-1.244 2.013L9.75 21v-6.568a2.25 2.25 0 0 0-.659-1.591L3.659 7.409A2.25 2.25 0 0 1 3 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0 1 12 3Z"}))}const n=r.forwardRef(i)}}]);
//# sourceMappingURL=101.60bd307e.chunk.js.map