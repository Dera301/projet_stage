{"version":3,"file":"static/js/411.17f6d7ac.chunk.js","mappings":"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","sources":["../node_modules/@heroicons/react/24/outline/esm/EllipsisHorizontalIcon.js","../node_modules/@heroicons/react/24/outline/esm/TrashIcon.js","pages/MessagesPage.tsx","../node_modules/@heroicons/react/24/outline/esm/PencilIcon.js","../node_modules/@heroicons/react/24/outline/esm/CheckCircleIcon.js","../node_modules/@heroicons/react/24/outline/esm/PaperAirplaneIcon.js","../node_modules/@heroicons/react/24/outline/esm/CheckIcon.js"],"sourcesContent":["import * as React from \"react\";\nfunction EllipsisHorizontalIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M6.75 12a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM12.75 12a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM18.75 12a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Z\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(EllipsisHorizontalIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction TrashIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(TrashIcon);\nexport default ForwardRef;","import React, { useState, useEffect, useRef, useCallback } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport { useMessage } from '../contexts/MessageContext';\nimport { useAuth } from '../contexts/AuthContext';\nimport { \n  ChatBubbleLeftRightIcon as ChatIcon, \n  PaperAirplaneIcon, \n  CheckIcon,\n  CheckCircleIcon,\n  XMarkIcon,\n  EllipsisHorizontalIcon,\n  PencilIcon,\n  TrashIcon\n} from '@heroicons/react/24/outline';\nimport { formatDistanceToNow } from 'date-fns';\nimport { fr } from 'date-fns/locale';\nimport { Message } from '../types';\n\nconst MessagesPage: React.FC = () => {\n  const {\n    conversations,\n    sendMessage,\n    markAsRead,\n    getConversationMessages,\n    loading,\n    editMessage,\n    deleteMessage,\n    deleteConversation,\n  } = useMessage();\n  const { user } = useAuth();\n  const location = useLocation();\n  const [selectedConversation, setSelectedConversation] = useState<string | null>(null);\n  const [newMessage, setNewMessage] = useState('');\n  const [conversationMessages, setConversationMessages] = useState<Message[]>([]);\n  const [isSending, setIsSending] = useState(false);\n  const [readConversations, setReadConversations] = useState<Set<string>>(new Set());\n  const [userHasManuallyClosed, setUserHasManuallyClosed] = useState(false);\n  const messagesEndRef = useRef<HTMLDivElement>(null);\n  const [openMenuId, setOpenMenuId] = useState<string | null>(null);\n  const [hiddenConversations, setHiddenConversations] = useState<Set<string>>(new Set());\n\n  const currentConversation = conversations.find(c => c.id === selectedConversation);\n\n  // Charger les messages quand une conversation est sélectionnée\n  const loadConversationMessages = useCallback(async (conversationId: string) => {\n    if (!getConversationMessages) return;    \n    const messages = await getConversationMessages(conversationId);\n    setConversationMessages(messages);\n  }, [getConversationMessages]);\n\n  useEffect(() => {\n    if (selectedConversation) {\n      loadConversationMessages(selectedConversation);\n    }\n  }, [selectedConversation, loadConversationMessages]);\n\n  // Faire défiler vers le bas quand de nouveaux messages arrivent\n  useEffect(() => {\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\n  }, [conversationMessages]);\n\n  // Marquer les messages comme lus quand on ouvre une conversation\n  useEffect(() => {\n    if (selectedConversation && user && markAsRead) {\n      const unreadMessages = conversationMessages.filter(\n        msg => msg.receiverId === user.id && !msg.isRead\n      );\n      \n      // Marquer la conversation comme lue localement\n      if (unreadMessages.length > 0) {\n        setReadConversations(prev => new Set([...prev, selectedConversation]));\n      }\n\n\n      // Marquer les messages comme lus dans l'API\n      unreadMessages.forEach(async (msg) => {\n        try {\n          await markAsRead(msg.id);\n        } catch (error) {\n          console.error('Erreur marquage comme lu:', error);\n        }\n      });\n    }\n  }, [selectedConversation, conversationMessages, user, markAsRead]);\n\n  const handleSendMessage = async () => {\n    if (!newMessage.trim() || !currentConversation || !user || isSending) return;\n    \n    const otherParticipant = currentConversation.participants.find(p => p.id !== user.id);\n    if (!otherParticipant) return;\n\n    setIsSending(true);\n    try {\n      await sendMessage(otherParticipant.id, newMessage);\n      setNewMessage('');\n      // Recharger les messages de la conversation\n      if (selectedConversation) {\n        await loadConversationMessages(selectedConversation);\n      }\n    } catch (error) {\n      console.error('Erreur lors de l\\'envoi du message:', error);\n    } finally {\n      setIsSending(false);\n    }\n  };\n\n  const handleKeyPress = (e: React.KeyboardEvent) => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      handleSendMessage();\n    }\n  };\n\n  // Fonction pour quitter la conversation\n  const handleCloseConversation = () => {\n    setSelectedConversation(null);\n    setNewMessage('');\n    setUserHasManuallyClosed(true);\n  };\n\n  // Sélectionner automatiquement la première conversation seulement si l'utilisateur n'a pas fermé manuellement\n  useEffect(() => {\n    if (conversations.length > 0 && !selectedConversation && !loading && !userHasManuallyClosed) {\n      setSelectedConversation(conversations[0].id);\n    }\n  }, [conversations, selectedConversation, loading, userHasManuallyClosed]);\n\n  // Auto-sélection via query param ?to=<userId> & optionnellement prefill=<message>\n  useEffect(() => {\n    const params = new URLSearchParams(location.search);\n    const toUserId = params.get('to');\n    const prefill = params.get('prefill');\n    if (!toUserId || conversations.length === 0) return;\n\n    const target = conversations.find(conv => conv.participants.some(p => String(p.id) === String(toUserId)));\n    if (target) {\n      setSelectedConversation(target.id);\n      if (prefill) setNewMessage(prefill);\n    }\n  }, [location.search, conversations]);\n\n  // Réinitialiser le flag de fermeture manuelle quand l'utilisateur sélectionne une conversation\n  useEffect(() => {\n    if (selectedConversation) {\n      setUserHasManuallyClosed(false);\n    }\n  }, [selectedConversation]);\n\n  // Charger/sauvegarder les conversations masquées (par utilisateur)\n  useEffect(() => {\n    if (!user) return;\n    const key = `hidden_conversations_${user.id}`;\n    try {\n      const raw = localStorage.getItem(key);\n      if (raw) setHiddenConversations(new Set<string>(JSON.parse(raw)));\n    } catch {}\n  }, [user]);\n\n  const persistHiddenConversations = (next: Set<string>) => {\n    if (!user) return;\n    const key = `hidden_conversations_${user.id}`;\n    try { localStorage.setItem(key, JSON.stringify(Array.from(next))); } catch {}\n  };\n\n  const hideConversationForMe = (conversationId: string) => {\n    setHiddenConversations(prev => {\n      const next = new Set(prev);\n      next.add(conversationId);\n      persistHiddenConversations(next);\n      return next;\n    });\n    if (selectedConversation === conversationId) {\n      setSelectedConversation(null);\n    }\n    setOpenMenuId(null);\n  };\n\n  // Fermer menu sur clic global\n  useEffect(() => {\n    const onDocClick = () => setOpenMenuId(null);\n    document.addEventListener('click', onDocClick);\n    return () => document.removeEventListener('click', onDocClick);\n  }, []);\n\n  // Fonction pour calculer le nombre de messages non lus affichés\n  const getDisplayUnreadCount = (conversation: any) => {\n  const isSelected = selectedConversation === conversation.id;\n\n  // Si la conversation est ouverte → on la considère comme lue\n  if (isSelected) return 0;\n\n  // Si la conversation a été déjà ouverte au moins une fois\n  if (readConversations.has(conversation.id)) return 0;\n\n  // Afficher le badge seulement si le dernier message vient de l'autre participant et qu'il n'est pas lu\n  const lastMsg = conversation.lastMessage;\n  if (!lastMsg) return 0;\n\n  const isFromOther = String(lastMsg.senderId) !== String(user?.id);\n  const isUnread = !lastMsg.isRead;\n\n  return isFromOther && isUnread ? 1 : 0;\n};\n\n\n  if (!user) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center\">\n        <div className=\"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-600\"></div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-50 py-8\">\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n        {/* Header */}\n        <div className=\"mb-8\">\n          <h1 className=\"text-3xl font-bold text-gray-900 mb-4\">\n            Messages\n          </h1>\n          <p className=\"text-gray-600\">\n            Communiquez avec les propriétaires et les étudiants\n          </p>\n        </div>\n\n        <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden\">\n          <div className=\"flex h-[600px]\">\n            {/* Conversations List */}\n            <div className=\"w-1/3 border-r border-gray-200 flex flex-col\">\n              <div className=\"p-4 border-b border-gray-200\">\n                <h2 className=\"text-lg font-semibold text-gray-900\">Conversations</h2>\n              </div>\n              \n              <div className=\"flex-1 overflow-y-auto\">\n                {loading ? (\n                  <div className=\"flex items-center justify-center h-full\">\n                    <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600\"></div>\n                  </div>\n                ) : conversations.filter(c => !hiddenConversations.has(c.id)).length === 0 ? (\n                  <div className=\"flex flex-col items-center justify-center h-full text-gray-500\">\n                    <ChatIcon className=\"w-12 h-12 mb-4\" />\n                    <p className=\"text-center\">Aucune conversation</p>\n                    <p className=\"text-sm text-center mt-2\">Commencez une nouvelle conversation depuis une annonce</p>\n                  </div>\n                ) : (\n                  <div className=\"space-y-1\">\n                    {conversations.filter(c => !hiddenConversations.has(c.id)).map((conversation) => {\n                      const otherParticipant = conversation.participants.find(p => p.id !== user.id);\n                      if (!otherParticipant) return null;\n\n                      const displayUnreadCount = getDisplayUnreadCount(conversation);\n\n                      return (\n                        <button\n                          key={conversation.id}\n                          onClick={() => {\n                            setSelectedConversation(conversation.id);\n                            setOpenMenuId(null);\n                          }}\n                          className={`w-full p-4 text-left hover:bg-gray-50 transition-colors ${\n                            selectedConversation === conversation.id ? 'bg-primary-50 border-r-2 border-primary-500' : ''\n                          }`}\n                        >\n                          <div className=\"flex items-center space-x-3\">\n                            <div className=\"w-10 h-10 bg-primary-100 rounded-full flex items-center justify-center\">\n                              <span className=\"text-primary-600 font-medium text-sm\">\n                                {otherParticipant.firstName[0]}{otherParticipant.lastName[0]}\n                              </span>\n                            </div>\n                            <div className=\"flex-1 min-w-0\">\n                              <div className=\"flex items-center justify-between\">\n                                <h3 className=\"text-sm font-medium text-gray-900 truncate\">\n                                  {otherParticipant.firstName} {otherParticipant.lastName}\n                                </h3>\n                                <div className=\"flex items-center space-x-2\" onClick={(e) => e.stopPropagation()}>\n                                  {displayUnreadCount > 0 && (\n                                    <span className=\"bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center\">\n                                      {displayUnreadCount}\n                                    </span>\n                                  )}\n                                  <div className=\"relative\">\n                                    <button\n                                      className=\"p-1 text-gray-400 hover:text-gray-600 rounded hover:bg-gray-100\"\n                                      title=\"Options\"\n                                      onClick={(e) => { e.stopPropagation(); setOpenMenuId(prev => prev === conversation.id ? null : conversation.id); }}\n                                    >\n                                      <EllipsisHorizontalIcon className=\"w-5 h-5\" />\n                                    </button>\n                                    {openMenuId === conversation.id && (\n                                      <div className=\"absolute right-0 mt-1 bg-white border border-gray-200 rounded shadow z-10\">\n                                        <button\n                                          className=\"block w-full text-left px-3 py-2 text-sm text-gray-700 hover:bg-gray-100\"\n                                          onClick={() => hideConversationForMe(conversation.id)}\n                                        >\n                                          Supprimer pour moi\n                                        </button>\n                                      </div>\n                                    )}\n                                  </div>\n                                </div>\n                              </div>\n                              {conversation.lastMessage && (\n                                <p className={`text-sm truncate ${\n                                  displayUnreadCount > 0 ? 'text-gray-900 font-medium' : 'text-gray-500'\n                                }`}>\n                                  {conversation.lastMessage.content}\n                                </p>\n                              )}\n                              <p className=\"text-xs text-gray-400\">\n                                {conversation.lastMessage && formatDistanceToNow(\n                                  new Date(conversation.lastMessage.createdAt),\n                                  { addSuffix: true, locale: fr }\n                                )}\n                              </p>\n                            </div>\n                          </div>\n                        </button>\n                      );\n                    })}\n                  </div>\n                )}\n              </div>\n            </div>\n\n            {/* Messages Area */}\n            <div className=\"flex-1 flex flex-col\">\n              {currentConversation ? (\n                <>\n                  {/* Chat Header avec bouton de fermeture */}\n                  <div className=\"p-4 border-b border-gray-200 flex items-center justify-between\">\n                    <div className=\"flex items-center space-x-3\">\n                      <div className=\"w-10 h-10 bg-primary-100 rounded-full flex items-center justify-center\">\n                        <span className=\"text-primary-600 font-medium text-sm\">\n                          {currentConversation.participants.find(p => p.id !== user.id)?.firstName[0]}\n                          {currentConversation.participants.find(p => p.id !== user.id)?.lastName[0]}\n                        </span>\n                      </div>\n                      <div>\n                        <h3 className=\"text-lg font-semibold text-gray-900\">\n                          {currentConversation.participants.find(p => p.id !== user.id)?.firstName}{' '}\n                          {currentConversation.participants.find(p => p.id !== user.id)?.lastName}\n                        </h3>\n                        <p className=\"text-sm text-gray-500\">\n                          {currentConversation.participants.find(p => p.id !== user.id)?.userType === 'student' ? 'Étudiant' : 'Propriétaire'}\n                        </p>\n                      </div>\n                    </div>\n                    <div className=\"flex items-center space-x-2\">\n                      <button\n                        onClick={handleCloseConversation}\n                        className=\"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-full transition-colors\"\n                        title=\"Fermer la conversation\"\n                      >\n                        <XMarkIcon className=\"w-5 h-5\" />\n                      </button>\n                      <button\n                        onClick={async () => {\n                          if (!selectedConversation) return;\n                          if (window.confirm('Supprimer cette conversation ? Cette action est irréversible.')) {\n                            try { await deleteConversation(selectedConversation); setSelectedConversation(null); } catch {}\n                          }\n                        }}\n                        className=\"text-sm text-red-600 hover:text-red-700\"\n                        title=\"Supprimer la conversation\"\n                      >\n                        Supprimer\n                      </button>\n                    </div>\n                  </div>\n\n                  {/* Messages */}\n                  <div className=\"flex-1 overflow-y-auto p-4 space-y-4\">\n                    {conversationMessages.length === 0 ? (\n                      <div className=\"flex flex-col items-center justify-center h-full text-gray-500\">\n                        <ChatIcon className=\"w-12 h-12 mb-4\" />\n                        <p>Aucun message dans cette conversation</p>\n                        <p className=\"text-sm\">Envoyez le premier message !</p>\n                      </div>\n                    ) : (\n                      <>\n                        {conversationMessages.map((message) => {\n                          const isOwn = String(message.senderId) === String(user.id);\n\n                          return (\n                            <div\n                              key={message.id}\n                              className={`flex ${isOwn ? 'justify-end' : 'justify-start'} mb-2`}\n                            >\n                              <div\n                                className={`max-w-[75%] px-4 py-2 rounded-2xl shadow-sm ${\n                                  isOwn\n                                    ? 'bg-primary-600 text-white rounded-br-none'\n                                    : 'bg-gray-100 text-gray-900 rounded-bl-none border border-gray-200'\n                                }`}\n                              >\n                                <p className=\"text-sm break-words\">{message.content}</p>\n                                <div className={`flex items-center justify-end mt-1 space-x-1 text-xs ${\n                                  isOwn ? 'text-primary-100' : 'text-gray-500'\n                                }`}>\n                                  <span>{formatDistanceToNow(new Date(message.createdAt), { addSuffix: true, locale: fr })}</span>\n                                  {isOwn && (\n                                    <div className=\"flex items-center\">\n                                      {message.isRead ? (\n                                        <CheckCircleIcon className=\"w-3 h-3\" />\n                                      ) : (\n                                        <CheckIcon className=\"w-3 h-3\" />\n                                      )}\n                                    </div>\n                                  )}\n                                </div>\n                                {isOwn && (\n                                  <div className=\"mt-1 flex justify-end space-x-1 text-xs\">\n                                    <button\n                                      className=\"p-1 rounded-full text-blue-600 hover:text-blue-700 hover:bg-blue-50\"\n                                      title=\"Modifier le message\"\n                                      onClick={async () => {\n                                        const updated = prompt('Modifier le message:', message.content);\n                                        if (updated !== null && updated.trim() && updated !== message.content) {\n                                          try { await editMessage(message.id, updated); } catch {}\n                                        }\n                                      }}\n                                    >\n                                      <PencilIcon className=\"w-4 h-4\" />\n                                    </button>\n                                    <button\n                                      className=\"p-1 rounded-full text-red-600 hover:text-red-700 hover:bg-red-50\"\n                                      title=\"Supprimer le message\"\n                                      onClick={async () => {\n                                        if (window.confirm('Supprimer ce message ?')) {\n                                          try { await deleteMessage(message.id); } catch {}\n                                        }\n                                      }}\n                                    >\n                                      <TrashIcon className=\"w-4 h-4\" />\n                                    </button>\n                                  </div>\n                                )}\n                              </div>\n                            </div>\n                          );\n                        })}\n                        \n                      </>\n                    )}\n                  </div>\n\n                  {/* Message Input */}\n                  <div className=\"p-4 border-t border-gray-200\">\n                    <div className=\"flex space-x-2\">\n                      <textarea\n                        value={newMessage}\n                        onChange={(e) => setNewMessage(e.target.value)}\n                        onKeyPress={handleKeyPress}\n                        placeholder=\"Tapez votre message...\"\n                        rows={2}\n                        className=\"flex-1 input-field resize-none\"\n                        disabled={isSending}\n                      />\n                      <button\n                        onClick={handleSendMessage}\n                        disabled={!newMessage.trim() || isSending}\n                        className=\"btn-primary flex items-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed\"\n                      >\n                        {isSending ? (\n                          <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-white\"></div>\n                        ) : (\n                          <PaperAirplaneIcon className=\"w-4 h-4\" />\n                        )}\n                      </button>\n                    </div>\n                  </div>\n                </>\n              ) : (\n                <div className=\"flex-1 flex items-center justify-center text-gray-500\">\n                  <div className=\"text-center\">\n                    <ChatIcon className=\"w-16 h-16 mx-auto mb-4\" />\n                    <h3 className=\"text-lg font-medium text-gray-900 mb-2\">\n                      {conversations.length === 0 ? 'Aucune conversation' : 'Sélectionnez une conversation'}\n                    </h3>\n                    <p>\n                      {conversations.length === 0 \n                        ? 'Commencez une nouvelle conversation depuis une annonce' \n                        : 'Choisissez une conversation pour commencer à discuter'\n                      }\n                    </p>\n                  </div>\n                </div>\n              )}\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default MessagesPage;\n","import * as React from \"react\";\nfunction PencilIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(PencilIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction CheckCircleIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(CheckCircleIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction PaperAirplaneIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M6 12 3.269 3.125A59.769 59.769 0 0 1 21.485 12 59.768 59.768 0 0 1 3.27 20.875L5.999 12Zm0 0h7.5\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(PaperAirplaneIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction CheckIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"m4.5 12.75 6 6 9-13.5\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(CheckIcon);\nexport default ForwardRef;"],"names":["EllipsisHorizontalIcon","_ref","svgRef","title","titleId","props","_objectWithoutProperties","_excluded","React","Object","assign","xmlns","fill","viewBox","strokeWidth","stroke","ref","id","strokeLinecap","strokeLinejoin","d","TrashIcon","MessagesPage","_currentConversation$","_currentConversation$2","_currentConversation$3","_currentConversation$4","_currentConversation$5","conversations","sendMessage","markAsRead","getConversationMessages","loading","editMessage","deleteMessage","deleteConversation","useMessage","user","useAuth","location","useLocation","selectedConversation","setSelectedConversation","useState","newMessage","setNewMessage","conversationMessages","setConversationMessages","isSending","setIsSending","readConversations","setReadConversations","Set","userHasManuallyClosed","setUserHasManuallyClosed","messagesEndRef","useRef","openMenuId","setOpenMenuId","hiddenConversations","setHiddenConversations","currentConversation","find","c","loadConversationMessages","useCallback","async","messages","conversationId","useEffect","_messagesEndRef$curre","current","scrollIntoView","behavior","unreadMessages","filter","msg","receiverId","isRead","length","prev","forEach","error","console","handleSendMessage","trim","otherParticipant","participants","p","params","URLSearchParams","search","toUserId","get","prefill","target","conv","some","String","key","concat","raw","localStorage","getItem","JSON","parse","_unused","hideConversationForMe","next","add","setItem","stringify","Array","from","_unused2","persistHiddenConversations","onDocClick","document","addEventListener","removeEventListener","_jsx","className","children","_jsxs","has","ChatIcon","map","conversation","displayUnreadCount","lastMsg","lastMessage","isFromOther","senderId","isUnread","getDisplayUnreadCount","onClick","firstName","lastName","e","stopPropagation","content","formatDistanceToNow","Date","createdAt","addSuffix","locale","fr","_Fragment","userType","handleCloseConversation","XMarkIcon","window","confirm","_unused3","message","isOwn","CheckCircleIcon","CheckIcon","updated","prompt","_unused4","PencilIcon","_unused5","value","onChange","onKeyPress","shiftKey","preventDefault","placeholder","rows","disabled","PaperAirplaneIcon"],"sourceRoot":""}